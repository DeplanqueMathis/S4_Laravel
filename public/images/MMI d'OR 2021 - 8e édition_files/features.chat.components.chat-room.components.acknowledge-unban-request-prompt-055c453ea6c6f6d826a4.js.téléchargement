(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{"/3K9":function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AcknowledgeUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AcknowledgeUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"acknowledgeUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:160}};a.loc.source={body:"mutation AcknowledgeUnbanRequest($input: AcknowledgeUnbanRequestInput!) {\nacknowledgeUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&a.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,a)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,a)})),n.definitions&&n.definitions.forEach((function(n){e(n,a)}))}(e,n),i[e.name.value]=n}})),e.exports=a,e.exports.AcknowledgeUnbanRequest=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var o=i[n]||new Set,l=new Set,r=new Set;for(o.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach((function(e){r.add(e)})))}))}return l.forEach((function(n){var i=t(e,n);i&&a.definitions.push(i)})),a}(a,"AcknowledgeUnbanRequest")},"5Mks":function(e,n,a){},XlQI:function(e,n,a){},nZtu:function(e,n,a){"use strict";a.r(n),a.d(n,"TestSelector",(function(){return I})),a.d(n,"AcknowledgeUnbanRequestPrompt",(function(){return F}));var i,t=a("mrSG"),o=a("w09P"),l=a("q1tI"),r=a("/MKj"),d=a("/7QA"),s=a("CGXs"),c=a("eirU"),u=a("8XDC"),m=a("geRD"),f=a("/aPz"),v=a("DMoW"),k=a("kRBY"),b=a("Vfsh"),h=a("AF7G"),g=a("OJmJ"),p=a("/3K9"),w=a("1wAY"),S=a("JTkP"),N=function(e,n){var a=l.useContext(g.d).addSnackbarToQueue,i=Object(c.c)(p)[0],o=Object(c.b)(w,{fetchPolicy:"network-only",variables:{channelID:e||"",includeCanRequestUnban:!1}})[0],r=function(e){var n,i;e!==v.df.INVALID_UPDATE?(n=Object(S.a)(e),i=h.d.Error,a(l.createElement(h.b,{message:n,type:i}))):o()};return function(){return Object(t.__awaiter)(void 0,void 0,void 0,(function(){var e,a,o,l,d,s,c;return Object(t.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),n?[4,i({variables:{input:{id:n.id}}})]:[2];case 1:return e=t.sent(),a=e.data,((null==(o=e.errors)?void 0:o.length)||(null===(l=null==a?void 0:a.acknowledgeUnbanRequest)||void 0===l?void 0:l.error)||!(null===(d=null==a?void 0:a.acknowledgeUnbanRequest)||void 0===d?void 0:d.unbanRequest))&&r(null===(c=null===(s=null==a?void 0:a.acknowledgeUnbanRequest)||void 0===s?void 0:s.error)||void 0===c?void 0:c.code),[3,3];case 2:return t.sent(),r(),[3,3];case 3:return[2]}}))}))}},R=a("OCDW"),q=a("Yegi"),E=a("5e0Q"),y=a("uq9l"),D=a("u8ly"),U=(a("5Mks"),a("LNol")),A=a("Ix37");a("XlQI");!function(e){e.NoteFromModerators="note-from-moderators"}(i||(i={}));var I,O=function(e){var n=e.resolverMessage&&l.createElement(l.Fragment,null,l.createElement(R.a,{display:q.h.Flex},l.createElement(y.a,{color:q.f.Alt2,type:y.e.H6,"data-test-selector":i.NoteFromModerators},Object(d.d)("Note from Channel Moderators:","UnbannedFromChatBanner"))),l.createElement(R.a,{display:q.h.Flex},e.resolverMessage));return l.createElement(R.a,{display:q.h.Flex,padding:1,className:"unbanned-from-chat-banner",borderRadius:q.e.Medium,margin:{x:1,top:.5,bottom:e.chatRules?void 0:.5}},l.createElement(R.a,{display:q.h.Flex,alignItems:q.b.Start,padding:{right:1},className:"unbanned-from-chat-banner__icon"},l.createElement(U.a,{asset:A.a.NotificationSuccess})),l.createElement(R.a,{display:q.h.Flex,flexDirection:q.i.Column},l.createElement(y.a,{fontWeight:q.l.SemiBold,type:y.e.H5},Object(d.d)("You have been unbanned from Chat","UnbannedFromChatBanner")),n))};!function(e){e.AcknowledgeUnbanRequestPrompt="acknowledge-unban-request-prompt",e.NoteFromModerators="note-from-moderators"}(I||(I={}));var F=function(e){var n,a,i,h,g,p,S=Object(r.e)(k.f),U=Object(c.d)(w,{skip:!S||e.isCurrentUserBanned||!e.channelID,variables:{channelID:e.channelID||"",includeCanRequestUnban:!1}}),A=U.data,F=U.refetch,j=Object(c.d)(D,{skip:!S||e.isCurrentUserBanned,variables:{channelLogin:e.channelLogin}}),C=j.data,L=j.loading,P=null===(a=null===(n=null==A?void 0:A.channel)||void 0===n?void 0:n.self)||void 0===a?void 0:a.lastUnbanRequest,_=N(e.channelID,null===(h=null===(i=null==A?void 0:A.channel)||void 0===i?void 0:i.self)||void 0===h?void 0:h.lastUnbanRequest),x=null===(g=Object(r.e)(k.e))||void 0===g?void 0:g.id,M=Object(s.a)(Object(f.fb)(x||"",e.channelID||""),!x||!e.channelID)[0],V=Object(u.a)(M);return l.useEffect((function(){M&&M!==V&&(P&&M.data.id===P.id?Object(m.j)(w,{channelID:e.channelID,includeCanRequestUnban:!1},(function(e){return o(e,(function(e){return e.channel.self.lastUnbanRequest}),(function(e){return Object(t.__assign)(Object(t.__assign)({},e),{status:M.data.status,resolverMessage:M.data.resolver_message||null})}))})):F())}),[x,P,V,e.channelID,F,M]),e.isCurrentUserBanned||L||(null==P?void 0:P.status)!==v.ff.APPROVED?null:l.createElement(R.a,{fullWidth:!0,fullHeight:!0,position:q.o.Absolute,zIndex:q.t.Above,className:"acknowledge-unban-request__scrim"},l.createElement(R.a,{background:q.d.Base,position:q.o.Absolute,attachBottom:!0,attachLeft:!0,borderRadius:q.e.Large,display:q.h.Block,elevation:3,className:"acknowledge-unban-request__container",padding:.5},l.createElement(O,{resolverMessage:null==P?void 0:P.resolverMessage,chatRules:e.chatRules}),e.chatRules&&l.createElement(b.a,{channelDisplayName:e.channelDisplayName,channelProfileImageUrl:null===(p=null==C?void 0:C.channel)||void 0===p?void 0:p.profileImageURL,channelLogin:e.channelLogin,channelID:e.channelID,chatRules:e.chatRules}),l.createElement(R.a,{display:q.h.Flex,justifyContent:q.m.Center,padding:.5},l.createElement(E.a,{fullWidth:!0,size:E.b.Large,onClick:_,"data-test-selector":I.AcknowledgeUnbanRequestPrompt},l.createElement(y.a,{fontSize:q.k.Size5},Object(d.d)("Acknowledge","AcknowledgeUnbanRequestPrompt"))))))}},u8ly:function(e,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AcknowledgeUnbanRequestPrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}],loc:{start:0,end:133}};a.loc.source={body:"query AcknowledgeUnbanRequestPrompt($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nprofileImageURL(width: 50)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function t(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}a.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,a){if("FragmentSpread"===n.kind)a.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&a.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,a)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,a)})),n.definitions&&n.definitions.forEach((function(n){e(n,a)}))}(e,n),i[e.name.value]=n}})),e.exports=a,e.exports.AcknowledgeUnbanRequestPrompt=function(e,n){var a={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var o=i[n]||new Set,l=new Set,r=new Set;for(o.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach((function(e){r.add(e)})))}))}return l.forEach((function(n){var i=t(e,n);i&&a.definitions.push(i)})),a}(a,"AcknowledgeUnbanRequestPrompt")}}]);