(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{VopK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BountyBoardCTAGameName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"game"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:74}};n.loc.source={body:"query BountyBoardCTAGameName($id: ID) {\ngame(id: $id) {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BountyBoardCTAGameName=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,s=new Set,r=new Set;for(o.forEach((function(e){r.add(e)}));r.size>0;){var c=r;r=new Set,c.forEach((function(e){s.has(e)||(s.add(e),(i[e]||new Set).forEach((function(e){r.add(e)})))}))}return s.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"BountyBoardCTAGameName")},q7q0:function(e,t,n){"use strict";n.r(t),n.d(t,"BountyBoardNotificationComponent",(function(){return h})),n.d(t,"BountyBoardNotification",(function(){return k}));var i,a,o=n("mrSG"),s=n("q1tI"),r=n("ANjH"),c=n("yR8l"),l=n("x7UT"),u=n("WQCf"),d=n("/aPz"),m=n("tZci"),f=n("VopK"),p=n("/7QA"),g=n("2xye");!function(e){e.ViewChatCTA="chat_cta_view",e.ClickChatCTA="chat_cta_click"}(i||(i={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isShowing:!1},t.closeNotification=function(){t.setState({isShowing:!1})},t.onClickLearnMore=function(){t.trackAction(i.ClickChatCTA)},t.trackAction=function(e){var n=t.props.pubsub.messages.ctaMessage,i=t.getTitle(),a=t.getLink();if(n&&i&&a){var o,s,r=t.props.channelID;o={action:e,channelID:r,bountyID:n.bounty_id,link:a,title:i},s={action_desc:o.action,bounty_id:o.bountyID,channel_id:o.channelID,link:o.link,title:o.title},p.p.tracking.track(g.SpadeEventType.BountyBoardViewerActions,s)}},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.channelID,n=e.data,i=this.state.isShowing,a=this.getTitle(),o=this.getLink();return!t||n&&n.loading||!a||!o||!i?null:s.createElement(m.a,{title:a,linkTo:o,isPreview:!1,onClickClose:this.closeNotification,onClickLearnMore:this.onClickLearnMore,onDismissTimeout:this.closeNotification})},t.prototype.componentDidUpdate=function(e){var t=this.props.pubsub.messages.ctaMessage,n=this.state.isShowing,a=e.pubsub.messages.ctaMessage&&e.pubsub.messages.ctaMessage.timestamp,o=t&&t.timestamp;!n&&t&&(!a&&o||a&&o&&a<o)&&(this.setState({isShowing:!0}),this.trackAction(i.ViewChatCTA))},t.prototype.getTitle=function(){var e=this.props,t=e.data,n=e.pubsub;return n.messages.ctaMessage&&n.messages.ctaMessage.cta_title||t&&t.game&&t.game.displayName||""},t.prototype.getLink=function(){var e=this.props.pubsub;return e.messages.ctaMessage&&e.messages.ctaMessage.cta_url||""},t}(s.Component),k=Object(r.d)(Object(l.a)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?Object(d.i)(e.channelID):""},mapMessageTypesToProps:(a={},a[u.f.BountyBoardChatCTAShow]="ctaMessage",a)}]),Object(c.a)(f,{options:function(e){return{variables:{id:e.pubsub.messages.ctaMessage&&e.pubsub.messages.ctaMessage.game_id}}},skip:function(e){return!(e.pubsub.messages.ctaMessage&&!e.pubsub.messages.ctaMessage.cta_title)}}))(h)},tZci:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i,a=n("mrSG"),o=n("q1tI"),s=n("/7QA"),r=n("OCDW"),c=n("Yegi"),l=n("LNol"),u=n("Ix37"),d=n("uq9l"),m=n("5e0Q"),f=n("swlv"),p=n("uuYk");!function(e){e.Title="chat-bounty-board-notification-title"}(i||(i={}));var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.linkTo,a=e.isPreview,g=e.onClickClose,h=e.onClickLearnMore,k=e.onDismissTimeout;return o.createElement(r.a,{background:c.d.AccentAlt2,color:c.f.Overlay,padding:{x:1,top:1,bottom:.5}},o.createElement(r.a,{display:c.h.Flex,flexDirection:c.i.Row,justifyContent:c.m.Between,alignItems:c.b.Center},o.createElement(r.a,{display:c.h.Flex,justifyContent:c.m.Center,flexDirection:c.i.Column,margin:{right:.5}},o.createElement(l.a,{asset:u.a.BountyBoard,width:35,height:35})),o.createElement(r.a,{display:c.h.Flex,justifyContent:c.m.Center,flexDirection:c.i.Column,flexGrow:1,margin:{right:.5}},o.createElement(d.a,{color:c.f.OverlayAlt},Object(s.d)("Find out more about","BountyBoardNotification")),o.createElement(d.a,{bold:!0,"data-test-selector":i.Title,"data-a-target":i.Title},t)),o.createElement(r.a,null,o.createElement(m.a,{linkTo:n,overlay:!0,onClick:a?void 0:h,targetBlank:!0,size:m.b.Small},Object(s.d)("Learn More","BountyBoardNotification"))),!a&&o.createElement(r.a,{margin:{left:.5}},o.createElement(f.a,{"aria-label":Object(s.d)("Close","BountyBoardNotification"),icon:u.a.Close,onClick:g,overlay:!0,size:f.b.Small}))),o.createElement(r.a,{margin:{y:.5}},o.createElement(p.a,{animationDirection:p.b.Down,animationDuration:20,onAnimationEnd:k,paused:a,value:a?75:void 0,size:p.c.ExtraSmall,mask:!0})))},t}(o.Component)}}]);