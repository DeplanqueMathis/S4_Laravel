(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"+H2+":function(e,t,n){e.exports=n.p+"assets/bacs_light-a464b95fb42885b041f6.png"},"+XUr":function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.Clip="clip",e.Collection="collection",e.Invalid="invalid",e.Live="live",e.VOD="vod"}(i||(i={})),function(e){e.Trailer="trailer",e.TrailerUpsell="trailer_upsell"}(r||(r={}))},"+cHD":function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i,r,a=n("mrSG"),o=n("TSYQ"),s=n("q1tI"),c=n("ANjH"),l=n("/7QA"),u=n("IyK4"),d=n("Yegi"),m=n("OCDW"),p=n("Mpot"),f=n("E1Lb"),h=n("Ix37"),v=n("7Py2"),g=n("uq9l"),b=n("hPKk");n("IvOK");!function(e){e.Title="title",e.Count="Count",e.Fill="fill"}(i||(i={})),function(e){e.Default="choice-progress__fill--default",e.Winner="choice-progress__fill--winner"}(r||(r={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.animationTimer=null,t.animationComplete=function(){t.animationTimer=null,t.props.selfVoteAnimationComplete&&t.props.selfVoteAnimationComplete()},t.onChoiceProgressClick=function(e){e.stopPropagation()},t.onRadioButtonChange=function(){t.props.onClick&&t.props.onClick(t.props.choiceID)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e={"choice-progress__fill":!0};this.props.success?e[r.Winner]=!0:e[r.Default]=!0;var t=this.props.amountTotal?this.props.amountVoted/this.props.amountTotal:0,n=100*t;return s.createElement(u.a,{className:"choice-progress",borderRadius:d.e.Large,overflow:d.n.Hidden},s.createElement("div",{onClick:this.onChoiceProgressClick,role:"progressbar","aria-valuenow":this.props.amountVoted,"aria-valuemin":0,"aria-valuemax":this.props.amountTotal,color:d.f.Base,className:"container"},s.createElement(u.a,{display:d.h.Block,borderRadius:{topLeft:d.e.Large,bottomLeft:d.e.Large},"data-test-selector":i.Fill,className:o(Object(a.__assign)({container__progress:!0,"container__progress--self-vote":this.props.showSelfVoteAnimation},e))},s.createElement("div",{style:{width:n+"%"}})),s.createElement(u.a,{display:d.h.Block,borderRadius:{topLeft:d.e.Large,bottomLeft:d.e.Large},className:o(Object(a.__assign)({"container__progress--background":!0},e))},s.createElement("div",{style:{width:n+"%"}})),s.createElement(u.a,{className:"container__info",display:d.h.Flex,flexDirection:d.i.Row,justifyContent:d.m.Between,alignItems:d.b.Center,borderRadius:{topLeft:d.e.Large,bottomLeft:d.e.Large}},s.createElement("label",{className:o({"choice-progress--selector":!!this.props.selectable&&!this.props.disabled})},s.createElement(m.a,{margin:{left:1},display:d.h.Flex,flexDirection:d.i.Row,alignItems:d.b.Center},this.props.selectable&&s.createElement(m.a,{margin:{right:.5}},s.createElement(p.a,{onChange:this.onRadioButtonChange,label:"",value:this.props.choiceID,checked:this.props.selected,disabled:this.props.disabled})),this.props.success&&s.createElement(m.a,{className:"choice-progress__icon",margin:{right:1},display:d.h.Flex},s.createElement(f.a,{asset:h.a.Trophy})),s.createElement(v.a,{"data-test-selector":i.Title,size:v.b.ExtraSmall},this.props.choiceTitle)),s.createElement(m.a,{margin:{right:1}},s.createElement(g.a,{"data-test-selector":i.Count,fontSize:d.k.Size6},Object(l.d)("{percent} ({votes})",{percent:Object(l.f)(t,"percent"),votes:s.createElement(b.a,{formatValue:function(e){return Object(l.f)(e)},value:this.props.amountVoted})},"ChoiceProgressControl")))))))},t.prototype.componentDidUpdate=function(e){!e.showSelfVoteAnimation&&this.props.showSelfVoteAnimation?this.animationTimer=setTimeout(this.animationComplete,1e3):e.showSelfVoteAnimation&&!this.props.showSelfVoteAnimation&&this.clearTimer()},t.prototype.clearTimer=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},t}(s.Component),k=Object(c.d)()(y)},"+fKd":function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.None="None",e.Watch="Watch",e.Home="Home"}(i||(i={})),function(e){e.LIVE="LIVE",e.VIDEO="VIDEO",e.COLLECTION="COLLECTION",e.CLIP="CLIP",e.NONE="NONE"}(r||(r={}))},"//su":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegalDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:53}};n.loc.source={body:"query LegalDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.LegalDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"LegalDisclaimer")},"/2Fp":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MysteryGiftGiver"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:75}};n.loc.source={body:"query MysteryGiftGiver($id: ID!) {\nuser(id: $id) {\nid\ndisplayName\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MysteryGiftGiver=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"MysteryGiftGiver")},"/Z6v":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_2x-c98151cef856bab0e62c.png"},"/fLC":function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.Pre="preroll",e.Mid="midroll",e.Post="postroll"}(i||(i={})),function(e){e.Pending="pending",e.Processed="processed",e.Filled="filled"}(r||(r={}))},"/rYb":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("eWfW"),r=992e3,a="s-qs-ts",o={bitrate:999999999,codecs:"",framerate:60,group:i.a,height:0,isDefault:!1,name:"Auto",width:0}},"0BjR":function(e,t,n){"use strict";var i,r,a,o,s,c,l,u,d,m,p;function f(e){return!![m.Aborted,m.Network,m.Decode].includes(e)}n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return m})),n.d(t,"i",(function(){return f})),function(e){e.UNKNOWN="Unspecified",e.FILE="File",e.PLAYLIST="Playlist",e.SEGMENT="Segment",e.SOURCE="Source",e.DECODER="Decode",e.RENDERER="Render",e.MASTER_PLAYLIST="MasterPlaylist",e.MEDIA_PLAYLIST="MediaPlaylist"}(i||(i={})),function(e){e.GENERIC="Error",e.NOT_SUPPORTED="ErrorNotSupported",e.NO_SOURCE="ErrorNoSource",e.INVALID_DATA="ErrorInvalidData",e.INVALID_STATE="ErrorInvalidState",e.INVALID_PARAMETER="ErrorInvalidParameter",e.TIMEOUT="ErrorTimeout",e.INVALID_OUTPUT="ErrorInvalidOutput",e.INTERNAL="ErrorInternal",e.NETWORK="ErrorNetwork",e.NETWORK_IO="ErrorNetworkIO",e.AUTHORIZATION="ErrorAuthorization",e.NOT_AVAILABLE="ErrorNotAvailable"}(r||(r={})),function(e){e[e.GEOBLOCKED=1]="GEOBLOCKED",e[e.UNSUPPORTED_DEVICE=2]="UNSUPPORTED_DEVICE",e[e.ANONYMIZER_BLOCKED=3]="ANONYMIZER_BLOCKED",e[e.CELLULAR_NETWORK_PROHIBITED=4]="CELLULAR_NETWORK_PROHIBITED",e[e.UNAUTHORIZATION_ENTITLEMENTS=5]="UNAUTHORIZATION_ENTITLEMENTS",e[e.VOD_RESTRICTED=6]="VOD_RESTRICTED"}(a||(a={})),function(e){e.ID3="MetaID3",e.CAPTION="MetaCaption"}(o||(o={})),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue"}(s||(s={})),function(e){e.PLAYER_LOADED_IN_WORKER="player_loaded_in_worker",e.HLS_MASTER_PLAYLIST_REQUEST="master_manifest_request",e.HLS_MASTER_PLAYLIST_READY="master_manifest_ready",e.HLS_MEDIA_PLAYLIST_REQUEST="variant_request",e.HLS_MEDIA_PLAYLIST_READY="variant_ready",e.MIN_BUFFER_READY="min_buffer_ready",e.VIDEO_ELEMENT_PLAY="video_element_play"}(c||(c={})),function(e){e.AVAILABLE="RemotePlayerAvailable",e.UNAVAILABLE="RemotePlayerUnavailable",e.SESSION_STARTED="RemotePlayerSessionStarted",e.SESSION_ENDED="RemotePlayerSessionEnded"}(l||(l={})),function(e){e.IDLE="Idle",e.READY="Ready",e.BUFFERING="Buffering",e.PLAYING="Playing",e.ENDED="Ended"}(u||(u={})),function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(d||(d={})),function(e){e[e.GeoBlocked=1]="GeoBlocked",e[e.UnsupportedDevice=2]="UnsupportedDevice",e[e.AnonymizerBlocked=3]="AnonymizerBlocked",e[e.CellularNetworkProhibited=4]="CellularNetworkProhibited",e[e.UnauthorizationEntitlements=5]="UnauthorizationEntitlements",e[e.VodRestricted=6]="VodRestricted",e[e.LVSCCUCap=509]="LVSCCUCap",e[e.Aborted=1e3]="Aborted",e[e.Network=2e3]="Network",e[e.CCUCapReached=2001]="CCUCapReached",e[e.Decode=3e3]="Decode",e[e.FormatNotSupported=4e3]="FormatNotSupported",e[e.ContentNotAvailable=5e3]="ContentNotAvailable",e[e.RendererNotAvailable=6e3]="RendererNotAvailable",e[e.SafariUnsupportedDevice=7004]="SafariUnsupportedDevice",e[e.Fatal=8001]="Fatal",e[e.FatalAuth=8003]="FatalAuth",e[e.Offline=8002]="Offline",e[e.WarnAuth=8004]="WarnAuth"}(m||(m={})),function(e){e.PREMIUM_CONTENT_RESTRICTED="PREMIUM_CONTENT",e.VOD_RESTRICTED="vod_manifest_restricted"}(p||(p={}))},"0E6Y":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelSubGiftSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"giftRecipient"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:355}};n.loc.source={body:"query ChannelSubGiftSuccessScreen($productName: String! $giftRecipientID: ID) {\ngiftRecipient: user(id: $giftRecipientID) {\nid\ndisplayName\n}\nsubscriptionProduct(productName: $productName) {\nid\ntier\nowner {\nid\ndisplayName\nself {\ndisplayBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\navailableBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelSubGiftSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelSubGiftSuccessScreen")},"0PSp":function(e,t,n){},"0hI/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReportUserModal_ReportUserData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:204}};n.loc.source={body:"query ReportUserModal_ReportUserData($targetUserID: ID!) {\ntargetUser: user(id: $targetUserID lookupType: ALL) {\nid\nlogin\ndisplayName\n}\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportUserData=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportUserData")},"0iXB":function(e,t,n){},"1/eP":function(e,t,n){"use strict";function i(){try{return window.self!==window.top}catch(e){return!0}}n.d(t,"a",(function(){return i}))},"1AzW":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("/7QA"),a=n("ZDlU"),o=n("OCDW"),s=n("Yegi"),c=n("uq9l"),l=(n("YG3Y"),function(){return i.createElement(o.a,{className:"xsolla-down-notice__container",background:s.d.Base,border:!0,display:s.h.Flex,justifyContent:s.m.Center},i.createElement(o.a,{margin:{top:5},fullWidth:!0,textAlign:s.q.Center},i.createElement(c.a,{type:c.e.H4},i.createElement(a.PageError,{message:Object(r.d)("Sorry, this payment option is not available at the moment.","XsollaDownNotice")}))))})},"1Fpl":function(e,t,n){e.exports=n.p+"assets/prime-gaming-purple-c14b20e495295c7c06cd.svg"},"1ZQW":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelSubSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:367}};n.loc.source={body:"query ChannelSubSuccessScreen($productName: String!) {\nsubscriptionProduct(productName: $productName) {\nid\ntier\nhasAdFree\nowner {\nid\ndisplayName\nself {\ndisplayBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\navailableBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\n}\nsubscriptionProducts {\nid\ntier\nemotes {\nid\ntoken\nsetID\n}\nemoteModifiers {\ncode\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelSubSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelSubSuccessScreen")},"1ZY8":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsProductDescription"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"query BitsProductDescription {\ncurrentUser {\nid\nbitsOffers {\nid\nbits\n... on BitsBundleOffer {\nasin\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BitsProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"BitsProductDescription")},"26Wv":function(e,t,n){},"29Yd":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("TSYQ"),a=n("q1tI"),o=n("ll/k"),s=n("OCDW"),c=n("Yegi"),l=(n("fLvw"),["confetti-layer__confetti--slow","confetti-layer__confetti--medium","confetti-layer__confetti--fast"]),u=["rgba(247, 42, 107, 1)","rgba(255, 113, 105, 1)","rgba(253, 226, 132, 1)","rgba(181, 138, 242, 1)"],d=["0.011s","0.176s","0.321s","0.446s","0.849s","1.056s","1.229s","1.333s","1.379s","1.828s"],m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=r({"confetti-layer__confetti":!0,"confetti-layer__confetti--infinite":this.props.infinite});return a.createElement(s.a,{className:"confetti-layer",position:c.o.Absolute,overflow:c.n.Hidden,zIndex:c.t.Default,attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0},Object(o.c)(this.props.confettiCount,(function(n){return a.createElement("div",{key:n,className:t+" "+Object(o.b)(l),style:{position:"absolute",left:Object(o.a)(2,95)+"%",width:Object(o.a)(4,10)+"px",height:Object(o.a)(4,10)+"px",backgroundColor:""+Object(o.b)(e.props.colors),animationDelay:""+Object(o.b)(d)}})})))},t.defaultProps={colors:u},t}(a.PureComponent)},"2DIU":function(e,t,n){e.exports=n.p+"assets/amazon_pay_1x-4f76ba5fbbaca5a76d41.png"},"2ORI":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_2x-302cb9125ccffd2d356d.png"},"2xEe":function(e,t,n){e.exports=n.p+"assets/paypal_dark_1x-29d0a02f9cc67088594b.png"},"3CMh":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return v}));var i,r=n("TSYQ"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),c=n("bBAb"),l=n("5zXJ"),u=n("XmgI"),d=n("4h+t"),m=n("ikJD"),p=n("x1M1"),f=n("Yegi"),h=n("IyK4");n("0iXB");!function(e){e[e.Large=4]="Large",e[e.Medium=3]="Medium",e[e.Small=2]="Small",e[e.ExtraSmall=1.5]="ExtraSmall",e[e.ExtremelySmall=1]="ExtremelySmall"}(i||(i={}));var v=Object(o.d)(Object(c.b)((function(e){return{bitsConfig:e.bitsConfig}})))((function(e){var t,n=Object(a.useContext)(m.b).value,o=e.bitsConfig&&e.bitsConfig.indexedActions[e.prefix.toLowerCase()];o||(o=Object(d.b)("Cheer"));var c=e.amount||l.l,v=o.orderedTiers.find((function(e){return e.bits<=c}));v||(v=o.orderedTiers[0]);var g=null===(t=e.bitsConfig)||void 0===t?void 0:t.tiers.find((function(e){return e.bits<=c}));g||(g=e.bitsConfig.tiers[0]);var b=e.display===f.h.Inline||e.display===f.h.InlineFlex||e.display===f.h.InlineBlock,y=null,k=r("cheermote-for-amount__cheer-amount",{"cheermote-for-amount__display--table-cell":!b},{"cheermote-for-amount__cheer-amount--medium":e.size===i.Medium},{"cheermote-for-amount__cheer-amount--small":e.size===i.Small||e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-amount--extremely-small":e.size===i.ExtremelySmall});if(void 0!==e.amount&&e.showAmount){var S=e.formattedNumber?Object(s.f)(e.amount):e.amount;y=a.createElement(h.a,{padding:e.size===i.Small?0:void 0,textAlign:e.size===i.Small?f.q.Center:void 0},a.createElement("strong",{className:k,style:{color:g.color}},S))}var E=r("cheermote-for-amount__cheer-image",{"cheermote-for-amount__display--table-cell":!b},{"cheermote-for-amount__cheer--inline":b},{"cheermote-for-amount__cheer-image--small":e.size===i.Small},{"cheermote-for-amount__cheer-image--extra-small":e.size===i.ExtraSmall},{"cheermote-for-amount__cheer-image--extremely-small":e.size===i.ExtremelySmall}),C=a.createElement(p.a,{className:E,sources:Object(u.d)(o,v.bits,e.size||i.Large,n&&e.animated)});return e.showImage||(C=null),a.createElement(h.a,{className:"cheermote-for-amount",alignItems:e.alignItems,display:e.display},a.createElement("span",null,C,y))}))},"3Qp8":function(e,t,n){e.exports=n.p+"assets/red-gem-fc715055c3b78e71b335.png"},"3vEr":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCelebrationUserSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCelebrationUserSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCelebrationUserSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"celebrationSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOptedOut"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:190}};n.loc.source={body:"mutation UpdateCelebrationUserSettings($input: UpdateCelebrationUserSettingsInput!) {\nupdateCelebrationUserSettings(input: $input) {\ncurrentUser {\nid\ncelebrationSettings {\nisOptedOut\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UpdateCelebrationUserSettings=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UpdateCelebrationUserSettings")},"4FF5":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetHypeTrainExecution"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"userLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hypeTrain"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"execution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainExecution"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:220}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-execution.gql"\nquery GetHypeTrainExecution($userLogin: String!) {\nuser(login: $userLogin) {\nid\nchannel {\nid\nhypeTrain {\nexecution {\n...hypeTrainExecution\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("vYXc").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.GetHypeTrainExecution=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"GetHypeTrainExecution")},"4l7P":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return b}));var i,r=n("mrSG"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),c=n("hyxX"),l=n("wUQP"),u=n("1rIY"),d=n("nqb9"),m=n("/fLC"),p=n("Q3S8"),f=n("Uyxv"),h=(i=Object(u.a)("PictureByPictureContext",{onChannelChange:function(){return null},onMainPlayerContentRestricted:function(){return null},onMainPlayerPlay:function(){return null},onMainPlayerPause:function(){return null},onMainPlayerAdPodStart:function(){return null},onMainPlayerAdPodEnd:function(){return null},onMainPlayerInit:function(){return null},onMainPlayerHLSTrigger:function(){return null},setReady:function(){return null},getMainPlayerMetadata:function(){return{playSessionId:""}},isEligible:!1,isShowing:!1,isReady:!1,isStitched:!1,isRestricted:!1,preflight:null,status:f.b.Unavailable})).context,v=i.withContext,g=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=s.k.withCategory("picture-by-picture-context"),n.setReady=function(e){n.setState({isReady:e})},n.onChannelChange=function(){n.logger.debug("pbyp player detected a channel change, reset isRestricted"),n.setState({isRestricted:!1})},n.onMainPlayerContentRestricted=function(){n.logger.debug("content restricted from pbyp context"),n.setState({isRestricted:!0})},n.onMainPlayerPause=function(){n.logger.debug("pausing from pbyp context"),n.setState({status:f.b.Paused})},n.onMainPlayerPlay=function(){n.logger.debug("playing from pbyp context"),n.setState({status:f.b.Playing,isRestricted:!1})},n.onMainPlayerAdPodStart=function(e){var t=e.stitched,i=e.content,r=e.roll,a=n.state.isReady;if(Object(l.c)(f.a)&&Object(p.s)(i)&&r===m.b.Mid){n.logger.debug((t?"stitched":"")+"adstart detected of rollType "+r);var o=a;n.setState({isShowing:o,isStitched:t})}},n.onMainPlayerAdPodEnd=function(e){var t=e.stitched,i=e.content,r=e.roll;Object(l.c)(f.a)&&Object(p.s)(i)&&r===m.b.Mid&&(n.logger.debug((t?"stitched":"")+"adend detected of rollType "+r),n.setState({isShowing:!1,isStitched:t}))},n.onMainPlayerInit=function(e){n.api=e},n.onMainPlayerHLSTrigger=function(e){n.setState({preflight:e})},n.getMainPlayerMetadata=function(){return n.api?n.api.getPlayerMetadata():d.b},n.state={onChannelChange:n.onChannelChange,onMainPlayerContentRestricted:n.onMainPlayerContentRestricted,onMainPlayerPause:n.onMainPlayerPause,onMainPlayerPlay:n.onMainPlayerPlay,onMainPlayerAdPodStart:n.onMainPlayerAdPodStart,onMainPlayerAdPodEnd:n.onMainPlayerAdPodEnd,onMainPlayerInit:n.onMainPlayerInit,onMainPlayerHLSTrigger:n.onMainPlayerHLSTrigger,getMainPlayerMetadata:n.getMainPlayerMetadata,isEligible:!0,isShowing:!1,isStitched:!1,isReady:!1,isRestricted:!1,preflight:null,setReady:n.setReady,status:f.b.Loading},n}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(h.Provider,{value:this.state},this.props.children)},t}(a.Component),b=Object(o.d)(Object(c.a)({name:"PictureByPictureContextManager"}))(g)},"4qQ0":function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.BitsViolation="bits_violation",e.ChatBanEvasion="chat_ban_evasion",e.Cheating="cheating",e.Gore="gore",e.Harassment="harassment",e.Harm="harm",e.HatefulConduct="hateful_conduct",e.Impersonation="impersonation",e.Miscategorized="miscategorized",e.OffensiveUsername="offensive_username",e.Other="other",e.Porn="porn",e.Prohibited="prohibited",e.SelfHarm="selfharm",e.SexualContent="sexual_content",e.SexualViolence="sexual_violence",e.Spam="spam",e.TerrorismMassViolence="terrorism_mass_violence",e.TosBanEvasion="tos_ban_evasion",e.Underaged="underaged"}(i||(i={})),function(e){e[e.Unsubmitted=0]="Unsubmitted",e[e.Success=1]="Success",e[e.FormError=2]="FormError",e[e.MutationError=3]="MutationError",e[e.NoWhispersFromTargetUserError=4]="NoWhispersFromTargetUserError",e[e.RateLimitedError=5]="RateLimitedError",e[e.UserError=6]="UserError"}(r||(r={}))},"4wQG":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i,r=n("pVnL"),a=n.n(r),o=n("q1tI"),s=n("SWse"),c=n("P+FS"),l=n("HQtB"),u=n("swlv"),d=n("g8gE"),m=n("OCDW"),p=n("Yegi"),f=n("NBHn"),h=n("iF2L"),v=n("E1Lb"),g=n("Ix37"),b=n("WeGZ"),y=((i={})[b.a.Error]=g.a.NotificationError,i[b.a.Info]=g.a.NotificationInfo,i[b.a.Success]=g.a.NotificationSuccess,i[b.a.Warning]=g.a.NotificationWarning,i),k=function(e){return o.createElement(m.a,{display:p.h.Flex,alignItems:p.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?o.createElement(h.a,a()({size:30},e.avatar)):o.createElement(v.a,{asset:y[e.type]}))};k.displayName="NotificationFigure",k.displayName="NotificationFigure";var S=n("p9DJ"),E=n("uq9l"),C=function(e){return o.createElement(m.a,{display:p.h.Flex,flexDirection:e.inline?p.i.Row:p.i.Column,alignItems:e.inline?p.b.Baseline:void 0},o.createElement(m.a,{margin:{right:e.inline?.5:0}},o.createElement(E.a,{fontSize:p.k.Size5,fontWeight:p.l.SemiBold},e.title)),e.description&&o.createElement(m.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},o.createElement(E.a,{color:p.f.Alt},e.description)),e.link&&o.createElement(m.a,{margin:{bottom:e.inline?void 0:.5}},o.createElement(S.a,e.link)))};C.displayName="NotificationMessage",C.displayName="NotificationMessage";var O=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return o.createElement(m.a,a()({},Object(l.a)(e),Object(c.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:p.e.Medium,color:p.f.Base,position:p.o.Relative}),o.createElement(m.a,{borderRadius:p.e.Medium,background:e.background},o.createElement(m.a,{display:p.h.Flex},o.createElement(m.a,{display:p.h.Flex,fullWidth:!0},o.createElement(m.a,{padding:1,className:Object(s.a)(t)},o.createElement(k,{type:e.type,avatar:e.avatar})),o.createElement(m.a,{display:p.h.Flex,alignItems:p.b.Center,fullWidth:!0},e.children,e.message&&o.createElement(m.a,{padding:{y:1,right:1},fullWidth:!0},o.createElement(C,e.message)))),e.closeButton&&o.createElement(m.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},o.createElement(d.a,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:u.b.Small,type:u.c.Secondary}))),e.actions&&o.createElement(m.a,{padding:{x:1,bottom:1}},o.createElement(f.a,e.actions))))};O.displayName="InFeatureNotification",O.defaultProps={background:p.d.Base},O.displayName="InFeatureNotification"},"5RPz":function(e,t,n){},"5TAx":function(e,t,n){},"5yce":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("wUQP"),r=n("Mb07"),a="first_paid_gift_offer_feature_flag";function o(){return Object(i.c)(a)}function s(e){var t,n,i;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===r.a.FirstPaidGiftOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===r.a.FirstPaidSingleGiftOffer||(null===(i=null==e?void 0:e.promotion)||void 0===i?void 0:i.name)===r.a.FirstPaidMulitMonthOffer}function c(e){var t,n,i;if(o()){var a=null===(i=null===(n=null===(t=e.gifting)||void 0===t?void 0:t.community)||void 0===n?void 0:n.find((function(e){return s(e.offer)})))||void 0===i?void 0:i.offer;if(a&&Object(r.e)(a)){var c=Object(r.d)(a).discountPercent;if(c)return{offer:a,discountPercent:c}}}}},"6+Z+":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/7QA");function r(e){switch(e.toUpperCase()){case"AL":return Object(i.d)("Alabama","format-usa-state");case"AK":return Object(i.d)("Alaska","format-usa-state");case"AZ":return Object(i.d)("Arizona","format-usa-state");case"AR":return Object(i.d)("Arkansas","format-usa-state");case"AA":return Object(i.d)("Armed Forces Americas","format-usa-state");case"AE":return Object(i.d)("Armed Forces Europe/Middle East/Canada","format-usa-state");case"AP":return Object(i.d)("Armed Forces Pacific","format-usa-state");case"CA":return Object(i.d)("California","format-usa-state");case"CO":return Object(i.d)("Colorado","format-usa-state");case"CT":return Object(i.d)("Connecticut","format-usa-state");case"DE":return Object(i.d)("Delaware","format-usa-state");case"DC":return Object(i.d)("District of Columbia","format-usa-state");case"FL":return Object(i.d)("Florida","format-usa-state");case"GA":return Object(i.d)("Georgia","format-usa-state");case"HI":return Object(i.d)("Hawaii","format-usa-state");case"ID":return Object(i.d)("Idaho","format-usa-state");case"IL":return Object(i.d)("Illinois","format-usa-state");case"IN":return Object(i.d)("Indiana","format-usa-state");case"IA":return Object(i.d)("Iowa","format-usa-state");case"KS":return Object(i.d)("Kansas","format-usa-state");case"KY":return Object(i.d)("Kentucky","format-usa-state");case"LA":return Object(i.d)("Louisiana","format-usa-state");case"ME":return Object(i.d)("Maine","format-usa-state");case"MD":return Object(i.d)("Maryland","format-usa-state");case"MA":return Object(i.d)("Massachusetts","format-usa-state");case"MI":return Object(i.d)("Michigan","format-usa-state");case"MN":return Object(i.d)("Minnesota","format-usa-state");case"MS":return Object(i.d)("Mississippi","format-usa-state");case"MO":return Object(i.d)("Missouri","format-usa-state");case"MT":return Object(i.d)("Montana","format-usa-state");case"NE":return Object(i.d)("Nebraska","format-usa-state");case"NV":return Object(i.d)("Nevada","format-usa-state");case"NH":return Object(i.d)("New Hampshire","format-usa-state");case"NJ":return Object(i.d)("New Jersey","format-usa-state");case"NM":return Object(i.d)("New Mexico","format-usa-state");case"NY":return Object(i.d)("New York","format-usa-state");case"NC":return Object(i.d)("North Carolina","format-usa-state");case"ND":return Object(i.d)("North Dakota","format-usa-state");case"OH":return Object(i.d)("Ohio","format-usa-state");case"OK":return Object(i.d)("Oklahoma","format-usa-state");case"OR":return Object(i.d)("Oregon","format-usa-state");case"PA":return Object(i.d)("Pennsylvania","format-usa-state");case"RI":return Object(i.d)("Rhode Island","format-usa-state");case"SC":return Object(i.d)("South Carolina","format-usa-state");case"SD":return Object(i.d)("South Dakota","format-usa-state");case"TN":return Object(i.d)("Tennessee","format-usa-state");case"TX":return Object(i.d)("Texas","format-usa-state");case"UT":return Object(i.d)("Utah","format-usa-state");case"VT":return Object(i.d)("Vermont","format-usa-state");case"VA":return Object(i.d)("Virginia","format-usa-state");case"WA":return Object(i.d)("Washington","format-usa-state");case"WV":return Object(i.d)("West Virginia","format-usa-state");case"WI":return Object(i.d)("Wisconsin","format-usa-state");case"WY":return Object(i.d)("Wyoming","format-usa-state");default:return e}}var a=["AL","AK","AZ","AR","AA","AE","AP","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},"6/xl":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n("q1tI"),r=n("f00E"),a=n("OCDW"),o=n("JjwZ"),s="komodohype",c=81273,l="notlikethis",u=58765,d=function(e){var t=e.emoteID,n=e.emoteToken,s=e.quantity,c=i.useMemo((function(){return new Array(s).fill(0).map((function(){return i.createElement(a.a,{padding:{x:.5},key:Object(r.b)()},i.createElement(o.a,{alt:n,src:"https://static-cdn.jtvnw.net/emoticons/v2/"+t+"/default/light/1.0"}))}))}),[t,n,s]);return i.createElement(i.Fragment,null,c)}},"69Mc":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("7AWC");function r(e){var t=e.mediaPlayerInstance,n=e.videoAdMetadata;return Object(i.d)(n)?0:t?t.getDuration():0}function a(e){var t=e.mediaPlayerInstance,n=e.videoAdMetadata;return Object(i.d)(n)?0:t?t.getPosition():0}function o(e){var t=e.mediaPlayerInstance,n=e.videoAdMetadata;return Object(i.d)(n)?1:t?t.getPlaybackRate():1}function s(e,t){var n=t.mediaPlayerInstance,r=t.videoAdMetadata;Object(i.d)(r)||n&&n.setPlaybackRate(e)}},"6TSi":function(e,t){},"6fcp":function(e,t,n){"use strict";var i,r;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.NotConfigured="not-configured",e.MissingPublicKey="missing-public-key",e.InvalidPublicKey="invalid-public-key",e.AlreadyConfigured="already-configured",e.MissingHostedFieldTarget="missing-hosted-field-target",e.Validation="validation",e.InvalidParameter="invalid-parameter",e.APIError="api-error",e.PayPalNotConfigured="paypal-not-configured",e.PayPalCanceled="paypal-canceled",e.PayPalError="paypal-error",e.InvalidRoutingNumber="invalid-routing-number",e.NotFound="not-found",e.MissingPlan="missing-plan",e.InvalidAddon="invalid-addon",e.InvalidCurrency="invalid-currency",e.GiftCardCurrencyMisMatch="gift-card-currency-mismatch"}(i||(i={})),function(e){e.FirstName="first_name",e.LastName="last_name",e.Country="country",e.StreetAddress="address1",e.City="city",e.StateOrProvince="state",e.PostalCode="postal_code",e.CreditCardNumber="number",e.ExpMonth="month",e.ExpYear="year",e.CVV="cvv",e.Token="token"}(r||(r={}))},"7AWC":function(e,t,n){"use strict";function i(e){return!!e&&(e.stitched||e.started)}function r(e){var t=e.adContext.videoAdMetadata;return a(t)&&t.videoAd||void 0}function a(e){return!!e&&!e.stitched}function o(e){return!!e&&e.stitched}n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}))},"7DAU":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormReviewScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"failureReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query CheckoutFormReviewScreen($purchaseOrderID: ID! $includeOrder: Boolean!) {\ncurrentUser {\nid\npurchaseOrder(id: $purchaseOrderID) @include(if: $includeOrder) {\nid\nactionTokenID\nfailureReason\nstate\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CheckoutFormReviewScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CheckoutFormReviewScreen")},"7IMp":function(e,t,n){"use strict";var i,r,a;n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.Create="Create",e.Moderate="Moderate",e.Subscribe="Subscribe"}(i||(i={})),function(e){e.EmoteCard="Emote Card",e.SubscribeButton="Subscribe Button",e.SubscribeGiftButton="Subscribe Gift Button",e.SubscribeModal="Subscribe Modal",e.SubscribeModalSingleGift="Subscribe Modal Single Gift",e.SubscribeTurbo="Subscribe Turbo",e.SubscribersPanel="Subscribers Panel",e.SubscriptionsCheckout="Subscriptions Checkout",e.SubscriptionsCreatorSettings="Subscriptions Creator Settings",e.SubscriptionsFollowing="Subscriptions Following",e.SubscriptionsManagementPaid="Subscriptions Management Paid",e.SubscriptionsManagementExpired="Subscriptions Management Expired",e.SubscriptionsManagementGift="Subscriptions Management Gift",e.SubscriptionsManagementMobile="Subscriptions Management Mobile",e.SubscriptionsManagementOther="Subscriptions Management Other",e.ViewerCard="Viewer Card"}(r||(r={})),function(e){e.Available="Available",e.PartiallyAvailable="Partially Available",e.Unavailable="Unavailable"}(a||(a={}))},"7JTj":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("tHKy"),r=n("vh7/"),a=Object(i.a)(r.a)},"7m5f":function(e,t,n){},"7qJZ":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("ll/k"),r="raid_update_v2",a="raid_cancel_v2",o="raid_go_v2",s=function(){function e(e,t,n){this.message=e,this.id=e.raid.id,this.type=e.type,this.creatorID=e.raid.creator_id,this.sourceChannelID=e.raid.source_id,this.targetChannelID=e.raid.target_id,this.viewerCount=e.raid.viewer_count,this.remainingDurationSeconds=e.raid.remaining_duration_seconds,this.targetLogin=e.raid.target_login,this.targetDisplayName=e.raid.target_display_name,this.targetProfileImage=e.raid.target_profile_image,this.storage=t,this.hasJoined=t.hasJoined(this),this.isExpired=t.isExpired(this),this.isAnnouncing=e.type===r,this.isGoing=Boolean(n&&n.isAnnouncing)&&e.type===o,this.hasEnded=e.type===o||e.type===a,n&&n.hasEnded&&(this.isAnnouncing=!1,this.isGoing=n.isGoing,this.hasEnded=!0),this.isGoing&&n&&!n.isGoing?this.jitterSeconds=Object(i.a)(e.raid.transition_jitter_seconds):this.jitterSeconds=n&&n.jitterSeconds||0}return e.prototype.withMessage=function(t){return this.id!==t.raid.id?new e(t,this.storage):new e(t,this.storage,this)},e.prototype.withStorage=function(t){return new e(this.message,t,this)},e}()},"80LI":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainDifficultySetting"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainDifficultySettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}}]}}],loc:{start:0,end:178}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-level.gql"\nfragment hypeTrainDifficultySetting on HypeTrainDifficultySettings {\ndifficulty\nlevels {\n...hypeTrainLevel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QC++").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},"8EUQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return i}));var i={};n.r(i),n.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),n.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),n.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return c})),n.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return l})),n.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return u})),n.d(i,"SUB_CHECKOUT__MULTIMONTH_GIFT_KEY",(function(){return d})),n.d(i,"clearSubscriptionCheckoutKeys",(function(){return p})),n.d(i,"showLoginModalWithCheckoutDispatch",(function(){return f}));var r=n("/7QA"),a=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",c="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",l="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",u="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",d="SUB_CHECKOUT__MULTIMONTH_GIFT_MONTHS",m=[o,s,c,l,u,d];function p(){m.forEach((function(e){return r.n.remove(e)}))}function f(e){return function(){return Object(a.e)(e,{onClose:p})}}var h=function(e){var t=e.amount,n=e.exponent;return t/Math.pow(10,n)}},"8R12":function(e,t,n){},"8ggV":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("4rCz"),s=n("ER7f"),c=n("OCDW"),l=n("Yegi"),u=n("uq9l"),d=(n("yAI6"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showChallenge:!1,threeDSecure:null},t.onMutation=function(e,n){for(var i=0,r=e;i<r.length;i++){if("childList"===r[i].type)return n.disconnect(),t.setState({showChallenge:!0}),void(t.props.handleChallengeShown&&t.props.handleChallengeShown())}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.recurlyLoadFailed||(this.props.recurlyInstance&&this.setupConfigs(),this.props.threeDSecureActionTokenID&&!this.state.threeDSecure&&this.props.recurlyInstance&&this.initiate3DS2Check())},t.prototype.componentDidUpdate=function(e){this.props.recurlyLoadFailed||(this.props.recurlyInstance&&this.setupConfigs(),e.threeDSecureActionTokenID||!this.props.threeDSecureActionTokenID||this.state.threeDSecure||!this.props.recurlyInstance||this.props.recurlyLoadFailed||this.initiate3DS2Check(),e.threeDSecureActionTokenID&&!this.props.threeDSecureActionTokenID&&(this.setState({showChallenge:!1,threeDSecure:null}),this.cleanUp()))},t.prototype.componentWillUnmount=function(){this.cleanUp()},t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(c.a,{display:this.state.showChallenge?l.h.Hide:l.h.Block},this.props.children),r.createElement(c.a,{display:this.state.showChallenge?l.h.Block:l.h.Hide},r.createElement(c.a,{padding:{bottom:2}},r.createElement(u.a,{type:u.e.Strong},Object(o.d)("Additional authentication with your bank is required to complete this payment.","RecurlyStrongAuthProcessor"))),r.createElement(c.a,{className:"recurly-strong-auth"})))},t.prototype.setupConfigs=function(){this.props.recurlyInstance&&this.props.recurlyInstance.configure({publicKey:this.props.publicKey,fraud:{kount:{dataCollector:!0}}})},t.prototype.initiate3DS2Check=function(){var e=this;if(this.props.recurlyInstance&&this.props.threeDSecureActionTokenID){var t=this.props.recurlyInstance.Risk().ThreeDSecure({actionTokenId:this.props.threeDSecureActionTokenID}),n=document.querySelector(".recurly-strong-auth");if(n&&t)return t.on("error",(function(t){e.cleanUp(),e.props.handleError({message:t}),e.setState({showChallenge:!1,threeDSecure:null})})),t.on("token",(function(t){e.cleanUp(),e.setState({showChallenge:!1,threeDSecure:null}),e.props.handleSuccess(t.id)})),this.mutationObserver=this.mutationObserver||new MutationObserver(this.onMutation),this.mutationObserver.observe(n,{childList:!0,subtree:!0}),t.attach(n),void this.setState({threeDSecure:t});this.props.handleError({message:"Failed to initiate 3DS2 check"})}},t.prototype.cleanUp=function(){this.state.threeDSecure&&this.state.threeDSecure.remove(),this.mutationObserver&&this.mutationObserver.disconnect()},t}(r.Component)),m=Object(a.d)(Object(s.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(d)},"8jAs":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DropsHighlightService_ClaimDropRewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClaimDropRewardsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimDropRewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserAccountConnected"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:149}};n.loc.source={body:"mutation DropsHighlightService_ClaimDropRewards($input: ClaimDropRewardsInput!) {\nclaimDropRewards(input: $input) {\nstatus\nisUserAccountConnected\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DropsHighlightService_ClaimDropRewards=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"DropsHighlightService_ClaimDropRewards")},"8sFf":function(e,t,n){},"9TPM":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserBalanceQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walletType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WalletType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"balances"},arguments:[{kind:"Argument",name:{kind:"Name",value:"walletType"},value:{kind:"Variable",name:{kind:"Name",value:"walletType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query UserBalanceQuery($walletType: WalletType!) {\ncurrentUser {\nid\nbalances(walletType: $walletType) {\namount\ncurrency\nexponent\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserBalanceQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UserBalanceQuery")},"9g6D":function(e,t,n){e.exports=n.p+"assets/interruption-free-viewing-4f9e3f5877a2ce0a92c6.png"},A1XS:function(e,t,n){},ABd2:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i}));var i,r=n("mrSG"),a=n("/7QA"),o=n("DMoW"),s=n("2xye"),c=n("VURH");!function(e){e.Start="start",e.CheckoutActionCheck="checkout_action_check",e.LoadSuccess="load_success",e.Add2FaPrompt="add_2fa_prompt",e.Add2FaClick="add_2fa_click",e.Add2FaClose="add_2fa_close",e.AddEmailPrompt="add_email_prompt",e.AddEmailClickAttempt="add_email_click_attempt",e.AddEmailClickSuccess="add_email_click_success",e.AddEmailClickFailure="add_email_click_failure",e.AddPaymentMethodClick="add_payment_method_click",e.ThreeDS2Prompt="3ds2_prompt",e.ThreeDS2Success="3ds2_success",e.ThreeDS2Failure="3ds2_failure",e.DirectDebitUnavailableBannerLearnMoreClick="direct_debit_unavailable_banner_learn_more_click",e.DirectDebitUnavailableBannerLoad="direct_debit_unavailable_banner_load",e.CountryOfResidencePrompt="country_of_residence_prompt",e.CountryOfResidenceAttempt="country_of_residence_attempt",e.CountryOfResidenceSuccess="country_of_residence_success",e.CountryOfResidenceFailure="country_of_residence_failure",e.PaymentMethodUpdateInit="payment_method_update_init",e.PaymentMethodUpdateAPIAttempt="payment_method_update_api_attempt",e.PaymentMethodUpdateAPISuccess="payment_method_update_api_success",e.PaymentMethodUpdateAPIFailure="payment_method_update_api_failure",e.PurchaseSupportFAQClick="purchase_support_faq_click",e.SubscriptionManagementClick="subscriptions_management_click",e.ChangePaymentMethodClick="change_payment_method_click",e.UseExistingPaymentMethodClick="use_existing_payment_method_click",e.CompletePurchaseShown="complete_purchase_shown",e.CompletePurchaseClickAttempt="complete_purchase_click_attempt",e.CompletePurchaseClickSuccess="complete_purchase_click_success",e.CompletePurchaseClickFailure="complete_purchase_click_failure",e.VendorScriptFailure="vendor_script_failure",e.GQLError="gql_error",e.Error="error",e.Close="close",e.SetupAutoRefillPrompt="setup_auto_refill_prompt",e.SetupAutoRefillClick="setup_auto_refill_click",e.TermsOfSaleClick="terms_of_sale_click",e.PrivacyPolicyClick="privacy_policy_click",e.QuantityUpdated="quantity_updated",e.PurchaseSuccessScreenShown="purchase_success_screen_shown",e.SkipAddPaymentMethodClick="skip_add_payment_method_click",e.UpdateMonthQuantityClick="update_month_quantity_click",e.PriceChangeWarningShown="price_change_warning_shown",e.PriceChangeWarningDismiss="price_change_warning_dismiss"}(i||(i={}));var l=[i.Start,i.LoadSuccess],u=function(){function e(e){var t=this;this.subEventsFired={},this.getTenantTracking=function(){return t.tenantTracking},this.getCheckoutSessionID=function(){return t.checkoutSessionID},this.track=function(e){var n=e.subEventDetail||"",i=e.originID||"",o=e.extTransactionID||"";if(!l.includes(e.subEvent)||!t.subEventsFired[e.subEvent]){t.subEventsFired[e.subEvent]=!0;var c=Object(r.__assign)({checkout_session_id:t.checkoutSessionID,source:t.source,source_detail:t.sourceDetail||"",offer_id:t.offerID,subs_ticket_product_owner_id:t.subsTicketOwnerID||"",product_type:t.productType,product_id:t.productID,purchase_flow:t.purchaseFlow,quantity:t.quantity,currency:t.currency,saved_payment_method:t.savedPaymentMethod,saved_payment_provider:t.savedPaymentProvider,active_payment_method:t.activePaymentMethod||"",active_payment_provider:t.activePaymentProvider||"",is_taxes_known:t.isTaxesKnown,sub_event:e.subEvent,sub_event_detail:n,origin_id:i,ext_transaction_id:o},t.sanitizedTrackingProperties);void 0!==t._isSpmShownAtLoad&&(c.is_spm_shown_at_load=t._isSpmShownAtLoad),t.walletBalanceLocal&&(c.wallet_balance_local=t.walletBalanceLocal),void 0!==t.grossAmountLocal&&(c.gross_amount_local=t.grossAmountLocal),void 0!==t.grossAmountLocalNonWallet&&(c.gross_amount_local_non_wallet=t.grossAmountLocalNonWallet),void 0!==t.taxesLocal&&(c.taxes_local=t.taxesLocal),void 0!==t.isTaxInclusive&&(c.is_tax_inclusive=t.isTaxInclusive),void 0!==t.defaultGrossAmountLocal&&(c.default_gross_amount_local=t.defaultGrossAmountLocal),t.countryCode&&(c.residence_country_code=t.countryCode),void 0!==t.monthQuantity&&(c.month_quantity=t.monthQuantity),a.o.track(s.SpadeEventType.CheckoutSession,c)}},this.checkoutSessionID=e.checkoutSessionID,this.source=e.source,this.sourceDetail=e.sourceDetail,this.tenantTracking=e.tenantTracking,this.offerID=e.offerID,this.quantity=e.quantity,this.subsTicketOwnerID=e.subsTicketOwnerID,this.productType=e.productType,this.track({subEvent:i.Start})}return Object.defineProperty(e.prototype,"isSpmShownAtLoad",{set:function(e){void 0===this._isSpmShownAtLoad&&(this._isSpmShownAtLoad=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productID",{get:function(){var e,t;return(null===(t=null===(e=this.tagBindings)||void 0===e?void 0:e.find((function(e){return"product_id"===e.key})))||void 0===t?void 0:t.value)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"purchaseFlow",{get:function(){switch(this.tplr){case c.b.BitsBundle:case c.b.ChannelSub:case c.b.ChannelSubCustom:case c.b.Turbo:return"personal";case c.b.ChannelSubStandardGift:return"gift";case c.b.ChannelSubCommunityGift:return"community_gift";default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taxesLocal",{get:function(){var e,t,n;if(this.paymentProvider===o.td.RECURLY)return(null===(t=null===(e=this.checkoutPrice)||void 0===e?void 0:e.discount)||void 0===t?void 0:t.tax)||(null===(n=this.checkoutPrice)||void 0===n?void 0:n.tax)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTaxInclusive",{get:function(){return this.checkoutPrice?this.checkoutPrice.isTaxInclusive:this.previewPrice?this.previewPrice.isTaxInclusive:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTaxesKnown",{get:function(){return!!this.checkoutPrice&&this.paymentProvider===o.td.RECURLY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultGrossAmountLocal",{get:function(){return this.checkoutPrice?this.checkoutPrice.total:this.previewPrice?this.previewPrice.price*this.quantity:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grossAmountLocal",{get:function(){var e,t;return(null===(e=this.checkoutPrice)||void 0===e?void 0:e.discount)?this.checkoutPrice.discount.total:(null===(t=this.previewPrice)||void 0===t?void 0:t.discount)?this.previewPrice.discount.price*this.quantity:this.defaultGrossAmountLocal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grossAmountLocalNonWallet",{get:function(){var e=this.grossAmountLocal;if(e){if(!this.walletBalanceLocal||this.activePaymentProvider!==o.td.RECURLY.toLowerCase())return e;var t=e-this.walletBalanceLocal;return t<0?0:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currency",{get:function(){var e,t;return(null===(e=this.checkoutPrice)||void 0===e?void 0:e.currency)||(null===(t=this.previewPrice)||void 0===t?void 0:t.currency)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"savedPaymentMethod",{get:function(){var e;switch(null===(e=this.savedPaymentInstrumentType)||void 0===e?void 0:e.toUpperCase()){case o.rd.CREDIT_CARD:return"credit_card";case o.rd.PAYPAL:return"paypal";case o.rd.AMAZON:return"amazon_pay";default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"savedPaymentProvider",{get:function(){return this.savedPaymentMethod?"recurly":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sanitizedTrackingProperties",{get:function(){try{var e=this.tenantTracking?JSON.parse(this.tenantTracking):null;return{bits_checkout_id:e.bits_checkout_id||"",sub_session_id:e.sub_session_id||"",tracking_id:e.tracking_id||""}}catch(e){return{}}},enumerable:!0,configurable:!0}),e}()},AR1T:function(e,t,n){e.exports=n.p+"assets/apple_dark_1x-796e0d031174dc971968.svg"},Aiem:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipationConversionRate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:109}};n.loc.source={body:"fragment hypeTrainParticipationConversionRate on HypeTrainParticipationConversionRate {\naction\nsource\nvalue\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Av26:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("ANjH"),a=n("2Ygb"),o=n("1rIY");function s(e,t,n){var s=Object(o.a)(e,t),c=s.withContext;return{withMemoContext:function(e){return function(t){var o=c(e||n),s=Object(r.d)(o,i.memo)(t);return s.displayName=Object(a.a)("withVideoPlayerContext",t),s}},context:s.context}}},"B/q4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("4rCz"),a=n("OCDW"),o=n("Yegi"),s=(n("wQB+"),function(e){var t=e.topCommunityPointsContributor;if(!t)return null;var n=t.user&&t.user.displayName||"",s=t.communityPointsAmount;return n&&s?i.createElement(a.a,{margin:{top:1}},i.createElement(a.a,{borderRadius:o.e.Rounded,className:"top-poll-community-points-contributor",padding:{x:1,y:.5},display:o.h.InlineBlock},Object(r.d)("{communityPoints, plural, one {{username} contributed {pointsString} Channel Point!} other {{username} contributed {pointsString} Channel Points!}}",{username:n,communityPoints:s,pointsString:Object(r.f)(s)},"Polls--TopPollCommunityPointsContributor"))):null})},BBJN:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var i,r=n("pVnL"),a=n.n(r),o=n("q1tI"),s=n("SWse"),c=n("P+FS"),l=n("HQtB"),u=n("OCDW");!function(e){e.Default="",e.Small="tw-grid--gutter-sm",e.Medium="tw-grid--gutter-md",e.Large="tw-grid--gutter-lg",e.None="tw-grid--gutter-none"}(i||(i={}));var d=function(e){var t={"tw-grid":!0};return e.gutterSize&&(t[e.gutterSize]=!0),o.createElement(u.a,a()({alignItems:e.alignItems,fullHeight:e.fullHeight,justifyContent:e.justifyContent,breakpointExtraSmall:e.breakpointExtraSmall,breakpointSmall:e.breakpointSmall,breakpointMedium:e.breakpointMedium,breakpointLarge:e.breakpointLarge,breakpointExtraLarge:e.breakpointExtraLarge,breakpointExtraExtraLarge:e.breakpointExtraExtraLarge,className:Object(s.a)(t)},Object(l.a)(e),Object(c.a)(e)),e.children)};d.displayName="Grid",d.displayName="Grid"},BLPV:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("5e0Q");!function(e){e[e.NoChanges=0]="NoChanges",e[e.DirtyChanges=1]="DirtyChanges",e[e.Working=2]="Working",e[e.Success=3]="Success",e[e.Error=4]="Error",e[e.Default=5]="Default"}(i||(i={}));var c=function(e){var t=e.status,n=e.children,c=Object(r.__rest)(e,["status","children"]),l=s.c.Default,u=s.d.Primary,d=!1;return t===i.Working?l=s.c.Loading:t===i.Success?l=s.c.Success:t===i.Error?u=s.d.Alert:t===i.NoChanges&&(d=!0),n||(n=t===i.Error?Object(o.d)("Error","Save Button"):Object(o.d)("Save","Save Button")),a.createElement(s.a,Object(r.__assign)({disabled:d,state:l,type:u},c),n)}},Bgni:function(e,t,n){},BhFH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("w09P"),a=n("yR8l"),o=n("ru7j"),s=n("kSkr");function c(){return Object(a.b)(s,{props:function(e){return{blockUserMutation:function(t,n,a){return e.mutate({variables:{input:{targetUserID:t,sourceContext:a,reason:n}},optimisticResponse:{blockUser:{__typename:"BlockUserPayload",targetUser:{__typename:"User",id:t}}},update:function(e){var n=null;try{n=e.readQuery({query:o})}catch(e){return}(null==n?void 0:n.currentUser)&&e.writeQuery({query:o,data:r(n,(function(e){return e.currentUser.blockedUsers}),(function(e){return Object(i.__spreadArrays)(e,[{id:t,__typename:"User"}])}))})}})}}}})}},BmOg:function(e,t,n){"use strict";var i,r,a,o,s;n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.E2DropAvailable="e2-drop-available",e.MWDropAvailable="mw-drop-available",e.DropClaim="drop-claim",e.Raid="raid",e.Megacheer="megacheer",e.ChannelPoll="poll",e.MysterySubGift="community_sub_gift",e.HypeTrain="hype_train",e.Celebrations="celebration",e.CommunityBoost="community_boost",e.CommunityChallenge="community_challenge",e.CommunityPrediction="prediction"}(i||(i={})),function(e){e.MW="mw-drop-rule",e.E2="e2-drop-rule"}(r||(r={})),function(e){e.Started="started",e.Quarter="25_percent",e.Half="50_percent",e.ThreeQuarter="75_percent",e.NinetyFive="95_percent",e.Ended="100_percent"}(a||(a={})),function(e){e.Started="started",e.Quarter="25_percent",e.Half="50_percent",e.ThreeQuarter="75_percent",e.Ended="100_percent"}(o||(o={})),function(e){e.Started="prediction_started",e.Result="prediction_result"}(s||(s={}))},Bnzf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return u}));var i,r,a=n("/7QA"),o=n("i/Zp");!function(e){e.MUTED="video-muted",e.QUALITY="video-quality"}(r||(r={}));var s="default",c=((i={})[r.MUTED]=[{segmentKey:"carousel",playerTypes:[o.a.Frontpage]}],i[r.QUALITY]=[{segmentKey:"clips",playerTypes:[o.a.ClipsEditing,o.a.ClipsViewing,o.a.ClipsEmbed,o.a.ClipsWatchPage]}],i);function l(e,t){var n=c[e];for(var i in n)if(n[i].playerTypes&&n[i].playerTypes.includes(t))return n[i].segmentKey;return s}var u={get:function(e,t){return a.p.storage.get(e,{})[l(e,t)]},set:function(e,t,n){var i=a.p.storage.get(e,{});i[l(e,t)]=n,a.p.storage.set(e,i)}}},CD86:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ProductDescription($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ProductDescription")},CGEt:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"celebrationChannelColorAndProducts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"ACTIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:137}};n.loc.source={body:"fragment celebrationChannelColorAndProducts on User {\nid\nprimaryColorHex\nsubscriptionProducts {\nid\nemotes(state: ACTIVE) {\nid\ntoken\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},CSwz:function(e,t,n){e.exports=n.p+"assets/party-popper-0bd0fa401db64309ce4d.svg"},CZSx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("5zf8"),r=function(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.ceil(t/6e4);if(n<60)return Object(i.c)({minutes:Math.max(n,0)});var r=Math.ceil(n/60);return r<24?Object(i.c)({hours:r}):Object(i.c)({days:Math.ceil(r/24)})}},"Cak+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HypeTrain_GetUserInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"query HypeTrain_GetUserInfo($userID: ID!) {\nuser(id: $userID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.HypeTrain_GetUserInfo=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"HypeTrain_GetUserInfo")},CuSU:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("2DIU"),c=n.n(s),l=n("TSpM"),u=n.n(l),d=n("vE+g"),m=n.n(d),p=n("/Z6v"),f=n.n(p),h=n("WJ6U"),v=n.n(h),g=n("QCvd"),b=n.n(g),y=n("AR1T"),k=n.n(y),S=n("t5Mr"),E=n.n(S),C=n("+H2+"),O=n.n(C),D=n("uReR"),P=n.n(D),_=n("SPyc"),T=n.n(_),N=n("bOWA"),w=n.n(N),j=n("KL9a"),I=n.n(j),x=n("iSjI"),R=n.n(x),A=n("bQeB"),M=n.n(A),F=n("HvcU"),L=n.n(F),B=n("GA+j"),U=n.n(B),V=n("FBRg"),z=n.n(V),G=n("2xEe"),H=n.n(G),W=n("q8H6"),q=n.n(W),Q=n("vwei"),Y=n.n(Q),K=n("TjQE"),J=n.n(K),X=n("oQBz"),Z=n.n(X),$=n("PwAB"),ee=n.n($),te=n("/0dD"),ne=n("DMoW"),ie=n("XDQu"),re=n("G59e"),ae=n("uq9l"),oe=n("OCDW"),se=n("LNol"),ce=n("Ix37"),le=n("JjwZ"),ue=(n("HO8p"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.textOnly?r.createElement(ae.a,{type:ae.e.Span},this.getCreditText()):this.props.paymentProvider===ne.td.PRIME?r.createElement(re.b,{color:re.a.Purple,width:100,height:30}):this.props.paymentInstrumentType===ne.rd.WALLET?r.createElement(oe.a,{className:"payment-method-image"},r.createElement(se.a,{asset:ce.a.NavBackpack,width:26,height:26,type:se.b.Brand})):r.createElement(oe.a,{className:"payment-method-image"},r.createElement(le.a,Object(i.__assign)({},this.imageSource)))},t.prototype.getCreditText=function(){var e=Object(o.d)("credit card","PaymentMethodImage");switch(this.props.paymentProvider){case ne.td.XSOLLA_V3:return Object(o.d)("Xsolla icon","PaymentMethodImage");case ne.td.GOOGLE_IAB:return Object(o.d)("Android icon","PaymentMethodImage");case ne.td.APPLE_IAP:return Object(o.d)("Apple icon","PaymentMethodImage");case ne.td.SUB_TOKEN:return Object(o.d)("Subtoken icon","PaymentMethodImage")}switch(this.props.paymentInstrumentType){case ne.rd.CREDIT_CARD:switch(this.props.cardType){case ne.qd.AMERICAN_EXPRESS:return Object(o.d)("American Express","PaymentMethodImage");case ne.qd.DISCOVER:return Object(o.d)("Discover","PaymentMethodImage");case ne.qd.MASTERCARD:return Object(o.d)("Mastercard","PaymentMethodImage");case ne.qd.VISA:return Object(o.d)("Visa","PaymentMethodImage");default:return e}case ne.rd.AMAZON:return Object(o.d)("Amazon Pay","PaymentMethodImage");case ne.rd.PAYPAL:return Object(o.d)("Paypal","PaymentMethodImage");case ne.rd.DIRECT_DEBIT:switch(this.props.paymentScheme){case ne.ud.BACS:return Object(o.d)("Direct Debit","PaymentMethodImage");case ne.ud.SEPA:return Object(o.d)("Sepa","PaymentMethodImage");default:return e}default:return e}},Object.defineProperty(t.prototype,"imageSource",{get:function(){var e=this.getCreditText(),t={src:M.a,srcSet:{"1x":M.a,"2x":L.a},alt:e};switch(this.props.paymentProvider){case ne.td.XSOLLA_V3:return{src:Z.a,srcSet:{"1x":Z.a,"2x":ee.a},alt:e};case ne.td.GOOGLE_IAB:return{src:v.a,alt:e};case ne.td.APPLE_IAP:return{src:this.props.darkModeEnabled?k.a:b.a,alt:e};case ne.td.SUB_TOKEN:return{src:J.a,alt:e}}switch(this.props.paymentInstrumentType){case ne.rd.CREDIT_CARD:switch(this.props.cardType){case ne.qd.AMERICAN_EXPRESS:return{src:P.a,alt:e};case ne.qd.DISCOVER:return{src:T.a,alt:e};case ne.qd.MASTERCARD:return{src:this.props.darkModeEnabled?I.a:w.a,alt:e};case ne.qd.VISA:return{src:R.a,alt:e};default:return{src:M.a,srcSet:{"1x":M.a,"2x":L.a},alt:e}}case ne.rd.AMAZON:return{src:this.props.darkModeEnabled?m.a:c.a,srcSet:this.props.darkModeEnabled?{"1x":m.a,"2x":f.a}:{"1x":c.a,"2x":u.a},alt:e};case ne.rd.PAYPAL:return{src:this.props.darkModeEnabled?H.a:U.a,srcSet:this.props.darkModeEnabled?{"1x":H.a,"2x":q.a}:{"1x":U.a,"2x":z.a},alt:e};case ne.rd.DIRECT_DEBIT:switch(this.props.paymentScheme){case ne.ud.BACS:return{src:this.props.darkModeEnabled?E.a:O.a,alt:e,className:"direct-debit-image"};case ne.ud.SEPA:return{src:Y.a,alt:e,className:"direct-debit-image"};default:return t}default:return t}},enumerable:!0,configurable:!0}),t}(r.Component));var de=Object(a.b)((function(e){return{darkModeEnabled:Object(ie.a)(e)===te.a.Dark}}))(ue)},D8NC:function(e,t,n){e.exports=n.p+"assets/amazon_pay_1x-94c97f413ee6005ab1a1.png"},DFKC:function(e,t,n){},DIbp:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("/7QA"),r=n("/0dD"),a=n("M/F8"),o="var(--color-twitch-purple-8)",s="var(--color-twitch-purple-10)";function c(e,t,n){if(l()&&n&&t){var i=Object(a.b)(t);return e===r.a.Dark?i.primary3||"":i.primary5||""}return e===r.a.Dark?o:s}function l(){return i.b.get("hype_train_colors_enabled",!1)}},DQ0a:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"StringValue",value:"",block:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withStandardGifting"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creatorBadgeFlair"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setting"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"founderBadgeAvailability"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isFounder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primeSubCreditBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subBenefit"},directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"streakTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"STREAK"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGiftCountHidden"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1037}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/sub-modal/fragments/sub-benefit.gql"\n#import "twilight/features/subscribe-button/models/subscription-product.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery SubModal(\n$login: String!\n$giftRecipientLogin: String = ""\n$withStandardGifting: Boolean = false\n) {\nuser(login: $login) {\nid\ndisplayName\nprofileImageURL(width: 50)\nbannerImageURL\nbroadcastBadges {\n...badge\n}\nchannel {\nid\ncreatorBadgeFlair {\nsetting\n}\nfounderBadgeAvailability\n}\nsubscriptionProducts {\n...subscriptionProduct\n}\nself {\ncanPrimeSubscribe\nisFounder\nprimeSubCreditBenefit {\nrenewalDate\n}\nsubscriptionGiftCount\nsubscriptionBenefit {\n...subBenefit\nisExtended\n}\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nstreakTenure: subscriptionTenure(tenureMethod: STREAK) {\n...tenure\n}\n}\n}\nbadges {\n...badge\n}\nrequestInfo {\ncountryCode\n}\ncurrentUser {\nid\nhasPrime\nsubscriptionSettings {\nisGiftCountHidden\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("IKE4").definitions)),i.definitions=i.definitions.concat(a(n("FaAX").definitions)),i.definitions=i.definitions.concat(a(n("IKRm").definitions)),i.definitions=i.definitions.concat(a(n("HiyX").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.SubModal=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"SubModal")},DQBF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return c}));var i,r,a=n("/7QA"),o=n("2xye"),s="hype-train";function c(e){var t={server_time:e.serverTime,channel_id:e.channelID,user_id:e.userID,train_id:e.trainID,action_name:e.action,action_type:e.actionType};a.o.track(o.SpadeEventType.HypeTrainCardInteraction,t)}!function(e){e.Expand="expand",e.Hide="hide",e.MoreInfo="moreinfo",e.LeaderName="leadername",e.BitsCTA="bitscta",e.SubsCTA="subscta",e.GiftCTA="giftcta"}(i||(i={})),function(e){e.Click="click"}(r||(r={}))},DYZf:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,r=n("mrSG"),a=n("NAv5"),o=n("q1tI"),s=n("/7QA"),c=n("OCDW"),l=n("Yegi"),u=n("uq9l"),d=n("CuSU");n("GDu8");!function(e){e.LastFour="payment-method-display__last-four"}(i||(i={}));var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(c.a,{className:this.isExpired?"payment-method-display--expired":"",display:l.h.Flex,justifyContent:this.props.justifyContent||l.m.Between,flexWrap:l.j.Wrap,fullWidth:!0,"data-a-target":"saved-payment-method"},o.createElement(c.a,{alignItems:l.b.Center,display:l.h.Flex,margin:{right:1}},o.createElement(d.a,{paymentInstrumentType:this.props.paymentType,cardType:this.props.cardType||void 0,paymentProvider:this.props.provider,paymentScheme:this.props.paymentScheme||null}),this.renderLastFour()),o.createElement(c.a,{display:l.h.Flex,justifyContent:l.m.Center,flexDirection:l.i.Column},this.renderBillingEmail(),this.renderExpirationDate()))},t.prototype.renderLastFour=function(){return this.props.lastFour?o.createElement(c.a,{"data-test-selector":i.LastFour,display:l.h.Flex,margin:{x:2}},o.createElement(u.a,{bold:!0},Object(s.d)("Ending in {lastFour}",{lastFour:this.props.lastFour},"PaymentMethodDisplay"))):null},t.prototype.renderExpirationDate=function(){var e=this.zeroIndexedMonth,t=this.props.expirationYear;if(void 0===e||!t)return null;var n=new Date(t,e),i="";return i=this.isExpired?Object(s.d)("Expired {expirationDate}",{expirationDate:Object(s.c)(n,{month:"2-digit",year:"numeric"})},"PaymentMethodDisplay"):Object(s.d)("Expires {expirationDate}",{expirationDate:Object(s.c)(n,{month:"2-digit",year:"numeric"})},"PaymentMethodDisplay"),o.createElement(c.a,{alignItems:l.b.Center,display:l.h.Flex,justifyContent:l.m.End},o.createElement(u.a,{ellipsis:!0,color:l.f.Alt2,bold:this.isExpired},i))},t.prototype.renderBillingEmail=function(){return this.props.billingEmail?o.createElement(c.a,{alignItems:l.b.Center,display:l.h.Flex,justifyContent:l.m.End},o.createElement(u.a,{ellipsis:!0,color:l.f.Alt2},this.props.billingEmail)):null},Object.defineProperty(t.prototype,"isExpired",{get:function(){var e=this.zeroIndexedMonth,t=this.props.expirationYear;if(void 0===e||!t)return!1;var n=Object(a.startOfMonth)(new Date),i=new Date(t,e,1);return!!Object(a.isBefore)(i,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zeroIndexedMonth",{get:function(){if(this.props.expirationMonth)return this.props.expirationMonth-1},enumerable:!0,configurable:!0}),t}(o.PureComponent)},"Dj+a":function(e,t,n){},DlC9:function(e,t,n){"use strict";n.r(t),n.d(t,"CommunityHighlightStackManager",(function(){return fr}));var i=n("mrSG"),r=n("q1tI"),a=n("CGXs"),o=n("eirU"),s=n("0Log"),c=n("geRD"),l=n("/aPz"),u=n("f00E"),d=n("DMoW"),m=n("SAGE"),p=n("RGU8"),f=n("3vEr"),h=n("gxsq"),v=n("Ubux"),g=n("pr4f"),b=function(){return{offerId:"",eventId:""}},y=Object(r.createContext)({channelID:"",celebrations:[],popCelebration:function(){},updateOptOut:function(){},isOptedOut:!1});function k(e){var t=e.channelID,n=e.channelLogin,k=e.children,S=Object(m.a)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.id})),E=Object(m.a)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.login})),C=Object(r.useState)([]),O=C[0],D=C[1],P=Object(r.useState)(b()),_=P[0],T=P[1],N=Object(o.d)(v),w=N.data,j=N.loading,I=N.error,x=Object(o.b)(h,{variables:{channelLogin:n||""}}),R=x[0],A=x[1],M=A.loading,F=A.error,L=A.data,B=Object(r.useMemo)((function(){var e,t;return!j&&!I&&((null===(t=null===(e=null==w?void 0:w.currentUser)||void 0===e?void 0:e.celebrationSettings)||void 0===t?void 0:t.isOptedOut)||!1)}),[w,j,I]),U=Object(o.c)(f,{onCompleted:function(e){var n,i,r,a,o;S&&void 0!==(null===(r=null===(i=null===(n=e.updateCelebrationUserSettings)||void 0===n?void 0:n.currentUser)||void 0===i?void 0:i.celebrationSettings)||void 0===r?void 0:r.isOptedOut)&&Object(p.e)({time:(new Date).toString(),user_id:S||"",channel_id:t,show_full_animation_toggle:!(null===(o=null===(a=e.updateCelebrationUserSettings)||void 0===a?void 0:a.currentUser)||void 0===o?void 0:o.celebrationSettings.isOptedOut)})}})[0],V=r.useCallback((function(){if(S){var e=Object(c.b)({isOptedOut:!B},{updateCelebrationUserSettings:{__typename:"UpdateCelebrationUserSettingsPayload",currentUser:{__typename:"User",id:S,celebrationSettings:{__typename:"CelebrationUserSettings",isOptedOut:!B}}}});U(e)}}),[S,U,B]),z=Object(a.a)(Object(l.k)(t)),G=z[0],H=z[1];Object(r.useEffect)((function(){if(!(H&&H.error||!G||G.type!==s.PubsubMessageType.CelebrationInitiated)){var e=G.data;e.benefactor_name!==E&&D((function(t){return Object(i.__spreadArrays)(t,[Object(i.__assign)({},e)])}))}}),[G,H,D,E]);var W=r.useCallback((function(e){R(),T({offerId:e,eventId:Object(u.b)()})}),[T,R]);Object(r.useEffect)((function(){var e,t,n;if(!M&&!F&&_.offerId&&(null===(e=null==L?void 0:L.user)||void 0===e?void 0:e.subscriptionProducts)&&(null===(n=null===(t=null==L?void 0:L.user)||void 0===t?void 0:t.self)||void 0===n?void 0:n.celebrationProducts)){var r=Object(g.i)(L.user),a=Object(g.k)(_.offerId,L.user.self.celebrationProducts),o=setTimeout((function(){D((function(e){var t;return Object(i.__spreadArrays)(e,[{emotes:r,event_id:_.eventId,celebration:{celebration_id:Object(u.b)(),enabled:!0,event_type:d.L.UNKNOWN,event_threshold:1,effect:d.K.FIREWORKS,area:d.J.EVERYWHERE,intensity:a,duration_milliseconds:g.d},benefactor_name:E||"",amount:1,primary_color_hex:(null===(t=null==L?void 0:L.user)||void 0===t?void 0:t.primaryColorHex)||""}])})),T(b())}),g.c);return function(){clearTimeout(o)}}}),[D,T,E,_,L,F,M]),r.useEffect((function(){return Object(g.n)(W),function(){Object(g.q)(W)}}),[W]),Object(r.useEffect)((function(){return document.addEventListener("visibilitychange",Q),function(){document.removeEventListener("visibilitychange",Q)}}));var q=r.useCallback((function(){D((function(e){return Object(i.__spreadArrays)(e.slice(1))}))}),[]),Q=r.useCallback((function(){D([])}),[]),Y={channelID:t,celebrations:O,popCelebration:q,isOptedOut:B,updateOptOut:V};return r.createElement(y.Provider,{value:Y,children:k})}var S=n("4rCz"),E=n("Ys90"),C=n("i8i4"),O=n("KxXQ");function D(e){var t=e.children;return O.a.current?C.createPortal(t,O.a.current):null}var P=n("sDuP");function _(e){var t=e.children;return P.a.current?C.createPortal(t,P.a.current):null}var T=n("FCKE");function N(e){var t=e.children;return T.a.current?C.createPortal(t,T.a.current):null}var w=n("4l7P"),j=function(){var e=Object(g.g)(),t=Object(r.useState)(!1),n=t[0],i=t[1],a=Object(r.useState)(!1),o=a[0],s=a[1],c=Object(r.useContext)(y),l=c.celebrations[0],u=Object(r.useContext)(w.b);Object(r.useEffect)((function(){if(S.b.get("celebi_stream_delay",!1)&&l){var e=u.getMainPlayerMetadata().latencyToBroadcaster||0;i(!0);var t=setTimeout((function(){return i(!1)}),e);return function(){return clearTimeout(t)}}}),[l,i,u]);var m=Object(r.useCallback)((function(){c.popCelebration(),s(!0);var t=setTimeout((function(){return s(!1)}),e.throttle);return function(){return clearTimeout(t)}}),[s,c,e.throttle]);if(!l||n||o||c.isOptedOut)return null;var p=r.createElement(E.a,{key:l.celebration.celebration_id,animationID:l.celebration.celebration_id,effect:l.celebration.effect,intensity:Object(g.o)(l.celebration.intensity),duration:l.celebration.duration_milliseconds,emotes:l.emotes,onAnimationEnd:m}),f=null;switch(l.celebration.area){case d.J.VIDEO_AND_PANEL:f=r.createElement(_,null,p);break;case d.J.VIDEO_ONLY:f=r.createElement(N,null,p);break;case d.J.EVERYWHERE:default:f=r.createElement(D,null,p)}return f},I=function(e){var t=e.channelID,n=e.channelLogin,i=e.children;return r.createElement(k,{channelID:t,channelLogin:n},r.createElement(j,null),i)},x=n("TSYQ"),R=n("/MKj"),A=n("/7QA"),M=n("8/mp"),F=n("8XDC"),L=n("kRBY"),B=n("RWo/"),U=r.createRef(),V=n("dfHF"),z=n("OCDW"),G=n("Yegi"),H=n("NbjQ"),W=n("uq9l"),q=function(){var e=r.useContext(y),t=e.isOptedOut,n=e.updateOptOut;return r.createElement(z.a,{padding:{top:1,bottom:.5},display:G.h.Flex,flexDirection:G.i.Row},r.createElement(H.a,{checked:!t,onChange:n}),r.createElement(z.a,{padding:{left:1}},r.createElement(W.a,{id:"celebrations-opt-out-toggle"},Object(A.d)("Show full animation","CelebrationsHighlight"))))};function Q(e){var t=e.children;return U.current?C.createPortal(t,U.current):null}var Y,K=n("LNol"),J=n("Ix37"),X=function(e){var t=e.intensity,n=e.displayName,i=e.effect,a=e.playingAnimation,o=e.onAnimationEnd,s=e.emotes,c=r.useContext(y).isOptedOut;return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},c&&a&&r.createElement(Q,null,r.createElement(E.a,{animationID:Object(u.b)(),effect:i,intensity:Object(g.o)(t),duration:2e4,emotes:s,emoteHeight:5,emoteWidth:5,onAnimationEnd:o})),r.createElement(K.a,{type:K.b.Brand,asset:J.a.Celebration}),r.createElement(z.a,{padding:{left:1}},r.createElement(W.a,null,Object(A.d)("<x:bold>{userName}</x:bold> launched an Emote {effect} in the channel!",{"x:bold":function(e){return r.createElement(W.a,{type:W.e.Span,bold:!0},e)},userName:n,effect:Object(g.j)(i)},"CelebrationsHighlight"))))},Z=function(e){var t=e.intensity,n=e.effect,i=e.displayName,a=r.useMemo((function(){var e=[];return g.b.forEach((function(t){return e.push(t)})),e}),[]),o=r.useState(!1),s=o[0],c=o[1],l=r.useCallback((function(){return c(!1)}),[]),u=r.useRef(0);return r.useEffect((function(){u.current!==t&&(u.current=t,c(!0))}),[t]),r.createElement(X,{intensity:t,effect:n,displayName:i,playingAnimation:s,onAnimationEnd:l,emotes:a})},$=function(e){var t=e.eventData,n=e.visible,i=e.expanded,a=e.toggleExpanded,o=e.removeHighlight,s=r.useContext(y).popCelebration,c=r.useMemo((function(){return r.createElement(Z,{displayName:t.celebrationUserDisplayName,effect:t.effect,intensity:t.intensity})}),[t]),l=r.useMemo((function(){return r.createElement(q,null)}),[]),u=r.useCallback((function(){s(),o()}),[s,o]);return r.createElement(V.a,{header:c,expandable:!0,expanded:i,toggleExpanded:a,progressBar:{duration:20,onDurationEnd:u},visible:n},l)},ee=n("ANjH"),te=n("yR8l"),ne=n("1/iK"),ie=n("XDCx"),re=n("y5D0"),ae=n("YV90"),oe=n("EgE3"),se=n("Owek"),ce=n("RBh2"),le=n("i5+p"),ue=n("q0CL"),de=n("5e0Q"),me=n("NAv5"),pe=n("+cHD"),fe=n("gq8D"),he=n("Mg72"),ve=function(e){var t=Object(le.e)(e.poll.status),n=e.poll.choices.slice(),i=null;return t&&(n=n.sort((function(e,t){return e.votes.total>t.votes.total?-1:e.votes.total<t.votes.total?1:0})),i=n[0].votes.total),e.winnersOnly&&(n=n.filter((function(e){return i===e.votes.total}))),r.createElement(fe.a,{duration:he.c.Long},n.map((function(n,a){var o=null!==i&&i===n.votes.total,s=!e.multiSelectEnabled&&!(!e.voter||e.voter.choices[0].id===n.id)||e.disabled,c=e.selectedChoiceID===n.id;return r.createElement(z.a,{key:n.id,margin:{top:0===a?0:.5}},r.createElement(pe.a,{choiceID:n.id,choiceTitle:n.title,amountVoted:n.votes.total,amountTotal:e.poll.votes.total,onClick:e.onChoiceClick,selected:c,success:t&&o&&!!i,selectable:!t&&!s,disabled:s||e.voteInProgress,showSelfVoteAnimation:c&&e.showSelfVoteAnimation,selfVoteAnimationComplete:e.selfVoteAnimationComplete}))})))},ge=n("p9bs"),be=n("swlv"),ye=n("7JTj"),ke=n("6tZN"),Se=n("Njy6"),Ee=n("B/q4"),Ce=Object(ee.d)(Object(se.b)((function(e){return{topBitsContributor:e.topBitsContributor,topCommunityPointsContributor:e.topCommunityPointsContributor}})))((function(e){return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column},r.createElement(Se.a,{topBitsContributor:e.topBitsContributor}),r.createElement(Ee.a,{topCommunityPointsContributor:e.topCommunityPointsContributor}))})),Oe=n("A4KW"),De=n("nAiT"),Pe=n("E1Lb"),_e=n("XlLD"),Te=n("F+KF"),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showVoteDialogAgain:!1},t.renderCost=function(){switch(t.props.type){case Y.ChannelPoints:return r.createElement(z.a,{fontSize:G.k.Size4,fontWeight:G.l.SemiBold},Object(S.d)("Voting again will cost you <x:strong>{cost} {pointName}</x:strong>",{"x:strong":function(e){return r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,justifyContent:G.m.Center},e)},cost:r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,margin:{right:.5}},r.createElement(z.a,{margin:{x:.5}},r.createElement(Oe.b,null)),Object(S.f)(t.props.cost)),pointName:t.props.pointName||Object(De.c)()},"Polls--VoteAgainDialog"));case Y.Bits:return r.createElement(z.a,{fontSize:G.k.Size4,fontWeight:G.l.SemiBold},Object(S.d)("Voting again will cost you {bits}",{bits:r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,justifyContent:G.m.Center},r.createElement(Pe.a,{asset:J.a.Bits}),Object(S.f)(t.props.cost))},"Polls--VoteAgainDialog"));default:return null}},t.onConfirm=function(){t.props.onConfirm&&t.props.onConfirm(t.state.showVoteDialogAgain)},t.onDontShowAgain=function(){t.setState((function(e){return{showVoteDialogAgain:!e.showVoteDialogAgain}}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(_e.a,null,r.createElement(z.a,{position:G.o.Absolute,background:G.d.Overlay,display:G.h.Flex,flexDirection:G.i.Column,alignItems:G.b.Center,justifyContent:G.m.Center,padding:2,fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0,zIndex:G.t.Above},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,alignItems:G.b.Center},this.renderCost()),r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,margin:{y:2}},r.createElement(de.a,{type:de.d.Secondary,onClick:this.props.onCancel},Object(S.d)("Nevermind","Polls--ViewerPoll")),r.createElement(z.a,{margin:{left:1}},r.createElement(de.a,{onClick:this.onConfirm,overlay:!1},Object(S.d)("Got it","Polls--ViewerPoll")))),r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center},r.createElement(Te.a,{label:"",onChange:this.onDontShowAgain,checked:!this.state.showVoteDialogAgain,overlay:!1}),r.createElement(z.a,{margin:{left:1}},r.createElement(W.a,{color:G.f.Overlay},Object(S.d)("Don't show this again","Polls--ActiveViewerPollWidget"))))))},t}(r.PureComponent),we=function(e){var t=e.cost,n=e.disabled,i=e.onClick,a=e.state,o=e.type,s=Object(A.d)("Vote","Polls--ChannelPoll");return r.createElement(z.a,{margin:{right:.5}},r.createElement(de.a,{"aria-label":function(){switch(o){case Y.ChannelPoints:return Object(A.d)("Vote with Channel Points","Polls--ViewerPoll");case Y.Bits:return Object(A.d)("Vote with Bits","Polls--ViewerPoll");case Y.Primary:default:return""}}(),disabled:n,onClick:i,state:a||de.c.Default},r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center},s,function(){switch(o){case Y.Bits:return r.createElement(z.a,{margin:{x:.5},display:G.h.Flex},r.createElement(Pe.a,{asset:J.a.Bits}));case Y.ChannelPoints:return r.createElement(z.a,{margin:{x:.5},display:G.h.Flex},r.createElement(Oe.b,null));case Y.Primary:default:return null}}(),t&&Object(A.f)(t))))};n("NC8R");!function(e){e.Primary="primary",e.Bits="bits",e.ChannelPoints="channel-points"}(Y||(Y={}));var je,Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedChoiceID:null,showVoteBitsDialog:!1,showVoteChannelPointsDialog:!1,showDropdownMenu:!1},t.renderBody=function(){var e=t.props,n=e.viewablePoll,i=e.selfVoter,a=e.isChatBanned,o=Object(le.e)(n.status),s=n.votes.total,c=!(!(t.props.user&&i&&i.votes.base>0)||n.settings.bitsVotes.isEnabled||n.settings.communityPointsVotes.isEnabled),l=n&&n.ownedBy&&n.ownedBy.id;if(t.props.expanded){var u=t.props.primaryButtonState===de.c.Loading||t.props.bitsButtonState===de.c.Loading||t.props.channelPointsButtonState===de.c.Loading;return r.createElement(z.a,{margin:{top:1}},r.createElement(ve,{poll:n,voter:i,selectedChoiceID:t.state.selectedChoiceID,onChoiceClick:t.onChoiceClick,disabled:a,showSelfVoteAnimation:t.props.showSelfVoteAnimation,selfVoteAnimationComplete:t.props.selfVoteAnimationComplete,multiSelectEnabled:n.settings.multichoice.isEnabled&&!c,voteInProgress:u}),!o&&r.createElement(z.a,{margin:{top:1}},t.renderVoteButtons()),o&&l&&r.createElement(Ce,null))}return o&&s?r.createElement(z.a,{margin:{top:1}},r.createElement(ve,{poll:n,voter:i,selectedChoiceID:t.state.selectedChoiceID,winnersOnly:!0}),l&&r.createElement(Ce,null)):null},t.renderVoteButtons=function(){var e=t.props,n=e.channelLogin,i=e.viewablePoll,a=e.user,o=e.selfVoter,s=e.isChatBanned,c=e.primaryButtonState,l=e.bitsButtonState,u=e.channelPointsButtonState,d=e.voteError,m=t.state.selectedChoiceID,p=!1,f=null,h=a&&a.login===n,v=o&&o.votes.base>0,g=h||!i.settings.bitsVotes.isEnabled&&!i.settings.communityPointsVotes.isEnabled;v&&g&&(p=!0,f=Object(S.d)("Voted!","Polls--ChannelPoll")),s?(p=!0,f=Object(S.d)("You are chat banned.","Polls--ViewerPoll")):d&&!m?f=Object(S.d)("Select an option to vote.","Polls--ViewerPoll"):d&&(f=t.getErrorMessage());var b=v&&!h&&i.settings.bitsVotes.isEnabled,y=v&&!h&&i.settings.communityPointsVotes.isEnabled;return r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,flexWrap:G.j.Wrap},r.createElement("div",{onClick:t.stopPropagation},r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center},(!v||g)&&r.createElement(we,{disabled:p,onClick:t.onVoteButtonClick,state:c,type:Y.Primary}),b&&r.createElement(we,{cost:i.settings.bitsVotes.cost,disabled:p,onClick:t.onVoteBitsButtonClick,state:l,type:Y.Bits}),y&&r.createElement(we,{cost:i.settings.communityPointsVotes.cost,disabled:p,onClick:t.onVoteChannelPointsButtonClick,state:u,type:Y.ChannelPoints}))),r.createElement(z.a,{padding:{top:.5}},r.createElement(W.a,{className:"channel-poll__description-text",color:d||s?G.f.Error:G.f.Alt2},f)))},t.onDismissButtonIconClick=function(){var e=t.props,n=e.viewablePoll,i=e.user;Object(le.h)(n.id,i&&i.id||null,!0),t.props.onDismissButtonClick()},t.onChoiceClick=function(e){t.setState({selectedChoiceID:e})},t.stopPropagation=function(e){e.stopPropagation()},t.onVoteButtonClick=function(){t.props.onVoteButtonClick(t.state.selectedChoiceID,Y.Primary)},t.onVoteBitsButtonClick=function(){var e=t.props,n=e.viewablePoll,i=e.user;t.state.showVoteBitsDialog||!Object(le.d)(n.id,i&&i.id||null,Y.Bits)?t.props.onVoteButtonClick(t.state.selectedChoiceID,Y.Bits):t.setState({showVoteBitsDialog:!0})},t.onVoteChannelPointsButtonClick=function(){var e=t.props,n=e.viewablePoll,i=e.user;t.state.showVoteChannelPointsDialog||!Object(le.d)(n.id,i&&i.id||null,Y.ChannelPoints)?t.props.onVoteButtonClick(t.state.selectedChoiceID,Y.ChannelPoints):t.setState({showVoteChannelPointsDialog:!0})},t.onVoteBitsDialogConfirm=function(e){var n=t.props,i=n.viewablePoll,r=n.user;Object(le.i)(i.id,r&&r.id||null,Y.Bits,e),t.setState({showVoteBitsDialog:!1}),t.props.onVoteButtonClick(t.state.selectedChoiceID,Y.Bits)},t.onVoteChannelPointsDialogConfirm=function(e){var n=t.props,i=n.viewablePoll,r=n.user;Object(le.i)(i.id,r&&r.id||null,Y.ChannelPoints,e),t.setState({showVoteChannelPointsDialog:!1}),t.props.onVoteButtonClick(t.state.selectedChoiceID,Y.ChannelPoints)},t.onVoteBitsDialogCancel=function(){t.setState({showVoteBitsDialog:!1})},t.onVoteChannelPointsDialogCancel=function(){t.setState({showVoteChannelPointsDialog:!1})},t.onReportDropDownMenuItemClick=function(e){e.stopPropagation(),t.props.onReportButtonClick()},t.onHighlightCardClick=function(){t.props.trackPollsClientInteraction(t.props.expanded?ce.a.Collapse:ce.a.Expand),t.setState({showVoteBitsDialog:!1,showVoteChannelPointsDialog:!1}),t.props.toggleExpanded()},t.closeDropdownMenu=function(){t.setState({showDropdownMenu:!1})},t.toggleDropdownMenu=function(e){e.stopPropagation(),t.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{showDropdownMenu:!e.showDropdownMenu})}))},t.getErrorMessage=function(){var e=t.props,n=e.viewablePoll,i=e.bitsBalance,r=e.channelPointsBalance,a=e.voteErrorCode,o=Object(S.d)("Something went wrong.","Polls--ViewerPoll");switch(a){case d.Nf.RATE_LIMITED:o=Object(S.d)("You're voting too fast!","Polls--ViewerPoll");break;case d.Nf.INSUFFICIENT_BITS_BALANCE:o=Object(S.d)("{diff, plural, one {You need {diffFormatted} more Bits to vote.} other {You need {diffFormatted} more Bits to vote.}}",{diff:n.settings.bitsVotes.cost-i,diffFormatted:Object(S.f)(n.settings.bitsVotes.cost-i)},"Polls--ViewerPoll");break;case d.Nf.INSUFFICIENT_COMMUNITY_POINTS_BALANCE:o=Object(S.d)("{diff, plural, one {You need {diffFormatted} more Channel Point to vote.} other {You need {diffFormatted} more Channel Points to vote.}}",{diff:n.settings.communityPointsVotes.cost-r,diffFormatted:Object(S.f)(n.settings.communityPointsVotes.cost-r)},"Polls--ViewerPoll");break;case d.Nf.SELF_BITS_VOTE_NOT_ALLOWED:o=Object(S.d)("You cant use Bits on your own poll","Polls--NewPollModal")}return o},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackPolls()},t.prototype.render=function(){var e=this,t=this.props.viewablePoll,n=Object(le.e)(t.status);return r.createElement(z.a,{position:G.o.Relative},r.createElement(V.a,{expandable:!0,progressBar:n?void 0:{duration:t.durationSeconds,durationRemaining:t.remainingDurationMilliseconds/1e3},expanded:n||this.props.expanded,toggleExpanded:this.onHighlightCardClick,visible:this.props.visible,onClick:this.props.onClick,dismissable:n,onDismiss:this.onDismissButtonIconClick,header:r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center},r.createElement(z.a,{flexGrow:1,overflow:G.n.Hidden},r.createElement(ge.a,{status:t.status,title:t.title,truncated:!this.props.expanded})),r.createElement(z.a,{padding:{left:1}},r.createElement(be.a,{icon:J.a.More,"aria-label":"",onClick:this.toggleDropdownMenu,refHandler:function(t){return e.anchorRef=t}}),r.createElement(ye.a,{show:this.state.showDropdownMenu,anchorRef:this.anchorRef,onRequestClose:this.closeDropdownMenu},r.createElement(ke.a,{label:Object(S.d)("Report Poll","Polls--ViewerPoll"),onClick:this.onReportDropDownMenuItemClick}))))},this.renderBody()),this.state.showVoteBitsDialog&&r.createElement(Ne,{cost:t.settings.bitsVotes.cost,onConfirm:this.onVoteBitsDialogConfirm,onCancel:this.onVoteBitsDialogCancel,type:Y.Bits}),this.state.showVoteChannelPointsDialog&&r.createElement(Ne,{cost:t.settings.communityPointsVotes.cost,onConfirm:this.onVoteChannelPointsDialogConfirm,onCancel:this.onVoteChannelPointsDialogCancel,type:Y.ChannelPoints,pointName:this.props.pointName}))},t.prototype.trackPolls=function(){var e=this.props,t=e.viewablePoll,n=e.user;if(t.ownedBy){var i=Object(me.parse)(t.startedAt),r=Object(me.addSeconds)(i,t.durationSeconds),a=Math.max(Object(me.differenceInSeconds)(r,new Date),0);Object(ce.d)({userID:n&&n.id,channelID:t.ownedBy.id,pollID:t.id,totalResponses:t.choices.length,bitsPerVote:t.settings.bitsVotes.cost,communityPointsPerVote:t.settings.communityPointsVotes.cost,pollDurationSecondsRemaining:a}),Object(ce.c)({userID:n&&n.id,pollID:t.id,serverTimeRemaining:t.remainingDurationMilliseconds,pollStartTime:t.startedAt,pollDuration:t.durationSeconds})}},t}(r.Component),xe=n("beC6"),Re=2e3,Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={primaryButtonState:null,bitsButtonState:null,channelPointsButtonState:null,voteError:!1,voteErrorCode:null,showSelfVoteAnimation:!1},t.selectChoiceErrorTimer=null,t.onReportButtonClick=function(){var e=t.props,n=e.viewablePoll,i=e.data;if(!(n&&n.createdBy&&n.ownedBy&&i.channel&&i.channel.displayName))return null;t.props.user?t.props.showReportUserModal({reportContext:{contentType:d.fe.POLL_REPORT,targetUserID:n.createdBy.id,contentID:n.id,extra:JSON.stringify({channel_id:n.ownedBy.id.toString()})},title:Object(S.d)("Report {channelDisplayName}'s Poll",{channelDisplayName:i.channel.displayName},"ViewerPoll")}):t.props.showLoginModal()},t.onDismissButtonClick=function(){t.props.removeHighlight()},t.validateVote=function(e,n){void 0===e&&(e=null);var i=t.props,r=i.viewablePoll,a=i.user,o=i.showLoginModal;return!!r&&(a?null===e?(t.setState({voteError:!0,voteErrorCode:null}),t.clearSelectChoiceErrorTimer(),t.selectChoiceErrorTimer=setTimeout((function(){t.selectChoiceErrorTimer=null,t.setState({voteError:!1,voteErrorCode:null})}),Re),!1):n===Y.Bits&&t.props.bitsBalance<r.settings.bitsVotes.cost?(t.setState({voteError:!0,voteErrorCode:d.Nf.INSUFFICIENT_BITS_BALANCE}),!1):!(n===Y.ChannelPoints&&t.props.channelPointsBalance<r.settings.communityPointsVotes.cost)||(t.setState({voteError:!0,voteErrorCode:d.Nf.INSUFFICIENT_COMMUNITY_POINTS_BALANCE}),!1):(n!==Y.Primary&&S.l.warn("encountered logged out user when voting again"),o(),!1))},t.onVoteButtonClick=function(e,n){return void 0===e&&(e=null),Object(i.__awaiter)(t,void 0,void 0,(function(){var t,r,a,o;return Object(i.__generator)(this,(function(i){return t=this.props,r=t.viewablePoll,a=t.user,this.validateVote(e,n)?(o=null,n===Y.Bits?o={bits:r.settings.bitsVotes.cost,channelPoints:0}:n===Y.ChannelPoints&&(o={bits:0,channelPoints:r.settings.communityPointsVotes.cost}),this.voteInPoll({pollID:r.id,choiceID:e,userID:a.id,voteID:Object(u.c)(),tokens:o},n),[2]):[2]}))}))},t.getButtonStateFromType=function(e){switch(e){case Y.Bits:return"bitsButtonState";case Y.ChannelPoints:return"channelPointsButtonState";default:return"primaryButtonState"}},t.voteInPoll=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,r,a,o;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:if(!this.props.voteInPoll)return[2];this.trackPollsClientInteraction(ce.a.Vote,n),t=this.getButtonStateFromType(n),this.setState((function(e){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t]=de.c.Loading,n))})),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.props.voteInPoll(Object(c.a)(e))];case 2:return(r=s.sent()).data.voteInPoll&&r.data.voteInPoll.error?(this.clearSelectChoiceErrorTimer(),a=r.data.voteInPoll.error.code,this.setState((function(e){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={voteError:!0,voteErrorCode:a})[t]=de.c.Default,n))})),[2]):(n===Y.ChannelPoints&&this.trackChannelPointsSpendOnPolls(),this.setState({voteError:!1,voteErrorCode:null,showSelfVoteAnimation:!0}),[3,4]);case 3:return o=s.sent(),S.l.warn(o,"Failed to perform vote"),this.clearSelectChoiceErrorTimer(),this.setState({voteError:!0,voteErrorCode:null}),[3,4];case 4:return this.setState((function(e){var n;return Object(i.__assign)(Object(i.__assign)({},e),((n={})[t]=de.c.Default,n))})),[2]}}))}))},t.selfVoteAnimationComplete=function(){t.setState({showSelfVoteAnimation:!1})},t.trackPollsClientInteraction=function(e,n){var i=t.props,r=i.viewablePoll,a=i.user,o=i.data;if(o.channel&&o.channel.id&&r){var s=n===Y.Bits?r.settings.bitsVotes.cost:0,c=n===Y.ChannelPoints?r.settings.communityPointsVotes.cost:0;Object(ce.e)({userID:a&&a.id,channelID:o.channel.id,pollID:r.id,action:e,actionSource:ce.b.PollInput,bitsSpent:s,communityPointsSpent:c})}},t.trackChannelPointsSpendOnPolls=function(){var e=t.props,n=e.viewablePoll,i=e.data;i.channel&&i.channel.id&&n&&Object(oe.s)({channelID:i.channel.id,channelLogin:i.channel.login||"",poll:n})},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.viewablePoll&&t.voteError&&e.bitsBalance<this.props.viewablePoll.settings.bitsVotes.cost&&this.props.bitsBalance>=this.props.viewablePoll.settings.bitsVotes.cost&&this.setState({voteError:!1})},t.prototype.render=function(){var e=this.props,t=e.viewablePoll,n=e.selfVoter,i=e.user,a=e.data;return!t||a.loading||a.error||!a.channel?null:Object(le.f)(t.status)?r.createElement(Ie,{channelLogin:a.channel.login,bitsBalance:this.props.bitsBalance,channelPointsBalance:this.props.channelPointsBalance,pointName:this.props.pointName,viewablePoll:t,isChatBanned:a.channel.self&&a.channel.self.banStatus&&a.channel.self.banStatus.isPermanent||!1,selfVoter:n,showSelfVoteAnimation:this.state.showSelfVoteAnimation,user:i,primaryButtonState:this.state.primaryButtonState,bitsButtonState:this.state.bitsButtonState,channelPointsButtonState:this.state.channelPointsButtonState,voteError:this.state.voteError,voteErrorCode:this.state.voteErrorCode,onReportButtonClick:this.onReportButtonClick,onVoteButtonClick:this.onVoteButtonClick,onDismissButtonClick:this.onDismissButtonClick,selfVoteAnimationComplete:this.selfVoteAnimationComplete,key:t.id,trackPollsClientInteraction:this.trackPollsClientInteraction,expanded:this.props.expanded,toggleExpanded:this.props.toggleExpanded,visible:this.props.visible,onClick:this.props.onClick}):null},t.prototype.clearSelectChoiceErrorTimer=function(){this.selectChoiceErrorTimer&&(clearTimeout(this.selectChoiceErrorTimer),this.selectChoiceErrorTimer=null)},t}(r.Component),Me=Object(ee.d)(Object(R.b)((function(e){return{user:Object(L.e)(e)}}),(function(e){return Object(ee.b)({showLoginModal:function(){return Object(re.e)(ne.a.ChannelPoll)},showReportUserModal:function(e){var t=Object(i.__rest)(e,[]);return Object(ie.e)(ue.ReportUserModal,t)}},e)})),Object(se.b)((function(e){return{viewablePoll:e.viewablePoll,selfVoter:e.selfVoter,voteInPoll:e.voteInPoll,bitsBalance:e.bitsBalance}})),Object(ae.b)((function(e){return{pointName:e.pointName,channelPointsBalance:e.balance}})),Object(te.a)(xe,{skip:function(e){return!e.viewablePoll||!e.viewablePoll.ownedBy},options:function(e){return{variables:{channelID:e.viewablePoll.ownedBy.id}}}}))(Ae),Fe=n("BmOg"),Le=n("JiyE"),Be=n("IyK4"),Ue=n("qaaX"),Ve=n("p9DJ");n("vcVl");!function(e){e.Heading="community-boost-highlight-body__title",e.Description="community-boost-highlight-body__description",e.GoalTarget="community-boost-highlight-body__goalTarget",e.Link="community-boost-highlight-body__link"}(je||(je={}));var ze,Ge,He=function(e){var t=e.goalTarget;return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,alignItems:G.b.Start,color:G.f.Alt,fontSize:G.k.Size6,margin:{top:1}},t&&r.createElement(W.a,{"data-test-selector":je.GoalTarget,fontSize:G.k.Size6,className:"community-boost-highlight-body--goal-target"},Object(A.d)("{goalTarget, plural, one {Goal: Promote {goalTargetFormatted} time} other {Goal: Promote {goalTargetFormatted} times}}",{goalTarget:t,goalTargetFormatted:Object(A.f)(t)},"CommunityBoostHighlightBody")),t&&r.createElement(W.a,{fontSize:G.k.Size7,"data-test-selector":je.Description},Object(A.d)("{goalTarget, plural, one {You did it chat! Were now boosting this stream {goalTargetFormatted} time on Twitch. More people can discover this stream on the homepage and other high visibility areas on Twitch. Track the progress of the boost here.} other {You did it chat! Were now boosting this stream {goalTargetFormatted} times on Twitch. More people can discover this stream on the homepage and other high visibility areas on Twitch. Track the progress of the boost here.}}",{goalTarget:t,goalTargetFormatted:Object(A.f)(t)},"CommunityBoostHighlightBody")),r.createElement(z.a,{display:G.h.Flex,fullWidth:!0,justifyContent:G.m.Center,alignItems:G.b.Center,margin:{y:.5}},r.createElement(Ve.a,{linkTo:Ue.c,"data-test-selector":je.Link,targetBlank:!0},Object(A.d)("More info","CommunityBoostHighlightBody"))))},We=n("4udP"),qe=n("RA3T"),Qe=n.n(qe),Ye=((ze={})[Fe.a.Started]=0,ze[Fe.a.Quarter]=25,ze[Fe.a.Half]=50,ze[Fe.a.ThreeQuarter]=75,ze[Fe.a.Ended]=100,ze),Ke=n("7Py2"),Je=n("JjwZ");n("ZRfM");!function(e){e.TitleWrapper="community-boost-highlight-first-frame__title_wrapper",e.Title="community-boost-highlight-first-frame__title",e.BoostStartedWrapper="community-boost-highlight-first-frame__boost_started_wrapper"}(Ge||(Ge={}));var Xe,Ze=function(e){var t=e.milestone,n=e.onDurationTimerComplete,i=Object(r.useRef)(),a=Object(r.useRef)(),o=Object(r.useState)(!1),s=o[0],c=o[1],l=Object(r.useState)(!1),u=l[0],d=l[1],m=t===Fe.a.Started?3e4:1e4;Object(r.useEffect)((function(){if(t===Fe.a.Started)return a.current=setTimeout((function(){c(!0)}),3e3),function(){clearTimeout(a.current)}}),[t]),Object(We.a)((function(){return i.current=setTimeout((function(){n()}),m),function(){clearTimeout(i.current)}}));var p=Object(r.useCallback)((function(){switch(t){case Fe.a.Quarter:case Fe.a.Half:case Fe.a.ThreeQuarter:return Object(A.d)("Boost goal {percentage}% reached",{percentage:Ye[t]},"CommunityBoostHighlightFirstFrame");case Fe.a.Started:return Object(A.d)("3-2-1 Liftoff!","CommunityBoostHighlightFirstFrame");case Fe.a.Ended:return Object(A.d)("Boost goal reached!","CommunityBoostHighlightFirstFrame");default:return Object(A.d)("Boost!","CommunityBoostHighlightFirstFrame")}}),[t]),f=t===Fe.a.Started?Ke.b.Default:Ke.b.Small;return r.createElement(z.a,{display:G.h.Flex,padding:{x:.5}},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,textAlign:G.q.Left,justifyContent:G.m.Center,overflow:G.n.Hidden,padding:{right:4}},r.createElement(Je.a,{className:"community-boost-highlight-first-frame--rocket",src:Qe.a,alt:Object(A.d)("Rocket Illustration","CommunityBoostHighlightFirstFrame")})),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,justifyContent:G.m.Center,flexGrow:1},r.createElement(Be.a,{color:G.f.Base},r.createElement(r.Fragment,null,r.createElement(he.a,{type:he.d.SlideOverTop,show:t!==Fe.a.Started||t===Fe.a.Started&&!s,onExitComplete:function(){d(!0)},"data-test-selector":Ge.TitleWrapper},r.createElement(Ke.a,{className:"community-boost-highlight-first-frame--title","data-test-selector":Ge.Title,size:f},p())),r.createElement(he.a,{type:he.d.Fade,show:u,"data-test-selector":Ge.BoostStartedWrapper},r.createElement(Ke.a,{size:f},Object(A.d)("Boost started!","CommunityBoostHighlightFirstFrame")))))))};n("pGjf");!function(e){e.Progress="community-boost-highlight-header__progress",e.Title="community-boost-highlight-header__title"}(Xe||(Xe={}));var $e,et=function(e){var t=e.expanded,n=e.milestone;return r.createElement(z.a,{display:G.h.Flex},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,flexGrow:1,textAlign:G.q.Left,overflow:G.n.Hidden},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},function(){var e=0;switch(n){case Fe.a.Quarter:e=1;break;case Fe.a.Half:e=2;break;case Fe.a.ThreeQuarter:e=3;break;case Fe.a.Ended:e=4;break;default:return[]}for(var t=[],i=1;i<=e;i++)t.push(r.createElement(z.a,{key:"rocket-{i}",className:"community-boost-highlight-header--rocket"},r.createElement(K.a,{asset:J.a.RocketFilled,width:10,height:10})));return t}()),r.createElement(Be.a,{color:G.f.Base},r.createElement(Ke.a,{ellipsis:!t,size:Ke.b.Small,wordBreak:W.g.BreakWord,"data-test-selector":Xe.Title},Object(A.d)("Boosting stream","CommunityBoostHighlightHeader")))),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,textAlign:G.q.Right,padding:{x:1}},r.createElement(W.a,{color:G.f.Alt,fontSize:G.k.Size6},Object(A.d)("Delivered","CommunityBoostHighlightHeader")),r.createElement(Be.a,{margin:{bottom:.5}},r.createElement(W.a,{color:G.f.Alt,fontWeight:G.l.SemiBold,fontSize:G.k.Size3,"data-test-selector":Xe.Progress},Ye[n]+"%"))))},tt=(n("Nxym"),Le.a.Purple8,function(e){var t=e.event,n=e.expanded,i=e.onClick,a=e.removeHighlight,o=e.toggleExpanded,s=e.visible,c=Object(r.useState)(!0),l=c[0],u=c[1],d=Object(r.useState)(!1),m=d[0],p=d[1],f=Object(r.useCallback)((function(){m||p(!0)}),[m]),h=Object(r.useCallback)((function(){o&&o()}),[o]),v=!l;return r.createElement(Be.a,{borderRadius:G.e.Large,overflow:l?G.n.Hidden:G.n.Auto},r.createElement("div",{className:x({"community-boost-highlight--purple-splash":l})},r.createElement(V.a,{visible:s,progressBar:function(){if(!l&&t.typeDetails!==Fe.a.Started)return{duration:120,onDurationEnd:f}}(),expandable:v,expanded:n&&v,toggleExpanded:h,dismissable:m,onDismiss:a,onClick:i,header:r.createElement(r.Fragment,null,l&&r.createElement(Ze,{milestone:t.typeDetails,onDurationTimerComplete:function(){t.typeDetails===Fe.a.Started&&a?a():(u(!1),t.typeDetails===Fe.a.Ended&&f())}}),!l&&t.typeDetails!==Fe.a.Started&&r.createElement(et,{expanded:n,milestone:t.typeDetails}))},n?r.createElement(He,{goalTarget:t.total_goal_target}):null)))}),nt=n("Oje4"),it=n("ilvU"),rt=n("uGUt"),at=n("FzaW"),ot=n("cFyR"),st=n("RHMS"),ct=n("M9Tn");!function(e){e.START="prediction-highlight-scroll-text-start",e.INFO="prediction-highlight-scroll-text-info",e.COMPLETE="prediction-highlight-scroll-text-complete"}($e||($e={}));var lt,ut=function(e){var t=e.prediction,n=e.onAnimationComplete,i=t.status,a=Object(r.useState)(function(){if([d.Jd.RESOLVE_PENDING,d.Jd.RESOLVED].includes(i))return $e.COMPLETE;var e=t.createdAt,n=new Date,r=new Date(e);return(n.getTime()-r.getTime())/1e3>300?$e.INFO:$e.START}()),o=a[0],s=a[1],c=Object(r.useCallback)((function(){s($e.INFO)}),[]),l=function(){switch(o){case $e.START:case $e.COMPLETE:return r.createElement(K.a,{asset:J.a.CrystalBall,height:40,width:40});case $e.INFO:default:return}},u=function(){var e;switch(o){case $e.START:return Object(A.d)("Prediction Started!","ChannelPredictionHighlightAnimation");case $e.INFO:return Object(A.d)("Win Channel Points if you make the correct prediction!","ChannelPredictionHighlightAnimation");case $e.COMPLETE:var n=null===(e=t.winningOutcome)||void 0===e?void 0:e.title;return Object(A.d)('Prediction result is "{result}"!',{result:n||""},"ChannelPredictionHighlightAnimation");default:return""}};return r.createElement(Be.a,{position:G.o.Absolute,borderRadius:G.e.Medium,zIndex:G.t.Above,fullHeight:!0,fullWidth:!0,overflow:G.n.Hidden,color:G.f.Overlay,attachTop:!0,attachLeft:!0},r.createElement(z.a,{background:G.d.Accent},function(){var e=n,i=ct.a.Short,a=0;switch(o){case $e.START:Object(st.b)(t)>=30&&(e=c);break;case $e.INFO:case $e.COMPLETE:default:i=ct.a.Long,a=60}return r.createElement(ct.b,{key:t.id+"-"+o,icon:l(),message:u(),postAnimationDelayMs:a,onComplete:e,duration:i})}()))},dt=n("BBJN"),mt=n("s+pF");n("yq66");!function(e){e.OutcomeTitle="community-prediction-highlight-body__outcome-title",e.OutcomePoints="community-prediction-highlight-body__outcome-points"}(lt||(lt={}));var pt,ft,ht=function(e){var t=e.prediction.outcomes;return r.createElement(z.a,{margin:{x:.5,y:1}},r.createElement(dt.a,null,r.createElement(mt.a,{cols:1},t.map((function(e,t){return r.createElement(W.a,{key:e.id},t+1+".")}))),r.createElement(mt.a,{cols:8},t.map((function(e){return r.createElement(W.a,{key:e.id,wordBreak:W.g.BreakWord,"data-test-selector":lt.OutcomeTitle},e.title)}))),r.createElement(mt.a,{cols:3},t.map((function(e){return r.createElement(z.a,{key:e.id,display:G.h.Flex,alignItems:G.b.Center,justifyContent:G.m.End,"data-test-selector":lt.OutcomePoints},r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,className:"community-prediction-highlight-body__icon"},r.createElement(Oe.b,{iconSize:Oe.a.XSmall})),r.createElement(W.a,null,Object(A.g)(e.totalPoints)))})))))},vt=n("LZV1"),gt=n("BvGO");!function(e){e.PREDICTION_NAME="PREDICTION_NAME",e.PREDICTION_OUTCOME="PREDICTION_OUTCOME",e.PREDICTION_RESOLVED_OUTCOME="PREDICTION_RESOLVED_OUTCOME"}(pt||(pt={})),function(e){e.ActionButton="community-prediction-highlight-header__action-button",e.Title="community-prediction-highlight-header__title",e.BalloonButton="community-prediction-highlight-header__button-icon",e.TopPredictors="community-prediction-highlight-header__top-predictors",e.HowToPlay="community-prediction-highlight-header__how-to-play",e.TermsAndConditions="community-prediction-highlight-header__terms-and-conditions",e.SendFeedback="community-prediction-highlight-header__send-feedback",e.DismissMessage="community-prediction-highlight-header__dismiss-message"}(ft||(ft={}));var bt,yt=function(e){var t,n=e.expanded,a=e.onButtonClick,o=e.prediction,s=e.removeHighlight,c=o.title,l=o.status,u=(null===(t=o.winningOutcome)||void 0===t?void 0:t.title)||"",m=Object(gt.a)(),p=m.dialogProps,f=m.anchorProps,h=m.close,v=Object(A.d)("How to Play","ChannelPredictionHighlightBody"),g=Object(A.d)("Terms & Conditions","ChannelPredictionHighlightBody"),b=Object(A.d)("Send Feedback","ChannelPredictionHighlightBody"),y=Object(A.d)("Dismiss This Message","ChannelPredictionHighlightBody"),k=Object(r.useCallback)((function(){return l===d.Jd.RESOLVED||l===d.Jd.RESOLVE_PENDING?pt.PREDICTION_RESOLVED_OUTCOME:pt.PREDICTION_NAME}),[l]),S=Object(r.useState)(k()),E=S[0],C=S[1];Object(r.useEffect)((function(){if(!n){var e=setInterval((function(){E!==pt.PREDICTION_RESOLVED_OUTCOME&&C(E===pt.PREDICTION_NAME?pt.PREDICTION_OUTCOME:pt.PREDICTION_NAME)}),4e3);return function(){return clearInterval(e)}}C(k())}),[E,n,k]);return r.createElement(z.a,{position:G.o.Relative,display:G.h.Flex},r.createElement(z.a,{overflow:G.n.Hidden,flexGrow:1},r.createElement(z.a,null,r.createElement(W.a,{fontSize:G.k.Size8,ellipsis:!0,color:G.f.Alt,"data-test-selector":ft.Title},E===pt.PREDICTION_RESOLVED_OUTCOME?Object(A.d)("{predictionTitle}? {predictionResult}",{predictionTitle:c,predictionResult:u},"ChannelPredictionHighlightBody"):Object(A.d)("Predict with Channel Points","ChannelPredictionHighlightBody"))),r.createElement(Be.a,{overflow:G.n.Hidden},r.createElement(fe.a,{transitionType:[he.d.SlideOverBottom,he.d.SlideOverTop]},function(){switch(E){case pt.PREDICTION_NAME:return r.createElement(z.a,{overflow:G.n.Hidden,key:E},r.createElement(Ke.a,{size:Ke.b.Small,ellipsis:!n,wordBreak:W.g.BreakWord},c));case pt.PREDICTION_OUTCOME:return r.createElement(z.a,{display:G.h.Flex,key:E},o.outcomes.map((function(e,t){return r.createElement(z.a,{key:e.id,display:G.h.Flex},r.createElement(Oe.b,{iconSize:Oe.a.Medium}),r.createElement(z.a,{margin:{left:.5}},r.createElement(Ke.a,{type:W.e.Span,size:Ke.b.Small},Object(A.g)(e.totalPoints,{maximumFractionDigits:1}))),t<o.outcomes.length-1&&r.createElement(z.a,{display:G.h.Inline,margin:{x:1}},r.createElement(Ke.a,{type:W.e.Span,size:Ke.b.Small},Object(A.d)("vs","ChannelPredictionHighlightBody"))))})));case pt.PREDICTION_RESOLVED_OUTCOME:return o.winningOutcome?r.createElement(z.a,{display:G.h.Flex,fullWidth:!0,key:E,overflow:G.n.Hidden},r.createElement(Ke.a,{size:Ke.b.Small,ellipsis:!n,wordBreak:W.g.BreakWord,"data-test-selector":ft.TopPredictors},Object(vt.a)(o.outcomes,o.winningOutcome,Oe.a.Small,!0))):(A.k.errorAndReport(new Error("Resolved prediction event with no winning outcome"),"Tried to render a resolved prediction highlight event with no winning outcome",o),null);default:return null}}()))),r.createElement(z.a,{display:G.h.Flex,margin:{top:.5,left:.5}},r.createElement(de.a,{onClick:function(e){e.stopPropagation(),a()},"data-test-selector":ft.ActionButton},o.status===d.Jd.ACTIVE?Object(A.d)("Predict","ChannelPredictionHighlightBody"):Object(A.d)("See Details","ChannelPredictionHighlightBody")),r.createElement("div",{ref:f.ref,onClick:function(e){e.stopPropagation()}},r.createElement(be.a,Object(i.__assign)({},f,{icon:J.a.More,"aria-label":Object(A.d)("More Option","ChannelPredictionHighlightBody"),onClick:f.onClick,"data-test-selector":ft.BalloonButton})),r.createElement(ye.a,Object(i.__assign)({},p,{onRequestClose:h}),r.createElement(ke.a,{figure:{icon:J.a.QuestionMark},label:v,"aria-label":v,onClick:function(){window.open("https://help.twitch.tv/s/article/channel-points-predictions","_blank")},"data-test-selector":ft.HowToPlay}),r.createElement(ke.a,{figure:{icon:J.a.Document},label:g,"aria-label":g,onClick:function(){window.open("https://www.twitch.tv/p/legal/predictions-terms-and-conditions/","_blank")},"data-test-selector":ft.TermsAndConditions}),r.createElement(ke.a,{figure:{icon:J.a.Popout},label:b,"aria-label":b,onClick:function(){window.open("https://twitch.uservoice.com/forums/932221-channel-points?category_id=396184","_blank")},"data-test-selector":ft.SendFeedback}),r.createElement(ke.a,{figure:{icon:J.a.Close},label:y,"aria-label":y,onClick:s,"data-test-selector":ft.DismissMessage})))))},kt=function(e){var t=e.event,n=e.expanded,i=e.onClick,a=e.removeHighlight,o=e.toggleExpanded,s=e.viewUUID,c=e.visible,l=Object(r.useContext)(at.c).predictionsMap,u=Object(r.useContext)(ot.b).openReward,m=l[t.predictionID],p=Object(F.a)(m),f=Object(r.useState)(!function(){if(!m)return!1;switch(m.status){case d.Jd.ACTIVE:return Object(st.b)(m)>=5;case d.Jd.RESOLVE_PENDING:case d.Jd.RESOLVED:return!0;default:return!1}}()),h=f[0],v=f[1];Object(r.useEffect)((function(){if(m)switch(m.status){case d.Jd.CANCEL_PENDING:case d.Jd.CANCELED:a();break;case d.Jd.RESOLVE_PENDING:case d.Jd.RESOLVED:p&&p.status!==d.Jd.RESOLVE_PENDING&&p.status!==d.Jd.RESOLVED&&v(!1);break;default:return}}),[m,p,a]);var g=Object(r.useCallback)((function(){v(!0)}),[]),b=Object(r.useCallback)((function(){i&&i(),h?o():u({reward:m,viewUUID:s})}),[h,i,u,m,o,s]),y=Object(r.useCallback)((function(){i&&i(),n&&o(),u({reward:m,viewUUID:s})}),[n,o,i,u,m,s]),k=Object(r.useCallback)((function(){if(h&&m)return m.status===d.Jd.RESOLVE_PENDING||m.status===d.Jd.RESOLVED?{duration:120,onDurationEnd:a}:{duration:m.predictionWindowSeconds,durationRemaining:Object(st.b)(m),onDurationEnd:a}}),[h,m,a]);return m?r.createElement(Be.a,{borderRadius:G.e.Large,overflow:h?G.n.Auto:G.n.Hidden},r.createElement(V.a,{visible:c,onClick:b,expanded:n&&h,progressBar:k(),header:r.createElement(r.Fragment,null,!h&&r.createElement(ut,{prediction:m,onAnimationComplete:g}),r.createElement(yt,{expanded:n,onButtonClick:y,prediction:m,removeHighlight:a}))},n&&r.createElement(ht,{prediction:m}))):null},St=n("lbZ4"),Et=n("XDQu"),Ct=(n("xRFA"),function(e){return r.createElement(r.Fragment,null,r.Children.map(e.children,(function(t,n){var i=x({"animated-section__segment":!0,"animated-section__segment--slow":e.fadeInSlow});return r.createElement(Be.a,{className:i,key:t+":"+n},r.createElement("div",{style:{animationDelay:30*n+"ms"}},t))})))}),Ot=n("6/xl");!function(e){e.AddProgress="add_progress",e.FinishLargeEventAnimation="finish_large_event_animation",e.Start="start",e.FinishStartAnimation="finish_start_animation",e.PreLevelUp="pre_level_up",e.LevelUp="level_up",e.FinishLevelUpAnimation="finish_level_up_animation",e.Complete="complete",e.Fail="fail",e.ShowRewards="show_rewards",e.UpdateConductor="update_conductor",e.ShowProgress="show_progress",e.ShowExpandedView="show_expanded_view",e.HideExpandedView="hide_expanded_view",e.InitializeState="initialize_state",e.ResetState="reset_state"}(bt||(bt={}));var Dt=n("1rIY"),Pt=function(){return{id:"",channelID:"",progress:0,remainingSeconds:0,total:0,goal:1e3,level:1,calloutEmote:null,useCreatorColor:!0,primaryHexColor:null,rewards:[],previousRewards:[],conductorRewards:[],participationConversionRates:[],previousLevel:0,lastLevel:5,bitsReceived:0,subsReceived:0,currentEventUserID:"",currentEventQuantity:0,currentEventAction:d.Pc.UNKNOWN,currentEventSource:d.Qc.UNKNOWN,bitsConductor:void 0,subsConductor:void 0,isLargeEvent:!1,hypeTrainStarted:!1,hypeTrainInProgress:!1,hypeTrainComplete:!1,hypeTrainFailed:!1,hypeTrainPreLevelUp:!1,hypeTrainLeveledUp:!1,hypeTrainProgressVisible:!1,hypeTrainCompleteRewardsVisible:!1,hypeTrainExpandedViewVisible:!1,receivedAt:new Date}},_t=Object(Dt.a)("HypeTrainContext",Object(i.__assign)(Object(i.__assign)({},Pt()),{finishStartHypeTrainAnimation:function(){},finishLevelUpHypeTrainAnimation:function(){},finishLargeEventAnimation:function(){},showHypeTrainRewards:function(){},showExpandedView:function(){},hideExpandedView:function(){},resetState:function(){}})),Tt=_t.context,Nt=(_t.withContext,function(e){var t=e.onComplete,n=e.duration,a=e.shouldStart,o=r.useRef(null),s=r.useRef(null),c=r.useRef(0),l=r.useCallback((function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return s.current||(s.current=e),c.current=e-s.current,c.current<n?[4,new Promise((function(e){o.current=window.setTimeout(e,200)}))]:[3,2];case 1:return i.sent(),l(performance.now()),[3,3];case 2:c.current=0,s.current=null,t&&t(),o.current&&(window.clearTimeout(o.current),o.current=null),i.label=3;case 3:return[2]}}))}))}),[n,t]);r.useEffect((function(){return a&&l(performance.now()),function(){o.current&&(window.clearTimeout(o.current),o.current=null)}}),[a,l])}),wt=function(e,t){return{__typename:"HypeTrainConductor",source:e,participation:Object.entries(t.participations).map((function(e){return jt(e[0],e[1])})),user:{__typename:"User",id:t.user.id}}},jt=function(e,t){var n=e.split(".");return{__typename:"HypeTrainParticipation",source:n[0],action:n[1],quantity:t}},It=function(e,t){var n=[];return Object.entries(e.conductor_rewards).forEach((function(e){var t=Object.entries(e[1]).map((function(t){return n=e[0],i=t[0],r=t[1],{__typename:"HypeTrainConductorReward",source:n,type:i,rewards:r.map(Ut)};var n,i,r}));n=n.concat(t)})),{__typename:"HypeTrainConfig",id:t?e.channel_id+":"+t:e.channel_id,conductorRewards:n,cooldownPeriodMinutes:e.cooldown_duration,difficulty:e.difficulty,difficultySettings:Object.entries(e.difficulty_settings).map((function(t){return At(t[0],e.channel_id,t[1])})),isEnabled:e.is_enabled,shouldUsePersonalizedSettings:e.use_personalized_settings,kickoff:Rt(e.kickoff),levelDurationSeconds:e.level_duration,notificationThresholds:Object.entries(e.notification_thresholds).map((function(e){return Mt(e[0],e[1])})),participationConversionRates:Object.entries(e.participation_conversion_rates).map((function(e){return Ft(e[0],e[1])})),calloutEmote:xt(e),willUseCreatorColor:e.use_creator_color,primaryHexColor:e.primary_hex_color}},xt=function(e){return{__typename:"Emote",id:e.callout_emote_id,token:e.callout_emote_token}},Rt=function(e){return{__typename:"HypeTrainKickoffConfig",eventsThreshold:e.num_of_events,minPoints:e.min_points,periodSeconds:e.duration}},At=function(e,t,n){return{__typename:"HypeTrainDifficultySettings",difficulty:e,levels:n.map((function(n){return Bt(n,t,e)}))}},Mt=function(e,t){var n=e.split(".");return{__typename:"HypeTrainNotificationThreshold",source:n[0],action:n[1],value:t}},Ft=function(e,t){var n=e.split(".");return{__typename:"HypeTrainParticipationConversionRate",source:n[0],action:n[1],value:t}},Lt=function(e,t,n){return{__typename:"HypeTrainProgress",goal:e.goal,total:e.total,progression:e.value,remainingSeconds:e.remaining_seconds,level:Bt(e.level,t,n)}},Bt=function(e,t,n){var i=e.rewards.map(Ut);return{__typename:"HypeTrainLevel",id:t+":"+n+":"+e.value,value:e.value,goal:e.goal,rewards:i}},Ut=function(e){switch(e.type){case d.Rc.BADGE:return{__typename:"HypeTrainBadgeReward",id:e.id,type:d.Rc.BADGE,badge:{__typename:"Badge",id:e.badge_id||e.id,setID:e.group_id,imageURL:e.image_url||""}};case d.Rc.EMOTE:return{__typename:"HypeTrainEmoteReward",id:e.id,type:d.Rc.EMOTE,emote:{__typename:"Emote",id:e.id,token:e.token||""}};default:throw new Error("unknown reward type found")}},Vt=n("4FF5"),zt=n("w09P"),Gt=[s.PubsubMessageType.HypeTrainStart,s.PubsubMessageType.HypeTrainLevelUp,s.PubsubMessageType.HypeTrainProgression,s.PubsubMessageType.HypeTrainConductorUpdate,s.PubsubMessageType.HypeTrainEnd],Ht=function(e){var t=e.channelLogin,n=e.dispatch,u=function(e){var t=e.channelLogin,n=e.dispatch,i=r.useState(!1),a=i[0],s=i[1],c=r.useCallback((function(e){e&&e.user&&e.user.channel&&e.user.channel.hypeTrain.execution&&!a&&n({type:bt.InitializeState,value:e.user.channel.hypeTrain.execution,channelID:e.user.channel.id}),s(!0)}),[n,a]);return[Object(o.d)(Vt,{variables:{userLogin:t},fetchPolicy:"cache-and-network",onCompleted:c}).data]}({channelLogin:t,dispatch:n})[0],m=r.useRef(0),p=r.useRef(null),f=r.useMemo((function(){var e;return(null===(e=null==u?void 0:u.user)||void 0===e?void 0:e.id)||""}),[u]),h=r.useMemo((function(){var e,t,n;return(null===(n=null===(t=null===(e=null==u?void 0:u.user)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.hypeTrain.execution)||void 0===n?void 0:n.config.notificationThresholds)||[]}),[u]),v=function(e){var t=e.channelID,n=e.notificationThresholds,i=r.useContext(Tt),o=r.useRef([]),c=r.useState(null),u=c[0],d=c[1],m=r.useState(!1),p=m[0],f=m[1],h=r.useState(!1),v=h[0],g=h[1],b=r.useCallback((function(e){switch(e.type){case s.PubsubMessageType.HypeTrainStart:return 14e3;case"hype-train-pre-level-up":return 1e3;case s.PubsubMessageType.HypeTrainProgression:var t=e,i=n.find((function(e){return e.source===t.data.source&&e.action===t.data.action}));if(i){var r=i.value;if(t.data.quantity>=r)return 7e3}return 2e3;case s.PubsubMessageType.HypeTrainLevelUp:return 18e3;case s.PubsubMessageType.HypeTrainEnd:return 19e3;default:return 0}}),[n]),y=r.useCallback((function(e){return Gt.some((function(t){return t===e.type}))}),[]),k=Object(a.a)(t?Object(l.E)(t):"",!t,(function(e){return!y(e)}))[0];return r.useEffect((function(){if(k)switch(k.type){case s.PubsubMessageType.HypeTrainStart:if(i.hypeTrainInProgress)return;var e=k;return o.current.unshift({msg:e,delay:b(e)}),void g(!0);case s.PubsubMessageType.HypeTrainLevelUp:if(!i.hypeTrainInProgress)return;var t=k,r={type:"hype-train-pre-level-up"};return o.current.unshift({msg:r,delay:b(r)}),o.current.unshift({msg:t,delay:b(t)}),void g(!0);case s.PubsubMessageType.HypeTrainConductorUpdate:if(!i.hypeTrainInProgress)return;var a=k;return o.current=o.current.filter((function(e){return e.msg.type!==s.PubsubMessageType.HypeTrainConductorUpdate||e.msg.data.source!==a.data.source})),o.current.unshift({msg:a,delay:b(a)}),void g(!0);case s.PubsubMessageType.HypeTrainEnd:if(!i.hypeTrainInProgress)return;var c=k,l=o.current.shift();return o.current=[],l&&o.current.unshift(l),o.current.unshift({msg:c,delay:b(c)}),void g(!0);case s.PubsubMessageType.HypeTrainProgression:if(!i.hypeTrainInProgress)return;var u=k;return o.current.length>5&&(o.current=o.current.filter((function(e){if(e.msg.type!==s.PubsubMessageType.HypeTrainProgression)return!0;var t=e.msg,i=n.find((function(e){return e.source===t.data.source&&e.action===t.data.action}));if(i){var r=i.value;return u.data.quantity>=r}return!0}))),o.current.unshift({msg:u,delay:b(u)}),void g(!0);default:return}}),[k,i.hypeTrainInProgress,b,n]),r.useEffect((function(){if(!p){var e=o.current.pop();e&&(d(e.msg),f(!0),window.setTimeout((function(){f(!1),d(null)}),e.delay)),g(!1)}}),[p,v]),[u]}({channelID:f,notificationThresholds:h})[0];r.useEffect((function(){var e,r,a,o,l,f,h,g,b,y,k,S,E,C,O,D,P,_,T,N,w,j,I;if(u&&u.user&&u.user.channel&&u.user.channel.hypeTrain&&v)switch(v.type){case s.PubsubMessageType.HypeTrainStart:var x=v,R=zt(u,(function(e){var t,n,i;return null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution}),(function(){return e=x.data,t=Object.entries(e.conductors).map((function(e){return wt(e[0],e[1])})),n={__typename:"HypeTrainExecution",id:e.id,config:It(e.config,e.id),startedAt:new Date(e.started_at).toISOString(),expiresAt:new Date(e.expires_at).toISOString(),updatedAt:new Date(e.updated_at).toISOString(),participations:Object.entries(e.participations).map((function(e){return jt(e[0],e[1])})),conductors:t,endedAt:null,endReason:null,progress:Lt(e.progress,e.channel_id,e.config.difficulty)},e.ended_at&&(n.endedAt=new Date(e.ended_at).toISOString()),e.ending_reason&&(n.endReason=e.ending_reason),n;var e,t,n}));Object(c.j)(Vt,{userLogin:t},(function(){return R}));var A={type:bt.Start,value:null===(a=null===(r=null===(e=R.user)||void 0===e?void 0:e.channel)||void 0===r?void 0:r.hypeTrain)||void 0===a?void 0:a.execution,channelID:u.user.channel.id,receivedAt:new Date};return void n(A);case"hype-train-pre-level-up":return void n({type:bt.PreLevelUp});case s.PubsubMessageType.HypeTrainLevelUp:var M=v,F=Lt(M.data.progress,null===(o=u.user)||void 0===o?void 0:o.id,(null===(g=null===(h=null===(f=null===(l=u.user)||void 0===l?void 0:l.channel)||void 0===f?void 0:f.hypeTrain)||void 0===h?void 0:h.execution)||void 0===g?void 0:g.config).difficulty);if(p.current&&p.current.progress.level===M.data.progress.level)return;p.current=M.data,m.current=M.data.progress.total,Object(c.j)(Vt,{userLogin:t},(function(){return zt(u,(function(e){var t,n,i,r;return null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.progress}),(function(){return F}))}));var L=(null===(O=null===(C=null===(E=null===(S=null===(k=null===(y=null===(b=u.user)||void 0===b?void 0:b.channel)||void 0===y?void 0:y.hypeTrain)||void 0===k?void 0:k.execution)||void 0===S?void 0:S.config.difficultySettings)||void 0===E?void 0:E.find((function(e){var t,n,i,r;return e.difficulty===(null===(r=null===(i=null===(n=null===(t=u.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.config).difficulty})))||void 0===C?void 0:C.levels.find((function(e){return e.value===F.level.value-1})))||void 0===O?void 0:O.rewards)||[],B={type:bt.LevelUp,level:M.data.progress.level.value,goal:M.data.progress.goal,total:M.data.progress.total,progress:M.data.progress.value,remainingSeconds:M.data.progress.remaining_seconds,rewards:F.level.rewards,previousRewards:L,receivedAt:new Date};return void n(B);case s.PubsubMessageType.HypeTrainConductorUpdate:var U=v,V=wt(U.data.source,U.data),z=zt(u,(function(e){var t,n,i,r;return null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.conductors}),(function(e){var t=null==e?void 0:e.findIndex((function(e){return e.source===U.data.source}));return t?null==e?void 0:e.splice(t,1,V):e?Object(i.__spreadArrays)(e,[V]):[V]}));Object(c.j)(Vt,{userLogin:t},(function(){return z}));var G={type:bt.UpdateConductor,conductor:V,source:U.data.source};return void n(G);case s.PubsubMessageType.HypeTrainEnd:var H=v;switch(Object(c.j)(Vt,{userLogin:t},(function(){return zt(u,(function(e){var t,n,i;return null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution}),(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{endedAt:new Date(H.data.ended_at).toISOString(),endReason:H.data.ending_reason})}))})),H.data.ending_reason){case d.Nc.EXPIRED:n({type:bt.Fail});break;case d.Nc.COMPLETED:n({type:bt.Complete})}return void(m.current=0);case s.PubsubMessageType.HypeTrainProgression:var W=v;if(W.data.sequence_id<=m.current)return;var q=zt(u,(function(e){var t,n,i,r;return null===(r=null===(i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.progress}),(function(){var e,t,n,i,r;return Lt(W.data.progress,null===(e=u.user)||void 0===e?void 0:e.id,(null===(r=null===(i=null===(n=null===(t=u.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.hypeTrain)||void 0===i?void 0:i.execution)||void 0===r?void 0:r.config).difficulty)}));Object(c.j)(Vt,{userLogin:t},(function(){return q})),m.current=W.data.sequence_id;var Q=1,Y=null===(T=null===(_=null===(P=null===(D=null==q?void 0:q.user)||void 0===D?void 0:D.channel)||void 0===P?void 0:P.hypeTrain)||void 0===_?void 0:_.execution)||void 0===T?void 0:T.config.participationConversionRates.find((function(e){return e.source===W.data.source&&e.action===W.data.action}));Y&&(Q=Y.value);var K=!1,J=null===(I=null===(j=null===(w=null===(N=null==q?void 0:q.user)||void 0===N?void 0:N.channel)||void 0===w?void 0:w.hypeTrain)||void 0===j?void 0:j.execution)||void 0===I?void 0:I.config.notificationThresholds.find((function(e){return e.source===W.data.source&&e.action===W.data.action}));if(J){var X=J.value;W.data.quantity>=X&&(K=!0)}var Z=W.data.quantity*Q,$={type:bt.AddProgress,value:Z,bitsReceived:W.data.source===d.Qc.BITS?W.data.quantity:0,subsReceived:W.data.source===d.Qc.SUBS?W.data.quantity:0,userID:W.data.user_id,action:W.data.action,source:W.data.source,quantity:W.data.quantity,remainingSeconds:W.data.progress.remaining_seconds,isLargeEvent:K};return void n($);default:return}}),[v,u,n,t,h])};function Wt(e,t){var n,r;switch(t.type){case bt.InitializeState:var a=t,o=a.value.config.difficulty,s=a.value.config.difficultySettings.find((function(e){return e.difficulty===o})),c=5,l=[];if(s)c=s.levels[s.levels.length-1].value,l=(null===(n=s.levels.find((function(e){return e.value===a.value.progress.level.value-1})))||void 0===n?void 0:n.rewards)||[];var u=a.value.participations.filter((function(e){return e.source===d.Qc.BITS})).reduce((function(e,t){return e+t.quantity}),0),m=a.value.participations.filter((function(e){return e.source===d.Qc.SUBS})).reduce((function(e,t){return e+t.quantity}),0);return Object(i.__assign)(Object(i.__assign)({},e),{id:a.value.id,channelID:a.channelID,calloutEmote:a.value.config.calloutEmote,useCreatorColor:a.value.config.willUseCreatorColor,primaryHexColor:a.value.config.primaryHexColor,hypeTrainInProgress:!0,hypeTrainProgressVisible:!0,goal:a.value.progress.goal,progress:a.value.progress.progression,remainingSeconds:a.value.progress.remainingSeconds,previousLevel:a.value.progress.level.value>1?a.value.progress.level.value-1:0,level:a.value.progress.level.value,lastLevel:c,total:a.value.progress.total,rewards:a.value.progress.level.rewards,previousRewards:l,conductorRewards:a.value.config.conductorRewards,subsReceived:m,bitsReceived:u,participationConversionRates:a.value.config.participationConversionRates,subsConductor:a.value.conductors.find((function(e){return e.source===d.Qc.SUBS})),bitsConductor:a.value.conductors.find((function(e){return e.source===d.Qc.BITS})),receivedAt:new Date});case bt.Start:var p=t,f=p.value.config.difficulty,h=p.value.config.difficultySettings.find((function(e){return e.difficulty===f})),v=5,g=[];if(h)v=h.levels[h.levels.length-1].value,g=(null===(r=h.levels.find((function(e){return e.value===p.value.progress.level.value-1})))||void 0===r?void 0:r.rewards)||[];var b=p.value.participations.filter((function(e){return e.source===d.Qc.BITS})).reduce((function(e,t){return e+t.quantity}),0),y=p.value.participations.filter((function(e){return e.source===d.Qc.SUBS})).reduce((function(e,t){return e+t.quantity}),0);return Object(i.__assign)(Object(i.__assign)({},e),{id:p.value.id,channelID:p.channelID,calloutEmote:p.value.config.calloutEmote,hypeTrainStarted:!0,hypeTrainInProgress:!0,useCreatorColor:p.value.config.willUseCreatorColor,primaryHexColor:p.value.config.primaryHexColor,goal:p.value.progress.goal,progress:p.value.progress.progression,remainingSeconds:p.value.progress.remainingSeconds,level:p.value.progress.level.value,lastLevel:v,previousLevel:p.value.progress.level.value>1?p.value.progress.level.value-1:0,total:p.value.progress.total,rewards:p.value.progress.level.rewards,previousRewards:g,conductorRewards:p.value.config.conductorRewards,participationConversionRates:p.value.config.participationConversionRates,bitsReceived:b,subsReceived:y,subsConductor:p.value.conductors.find((function(e){return e.source===d.Qc.SUBS})),bitsConductor:p.value.conductors.find((function(e){return e.source===d.Qc.BITS})),receivedAt:p.receivedAt});case bt.FinishStartAnimation:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainStarted:!1,hypeTrainProgressVisible:!0});case bt.ShowProgress:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainProgressVisible:!0});case bt.ShowExpandedView:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainExpandedViewVisible:!0});case bt.HideExpandedView:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainExpandedViewVisible:!1});case bt.PreLevelUp:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainPreLevelUp:!0});case bt.LevelUp:var k=t,S=e.level;return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainPreLevelUp:!1,hypeTrainLeveledUp:!0,hypeTrainProgressVisible:!1,previousLevel:S,level:k.level,previousRewards:k.previousRewards,rewards:k.rewards,progress:k.progress,remainingSeconds:k.remainingSeconds,goal:k.goal,total:k.total,receivedAt:k.receivedAt});case bt.UpdateConductor:var E=t;return Object(i.__assign)(Object(i.__assign)({},e),{bitsConductor:E.source===d.Qc.BITS?E.conductor:e.bitsConductor,subsConductor:E.source===d.Qc.SUBS?E.conductor:e.subsConductor});case bt.FinishLevelUpAnimation:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainLeveledUp:!1,hypeTrainProgressVisible:!0});case bt.Complete:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainComplete:!0,hypeTrainProgressVisible:!1,hypeTrainExpandedViewVisible:!1});case bt.Fail:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainFailed:!0,hypeTrainProgressVisible:!1,hypeTrainExpandedViewVisible:!1});case bt.ShowRewards:return Object(i.__assign)(Object(i.__assign)({},e),{hypeTrainComplete:!1,hypeTrainCompleteRewardsVisible:!0});case bt.AddProgress:var C=t;return Object(i.__assign)(Object(i.__assign)({},e),{progress:e.progress+C.value,total:e.total+C.value,bitsReceived:e.bitsReceived+C.bitsReceived,subsReceived:e.subsReceived+C.subsReceived,currentEventUserID:C.userID,currentEventQuantity:C.quantity,currentEventAction:C.action,currentEventSource:C.source,isLargeEvent:C.isLargeEvent});case bt.FinishLargeEventAnimation:return Object(i.__assign)(Object(i.__assign)({},e),{isLargeEvent:!1});case bt.ResetState:return Object(i.__assign)({},Pt());default:return e}}var qt=function(e){var t=r.useReducer(Wt,Object(i.__assign)({},Pt())),n=t[0],a=t[1],o=Object(i.__assign)(Object(i.__assign)({},n),{finishStartHypeTrainAnimation:function(){return a({type:bt.FinishStartAnimation})},finishLevelUpHypeTrainAnimation:function(){return a({type:bt.FinishLevelUpAnimation})},finishLargeEventAnimation:function(){return a({type:bt.FinishLargeEventAnimation})},showHypeTrainRewards:function(){return a({type:bt.ShowRewards})},showExpandedView:function(){return a({type:bt.ShowExpandedView})},hideExpandedView:function(){return a({type:bt.HideExpandedView})},resetState:function(){return a({type:bt.ResetState})}});return r.createElement(Tt.Provider,{value:o},r.createElement(Qt,{channelLogin:e.channelLogin,dispatch:a}),e.children)},Qt=function(e){var t=e.dispatch,n=e.channelLogin;return Ht({channelLogin:n,dispatch:t}),r.createElement(z.a,{display:G.h.Hide})},Yt=n("DIbp"),Kt=n("VbXa"),Jt=n.n(Kt),Xt=function(e){function t(){return e.apply(this,arguments)||this}return Jt()(t,e),t.prototype.render=function(){var e=this.props.children.split(" ");return e.map((function(t,n){return r.createElement(r.Fragment,{key:t+n},r.createElement(Be.a,{display:G.h.InlineBlock},r.createElement("span",{className:"tw-animated-title__segment tw-animated-title__segment--"+n,style:{animationDelay:30*n+"ms"}},t)),n<e.length&&r.createElement("span",null," "))}))},t}(r.Component);Xt.displayName="AnimatedTitle";n("26Wv");var Zt=function(){var e=r.useContext(Tt),t=r.useState(!1),n=t[0],i=t[1],a=r.useState(!1),o=a[0],s=a[1],c=r.useState(!1),l=c[0],u=c[1],d=r.useMemo((function(){return e.level===e.lastLevel&&e.progress>=e.goal?e.level:e.previousLevel}),[e.level,e.lastLevel,e.previousLevel,e.progress,e.goal]);Nt({duration:5,onComplete:function(){return i(!0)},shouldStart:e.hypeTrainComplete&&!n}),Nt({duration:7e3,onComplete:function(){return s(!0)},shouldStart:e.hypeTrainComplete&&n&&!o}),Nt({duration:6e3,onComplete:function(){return u(!0)},shouldStart:o}),Nt({duration:6e3,onComplete:e.showHypeTrainRewards,shouldStart:l});var m=x({"hype-train-complete__intro":!0,"hype-train-complete__intro--start":e.hypeTrainComplete&&n&&!o}),p=r.useMemo((function(){return e.calloutEmote&&e.calloutEmote.id?e.calloutEmote.id:Ot.b}),[e.calloutEmote]),f=r.useMemo((function(){return e.calloutEmote&&e.calloutEmote.token||Ot.c}),[e.calloutEmote]),h=Object(R.e)((function(e){return Object(Et.a)(e)})),v=r.useMemo((function(){return Object(Yt.a)(h,e.primaryHexColor,e.useCreatorColor)}),[h,e.primaryHexColor,e.useCreatorColor]);return r.createElement("div",{style:{backgroundColor:v}},r.createElement(z.a,{className:"hype-train-complete__container",display:G.h.Flex,flexDirection:G.i.Row,alignItems:G.b.Center,padding:{x:2},position:G.o.Relative},r.createElement(z.a,{className:m,display:e.hypeTrainComplete&&!o?G.h.Flex:G.h.Hide,flexDirection:G.i.Row,alignItems:G.b.Center,position:G.o.Absolute,fullHeight:!0},r.createElement(W.a,{bold:!0,fontSize:G.k.Size2,whiteSpace:W.f.NoWrap},Object(A.d)("Hype Train success!","HypeTrainCompleteTrain")),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{left:1}},r.createElement(Ot.a,{quantity:4,emoteID:p,emoteToken:f}))),r.createElement(he.a,{show:o,type:he.d.SlideOverBottom,injectChild:!0},r.createElement(z.a,{display:o&&!l?G.h.Flex:G.h.Hide,flexDirection:G.i.Column,fullHeight:!0,margin:"auto"},r.createElement(W.a,{bold:!0,fontSize:G.k.Size5,color:G.f.Overlay},r.createElement(Xt,null,Object(A.d)("Such strong support","HypeTrainCompleteTrain"))),r.createElement(W.a,{bold:!0,fontSize:G.k.Size5,color:G.f.Overlay},r.createElement(Xt,null,Object(A.d)("Level {level} completed!",{level:Object(A.f)(d)},"HypeTrainComplete"))))),r.createElement(he.a,{show:l,type:he.d.SlideOverBottom,injectChild:!0},r.createElement(z.a,{display:l?G.h.Flex:G.h.Hide,flexDirection:G.i.Column,fullHeight:!0,margin:"auto"},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},r.createElement(Ct,null,r.createElement(z.a,{color:G.f.Overlay,padding:{right:.5}},r.createElement(Pe.a,{asset:J.a.Star}))),r.createElement(W.a,{className:"hype-train-complete__text",bold:!0,fontSize:G.k.Size5,color:G.f.Overlay},r.createElement(Xt,null,Object(A.d)("{numSubs, plural, one {{subs} Sub} other {{subs} Subs}}",{numSubs:e.subsReceived,subs:Object(A.f)(e.subsReceived)},"HypeTrainComplete")))),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},r.createElement(Ct,null,r.createElement(z.a,{color:G.f.Overlay,padding:{right:.5}},r.createElement(Pe.a,{asset:J.a.Bits}))),r.createElement(W.a,{className:"hype-train-complete__text",bold:!0,fontSize:G.k.Size5,color:G.f.Overlay},r.createElement(Xt,null,Object(A.d)("{bits} Bits",{bits:Object(A.f)(e.bitsReceived)},"HypeTrainComplete"))))))))},$t=n("Mj6i"),en=n("b5vT"),tn=n("OpME"),nn=function(e){var t={id:e.id,token:e.token,isLocked:e.isLocked},n=Object(tn.b)(t);return r.createElement(en.b,{emote:n,key:t.id})},rn=n("DQBF");var an=Object(ee.d)(Object(R.b)((function(e){var t=Object(L.e)(e);return{isLoggedIn:Object(L.f)(e),userID:t?t.id:""}})),Object($t.a)())((function(e){var t=e.emoteSetsData,n=e.userID,i=e.isCTAExperiment,a=r.useContext(Tt),o=r.useCallback((function(){Object(rn.d)({serverTime:(new Date).toString(),channelID:a.channelID,userID:n,trainID:a.id,action:rn.b.MoreInfo,actionType:rn.c.Click})}),[a.channelID,a.id,n]),s=r.useCallback((function(e){return!t||!t.emoteMap||void 0===Object.entries(t.emoteMap).find((function(t){return t[1].id===e}))}),[t]),c=r.useMemo((function(){return r.createElement(Ct,{fadeInSlow:!0},a.rewards.filter((function(e){return e.type===d.Rc.EMOTE})).map((function(e){var t;return"HypeTrainEmoteReward"===e.__typename&&r.createElement(nn,{key:"emote-reward:"+e.id,id:e.id,token:(null===(t=e.emote)||void 0===t?void 0:t.token)||"",isLocked:s(e.id)})})))}),[a.rewards,s]),l=i?3:2;return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,padding:{top:l}},r.createElement(W.a,{bold:!0,transform:W.d.Uppercase,fontSize:G.k.Size5},Object(A.d)("Level {level} emotes",{level:a.level},"HypeTrainExpandedViewAvailableRewards")),r.createElement(W.a,{fontSize:G.k.Size8},Object(A.d)("Each of the five levels comes with a unique set of emote rewards for participants. <x:tos>Learn more</x:tos>",{"x:tos":function(e){return r.createElement(Ve.a,{targetBlank:!0,onClick:o,linkTo:"https://help.twitch.tv/s/article/hype-train-guide"},e)}},"HypeTrainExpandedViewAvailableRewards")),r.createElement(z.a,{padding:{top:.5},display:G.h.Flex,flexDirection:G.i.Column,textAlign:G.q.Center},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{top:.5},justifyContent:G.m.Around},c)))})),on=n("bBAb"),sn=n("QjI3"),cn=n("WRNo");var ln=Object(ee.d)(Object(R.b)((function(e){var t=Object(L.e)(e);return{loggedIn:Object(L.f)(e),userID:t?t.id:""}}),(function(e){return Object(ee.b)({openLoginWindow:function(){return Object(re.e)(ne.a.HypeTrainCTA)}},e)})),Object(on.b)((function(e){return{bitsConfig:e.bitsConfig,bitsCardOpen:e.bitsCardOpen,setBitsCardOpenState:e.setBitsCardOpenState}})))((function(e){var t,n,i,a=e.userID,s=e.loggedIn,c=e.bitsCardOpen,l=e.setBitsCardOpenState,u=e.openLoginWindow,d=r.useContext(Tt),m=Object(o.d)(cn,{variables:{id:d.channelID}}),p=m.data,f=m.loading,h=m.error;i=!f&&!h&&!!(null===(n=null===(t=null==p?void 0:p.user)||void 0===t?void 0:t.self)||void 0===n?void 0:n.subscriptionBenefit);var v=r.useCallback((function(e){Object(rn.d)({serverTime:(new Date).toString(),channelID:d.channelID,userID:a,trainID:d.id,action:e,actionType:rn.c.Click})}),[d.channelID,a,d.id]),g=r.useCallback((function(){d.hideExpandedView(),v(rn.b.BitsCTA),s?c||l(!0):u()}),[d,v,s,c,l,u]),b=r.useCallback((function(){d.hideExpandedView(),v(i?rn.b.GiftCTA:rn.b.SubsCTA),Object(sn.signalOpenSubModal)()}),[d,v,i]);return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,zIndex:G.t.Above},r.createElement(W.a,{fontSize:G.k.Size8},Object(A.d)("Come together as a community to support your streamer!","HypeTrainExpandedViewCallToActions")),r.createElement(z.a,{alignItems:G.b.Center,justifyContent:G.m.Center,margin:1},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},r.createElement(z.a,{display:G.h.Flex,padding:{right:1,left:.5}},r.createElement(de.a,{type:de.d.Secondary,icon:J.a.Bits,onClick:g},Object(A.d)("Cheer with Bits","HypeTrainExpandedViewCallToActions"))),i?r.createElement(de.a,{type:de.d.Primary,icon:J.a.Gift,onClick:b},Object(A.d)("Gift a Sub","HypeTrainExpandedViewCallToActions")):r.createElement(de.a,{type:de.d.Primary,icon:J.a.StarHollow,onClick:b},Object(A.d)("Subscribe","HypeTrainExpandedViewCallToActions")))))})),un=n("8SX2"),dn=n("oK83"),mn=n("Cak+"),pn=(n("v30r"),function(e){var t=e.source,n=e.message,i=e.claimMessage,a=r.useContext(Tt),s=r.useMemo((function(){switch(t){case d.Qc.SUBS:return a.subsConductor;case d.Qc.BITS:return a.bitsConductor;default:return}}),[t,a]),c=Object(o.d)(mn,{skip:!s,variables:{userID:(null==s?void 0:s.user.id)||""}}).data,l=r.useMemo((function(){return c&&c.user&&c.user.login?c.user.login:""}),[c]),u=r.useMemo((function(){if(c&&c.user){if(c.user.displayName)return c.user.displayName;if(c.user.login)return c.user.login}return""}),[c]),m=r.useMemo((function(){return s?s.participation.filter((function(e){return e.source===t})).reduce((function(e,t){return e+t.quantity}),0):0}),[s,t]),p=r.useMemo((function(){switch(t){case d.Qc.SUBS:return J.a.Gift;case d.Qc.BITS:return J.a.Bits;default:return J.a.DeadGlitch}}),[t]),f=r.useMemo((function(){var e=a.conductorRewards.find((function(e){return e.type===d.Lc.CURRENT&&e.source===t}));if(e){var n=e.rewards.filter((function(e){return e.type===d.Rc.BADGE}));if(n.length>=1&&"HypeTrainBadgeReward"===n[0].__typename)return n[0]}return null}),[a.conductorRewards,t]),h=r.useMemo((function(){return r.createElement(z.a,{className:"hype-train-conductor-info__claim",background:f&&f.badge&&f.badge.imageURL&&G.d.Inherit||G.d.Alt2,borderRadius:G.e.Large},f&&f.badge&&f.badge.imageURL&&r.createElement(Je.a,{alt:Object(A.d)("Conductor badge","HypeTrainConductorInfo"),src:f.badge.imageURL})||r.createElement(K.a,{asset:p,height:30,width:30}))}),[p,f]),v=r.useMemo((function(){return s?n(l,u,m):i}),[s,i,n,l,u,m]);return r.createElement(z.a,{alignItems:G.b.Center,display:G.h.Flex,flexDirection:G.i.Row},r.createElement(z.a,{padding:{right:.5},flexShrink:0},h),r.createElement(W.a,{fontSize:G.k.Size8},v))}),fn=n("FvRi");var hn=Object(ee.d)(Object(R.b)((function(e){var t=Object(L.e)(e);return{userID:t?t.id:""}})))((function(e){var t=e.userID,n=r.useContext(Tt),i=r.useCallback((function(){Object(rn.d)({serverTime:(new Date).toString(),channelID:n.channelID,userID:t,trainID:n.id,action:rn.b.LeaderName,actionType:rn.c.Click})}),[n.channelID,n.id,t]),a=r.useCallback((function(e,t,n){return Object(A.d)("{numSubs, plural, one {{user} has contributed {subs} Sub!} other {{user} has contributed {subs} Subs!}}",{user:r.createElement(un.a,{contentID:"",login:e,sourceType:dn.b.hype_train},r.createElement(Ve.a,{onClick:i},r.createElement(W.a,{fontSize:G.k.Size8,color:G.f.Link,type:W.e.Span},t))),numSubs:n,subs:Object(A.f)(n)},"HypeTrainExpandedViewConductors")}),[i]),o=r.useMemo((function(){return Object(A.d)("Sub or Gift to take over this spot!","HypeTrainExpandedViewConductors")}),[]),s=r.useCallback((function(e,t,n){return Object(A.d)("{numBits, plural, one {{user} has used {bits} Bit!} other {{user} has used {bits} Bits!}}",{user:r.createElement(un.a,{contentID:"",login:e,sourceType:dn.b.hype_train},r.createElement(Ve.a,{onClick:i},r.createElement(W.a,{fontSize:G.k.Size8,color:G.f.Link,type:W.e.Span},t))),numBits:n,bits:Object(A.g)(n)},"HypeTrainExpandedViewConductors")}),[i]),c=r.useMemo((function(){return Object(A.d)("Use Bits to take over this spot!","HypeTrainExpandedViewConductors")}),[]);return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,padding:{top:2}},r.createElement(W.a,{bold:!0,transform:W.d.Uppercase,fontSize:G.k.Size5},Object(A.d)("Hype Conductors","HypeTrainExpandedViewConductors")),r.createElement(W.a,{fontSize:G.k.Size8},Object(A.d)("Be one of the top supporters to earn the Hype Train Conductor badge.","HypeTrainExpandedViewConductors")),r.createElement(z.a,{padding:{top:.5}},r.createElement(fn.a,{childWidth:fn.b.Medium,gutterSize:fn.c.ExtraSmall,noGrow:!0},r.createElement(pn,{source:d.Qc.SUBS,message:a,claimMessage:o}),r.createElement(pn,{source:d.Qc.BITS,message:s,claimMessage:c}))))})),vn=function(){var e=r.useContext(Tt),t=r.useMemo((function(){var t=1,n=e.participationConversionRates.find((function(e){return e.action===d.Pc.TIER_1_SUB}));return n&&(t=n.value),Math.ceil(e.goal/t)}),[e.goal,e.participationConversionRates]),n=r.useMemo((function(){var t=1,n=e.participationConversionRates.find((function(e){return e.action===d.Pc.CHEER}));return n&&(t=n.value),Math.ceil(e.goal/t)}),[e.goal,e.participationConversionRates]);return r.createElement(W.a,{fontSize:G.k.Size8},Object(A.d)("Completing Level {level} requires combined support events totaling {totalSubs} Tier 1 Subs or {totalBits} Bits.",{level:e.level,totalSubs:Object(A.f)(t),totalBits:Object(A.f)(n)},"HypeTrainExpandedViewLevelOverview"))},gn=function(){var e=r.useMemo((function(){return"experiment"===A.p.experiments.getAndTrackAssignment("ht_cta_exp")}),[]),t=r.useMemo((function(){return e?G.d.Alt:G.d.Base}),[e]);return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column,padding:2,background:t,position:G.o.Relative},e?r.createElement(r.Fragment,null,r.createElement(z.a,{attachLeft:!0,attachRight:!0,attachTop:!0,background:G.d.Base,padding:5,position:G.o.Absolute},r.createElement(z.a,{padding:1})),r.createElement(ln,null)):r.createElement(vn,null),r.createElement(an,{isCTAExperiment:e}),r.createElement(hn,null))},bn=n("M/F8"),yn=n("uuYk"),kn=(n("G75Y"),function(){var e=r.useContext(Tt),t=r.useMemo((function(){return e.useCreatorColor?Object(bn.b)(e.primaryHexColor):null}),[e.primaryHexColor,e.useCreatorColor]);return r.createElement(z.a,{className:"hype-train-fail__container",display:e.hypeTrainFailed?G.h.Flex:G.h.Hide,flexDirection:G.i.Column,fullHeight:!0,position:G.o.Relative},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{x:2,top:1}},r.createElement(W.a,{bold:!0,fontSize:G.k.Size4},Object(A.d)("You missed the train","HypeTrainFail")),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},r.createElement(Ot.a,{quantity:2,emoteID:Ot.d,emoteToken:Ot.e}))),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{x:2,top:.5,bottom:1}},r.createElement(W.a,null,Object(A.d)("The Hype Train is long gone. Better luck next time!","HypeTrainFail"))),r.createElement(z.a,{position:G.o.Absolute,attachBottom:!0,fullWidth:!0},r.createElement(bn.a,Object(i.__assign)({},t),r.createElement(yn.a,{animationDirection:yn.b.Down,size:yn.c.Small,animationDuration:20,onAnimationEnd:e.resetState}))))}),Sn=n("29Yd"),En=(n("qG/w"),function(){var e=r.useContext(Tt),t=r.useState(!1),n=t[0],i=t[1],a=r.useState(!1),o=a[0],s=a[1],c=r.useState(!1),l=c[0],u=c[1],d=r.useState(!1),m=d[0],p=d[1],f=r.useState(!1),h=f[0],v=f[1],g=r.useState(!1),b=g[0],y=g[1];Nt({duration:10,onComplete:function(){return i(!0)},shouldStart:e.hypeTrainLeveledUp&&!e.hypeTrainPreLevelUp&&!n}),Nt({duration:3e3,onComplete:function(){return s(!0)},shouldStart:n&&!o}),Nt({duration:20,onComplete:function(){return u(!0)},shouldStart:o&&!l}),Nt({duration:8e3,onComplete:function(){return p(!0)},shouldStart:l&&!m}),Nt({duration:20,onComplete:function(){return v(!0)},shouldStart:m&&!h}),Nt({duration:6e3,onComplete:function(){y(!0),e.finishLevelUpHypeTrainAnimation()},shouldStart:h&&!b});var k=x({"hype-train-level-up__container":!0}),S=x({"hype-train-level-up__text-container":!0,"hype-train-level-up__text-container--fade-in":e.hypeTrainLeveledUp&&n&&!o}),E=x({"hype-train-level-up__intro":!0,"hype-train-level-up__intro--start":o&&l&&!m}),C=r.useMemo((function(){return e.calloutEmote&&e.calloutEmote.id?e.calloutEmote.id:Ot.b}),[e.calloutEmote]),O=r.useMemo((function(){return e.calloutEmote&&e.calloutEmote.token||Ot.c}),[e.calloutEmote]),D=Object(R.e)((function(e){return Object(Et.a)(e)})),P=r.useMemo((function(){return Object(Yt.a)(D,e.primaryHexColor,e.useCreatorColor)}),[D,e.primaryHexColor,e.useCreatorColor]);return r.createElement("div",{style:{backgroundColor:P}},r.createElement(z.a,{className:k,display:e.hypeTrainLeveledUp&&!e.hypeTrainPreLevelUp?G.h.Flex:G.h.Hide,flexDirection:G.i.Row,alignItems:G.b.Center,padding:{x:2},position:G.o.Relative},r.createElement(Sn.a,{confettiCount:150,infinite:!0,colors:["rgba(105, 255, 195, 1)","rgba(255, 202, 95, 1)","rgba(30, 105, 255, 1)","rgba(190, 0, 120, 1)"]}),r.createElement(z.a,{className:S,display:!e.hypeTrainLeveledUp||e.hypeTrainPreLevelUp||o?G.h.Hide:G.h.Flex,textAlign:G.q.Center,margin:"auto"},r.createElement(W.a,{bold:!0,fontSize:G.k.Size3},Object(A.f)(1,"percent"))),r.createElement(z.a,{className:E,display:o&&!m?G.h.Flex:G.h.Hide,flexDirection:G.i.Row,alignItems:G.b.Center,position:G.o.Absolute,textAlign:G.q.Center,fullHeight:!0},r.createElement(W.a,{bold:!0,fontSize:G.k.Size2,transform:W.d.Capitalize,whiteSpace:W.f.NoWrap},Object(A.d)("hyyyyypeeee","HypeTrainLevelUp")),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{left:1},fullWidth:!0},r.createElement(Ot.a,{quantity:4,emoteID:C,emoteToken:O}))),r.createElement(z.a,{display:m&&!b?G.h.Flex:G.h.Hide,flexDirection:G.i.Row,fullHeight:!0,margin:"auto",alignItems:G.b.Center},r.createElement(W.a,{bold:!0,fontSize:G.k.Size5,color:G.f.Overlay},r.createElement(Xt,null,Object(A.d)("Level {previousLevel} complete!",{previousLevel:e.previousLevel},"HypeTrainLevelUp"))))))}),Cn=n("NO2N"),On=n("3CMh"),Dn=(n("peTa"),function(){var e=r.useContext(Tt),t=Object(o.d)(mn,{skip:!e.currentEventUserID,variables:{userID:e.currentEventUserID}}).data;Nt({duration:7e3,onComplete:e.finishLargeEventAnimation,shouldStart:e.isLargeEvent});var n=r.useMemo((function(){if(e.currentEventSource!==d.Qc.SUBS)return 0;switch(e.currentEventAction){case d.Pc.TIER_1_SUB:case d.Pc.TIER_1_GIFTED_SUB:return 1;case d.Pc.TIER_2_SUB:case d.Pc.TIER_2_GIFTED_SUB:return 2;case d.Pc.TIER_3_SUB:case d.Pc.TIER_3_GIFTED_SUB:return 3;default:return 0}}),[e.currentEventSource,e.currentEventAction]),i=r.useMemo((function(){if(e.currentEventSource!==d.Qc.SUBS)return!1;switch(e.currentEventAction){case d.Pc.TIER_1_GIFTED_SUB:case d.Pc.TIER_2_GIFTED_SUB:case d.Pc.TIER_3_GIFTED_SUB:return!0;default:return!1}}),[e.currentEventSource,e.currentEventAction]),a=r.useMemo((function(){if(t&&t.user){if(t.user.displayName)return t.user.displayName;if(t.user.login)return t.user.login}return""}),[t]),s=r.useMemo((function(){switch(e.currentEventSource){case d.Qc.SUBS:return r.createElement(Je.a,{alt:Object(A.d)("Sub Gift Icon","HypeTrainLargeEvent"),src:"https://static-cdn.jtvnw.net/badges/v1/3e638e02-b765-4070-81bd-a73d1ae34965/3"});case d.Qc.BITS:return r.createElement(z.a,{className:"hype-train-large-event__cheermote"},r.createElement(On.a,{prefix:"cheer",amount:e.currentEventQuantity,showImage:!0,showAmount:!1,animated:!1,size:On.b.Medium}));default:return null}}),[e.currentEventSource,e.currentEventQuantity]);return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{top:.5},alignItems:G.b.Center},r.createElement(Ct,null,r.createElement(z.a,{padding:{right:1}},s)),r.createElement(z.a,null,r.createElement(W.a,{bold:!0},e.currentEventSource===d.Qc.BITS&&r.createElement(Xt,null,Object(A.d)("{user} just used {numBits} Bits!",{numBits:Object(A.f)(e.currentEventQuantity),user:a},"HypeTrainLargeEvent")),e.currentEventSource===d.Qc.SUBS&&i&&r.createElement(Xt,null,Object(A.d)("{user} just gifted {numSubs} Tier {tier} Subs!",{numSubs:Object(A.f)(e.currentEventQuantity),tier:n,user:a},"HypeTrainLargeEvent")),e.currentEventSource===d.Qc.SUBS&&!i&&r.createElement(Xt,null,Object(A.d)("{user} just subscribed with a Tier {tier} Sub!",{tier:n,user:a},"HypeTrainLargeEvent")))))}),Pn=function(){var e=r.useContext(Tt),t=r.useMemo((function(){return e.level===e.lastLevel?Object(A.d)("Final level! Keep the hype going until the clock runs out.","HypeTrainLevelDisplay"):Object(A.d)("Sub, gift, or use Bits to get to the next level","HypeTrainLevelDisplay")}),[e.level,e.lastLevel]);return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Column},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{bottom:.5}},r.createElement(z.a,{className:"hype-train-progress-bar-info-view__level-pill",borderRadius:G.e.Rounded,padding:{x:1},display:G.h.Flex,alignItems:G.b.Center,flexShrink:0},r.createElement(W.a,{type:W.e.Span,tabularNums:!0,fontWeight:G.l.SemiBold,fontSize:G.k.Size7},"LVL "+e.level)),r.createElement(Be.a,{padding:{left:.5}},r.createElement(W.a,{fontSize:G.k.Size5},Object(A.d)("Hype Train","HypeTrainLevelDisplay")))),r.createElement(W.a,null,t))},_n=n("hPKk"),Tn=n("5zf8"),Nn=function(e){var t=e.seconds,n=r.useState(t-2),i=n[0],a=n[1];return r.useEffect((function(){var e=setInterval((function(){a((function(e){return e<=0?0:e-1}))}),1e3);return function(){return clearInterval(e)}}),[t]),r.createElement(r.Fragment,null,Object(Tn.b)(i,Tn.a.ClockMS))};n("w4pw");var wn,jn=Object(ee.d)(Object(R.b)((function(e){var t=Object(L.e)(e);return{userID:t?t.id:""}})))((function(e){var t=e.userID,n=r.useContext(Tt);Nt({duration:1e3,onComplete:null,shouldStart:n.hypeTrainPreLevelUp});var i=r.useCallback((function(){var e;n.hypeTrainExpandedViewVisible?(e=rn.b.Hide,n.hideExpandedView()):(e=rn.b.Expand,n.showExpandedView()),Object(rn.d)({serverTime:(new Date).toString(),channelID:n.channelID,userID:t,trainID:n.id,action:e,actionType:rn.c.Click})}),[n,t]),a=r.useMemo((function(){return n.hypeTrainExpandedViewVisible?J.a.AngleUp:J.a.AngleDown}),[n.hypeTrainExpandedViewVisible]),o=r.useMemo((function(){var e=n.progress/n.goal*100;return e>100&&n.level!==n.lastLevel?100:e}),[n.progress,n.goal,n.level,n.lastLevel]),s=r.useMemo((function(){return n.remainingSeconds-Math.round(((new Date).getTime()-n.receivedAt.getTime())/1e3)}),[n.receivedAt,n.remainingSeconds]),c=r.useMemo((function(){return x({"hype-train-progress-bar-info-view__progress-value":!0,"hype-train-progress-bar-info-view__progress-value--level-up":n.hypeTrainPreLevelUp})}),[n.hypeTrainPreLevelUp]),l=r.useMemo((function(){return x({"hype-train-progress-bar-info-view__timer":!0,"hype-train-progress-bar-info-view__timer--level-up":n.hypeTrainPreLevelUp})}),[n.hypeTrainPreLevelUp]),u=r.useMemo((function(){return x({"hype-train-progress-bar-info-view__left":!0,"hype-train-progress-bar-info-view__left--level-up":n.hypeTrainPreLevelUp})}),[n.hypeTrainPreLevelUp]);return r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{y:.5,x:2},fullHeight:!0},r.createElement(z.a,{className:u},r.createElement(he.a,{show:!n.isLargeEvent,type:he.d.SlideOverBottom,duration:he.c.Long},r.createElement(z.a,{display:n.isLargeEvent?G.h.Hide:G.h.Flex},r.createElement(Pn,null))),r.createElement(he.a,{show:n.isLargeEvent,type:he.d.SlideOverBottom,duration:he.c.Long},r.createElement(z.a,{display:n.isLargeEvent?G.h.Flex:G.h.Hide},r.createElement(Dn,null)))),r.createElement(z.a,{className:"hype-train-progress-bar-info-view__right",display:G.h.Flex,flexDirection:G.i.Column,textAlign:G.q.Right,alignItems:G.b.End},r.createElement(Be.a,{className:l,textAlign:G.q.Right,padding:{right:3}},r.createElement(W.a,{color:G.f.Alt,fontSize:G.k.Size8},r.createElement(Nn,{seconds:s}))),r.createElement(z.a,{className:c,display:G.h.Flex,flexDirection:G.i.Row,textAlign:G.q.Right,margin:{y:"auto"}},r.createElement(W.a,{bold:!0,fontSize:G.k.Size3},r.createElement(_n.a,{value:o,formatValue:function(e){return e+"%"},duration:4})),r.createElement(be.a,{"aria-label":"",onClick:i,icon:a}))))})),In=(n("zwzf"),function(){var e=r.useContext(Tt),t=Object(R.e)((function(e){return Object(Et.a)(e)})),n=r.useMemo((function(){return Object(Yt.a)(t,e.primaryHexColor,e.useCreatorColor)}),[t,e.primaryHexColor,e.useCreatorColor]);return r.createElement(z.a,{fullHeight:!0,fullWidth:!0},r.createElement(z.a,{fullWidth:!0,fullHeight:!0,overflow:G.n.Hidden,position:G.o.Absolute,zIndex:G.t.Below},r.createElement(Be.a,{fullHeight:!0,fullWidth:!0},r.createElement(Cn.a,{transformValues:{scaleX:e.progress/e.goal},transformOrigin:"0 0",className:"hype-train-progress-bar__fill",style:{backgroundColor:n}}))),r.createElement(jn,null))}),xn=(n("WNT5"),function(){var e=r.useContext(Tt),t=r.useState(!0),n=t[0],a=t[1],o=r.useMemo((function(){return e.level===e.lastLevel&&e.progress>=e.goal?e.rewards:e.previousRewards}),[e.level,e.lastLevel,e.rewards,e.previousRewards,e.progress,e.goal]),s=r.useMemo((function(){return e.useCreatorColor?Object(bn.b)(e.primaryHexColor):null}),[e.primaryHexColor,e.useCreatorColor]);Nt({duration:2e3,onComplete:function(){return a(!1)},shouldStart:n}),Nt({duration:2e3,onComplete:function(){return a(!0)},shouldStart:!n});var c=r.useMemo((function(){return o.length%2==0?o.length/2:Math.ceil(o.length/2)}),[o]),l=r.useMemo((function(){return n?0:c}),[n,c]),u=r.useMemo((function(){return n?c:o.length}),[n,c,o.length]),m=r.useMemo((function(){return o.slice(l,u)}),[o,l,u]),p=r.createElement(Ct,{fadeInSlow:!0},m.filter((function(e){return e.type===d.Rc.EMOTE})).map((function(e){var t;return"HypeTrainEmoteReward"===e.__typename&&r.createElement(nn,{key:"emote-reward:"+e.id,id:e.id,token:(null===(t=e.emote)||void 0===t?void 0:t.token)||""})})));return r.createElement(z.a,{className:"hype-train-rewards-display__container",display:e.hypeTrainCompleteRewardsVisible?G.h.Flex:G.h.Hide,flexDirection:G.i.Column,fullHeight:!0,position:G.o.Relative},r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{left:2,right:1},fullHeight:!0,alignItems:G.b.Center,position:G.o.Absolute},r.createElement(W.a,{className:"hype-train-rewards-display__text"},Object(A.d)("Great work! Emotes are being delivered to supporters","HypeTrainRewards")),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,zIndex:G.t.Above},p)),r.createElement(z.a,{position:G.o.Absolute,attachBottom:!0,fullWidth:!0},r.createElement(bn.a,Object(i.__assign)({},s),r.createElement(yn.a,{animationDirection:yn.b.Down,size:yn.c.Small,animationDuration:20,onAnimationEnd:e.resetState}))))}),Rn=(n("d028"),function(){var e=r.useContext(Tt),t=r.useState(!1),n=t[0],i=t[1],a=r.useState(!1),o=a[0],s=a[1],c=r.useState(!1),l=c[0],u=c[1];Nt({duration:20,onComplete:function(){return i(!0)},shouldStart:e.hypeTrainStarted&&!n}),Nt({duration:7e3,onComplete:function(){return s(!0)},shouldStart:n&&!o}),Nt({duration:6e3,onComplete:function(){u(!0),e.finishStartHypeTrainAnimation()},shouldStart:o&&!l});var d=x({"hype-train-start__intro":!0,"hype-train-start__intro--start":e.hypeTrainStarted&&n&&!o}),m=r.useMemo((function(){return e.calloutEmote&&e.calloutEmote.id?e.calloutEmote.id:Ot.b}),[e.calloutEmote]),p=r.useMemo((function(){return e.calloutEmote&&e.calloutEmote.token||Ot.c}),[e.calloutEmote]),f=Object(R.e)((function(e){return Object(Et.a)(e)})),h=r.useMemo((function(){return Object(Yt.a)(f,e.primaryHexColor,e.useCreatorColor)}),[f,e.primaryHexColor,e.useCreatorColor]);return r.createElement("div",{style:{backgroundColor:h}},r.createElement(z.a,{className:"hype-train-start__container",display:G.h.Flex,flexDirection:G.i.Row,alignItems:G.b.Center,padding:{x:2},position:G.o.Relative},r.createElement(z.a,{className:d,display:e.hypeTrainStarted&&!o?G.h.Flex:G.h.Hide,flexDirection:G.i.Row,alignItems:G.b.Center,position:G.o.Absolute,textAlign:G.q.Center,fullHeight:!0},r.createElement(W.a,{bold:!0,fontSize:G.k.Size2,whiteSpace:W.f.NoWrap},Object(A.d)("Hype Train incoming!","HypeTrainStart")),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row,padding:{left:1}},r.createElement(Ot.a,{quantity:4,emoteID:m,emoteToken:p}))),r.createElement(he.a,{show:o,type:he.d.SlideOverBottom},r.createElement(z.a,{fullHeight:!0,display:o&&!l?G.h.Flex:G.h.Hide},r.createElement(Be.a,{margin:"auto"},r.createElement(W.a,{bold:!0,fontSize:G.k.Size5,color:G.f.Overlay},r.createElement(Xt,null,Object(A.d)("You'll have a limited time to earn exclusive emotes","HypeTrainStart"))))))))}),An=function(){var e=r.useContext(Tt);return r.createElement(he.a,{show:e.hypeTrainInProgress,type:he.d.ScaleOver,duration:he.c.Long},r.createElement(z.a,{borderRadius:G.e.Medium,overflow:e.hypeTrainCompleteRewardsVisible?G.n.Visible:G.n.Hidden,display:e.hypeTrainInProgress?G.h.Flex:G.h.Hide,flexDirection:G.i.Column},r.createElement(z.a,{fullWidth:!0},e.hypeTrainStarted&&r.createElement(z.a,{display:G.h.Block,fullHeight:!0,fullWidth:!0},r.createElement(Rn,null)),r.createElement(he.a,{show:e.hypeTrainProgressVisible,type:he.d.SlideOverLeft,duration:he.c.Long},r.createElement(z.a,{display:e.hypeTrainProgressVisible?G.h.Flex:G.h.Hide,fullHeight:!0},r.createElement(In,null))),e.hypeTrainComplete&&r.createElement(z.a,{display:G.h.Block,fullHeight:!0,fullWidth:!0},r.createElement(Zt,null)),e.hypeTrainFailed&&r.createElement(z.a,{display:G.h.Block,fullHeight:!0,fullWidth:!0},r.createElement(kn,null)),e.hypeTrainCompleteRewardsVisible&&r.createElement(z.a,{display:G.h.Block,fullHeight:!0,fullWidth:!0},r.createElement(xn,null)),e.hypeTrainLeveledUp&&!e.hypeTrainPreLevelUp&&r.createElement(z.a,{display:G.h.Block,fullHeight:!0,fullWidth:!0},r.createElement(En,null))),e.hypeTrainExpandedViewVisible&&r.createElement(gn,null)))},Mn=function(e){var t=e.expanded,n=e.toggleExpanded,i=e.onClick,a=r.useContext(Tt),o=r.useRef(!1);return r.useEffect((function(){o.current!==t?a.hypeTrainExpandedViewVisible&&!t?(o.current=!1,a.hideExpandedView()):!a.hypeTrainExpandedViewVisible&&t&&(o.current=!0,a.showExpandedView()):o.current!==a.hypeTrainExpandedViewVisible&&(t!==a.hypeTrainExpandedViewVisible&&n(),o.current=a.hypeTrainExpandedViewVisible)}),[a,n,t]),r.createElement(Be.a,{borderRadius:G.e.Large,background:G.d.Base},r.createElement("div",{onClick:i},r.createElement(An,null)))};n("si9w");!function(e){e.Container="notification-selector"}(wn||(wn={}));var Fn=function(e){var t=r.createElement(un.a,{contentID:"",login:e.data.userLogin,sourceType:dn.b.mega_cheer_notification},e.data.displayName),n=Object(A.d)("{gifterButton} MegaCheered {bitsAmount} Bits and shared rewards to {giftedAmount} others in chat!",{gifterButton:t,bitsAmount:Object(A.f)(e.data.triggerAmount),giftedAmount:e.data.selectedCount},"MegaCheerNotificationCard");return r.createElement(z.a,{"data-test-selector":wn.Container,display:G.h.Flex,alignItems:G.b.Center,flexDirection:G.i.Row,overflow:G.n.Hidden},r.createElement(z.a,{display:G.h.Flex,alignItems:G.b.Center,className:"mega-cheer-notification-card__icon"},r.createElement(Je.a,{src:e.iconURL,alt:""})),r.createElement(z.a,{flexGrow:1,margin:{left:.5}},r.createElement(W.a,{fontSize:G.k.Size7,color:G.f.Alt2},n)))},Ln=function(e){return r.createElement(V.a,{progressBar:{duration:e.event.durationS,onDurationEnd:e.removeHighlight},visible:e.visible,onClick:e.onClick,header:r.createElement(Fn,{data:e.event.data,iconURL:e.event.iconURL})})},Bn=n("ZS2+"),Un=n("V6PS"),Vn=n.n(Un),zn=n("QVaV"),Gn=n("V7AV"),Hn=n("0WFu"),Wn=n("br9A"),qn=n("/2Fp"),Qn=(n("8R12"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={start:Date.now()},t.experimentAssignment=A.p.experiments.getAndTrackAssignment("gift_x_more")||"control",t.giftMoreCount=t.getGiftMoreCount(t.experimentAssignment),t.getBannerText=function(){var e=null,n=null;t.props.data&&t.props.data.user&&(t.props.data.user.displayName&&(e=t.props.data.user.displayName),t.props.data.user.login&&(n=t.props.data.user.login));var i=Object(Hn.b)(t.props.tier)||"";return"control"!==t.experimentAssignment?n||e?Object(A.d)("{mysteryGiftCount, plural,            one {{displayName} is gifting {mysteryGiftCount} Tier {tier} Sub!}            other {{displayName} is gifting {mysteryGiftCount} Tier {tier} Subs!}}",{displayName:r.createElement(W.a,{bold:!0,type:W.e.Span},Object(zn.a)(n,e)),mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner"):Object(A.d)("{mysteryGiftCount, plural,          one {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Sub!}          other {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Subs!}}",{mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner"):n||e?Object(A.d)("{mysteryGiftCount, plural,          one {{displayName} is gifting {mysteryGiftCount} Tier {tier} Sub to the community!}          other {{displayName} is gifting {mysteryGiftCount} Tier {tier} Subs to the community!}}",{displayName:r.createElement(W.a,{bold:!0,type:W.e.Span},Object(zn.a)(n,e)),mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner"):Object(A.d)("{mysteryGiftCount, plural,        one {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Sub to the community!}        other {An anonymous gifter is gifting {mysteryGiftCount} Tier {tier} Subs to the community!}}",{mysteryGiftCount:t.props.mysteryGiftCount,tier:i},"MysteryGiftChatBanner")},t.onGiftMoreClick=function(){t.props.showSubModal({channelLogin:t.props.channelLogin||"",subLocation:Wn.b.CommunityGiftHighlight,defaultPage:Gn.a.CommunityGiftSelect,subButtonCTA:"Gift "+t.giftMoreCount+" More"})},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.mysteryGiftCount!==e.mysteryGiftCount&&this.setState({start:Date.now()})},t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(z.a,{alignItems:G.b.Center,display:G.h.Flex,flexDirection:G.i.Row,padding:{left:1},className:"mystery-gift-chat-banner"},r.createElement(z.a,{display:G.h.Flex,flexGrow:1,margin:{right:1}},r.createElement(z.a,{padding:{right:1},display:G.h.Flex,alignItems:G.b.Center,className:"mystery-gift-chat-banner__icon"},r.createElement(Je.a,{src:Vn.a,alt:Object(A.d)("Mystery gifts being given out!","MysteryGiftChatBanner")})),r.createElement(W.a,null,this.getBannerText())),"control"!==this.experimentAssignment&&this.giftMoreCount>0&&r.createElement(z.a,{fullWidth:!0,display:G.h.Flex,justifyContent:G.m.Center,flexShrink:2},r.createElement(de.a,{onClick:this.onGiftMoreClick,type:de.d.Secondary},Object(A.d)("{giftCount, plural, one {Gift {giftCount} More!} other {Gift {giftCount} More!}}",{giftCount:this.giftMoreCount},"MysteryGiftChatBanner")))))},t.prototype.getGiftMoreCount=function(e){return"control"===e?0:"variant_1"===e?1:"variant_2"===e?3:"variant_3"===e?5:0},t}(r.Component)),Yn=Object(ee.d)(Object(te.a)(qn,{options:function(e){return{variables:{id:e.userID}}},skip:function(e){return!e.userID}}))(Qn),Kn=Bn.a.wrap((function(){return Promise.all([n.e(0),n.e(121)]).then(n.bind(null,"hfwl"))}),"SubModal");var Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Yn,{channelLogin:this.props.channelLogin,mysteryGiftCount:this.props.mysteryGiftCount,tier:this.props.tier,userID:this.props.userID,uuid:this.props.uuid,showSubModal:this.props.showSubModal})},t}(r.Component),Xn=Object(R.b)(null,(function(e){return Object(ee.b)({showSubModal:function(e){var t=Object(i.__rest)(e,[]);return Object(ie.e)(Kn,t)}},e)}))(Jn),Zn=function(e){return r.createElement(V.a,{visible:e.visible,onClick:e.onClick,progressBar:{duration:e.eventData.durationS,onDurationEnd:e.removeHighlight},header:r.createElement(Xn,{key:"MysteryGiftChatBanner-"+e.eventData.uuid,channelLogin:e.eventData.channelLogin,mysteryGiftCount:e.eventData.mysteryGiftCount,tier:e.eventData.tier,userID:e.eventData.userID,uuid:e.eventData.uuid})})},$n=n("Kukq"),ei=n("Ty5D"),ti=n("oMhb");var ni=Object(te.a)(ti,{options:function(e){return{variables:{sourceChannelID:e.raid.sourceChannelID,targetChannelID:e.raid.targetChannelID}}}})((function(e){if(e.data.loading||e.data.error)return r.createElement("div",null);var t=e.component,n=Object(i.__rest)(e,["component"]);return r.createElement(t,Object(i.__assign)({},n))}));var ii=n("+fKd"),ri=n("zwNz"),ai=n("2xye"),oi={raid_type:"now"};function si(e,t){ci(ai.SpadeEventType.RaidPromptImpression,e,t)}function ci(e,t,n){var r=Object(i.__assign)({raid_creator_id:Number(t.creatorID),raid_source_id:Number(t.sourceChannelID),raid_target_id:Number(t.targetChannelID),raid_id:t.id},n);A.o.track(e,r)}var li=n("eRLD"),ui=n("iF2L"),di={"data-test-selector":"raid-message"},mi={"data-test-selector":"raid-cancel-button"},pi={"data-test-selector":"raid-now-button"},fi={"data-test-selector":"raid-error-button"},hi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={didError:!1},t.handleRaidNow=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.onRaidNow()];case 1:return(e=t.sent()).data&&e.data.goRaid&&e.data.goRaid.error&&e.data.goRaid.error.code?this.setState({didError:!0}):this.setState({didError:!1}),[3,3];case 2:return t.sent(),this.setState({didError:!0}),[3,3];case 3:return[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){si(this.props.raid,oi)},t.prototype.componentDidUpdate=function(){this.props.raid.isGoing&&this.props.targetChannel.login&&this.props.onRaidGo(this.props.targetChannel.login)},t.prototype.render=function(){var e=this.props.targetChannel,t=e.displayName,n=e.login,a=e.profileImageURL;return r.createElement(r.Fragment,null,r.createElement(z.a,{display:G.h.Flex,justifyContent:G.m.Between},r.createElement(z.a,{alignItems:G.b.Center,display:G.h.Flex},r.createElement(ui.a,{size:30,src:a,alt:t||n||"",userLogin:n}),r.createElement(z.a,Object(i.__assign)({padding:{left:1}},di),this.props.timerPhase.isWaiting?vi(this.props,this.props.timerPhase.secondsUntilTransition):gi(this.props))),this.props.timerPhase.isReady&&this.props.timerPhase.secondsUntilTransition<=10&&r.createElement(ri.a,{seconds:this.props.timerPhase.secondsUntilTransition})),r.createElement(z.a,{display:G.h.Flex,justifyContent:this.state.didError?G.m.Between:G.m.End,margin:{top:.5}},this.state.didError&&r.createElement(z.a,Object(i.__assign)({display:G.h.Flex,alignItems:G.b.Center},fi),r.createElement(K.a,{asset:J.a.NotificationError}),Object(A.d)("Error","RaidNowError")),r.createElement(z.a,{display:G.h.Flex},r.createElement(z.a,{margin:{right:1}},r.createElement(de.a,Object(i.__assign)({type:de.d.Secondary,size:de.b.Small,onClick:this.props.onCancelRaid},mi),Object(A.d)("Cancel","RaidCreatorButton"))),r.createElement(z.a,null,r.createElement(de.a,Object(i.__assign)({size:de.b.Small,onClick:this.handleRaidNow,disabled:this.props.timerPhase.isWaiting},pi),Object(A.d)("Raid Now","RaidCreatorButton"))))))},t}(r.Component),vi=function(e,t){return Object(A.d)("{raiderCount, plural,       one {<x:strong># viewer </x:strong><x:span>is ready to raid</x:span> <x:block>{targetDisplayName} in {secondsRemaining}</x:block>}       other {<x:strong># viewers </x:strong><x:span>are ready to raid</x:span> <x:block>{targetDisplayName} in {secondsRemaining}</x:block>}}",{"x:block":function(e){return r.createElement(W.a,{type:W.e.Strong},e)},"x:strong":function(e){return r.createElement(W.a,{key:"raid-count",type:W.e.Strong},e)},"x:span":function(e){return r.createElement(W.a,{type:W.e.Span},e)},raiderCount:e.raid.viewerCount,secondsRemaining:Object(Tn.b)(t,Tn.a.HumanizedShort),targetDisplayName:e.targetChannel.displayName||e.targetChannel.login||""},"RaidCreatorMessageTimeLeft2")},gi=function(e){return Object(A.d)("{raiderCount, plural,       one {<x:strong># viewer </x:strong><x:span>is ready to raid</x:span> <x:block>{targetDisplayName} now</x:block>}       other {<x:strong># viewers </x:strong><x:span>are ready to raid</x:span> <x:block>{targetDisplayName} now</x:block>}}",{"x:block":function(e){return r.createElement(W.a,{type:W.e.Strong},e)},"x:strong":function(e){return r.createElement(W.a,{key:"raid-count",type:W.e.Strong},e)},"x:span":function(e){return r.createElement(W.a,{type:W.e.Span},e)},raiderCount:e.raid.viewerCount,targetDisplayName:e.targetChannel.displayName||e.targetChannel.login||""},"RaidCreatorMessageCanRaid2")},bi=function(e){return r.createElement(li.a,{raid:e.raid},(function(t){return r.createElement(hi,Object(i.__assign)({},e,{timerPhase:t}))}))},yi=n("ll/k"),ki=n("rO5f"),Si=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleLeaveRaid=function(){clearTimeout(t.joinDelayTimerID),t.props.onLeaveRaid()},t.handleCountdownEnd=function(){t.props.targetChannel.login&&t.props.onRaidGo(t.props.targetChannel.login)},t.handleSecondsUpdate=function(e){t.setState({remainingJitterSeconds:e})},t.channelPointsMessage=function(){return t.props.isChannelPointsEnabled&&t.props.raidPointAmount?Object(A.d)("Raid for {pointIcon} +{raidPointAmount}",{pointIcon:r.createElement(z.a,{margin:{left:.5}},r.createElement(Oe.b,null)),raidPointAmount:t.props.raidPointAmount},"RaidViewerMessage"):null},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.hasJoined&&(this.joinDelayTimerID=setTimeout(this.props.onJoinRaid,Object(yi.a)(5e3))),si(this.props.raid,oi)},t.prototype.componentWillUnmount=function(){clearTimeout(this.joinDelayTimerID)},t.prototype.render=function(){var e=this.props.targetChannel,t=e.displayName,n=e.login,i=e.profileImageURL;return r.createElement(r.Fragment,null,r.createElement(z.a,{justifyContent:G.m.Between,display:G.h.Flex},r.createElement(z.a,{fullWidth:!0,alignItems:G.b.Center,display:G.h.Flex},r.createElement(z.a,{flexGrow:0,flexShrink:0},r.createElement(ui.a,{size:30,src:i,alt:t||n||"",userLogin:n})),r.createElement(z.a,{fullWidth:!0,padding:{x:1}},Ei(this.props),r.createElement(z.a,{display:G.h.Flex,flexDirection:G.i.Row},this.channelPointsMessage())),r.createElement(z.a,{alignSelf:G.c.Center},this.renderActionable()))),this.props.raid.isGoing&&r.createElement(ki.a,{from:this.props.raid.jitterSeconds,onSecondsUpdate:this.handleSecondsUpdate,onCountdownEnd:this.handleCountdownEnd}))},t.prototype.renderActionable=function(){return this.props.raid.isGoing&&this.props.raid.jitterSeconds>2&&void 0!==this.state.remainingJitterSeconds?r.createElement(ri.a,{seconds:this.state.remainingJitterSeconds}):this.props.hasJoined?r.createElement(Ci,{onLeaveRaid:this.handleLeaveRaid}):r.createElement(Oi,{onJoinRaid:this.props.onJoinRaid})},t}(r.Component),Ei=function(e){return Object(A.d)("{viewerCount, plural,     one {{sourceDisplayName} is raiding {targetDisplayName} with # raider. }     other {{sourceDisplayName} is raiding {targetDisplayName} with # raiders. }}",{sourceDisplayName:r.createElement(W.a,{type:W.e.Strong},e.sourceChannel.displayName||e.sourceChannel.login),targetDisplayName:r.createElement(W.a,{type:W.e.Strong},e.targetChannel.displayName||e.sourceChannel.login),viewerCount:e.raid.viewerCount},"RaidViewerMessage2")},Ci=function(e){var t=e.onLeaveRaid;return r.createElement(de.a,{size:de.b.Small,type:de.d.Secondary,onClick:t},Object(A.d)("Leave","RaidViewerButton"))},Oi=function(e){var t=e.onJoinRaid;return r.createElement(de.a,{size:de.b.Small,onClick:t},Object(A.d)("Join","RaidViewerButton"))};var Di=Object(ae.b)((function(e){return{raidPointAmount:e.raidPointAmount,isChannelPointsEnabled:e.isChannelPointsEnabled}}))(Si),Pi=n("cr+I"),_i=n("SSXq"),Ti=n("l8aq");function Ni(e,t,n){var r;if(void 0===n&&(n=!1),function(e){return/^\/moderator\/.+/.test(e)}(e.pathname))r=n?Object(Ti.b)(t):"/"+t;else if(function(e){return!!Object(ei.g)(e,{exact:!0,path:"/:login"})}(e.pathname))r="/"+t;else{if(!function(e){return/^\/.+\/chat$/.test(e)}(e.pathname))return"";r="/"+t+"/chat"}var a=Object(i.__assign)(Object(i.__assign)({},Pi.parse(e.search)),{referrer:"raid"});return Object(_i.a)(r+"?"+Pi.stringify(a),"www")}var wi={"data-test-selector":"raid-banner"},ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRaidGo=function(e){var n,i;if(t.props.onExpire(t.props.raid),t.hasJoinedCurrentRaid){var r=Ni(t.props.history.location,e,!!(null===(i=null===(n=t.props.data.targetChannel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.isModerator));if(r)if("/"===r.charAt(0)){var a={channelView:ii.a.Watch,medium:"twitch_channel",content:"raid_channel",raid_id:t.props.raid.id};t.props.history.push(r,a)}else window.location.assign(r)}},t.handleJoinRaid=function(){var e,n;e=t.props.raid,n=oi,ci(ai.SpadeEventType.RaidPromptJoin,e,n),t.props.onJoin(t.props.raid)},t.handleLeaveRaid=function(){var e,n;e=t.props.raid,n=oi,ci(ai.SpadeEventType.RaidPromptLeave,e,n),t.props.onLeave(t.props.raid)},t.handleRaidNow=function(){var e;return e=t.props.raid,ci(ai.SpadeEventType.RaidPromptNow,e,oi),t.props.onRaidNow(t.props.raid)},t.handleCancelRaid=function(){var e,n;e=t.props.raid,n=oi,ci(ai.SpadeEventType.RaidPromptCancel,e,n),t.props.onCancel(t.props.raid)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.data,t=e.sourceChannel,n=e.targetChannel;if(this.shouldRenderRaidBanner&&(null==t?void 0:t.login)&&(null==n?void 0:n.login)){var a=this.props.raid,o=r.createElement(Di,{hasJoined:this.hasJoinedCurrentRaid,onJoinRaid:this.handleJoinRaid,onLeaveRaid:this.handleLeaveRaid,onRaidGo:this.handleRaidGo,raid:a,sourceChannel:t,targetChannel:n});return this.isRaidCreator&&(o=r.createElement(bi,{onCancelRaid:this.handleCancelRaid,onRaidNow:this.handleRaidNow,onRaidGo:this.handleRaidGo,raid:a,sourceChannel:t,targetChannel:n})),r.createElement(z.a,Object(i.__assign)({fullWidth:!0},wi),o)}return null},Object.defineProperty(t.prototype,"shouldRenderRaidBanner",{get:function(){var e=this.props.raid,t=e.isGoing&&this.hasJoinedCurrentRaid;return(e.isAnnouncing||t)&&!e.isExpired},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRaidCreator",{get:function(){var e=this.props.raid;return Boolean(e&&this.props.user&&this.props.user.id===e.creatorID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasJoinedCurrentRaid",{get:function(){var e=this.props.raid;return!!e&&(this.isRaidCreator||e.hasJoined)},enumerable:!0,configurable:!0}),t}(r.Component);var Ii,xi=Object(ee.d)(Object(R.b)((function(e){return{user:Object(L.e)(e)}})),ei.l,(function(e){return function(t){return r.createElement(ni,Object(i.__assign)({},t,{component:e}))}}))(ji),Ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.raid?r.createElement(xi,{raid:this.props.raid,onJoin:this.props.onJoin,onLeave:this.props.onLeave,onExpire:this.props.onExpire,onCancel:this.props.onCancel,onRaidNow:this.props.onRaidNow}):null},t}(r.Component),Ai=n("G8UE"),Mi=function(e){var t=e.event,n=t.channelID,i=t.raid,a=t.onJoin,o=t.onLeave,s=t.onCancel,c=t.onCreate,l=t.onExpire,u=t.onRaidNow,d=Object(R.e)(L.e),m=d&&i&&d.id===i.creatorID,p=Object(r.useState)(Ai.CreationStatus.Waiting),f=p[0],h=p[1],v=Object(r.useCallback)((function(){h(Ai.CreationStatus.Ready)}),[h]),g=Object(r.useCallback)((function(){h(Ai.CreationStatus.Forced)}),[h]);return r.createElement(V.a,{visible:e.visible,onClick:e.onClick,progressBar:m?function(){if(i.isAnnouncing)switch(f){case Ai.CreationStatus.Waiting:return{duration:10,onDurationEnd:v};case Ai.CreationStatus.Ready:return{duration:80,onDurationEnd:g};default:return}}():function(){if(i.isAnnouncing)return{duration:90}}(),header:r.createElement(Ri,{channelID:n,raid:i,onCancel:s,onExpire:l,onJoin:a,onLeave:o,onRaidNow:u,onCreate:c})})};!function(e){e.Expand="expand",e.Collapse="collapse",e.NavLeft="nav_left",e.NavRight="nav_right",e.SelectHighlight="select_highlight",e.ViewAll="view_all",e.CloseViewAll="close_view_all"}(Ii||(Ii={}));var Fi,Li=function(e){var t={user_id:e.userID||null,channel_id:e.channelID,impression_type:e.impressionType,highlights_count:e.highlightsCount,type:e.type,event_id:e.eventID,stack_uuid:e.stackUUID};S.p.track(ai.SpadeEventType.CommunityHighlightClientInteraction,t)},Bi=(n("bNmR"),function(e){var t=r.useContext(it.c),n=r.useContext(it.b),i=n.highlights,a=n.uuid,o=n.listAllView,s=Object(R.e)((function(e){var t=Object(L.e)(e);return t&&t.id})),c=r.useCallback((function(){t(Object(rt.f)(e.highlight.id))}),[t,e.highlight.id]),l=r.useCallback((function(){var n=e.highlight.expanded?Ii.Collapse:Ii.Expand;Li({userID:s,channelID:e.channelID,impressionType:e.highlight.event.type,highlightsCount:i.length,stackUUID:a,type:n,eventID:e.highlight.event.eventID}),t(Object(rt.g)(e.highlight.id))}),[t,i.length,e.channelID,e.highlight.event.eventID,e.highlight.event.type,e.highlight.expanded,e.highlight.id,s,a]),u=r.useRef(!1),d=r.useRef(!1);r.useEffect((function(){var t,n;!u.current&&e.visible&&(t={userID:s,channelID:e.channelID,type:e.highlight.event.type,eventID:e.highlight.event.eventID,typeDetails:e.highlight.event.typeDetails,highlightsCount:i.length,stackUUID:a,viewUUID:e.highlight.viewUUID},n={user_id:t.userID||null,channel_id:t.channelID,type:t.type,type_details:t.typeDetails,event_id:t.eventID,highlights_count:t.highlightsCount,stack_uuid:t.stackUUID,view_uuid:t.viewUUID},S.p.track(ai.SpadeEventType.CommunityHighlightClientImpression,n),u.current=!0)}),[s,i.length,a,e.visible,e.channelID,e.highlight.event,e.highlight.viewUUID]),r.useEffect((function(){var t,n;u.current||d.current||e.visible||(t={channelID:e.channelID,eventID:e.highlight.event.eventID,highlightsCount:i.length,stackUUID:a,type:e.highlight.event.type,typeDetails:e.highlight.event.typeDetails,userID:s,viewUUID:e.highlight.viewUUID},n={channel_id:t.channelID,event_id:t.eventID,highlights_count:t.highlightsCount,stack_uuid:t.stackUUID,type_details:t.typeDetails,type:t.type,user_id:t.userID||null,view_uuid:t.viewUUID},S.p.track(ai.SpadeEventType.CommunityHighlightClientImpressionQueued,n),d.current=!0)}),[s,i.length,a,e.visible,e.channelID,e.highlight.event,e.highlight.viewUUID]);return r.createElement(r.Fragment,null,r.createElement(B.a,{ref:U}),r.createElement(z.a,{background:G.d.Base,display:e.visible?G.h.Flex:G.h.Hide,flexDirection:G.i.Column,justifyContent:G.m.Center,position:G.o.Relative,elevation:2,border:!0,borderRadius:G.e.Large,margin:e.margin,fullWidth:!0,className:"community-highlight"},function(t){switch(t.event.type){case Fe.c.Raid:return r.createElement(Mi,{onClick:e.onClick,event:t.event,visible:e.visible});case Fe.c.ChannelPoll:return r.createElement(Me,{onClick:e.onClick,toggleExpanded:l,expanded:e.expanded,visible:e.visible,removeHighlight:c});case Fe.c.MWDropAvailable:return r.createElement(St.c,{channelID:e.channelID,onClick:e.onClick,toggleExpanded:l,expanded:e.expanded,event:t.event,visible:e.visible,removeHighlight:c,isUserLoggedIn:void 0!==s&&s.length>0});case Fe.c.E2DropAvailable:return r.createElement(St.b,{onClick:e.onClick,toggleExpanded:l,expanded:e.expanded,event:t.event,visible:e.visible,removeHighlight:c,isUserLoggedIn:void 0!==s&&s.length>0});case Fe.c.DropClaim:return r.createElement(St.a,{onClick:e.onClick,toggleExpanded:l,expanded:e.expanded,event:t.event,visible:e.visible,removeHighlight:c,listAllView:o});case Fe.c.Megacheer:return r.createElement(Ln,{onClick:e.onClick,visible:e.visible,event:t.event,removeHighlight:c});case Fe.c.MysterySubGift:return r.createElement(Zn,{eventData:t.event,visible:e.visible,onClick:e.onClick,removeHighlight:c});case Fe.c.HypeTrain:return r.createElement(Mn,{expanded:e.expanded,toggleExpanded:l,onClick:e.onClick});case Fe.c.Celebrations:return r.createElement($,{eventData:t.event,expanded:e.expanded,visible:e.visible,toggleExpanded:l,removeHighlight:c});case Fe.c.CommunityChallenge:return r.createElement(nt.a,{channelID:e.channelID,challengeID:t.id,viewUUID:t.viewUUID,expanded:e.expanded,event:t.event,onClick:e.onClick,removeHighlight:c,toggleExpanded:l,visible:e.visible});case Fe.c.CommunityBoost:return r.createElement(tt,{channelID:e.channelID,orderID:t.id,viewUUID:t.viewUUID,expanded:e.expanded,event:t.event,onClick:e.onClick,removeHighlight:c,toggleExpanded:l,visible:e.visible});case Fe.c.CommunityPrediction:return r.createElement(kt,{event:t.event,expanded:e.expanded,onClick:e.onClick,removeHighlight:c,toggleExpanded:l,viewUUID:t.viewUUID,visible:e.visible});default:return null}}(e.highlight)))}),Ui=function(e){switch(e){case Fe.c.Raid:return Object(A.d)("Raid","HighlightTitle");case Fe.c.ChannelPoll:return Object(A.d)("Poll","HighlightTitle");case Fe.c.HypeTrain:return Object(A.d)("Hype Train","HighlightTitle");case Fe.c.MysterySubGift:return Object(A.d)("Community Gift","HighlightTitle");case Fe.c.Megacheer:return"Megacheer";default:return Object(A.d)("Event","HighlightTitle")}},Vi=n("eUaf"),zi=n("p8fB");n("IAA2");!function(e){e.ViewAllButton="view-all-button"}(Fi||(Fi={}));var Gi,Hi=function(e){var t,n=r.useState(!1),a=n[0],o=n[1],s=r.useState(!1),c=s[0],l=s[1],u=r.useState(!1),d=u[0],m=u[1],p=r.useContext(it.b),f=p.highlights,h=p.notifications,v=p.currentIndex,g=p.listAllView,b=p.uuid,y=r.useContext(it.c),k=Object(R.e)((function(e){var t=Object(L.e)(e);return t&&t.id})),S=null===(t=f[v])||void 0===t?void 0:t.expanded,E=!g&&(a||S)&&f.length>1,C=Object(F.a)(E),O=Object(A.d)("{count, plural, one {# New Event} other {# New Events}}",{count:h.length},"CommunityHighlightStack"),D=Object(A.d)("Happening Now ({count})",{count:f.length},"CommunityHighlightStack"),P=r.useCallback((function(t){Li({userID:k,channelID:e.channelID,impressionType:null,highlightsCount:f.length,stackUUID:b,type:Ii.ViewAll}),t.stopPropagation(),y(Object(rt.d)())}),[y,f,e.channelID,k,b]),_=r.useCallback((function(t){Li({userID:k,channelID:e.channelID,impressionType:null,highlightsCount:f.length,stackUUID:b,type:Ii.CloseViewAll}),t.stopPropagation(),y(Object(rt.b)())}),[y,f,e.channelID,k,b]);r.useEffect((function(){var e;return g?m(!1):!d&&f.length>1?e=setTimeout((function(){return m(!0)}),100):d&&f.length<=1&&(e=setTimeout((function(){return m(!1)}),100)),function(){return clearTimeout(e)}}),[f,d,m,g]);var T,N,w=g?Object(i.__spreadArrays)(f.filter((function(e){return h.includes(e.id)})),f.filter((function(e){return!h.includes(e.id)}))):f,j=function(t){return t.map((function(t,n){return r.createElement(Bi,{channelID:e.channelID,highlight:t,visible:!!g||n===v,key:t.id,margin:g?{bottom:1}:void 0,onClick:g?function(n){return function(t,n){Li({userID:k,channelID:e.channelID,impressionType:t.event.type,highlightsCount:f.length,stackUUID:b,type:Ii.SelectHighlight}),y(Object(rt.c)(t.id,n))}(t,n)}:void 0,expanded:!g&&t.expanded})}))},I=function(){return r.createElement(z.a,{background:G.d.Alt,className:"community-highlight-stack__header",key:"header"},r.createElement(zi.a,{type:zi.b.Alpha,border:!0,borderRadius:G.e.Large},r.createElement(z.a,{display:G.h.Flex,justifyContent:G.m.Between,alignItems:G.b.Center,padding:{y:.5,x:1}},r.createElement(W.a,{transform:W.d.Uppercase,fontWeight:G.l.SemiBold},D),r.createElement(Pe.a,{asset:J.a.GlyphArrUp}))))},B=function(t){Li({userID:k,channelID:e.channelID,impressionType:null,highlightsCount:f.length,stackUUID:b,type:t})},U=function(){if(E||C&&!g&&S&&f.length>0){var e=h.length>=1,t=1===h.length,n=P;return t&&(n=function(){return y(Object(rt.c)(h[0]))}),r.createElement(z.a,{display:G.h.Flex,justifyContent:G.m.Center,textAlign:G.q.Center,"data-test-selector":Fi.ViewAllButton,padding:S?{top:1}:{bottom:1},zIndex:G.t.Above},1===f.length?r.createElement(z.a,{padding:{y:.5}},r.createElement(W.a,{color:G.f.Alt2,transform:W.d.Uppercase,fontWeight:G.l.SemiBold},D)):r.createElement(z.a,{borderRadius:G.e.Rounded,background:e?G.d.Accent:G.d.Alt},r.createElement(zi.a,{onClick:n,type:e?zi.b.Overlay:zi.b.Alpha,borderRadius:G.e.Rounded,border:!0},r.createElement(z.a,{padding:{y:.5,x:2},borderRadius:G.e.Rounded},r.createElement(W.a,{color:e?G.f.Overlay:G.f.Link,fontWeight:G.l.SemiBold},function(){if(1===h.length){var e=f.filter((function(e){return e.id===h[0]}))[0].event.type;return Object(A.d)("1 New: {name}",{name:Ui(e)},"CommunityHighlightStack")}return h.length>1?O:1===f.length?D:Object(A.d)("View All ({count})",{count:f.length},"CommunityHighlightStack")}())))))}return null},V=x({"community-highlight-stack__card":!0,"community-highlight-stack__card--wide":1===f.length&&!g,"community-highlight-stack__card--scrollable":g&&c}),H=x({"community-highlight-stack__list-all":g}),q={disableScroll:x({"community-highlight-stack__scroll-area--disable":!g}),content:x({"community-highlight-stack__scroll-content":g,"community-highlight-stack__scroll-content--disable":!g})};return 0===f.length?null:r.createElement(Be.a,{position:G.o.Absolute,zIndex:G.t.Above,fullWidth:!0,fullHeight:g},r.createElement("div",{onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.createElement(z.a,{className:H,fullWidth:!0,fullHeight:g,position:G.o.Absolute,zIndex:G.t.Above},r.createElement(Be.a,{position:G.o.Absolute,fullWidth:!0,fullHeight:!0,zIndex:G.t.Below},r.createElement("div",{onClick:g?_:void 0})),r.createElement(z.a,{background:S?G.d.Base:void 0},S&&U(),r.createElement(he.a,{show:d,type:he.d.ScaleOver,duration:he.c.Long},r.createElement(z.a,{fullWidth:!0,position:G.o.Absolute,zIndex:G.t.Above},r.createElement(z.a,{className:"community-highlight-stack__backlog-card",border:!0,borderRadius:G.e.Large,position:G.o.Absolute,background:G.d.Base,zIndex:G.t.Below,key:"backlog"}))),r.createElement(M.b,{suppressScrollX:!0,className:q.disableScroll,scrollContentClassName:q.disableScroll,contentClassName:q.content},r.createElement(Be.a,{flexGrow:1},r.createElement("div",{onClick:g?_:void 0},!g&&f.length>1&&r.createElement(Be.a,{position:G.o.Absolute,className:"community-highlight-stack__nav-target",attachTop:!0,attachLeft:!0},r.createElement("div",{onClick:function(){return B(Ii.NavLeft)}})),r.createElement(he.a,{type:he.d.ScaleOver,duration:he.c.Long,show:f.length>0,transitionInitialMount:!0},r.createElement(z.a,{className:V},(T=j(w),N=h.length,g&&N>0&&N!==w.length?T=Object(i.__spreadArrays)([I(),r.createElement(z.a,{margin:{bottom:1},fontSize:G.k.Size5,key:"pill"},r.createElement(Vi.a,{label:O,type:Vi.b.Brand,transform:W.d.Uppercase}))],T.slice(0,N),[r.createElement(z.a,{display:G.h.Flex,justifyContent:G.m.Center,fullWidth:!0,key:"separator"},r.createElement(z.a,{className:"community-highlight-stack__separator",margin:{bottom:1}}))],T.slice(N)):g&&(T=Object(i.__spreadArrays)([I()],T)),r.createElement(fe.a,{transitionType:g?he.d.SlideOverTop:he.d.ScaleOver,duration:he.c.Long},T)))),!g&&f.length>1&&r.createElement(Be.a,{position:G.o.Absolute,className:"community-highlight-stack__nav-target",attachTop:!0,attachRight:!0},r.createElement("div",{onClick:function(){return B(Ii.NavRight)}})),!S&&U(),r.createElement(M.c,{visible:function(){c&&l(!1)},notVisible:function(){c||l(!0)},pixelThreshold:20}))))))))},Wi=function(){var e=r.useContext(y),t=e.isOptedOut,n=e.celebrations,i=e.popCelebration,a=r.useContext(it.c);return r.useEffect((function(){if(n.length>0){var e=n[0];e&&e.celebration&&e.celebration.celebration_id&&a(Object(rt.e)({type:Fe.c.Celebrations,effect:e.celebration.effect,intensity:e.celebration.intensity,celebrationUserDisplayName:e.benefactor_name},e.event_id))}}),[a,n,t,i]),null},qi=Object(ee.d)(Object(R.b)((function(e){return{user:Object(L.e)(e)}})),Object(se.b)((function(e){return{viewablePoll:e.viewablePoll}})))((function(e){var t=e.viewablePoll,n=e.user,i=t&&t.id,a=Object(r.useRef)(null),o=Object(r.useContext)(it.c);return Object(r.useEffect)((function(){i&&(Object(le.c)(i,n&&n.id||null)||o(Object(rt.e)({type:Fe.c.ChannelPoll},i)));a.current&&a.current!==i&&o(Object(rt.f)(a.current)),a.current=i}),[n,i,o]),null})),Qi=n("wUQP");!function(e){e.CANCELLED="ORDER_STATE_CANCELLED",e.DELIVERING="ORDER_STATE_DELIVERING",e.FULFILLED="ORDER_STATE_FULFILLED",e.PENDING="ORDER_STATE_PENDING",e.UNKNOWN="ORDER_STATE_INVALID"}(Gi||(Gi={}));var Yi=n("VlKc"),Ki=function(e){var t=e.channelID,n=e.channelLogin,i=Object(Yi.a)(n).isLive,o=r.useContext(it.b).highlights,c=r.useContext(it.c),d=Object(a.a)(Object(l.s)(t),!t,(function(e){return!(e.type===s.PubsubMessageType.CommunityBoostStart||e.type===s.PubsubMessageType.CommunityBoostProgression||e.type===s.PubsubMessageType.CommunityBoostEnd)})),m=d[0],p=d[1],f=r.useCallback((function(e){return!!o.find((function(t){return t.id===e}))}),[o]),h=Object(F.a)(m),v=function(e){var t,n;if(!e||e.type!==s.PubsubMessageType.CommunityBoostProgression)return 0;if(!(null===(t=e.data)||void 0===t?void 0:t.total_goal_progress)||!(null===(n=e.data)||void 0===n?void 0:n.total_goal_target))return 0;var i=e.data,r=i.total_goal_progress,a=i.total_goal_target;return 0===a?0:Number((r/a).toFixed(2))},g=r.useCallback((function(){var e=v(m),t=v(h);return t<1&&e>=1?Fe.a.Ended:t<.75&&e>=.75?Fe.a.ThreeQuarter:t<.5&&e>=.5?Fe.a.Half:t<.25&&e>=.25?Fe.a.Quarter:Fe.a.Started}),[m,h]);return r.useEffect((function(){if(Object(Qi.c)(Ue.d)){var e=m;if(!(!i||p&&p.error)&&e&&e.data&&e!==h){var t=Object(u.c)(),n=e.data,r=n.channel_id,a=n.ending_reason,o=n.boost_orders,l=n.total_goal_progress,d=n.total_goal_target;switch(o&&1===o.length&&(t=o[0].ID),e.type){case s.PubsubMessageType.CommunityBoostStart:c(Object(rt.e)({type:Fe.c.CommunityBoost,typeDetails:Fe.a.Started,channel_id:r,boost_orders:o,total_goal_progress:l,total_goal_target:d,eventID:t},t));break;case s.PubsubMessageType.CommunityBoostProgression:var v=g();if(v===Fe.a.Started||v===Fe.a.Ended)return;c(Object(rt.e)({type:Fe.c.CommunityBoost,typeDetails:g(),channel_id:r,boost_orders:o,total_goal_progress:l,total_goal_target:d,eventID:t},t));break;case s.PubsubMessageType.CommunityBoostEnd:a&&a===Gi.FULFILLED?c(Object(rt.e)({type:Fe.c.CommunityBoost,typeDetails:Fe.a.Ended,channel_id:r,boost_orders:o,total_goal_progress:l,total_goal_target:d,eventID:t},t)):f(t)&&c(Object(rt.f)(t))}}}}),[c,g,f,m,h,p,i]),null},Ji=n("emD7"),Xi=n("8wAl"),Zi=function(e){var t=e.channelID,n=e.channelLogin,i=Object(r.useContext)(it.c),o=Object(r.useContext)(ae.a).communityGoals,c=Object(r.useContext)(it.b).highlights,u=Object(Yi.a)(n).isLive,m=Object(r.useState)(o),p=m[0],f=m[1],h=Object(a.a)(Object(l.t)(t),!t,(function(e){return!(e.type===s.PubsubMessageType.CommunityPointsCommunityGoalContributed||e.type===s.PubsubMessageType.CommunityPointsCommunityGoalCreated||e.type===s.PubsubMessageType.CommunityPointsCommunityGoalDeleted||e.type===s.PubsubMessageType.CommunityPointsCommunityGoalUpdated)})),v=h[0],g=h[1],b=Object(Ji.a)(v),y=Object(r.useState)(!1),k=y[0],S=y[1],E=function(e){return e.pointsContributed/e.amountNeeded},C=Object(r.useCallback)((function(e){return!!c.find((function(t){return t.id===e}))}),[c]),O=Object(r.useCallback)((function(e,t){if(e.status===d.fb.STARTED&&t.status===d.fb.ENDED&&t.pointsContributed>=t.amountNeeded)return Fe.b.Ended;if(e.status===d.fb.UNSTARTED&&t.status===d.fb.STARTED)return Fe.b.Started;if(e.status===d.fb.STARTED&&t.status===d.fb.STARTED){var n=E(e),i=E(t);if(n<.95&&i>=.95)return Fe.b.NinetyFive;if(n<.75&&i>=.75)return Fe.b.ThreeQuarter;if(n<.5&&i>=.5)return Fe.b.Half;if(n<.25&&i>=.25)return Fe.b.Quarter}return null}),[]),D=Object(r.useCallback)((function(e,t){var n=e.find((function(e){return e.id===t.id}));if(n&&u&&!C(t.id)){var r=O(n,t);r&&i(Object(rt.e)({type:Fe.c.CommunityChallenge,typeDetails:r,data:t,eventID:t.id},t.id))}}),[i,O,C,u]);return Object(r.useEffect)((function(){!k&&u&&(o.forEach((function(e){(function(e){if(!e.startedAt||e.status!==d.fb.STARTED)return!1;var t=(new Date).getTime()-new Date(e.startedAt).getTime();return Math.ceil(t/6e4)<=5})(e)&&i(Object(rt.e)({type:Fe.c.CommunityChallenge,typeDetails:Fe.b.Started,data:e,eventID:e.id},e.id))})),S(!0))}),[o,i,k,u]),Object(r.useEffect)((function(){if(!(g&&g.error||!v||v===b)){var e,t,n=p;switch(f(o),v.type){case s.PubsubMessageType.CommunityPointsCommunityGoalContributed:return e=v,t=Object(Xi.b)(e.data.contribution.goal),void D(n,t);case s.PubsubMessageType.CommunityPointsCommunityGoalUpdated:return e=v,void((t=Object(Xi.b)(e.data.community_goal)).status===d.fb.ARCHIVED&&C(t.id)?i(Object(rt.f)(t.id)):D(n,t));case s.PubsubMessageType.CommunityPointsCommunityGoalCreated:case s.PubsubMessageType.CommunityPointsCommunityGoalDeleted:default:return}}}),[p,D,o,i,C,v,b,g]),null},$i=function(e){var t=e.channelLogin,n=e.channelID,i=Object(r.useContext)(it.b).highlights,o=Object(r.useContext)(it.c),c=function(e){var t=[],n=[];return e.forEach((function(e){switch(e.status){case d.Jd.ACTIVE:t.push(e);break;case d.Jd.RESOLVE_PENDING:case d.Jd.RESOLVED:n.push(e)}})),[t,n]}(Object(r.useContext)(at.c).predictions),u=c[0],m=c[1],p=Object(r.useCallback)((function(e){return!!i.find((function(t){return t.id===e}))}),[i]),f=Object(r.useCallback)((function(e){var t=e.endedAt;if(!t)return!1;var n=new Date,i=new Date(t);return n.getTime()-i.getTime()<3e5}),[]),h=Object(r.useCallback)((function(e,n){p(e)||o(Object(rt.e)({type:Fe.c.CommunityPrediction,typeDetails:n,predictionID:e,channelLogin:t,eventID:e},e))}),[p,o,t]);Object(We.a)((function(){u.forEach((function(e){Object(st.b)(e)>=2&&h(e.id,Fe.e.Started)})),m.forEach((function(e){f(e)&&h(e.id,Fe.e.Result)}))}));var v=Object(a.a)(Object(l.u)(n||""),!n,(function(e){return!(e.type===s.PubsubMessageType.CommunityPointsPredictionEventCreated||e.type===s.PubsubMessageType.CommunityPointsPredictionEventUpdated)})),g=v[0],b=v[1],y=Object(Ji.a)(g);return Object(r.useEffect)((function(){if(!(b&&b.error||!g||g===y))switch(g.type){case s.PubsubMessageType.CommunityPointsPredictionEventCreated:return h(g.data.event.id,Fe.e.Started);case s.PubsubMessageType.CommunityPointsPredictionEventUpdated:return d.Jd.RESOLVE_PENDING===g.data.event.status?h(g.data.event.id,Fe.e.Result):void 0;default:return}}),[g,b,y,h]),null},er=function(e){var t=e.channelLogin,n=e.channelID;return Object(Qi.c)("copo_predictions")?r.createElement($i,{channelLogin:t,channelID:n}):null},tr=n("SpWp"),nr=n("nTAV"),ir=n("bGTo"),rr=n("KhHV"),ar=n("m0uL"),or=function(e){var t,n,c,u,m,p,f=r.useContext(it.c),h=e.channelLogin,v=Object(R.e)(L.e),g=Object(Yi.a)(h).isLive||!1,b=Object(o.a)(),y=Object(o.d)(tr,{variables:{channelID:e.channelID}}).data,k=(null===(t=null==y?void 0:y.channel)||void 0===t?void 0:t.id)||"",S=(null==v?void 0:v.id)||"",E=(null==v?void 0:v.login)||"",C=r.useCallback((function(e){return e!==d.kc.EXPIRED&&e!==d.kc.UNKNOWN}),[]),O=r.useRef(!0);r.useEffect((function(){if(g&&E&&O.current){O.current=!1;var e=Object(ir.a)(h);e.length<1||Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,a,o,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t=0,n=e,i.label=1;case 1:if(!(t<n.length))return[3,6];r=n[t],i.label=2;case 2:return i.trys.push([2,4,,5]),[4,b.query({query:ar,variables:{dropInstanceID:r}})];case 3:return a=i.sent().data,o=Object(nr.a)(S,k,h,a,!1),C(a.dropEligibility.status)?(f(Object(rt.e)(o,r)),[3,5]):(Object(ir.c)(h,r),[2]);case 4:return s=i.sent(),A.k.warn("[DropsHighlightService] error found when verifying eligibility",s),[3,5];case 5:return t++,[3,1];case 6:return[2]}}))}))}}),[k,h,b,f,g,C,S,E]);var D=(null===(n=null==y?void 0:y.channel)||void 0===n?void 0:n.viewerDropCampaigns)&&(null===(c=null==y?void 0:y.channel)||void 0===c?void 0:c.viewerDropCampaigns.length)&&g,P=(null===(u=null==y?void 0:y.channel)||void 0===u?void 0:u.viewerDropCampaigns)||[],_=(null===(p=null===(m=null==y?void 0:y.currentUser)||void 0===m?void 0:m.inventory)||void 0===p?void 0:p.gameEventDrops)||[],T=r.useRef(new Set);r.useEffect((function(){var e,t;if(D)for(var n=0,i=P;n<i.length;n++){for(var r=i[n],a=[],o=0,s=r.timeBasedDrops||[];o<s.length;o++){var c=s[o];if(!T.current.has(c.id)){var l=(null===(e=null==c?void 0:c.benefitEdges)||void 0===e?void 0:e.map((function(e){return e.benefit})))||[];if(l.length&&!Object(nr.d)(c,_)){var u={type:Fe.d.MW,iconURL:l.length>1?r.imageURL:l[0].imageAssetURL,dropName:c.name,dropID:c.id,requiredMinutesWatched:c.requiredMinutesWatched,benefits:c.benefitEdges||[]};T.current.add(c.id),a.push(u)}}}0!==a.length&&(Object(rr.i)({userID:S,location:rr.d.DropsInfo,action:rr.c.Render,channelID:k,campaignID:r.id,calloutType:Fe.c.MWDropAvailable}),f(Object(rt.e)({type:Fe.c.MWDropAvailable,drops:a,endDate:r.endAt,gameName:(null===(t=r.game)||void 0===t?void 0:t.name)||"",channelName:h,channelID:k,userID:S,detailsURL:r.detailsURL,campaignIconURL:r.imageURL,campaignID:r.id},r.id+"-mw")))}}),[P,k,h,f,_,D,S]),r.useEffect((function(){var e,t;if(D)for(var n=0,i=P;n<i.length;n++){for(var r=i[n],a=[],o=0,s=r.eventBasedDrops||[];o<s.length;o++){var c=s[o];if(!T.current.has(c.id)){var l=null===(e=null==c?void 0:c.benefitEdges)||void 0===e?void 0:e.map((function(e){return e.benefit}));if(!(!l||l.length<1||Object(nr.d)(c,_))){var u={type:Fe.d.E2,iconURL:l.length>1?r.imageURL:l[0].imageAssetURL,dropName:c.name,dropID:c.id,questName:c.missionName,benefits:c.benefitEdges||[],claimDurationSeconds:c.claimDurationSeconds};T.current.add(c.id),a.push(u)}}}0!==a.length&&(Object(rr.i)({userID:S,location:rr.d.DropsInfo,action:rr.c.Render,channelID:k,campaignID:r.id,calloutType:Fe.c.E2DropAvailable}),f(Object(rt.e)({type:Fe.c.E2DropAvailable,drops:a,endDate:r.endAt,gameName:(null===(t=r.game)||void 0===t?void 0:t.name)||"",channelName:h,channelID:k,userID:S,detailsURL:r.detailsURL,campaignIconURL:r.imageURL,campaignID:r.id},r.id+"-e2")))}}),[P,k,h,f,_,D,S]);var N=Object(l.l)(e.channelID),w=Object(a.a)(N),j=w[0],I=w[1];return r.useEffect((function(){if(!(I&&I.error||I&&I.isSubscribing)&&j&&j.type===s.PubsubMessageType.DropEvent&&g&&E){var e=j.drop_instance_id;Object(ir.b)(h,e),Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,Object(nr.b)()];case 1:return i.sent(),[4,b.query({query:ar,variables:{dropInstanceID:e}})];case 2:return(t=i.sent().data)?(n=Object(nr.a)(S,k,h,t,!1),C(t.dropEligibility.status)?(Object(rr.i)({userID:S,location:t.dropEligibility.status===d.kc.ENTITLEMENT_LIMIT_REACHED?rr.d.NoNewDrops:rr.d.DropsClaimable,action:rr.c.Render,channelID:k,dropInstanceID:e,campaignID:n.campaignID,calloutType:n.type}),f(Object(rt.e)(n,e))):Object(ir.c)(h,e),[3,4]):[2];case 3:return r=i.sent(),A.k.warn("[DropsHighlightService] error found when verifying eligibility",r),[3,4];case 4:return[2]}}))}))}}),[k,h,b,f,g,j,C,I,S,E]),null},sr=function(){var e=r.useContext(Tt),t=r.useContext(it.c),n=r.useRef(null);return r.useEffect((function(){e.hypeTrainInProgress&&!n.current?(n.current=e.id,t(Object(rt.e)({type:Fe.c.HypeTrain,typeDetails:e.level.toString(),eventID:e.id},n.current))):n.current&&""===e.id&&(t(Object(rt.f)(n.current)),n.current=null)}),[e.id,e.hypeTrainInProgress,e.level,t]),null},cr=n("5zXJ"),lr=n("Uh2Q"),ur=function(e){var t=e.channelID,n=Object(r.useContext)(it.c),i=Object(r.useContext)(Tt),o=Object(a.a)(Object(l.r)(t)),c=o[0],d=o[1],m=Object(r.useState)(null),p=m[0],f=m[1],h=Object(r.useState)(null),v=h[0],g=h[1];return Object(r.useEffect)((function(){(d&&d.error||!c||c.type!==s.PubsubMessageType.CheerbombEvent||i.hypeTrainInProgress||c===v)&&(g(c),f(null)),f(c)}),[d,c,i.hypeTrainInProgress,v]),Object(r.useEffect)((function(){if(p&&p!==v){var e=p;if(e.data&&e.data.triggerType&&e.data.triggerType===lr.a.Cheer)if(e.data.triggerAmount>=5e3){var t=Object(u.c)();n(Object(rt.e)({data:e.data,iconURL:cr.g+"/owl-2019/notifications/MegaCheer-04.png",durationS:10,type:Fe.c.Megacheer},t))}else if(e.data.triggerAmount>=1e3){t=Object(u.c)();n(Object(rt.e)({data:e.data,iconURL:cr.g+"/owl-2019/notifications/MegaCheer-03.png",durationS:5,type:Fe.c.Megacheer},t))}}}),[n,v,p]),null};var dr=[5,10,20,30,40,50,60];var mr=function(e){var t=e.channelID,n=e.channelLogin,i=Object(r.useContext)(Tt),o=Object(r.useContext)(it.c),c=Object(r.useState)(null),u=c[0],d=c[1],m=Object(r.useState)(null),p=m[0],f=m[1],h=Object(a.a)(Object(l.J)(t)),v=h[0],g=h[1];return Object(r.useEffect)((function(){(g&&g.error||!v||v.type!==s.PubsubMessageType.MysteryGiftPurchase||i.hypeTrainInProgress||v===p)&&(f(v),d(null)),d(v)}),[g,v,i.hypeTrainInProgress,p]),Object(r.useEffect)((function(){if(u&&u!==p){var e,t,i=u;o(Object(rt.e)({type:Fe.c.MysterySubGift,channelLogin:n,mysteryGiftCount:i.count,tier:i.tier,userID:i.user_id,uuid:i.uuid,durationS:(e=i.count,t=A.b.get("community_sub_gifting_banner_timeouts",dr),t.length!==dr.length&&(t=dr),e<5?t[0]:e<=10?t[1]:e<=30?t[2]:e<=50?t[3]:e<=70?t[4]:e<=90?t[5]:t[6])},i.uuid))}}),[n,o,u,p]),null},pr=function(e){var t=e.channelID,n=e.raid,i=e.onJoin,a=e.onLeave,o=e.onCancel,s=e.onCreate,c=e.onExpire,l=e.onRaidNow,u=Object(r.useContext)(it.c);return Object(r.useEffect)((function(){if(n&&n.sourceChannelID===t)if((!n.hasEnded||n.isGoing&&n.hasJoined)&&!n.isExpired){u(Object(rt.e)({type:Fe.c.Raid,channelID:t,raid:n,onJoin:i,onLeave:a,onCancel:function(e){return u(Object(rt.f)(e.id)),o(e)},onCreate:s,onExpire:c,onRaidNow:l},n.id))}else u(Object(rt.f)(n.id))}),[u,n,t,i,a,o,s,c,l]),null},fr=function(e){return r.createElement(I,{channelID:e.channelID,channelLogin:e.channelLogin},r.createElement(qt,{channelLogin:e.channelLogin},r.createElement(Hi,{channelID:e.channelID}),hr(e)))},hr=function(e){return r.createElement(r.Fragment,null,r.createElement(qi,null),r.createElement(sr,null),r.createElement(ur,{channelID:e.channelID}),r.createElement($n.a,{channelID:e.channelID},(function(t){return r.createElement(pr,Object(i.__assign)({channelID:e.channelID},t))})),r.createElement(mr,{channelID:e.channelID,channelLogin:e.channelLogin}),r.createElement(or,{channelID:e.channelID,channelLogin:e.channelLogin}),r.createElement(Wi,null),r.createElement(Ki,{channelID:e.channelID,channelLogin:e.channelLogin}),r.createElement(Zi,{channelID:e.channelID,channelLogin:e.channelLogin}),r.createElement(er,{channelLogin:e.channelLogin,channelID:e.channelID}))}},DsWU:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var i=n("wUQP"),r=n("Mb07"),a="active_gift_promo_offer_feature_flag";function o(){return Object(i.c)(a)}function s(e){var t,n,i;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===r.a.ActiveSubCommunityGiftPromoOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===r.a.ActiveSubSixMultiMonthGiftPromoOffer||(null===(i=null==e?void 0:e.promotion)||void 0===i?void 0:i.name)===r.a.ActiveSubTwelveMultiMonthGiftPromoOffer}function c(e){var t,n,i;if(o()){var a=null===(i=null===(n=null===(t=e.gifting)||void 0===t?void 0:t.community)||void 0===n?void 0:n.find((function(e){return s(e.offer)})))||void 0===i?void 0:i.offer;if(a&&Object(r.e)(a)){var c=Object(r.d)(a).discountPercent;if(c)return{offer:a,discountPercent:c}}}}},EMHe:function(e,t,n){"use strict";var i=n("BLPV");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},ER7f:function(e,t,n){"use strict";var i=n("eMuj");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},Eh0y:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.AHEAD=-1]="AHEAD",e[e.ON_TIME=0]="ON_TIME",e[e.BEHIND=1]="BEHIND"}(i||(i={}));var r={amount:0,direction:i.ON_TIME}},F9EK:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CancelRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CancelRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation CancelRaid($input: CancelRaidInput!) {\ncancelRaid(input: $input) {\nraid {\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CancelRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CancelRaid")},FBRg:function(e,t,n){e.exports=n.p+"assets/paypal_2x-bddabc156344e695fa56.png"},FCKE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n("q1tI").createRef()},FT7T:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA");function r(e){switch(e){case 1:return Object(i.d)("The transaction was declined. Please use a different card or contact your bank.","TransactionErrorCode");case 2:return Object(i.d)("Your card number is invalid. Please try another card or contact your bank.","TransactionErrorCode");case 3:return Object(i.d)("Your payment cannot be completed at this time. Please try a different card.","TransactionErrorCode");case 4:return Object(i.d)("The security code you entered does not match. Please update the CVV and try again.","TransactionErrorCode");case 5:return Object(i.d)("The transaction was declined due to insufficient funds in your account. Please use a different card or contact your bank.","TransactionErrorCode");default:return Object(i.d)("Your request could not be processed. Please try again later.","TransactionErrorCode")}}},FaAX:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subBenefit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionBenefit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExtended"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"renewsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}],loc:{start:0,end:309}};i.loc.source={body:'#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\nfragment subBenefit on SubscriptionBenefit {\nid\nendsAt\nplatform\ngift {\ngifter {\nid\nlogin\ndisplayName\n}\nisGift\n}\nisDNRd\nisExtended\npendingSubscription {\n...pendingSubscription\n}\npurchasedWithPrime\nrenewsAt\ntier\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QHJn").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},Fn4s:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var i=n("/7QA"),r=n("f00E"),a=n("/rYb"),o=n("Av26"),s=n("GSI7"),c=n("eWfW"),l=n("S8uQ"),u={addRestriction:function(){return null},audioBlocked:!1,accessExpiration:null,availableQualities:[],hasPlayed:!1,isLiveLowLatencyEnabled:!0,isPlayerCoreLoading:!0,liftRestriction:function(){return null},logger:i.p.logger.withCategory("DEFAULT-PLAYER-CONTEXT-PROVIDER"),playerRefID:"",playSessionId:Object(r.c)(),playSessionStartTime:0,quality:c.a,qualityBitrate:a.b,removeError:function(){return null},restrictions:Object(s.b)(),setError:function(){return null},manualResetRequested:!1,sourceStatus:l.a.Loading,updateContext:function(){return null},resetOnSourceChange:function(){return null},playerLoadTimePromise:void 0,speed:1},d=Object(o.a)("PlayerContext",u,(function(e){return{playerContext:e}})),m=d.withMemoContext,p=d.context},FvRi:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return v}));var i,r,a,o=n("pVnL"),s=n.n(o),c=n("8OQS"),l=n.n(c),u=n("q1tI"),d=n("vOnD"),m=n("+b44");!function(e){e.Default="tw-tower--gutter-default",e.ExtraSmall="tw-tower--gutter-xs",e.Small="tw-tower--gutter-sm",e.Large="tw-tower--gutter-lg",e.None="tw-tower--gutter-none"}(r||(r={})),function(e){e[e.ExtraSmall=120]="ExtraSmall",e[e.Small=180]="Small",e[e.Medium=240]="Medium",e[e.Large=300]="Large",e[e.ExtraLarge=360]="ExtraLarge"}(a||(a={}));var p=((i={})[r.None]="0",i[r.ExtraSmall]=m.StaticTokenMap["grid-gutter-width-xs"],i[r.Small]=m.StaticTokenMap["grid-gutter-width-sm"],i[r.Default]=m.StaticTokenMap["grid-gutter-width"],i[r.Large]=m.StaticTokenMap["grid-gutter-width-lg"],i),f=d.b.div.withConfig({displayName:"ScTower",componentId:"sc-1dei8tr-0"})(["display:flex;justify-content:",";flex-wrap:",";min-width:100%;list-style:none;margin:0 ",";& > *{flex:0 0 auto;flex-grow:",";width:",";max-width:50%;padding:0 ",";}"],(function(e){return e.center?"center":void 0}),(function(e){return e.noWrap?"no-wrap":"wrap"}),(function(e){return"-"+e.gutterWidth}),(function(e){return e.noGrow||!e.childWidth?"0":"1"}),(function(e){return e.childWidth?e.childWidth/10+"rem":void 0}),(function(e){return e.gutterWidth})),h=d.b.div.withConfig({displayName:"ScTowerPlaceholder",componentId:"sc-1dei8tr-1"})(["order:32767;"]),v=function(e){var t=e.children,n=e.gutterSize,i=e.placeholderItems,a=l()(e,["children","gutterSize","placeholderItems"]),o=new Array,c=n?p[n]:p[r.Default];if(i)for(var d=0;d<i;++d)o.push(u.createElement(h,{key:d}));return u.createElement(f,s()({className:"tw-tower",gutterWidth:c},a),t,o)};v.displayName="Tower",v.displayName="Tower"},G0EU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EligiblePaymentMethod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]}]}}],loc:{start:0,end:91}};n.loc.source={body:"fragment eligiblePaymentMethodFragment on EligiblePaymentMethod {\nname\navailabilityStatus\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},G1Na:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("1rIY"),r=Object(i.a)("LiveChannelAdVisibility",{isAdShowing:!1}),a=r.withContext,o=r.context;function s(e,t,n){return{adID:t,isAdShowing:e,sessionID:n}}},G59e:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var i,r=n("q1tI"),a=n("/7QA"),o=n("TMob");!function(e){e[e.Black=0]="Black",e[e.Purple=1]="Purple",e[e.White=2]="White"}(i||(i={}));var s=function(e){var t=e.width||"145",n=e.height||"39";return r.createElement("img",{alt:Object(a.d)("Prime Gaming Logo","PrimeGamingLogo"),"data-test-selector":"prime-gaming-logo",height:n,width:t,src:function(e){switch(e){case i.Black:return o.d;case i.Purple:return o.e;case i.White:return o.f;default:return o.e}}(e.color)})}},G6r4:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainKickoffConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainKickoffConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventsThreshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"periodSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minPoints"},arguments:[],directives:[]}]}}],loc:{start:0,end:101}};n.loc.source={body:"fragment hypeTrainKickoffConfig on HypeTrainKickoffConfig {\neventsThreshold\nperiodSeconds\nminPoints\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},G75Y:function(e,t,n){},G8UE:function(e,t,n){"use strict";var i=n("J1ZQ");n.d(t,"RaidStorage",(function(){return i.a}));var r=n("6TSi");n.o(r,"CreationStatus")&&n.d(t,"CreationStatus",(function(){return r.CreationStatus})),n.o(r,"RAID_CANCEL_V2")&&n.d(t,"RAID_CANCEL_V2",(function(){return r.RAID_CANCEL_V2})),n.o(r,"RAID_GO_V2")&&n.d(t,"RAID_GO_V2",(function(){return r.RAID_GO_V2})),n.o(r,"RAID_UPDATE_V2")&&n.d(t,"RAID_UPDATE_V2",(function(){return r.RAID_UPDATE_V2})),n.o(r,"RaidV2")&&n.d(t,"RaidV2",(function(){return r.RaidV2})),n.o(r,"TimerPhase")&&n.d(t,"TimerPhase",(function(){return r.TimerPhase}));var a=n("7qJZ");n.d(t,"RAID_CANCEL_V2",(function(){return a.a})),n.d(t,"RAID_GO_V2",(function(){return a.b})),n.d(t,"RAID_UPDATE_V2",(function(){return a.c})),n.d(t,"RaidV2",(function(){return a.d}));var o=n("Tn5u");n.d(t,"CreationStatus",(function(){return o.a})),n.d(t,"TimerPhase",(function(){return o.b}))},"GA+j":function(e,t,n){e.exports=n.p+"assets/paypal_1x-a2a2f7d96b4384f9f1d7.png"},GDu8:function(e,t,n){},GGWn:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/7QA");function r(e){switch(e.toUpperCase()){case"AB":return Object(i.d)("Alberta","format-canada-state");case"BC":return Object(i.d)("British Columbia","format-canada-state");case"MB":return Object(i.d)("Manitoba","format-canada-state");case"NB":return Object(i.d)("New Brunswick","format-canada-state");case"NL":return Object(i.d)("Newfoundland and Labrador","format-canada-state");case"NT":return Object(i.d)("Northwest Territories","format-canada-state");case"NS":return Object(i.d)("Nova Scotia","format-canada-state");case"NU":return Object(i.d)("Nunavut","format-canada-state");case"ON":return Object(i.d)("Ontario","format-canada-state");case"PE":return Object(i.d)("Prince Edward Island","format-canada-state");case"QC":return Object(i.d)("Quebec","format-canada-state");case"SK":return Object(i.d)("Saskatchewan","format-canada-state");case"YT":return Object(i.d)("Yukon","format-canada-state");default:return e}}var a=["AB","BC","MB","NB","NL","NT","NS","NU","ON","PE","QC","SK","YT"]},GOKC:function(e,t,n){},GSI7:function(e,t,n){"use strict";var i;function r(){var e;return(e={})[i.Age]=!1,e[i.EmbedHardUpsell]=!1,e[i.Mature]=!1,e[i.PremiumContent]=!1,e[i.SubscriberVOD]=!1,e[i.TwitchGate]=!1,e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.Age="age",e.EmbedHardUpsell="embed-hard-upsell",e.Mature="mature",e.PremiumContent="premium-content",e.SubscriberVOD="subscriber-vod",e.TwitchGate="twitch-gate"}(i||(i={}))},HDgp:function(e,t,n){e.exports=n.p+"assets/AmazonGames_White-7157ce49229a50e530af.svg"},HO8p:function(e,t,n){},HTDB:function(e,t,n){e.exports=n.p+"assets/AmazonGames_Black-10a61283b8668bda4d56.svg"},"Hl/S":function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("D8NC"),s=n.n(o),c=n("yrda"),l=n.n(c),u=n("csmi"),d=n.n(u),m=n("2ORI"),p=n.n(m),f=n("ZDlU"),h=n("x1M1"),v=n("OCDW"),g=n("Yegi"),b=n("uq9l"),y=n("p9DJ"),k=function(e){return r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Between,padding:{x:.5}},r.createElement(b.a,{type:b.e.H5},e.firstName?Object(a.d)("Hi, {name}",{name:e.firstName},"Greeting"):Object(a.d)("Hi!","Greeting")),r.createElement(y.a,{onClick:e.handleWrongGreeting,"data-a-target":"not-you-link"},Object(a.d)("Not you?","Greeting")))},S=n("GnwI"),E=n("cwzQ"),C=n("5e0Q"),O=(n("oAT0"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scriptError:!1,amazonPayReady:!1,paymentMethodSelected:!1,walletLoaded:!1,amazonProfileName:null,billingAgreementId:null},t.logger=a.p.logger.withCategory("recurly-amazon-pay-processor"),t.amazonPayScriptSelector="recurly-amazon-pay-processor__script",t.amazonPayButtonSelector="amazon-pay__button",t.amazonPayButtonWalletSelector="recurly-amazon-pay-processor__wallet",t.configureAmazonPay=function(){window.onAmazonLoginReady=function(){try{window.amazon.Login.setClientId(t.props.clientID)}catch(e){t.catchAmazonPayRuntimeError(e,"amazon.Login.setClientId runtime error: "+e.message)}},window.onAmazonPaymentsReady=function(){t.setState({amazonPayReady:!0},(function(){t.props.latencyTracking.reportInteractive(),t.props.autoLogin?t.openAmazonPayLoginManually():t.configureAmazonPayButton()}))};var e=document.querySelector("#"+t.amazonPayScriptSelector);e&&document.body.removeChild(e);var n=document.createElement("script");n.type="text/javascript",n.id=t.amazonPayScriptSelector,n.src="https://static-na.payments-amazon.com/OffAmazonPayments/us"+(t.props.isProduction?"":"/sandbox")+"/js/Widgets.js?sellerId="+t.props.sellerID,n.async=!0,document.body.appendChild(n),n.addEventListener("error",t.handleScriptLoadError)},t.openAmazonPayLoginManually=function(){t.handleAmazonPayAuthorization()},t.configureAmazonPayButton=function(){try{window.OffAmazonPayments.Button(t.amazonPayButtonSelector,t.props.sellerID,{type:"PwA",color:"DarkGray",useAmazonAddressBook:!1,agreementType:"BillingAgreement",authorization:t.handleAmazonPayAuthorization,onError:t.handleOffAmazonPaymentsButtonError}),t.state.amazonPayReady&&t.props.onAmazonPayReady&&t.props.onAmazonPayReady()}catch(e){t.catchAmazonPayRuntimeError(e,"OffAmazonPayments.Button runtime error: "+e.message)}},t.handleScriptLoadError=function(e){var n="AmazonPay script failed to load: "+e.message;t.catchAmazonPayRuntimeError(new Error(n),n)},t.handleAmazonPayAuthorization=function(){try{window.amazon.Login.authorize({scope:"profile payments:widget payments:autopay_consent payments:billing_address",popup:!0},(function(e){e&&e.access_token&&window.amazon.Login.retrieveProfile(e.access_token,(function(e){e&&e.profile&&e.profile.Name&&t.setState({amazonProfileName:e.profile.Name})})),t.configureWallet()}))}catch(e){t.catchAmazonPayRuntimeError(e,"amazon.Login.authorize runtime error: "+e.message)}},t.configureWallet=function(){try{new window.OffAmazonPayments.Widgets.Wallet({agreementType:"BillingAgreement",onReady:function(e){t.setState({billingAgreementId:e.getAmazonBillingAgreementId()})},sellerId:t.props.sellerID,design:{designMode:"responsive"},onPaymentSelect:function(){return t.setState({paymentMethodSelected:!0})},onError:t.handleOffAmazonPaymentsWidgetsWalletError}).bind(t.amazonPayButtonWalletSelector),t.setState({walletLoaded:!0})}catch(e){t.catchAmazonPayRuntimeError(e,"OffAmazonPayments.Widgets.Wallet runtime error: "+e.message)}},t.handleOffAmazonPaymentsButtonError=function(e){t.onErrorAmazonPayHandler("OffAmazonPayments.Button",e)},t.handleOffAmazonPaymentsWidgetsWalletError=function(e){t.onErrorAmazonPayHandler("OffAmazonPayments.Widgets.Wallet",e)},t.onErrorAmazonPayHandler=function(e,n){var i="source: "+e+", errorCode: "+n.getErrorCode()+", errorMessage: "+n.getErrorMessage();t.logger.errorAndReport(new Error("AmazonPay onError callback"),i),t.props.handleAmazonPayScriptError&&t.props.handleAmazonPayScriptError(i),"BuyerSessionExpired"===n.getErrorCode()&&t.logoutAmazonPaySession()},t.handleClick=function(){t.state.billingAgreementId&&t.props.handleBillingAgreementID(t.state.billingAgreementId)},t.handleNotYouClick=function(){t.logoutAmazonPaySession()},t.logoutAmazonPaySession=function(){try{window.amazon.Login.logout()}catch(e){}t.setState({amazonProfileName:null,billingAgreementId:null,paymentMethodSelected:!1,walletLoaded:!1})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.configureAmazonPay()},t.prototype.componentWillUnmount=function(){var e=document.getElementById(this.amazonPayScriptSelector);e&&e.removeEventListener("error",this.handleScriptLoadError)},t.prototype.render=function(){return this.state.scriptError?r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center},r.createElement(f.PageError,null)):this.state.amazonPayReady?r.createElement(v.a,{fullWidth:!0},r.createElement(v.a,{display:this.state.walletLoaded?g.h.Hide:g.h.Block},!this.props.autoLogin&&r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center},r.createElement("div",{id:this.amazonPayButtonSelector})),this.props.autoLogin&&r.createElement(r.Fragment,null,r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center,margin:{bottom:1}},r.createElement(h.a,{sources:{themed:!0,dark:{"1x":d.a,"2x":p.a},light:{"1x":s.a,"2x":l.a}}})),r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center,margin:{bottom:2}},r.createElement(b.a,null,Object(a.d)("Please confirm your Amazon Pay details in the pop-up window","RecurlyAmazonPayProcessor"))),r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center},r.createElement(C.a,{onClick:this.openAmazonPayLoginManually},Object(a.d)("Open Amazon Pay","RecurlyAmazonPayProcessor"))))),r.createElement(v.a,{display:this.state.walletLoaded?g.h.Block:g.h.Hide},r.createElement(k,{firstName:this.state.amazonProfileName,handleWrongGreeting:this.handleNotYouClick}),r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center,padding:{top:1}},r.createElement("div",{id:this.amazonPayButtonWalletSelector,className:this.amazonPayButtonWalletSelector})),r.createElement(v.a,{padding:{top:1},display:g.h.Flex,justifyContent:g.m.Center},r.createElement(C.a,{onClick:this.handleClick,state:this.props.forceLoadingState?C.c.Loading:C.c.Default,disabled:this.buttonDisabled,"data-a-target":"amazon-pay-complete-purchase-button"},this.props.callToActionButtonLabel)))):r.createElement(v.a,{display:g.h.Flex,justifyContent:g.m.Center},r.createElement(E.a,null))},t.prototype.catchAmazonPayRuntimeError=function(e,t){this.logger.errorAndReport(e,t),this.setState({scriptError:!0,amazonPayReady:!1}),this.props.latencyTracking.reportInteractive(),this.props.handleAmazonPayScriptError&&this.props.handleAmazonPayScriptError(t)},Object.defineProperty(t.prototype,"buttonDisabled",{get:function(){return!(this.state.paymentMethodSelected&&this.state.billingAgreementId&&!this.props.forceLoadingState)},enumerable:!0,configurable:!0}),t}(r.Component)),D=Object(S.withLatencyTracking)("RecurlyAmazonPayProcessor")(O)},HvcU:function(e,t,n){e.exports=n.p+"assets/generic_credit_card_2x-9e855c7d5c5359ac9208.png"},IAA2:function(e,t,n){},IKRm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canGiftInChannel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subStandardGiftingFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"subCommunityGiftingFragment"},directives:[]}]}}]}}],loc:{start:0,end:757}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/sub-modal/fragments/sub-standard-gifting.gql"\n#import "twilight/features/sub-modal/fragments/sub-community-gifting.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\nfragment subscriptionProduct on SubscriptionProduct {\nid\nprice\nurl\nemoteSetID\ndisplayName\nname\ntier\ntype\nhasAdFree\nemotes {\n...subscriptionProductEmote\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\ninterval {\nunit\n}\nself {\ncanGiftInChannel\n}\noffers {\n...subProductOfferFragment\n}\ngifting {\n...subStandardGiftingFragment\n...subCommunityGiftingFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("Wd+u").definitions)),i.definitions=i.definitions.concat(a(n("JV5c").definitions)),i.definitions=i.definitions.concat(a(n("Afio").definitions)),i.definitions=i.definitions.concat(a(n("dq0Q").definitions)),i.definitions=i.definitions.concat(a(n("8/YZ").definitions)),e.exports=i},IVzh:function(e,t,n){},IvOK:function(e,t,n){},J1ZQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i,r=n("/7QA"),a=function(){function e(e){this.expiredRaids=new Set,this.leftRaids=new Set,e&&(this.expiredRaids=e.expiredRaids,this.leftRaids=e.leftRaids)}return Object.defineProperty(e,"instance",{get:function(){return i||(i=new e),i},enumerable:!0,configurable:!0}),e.prototype.isExpired=function(e){return this.expiredRaids.has(e.id)},e.prototype.hasJoined=function(e){return!this.leftRaids.has(e.id)&&!this.getStorageData()[e.id]},e.prototype.expireRaid=function(t){var n=new Set(this.expiredRaids);return n.add(t.id),new e({expiredRaids:n,leftRaids:this.leftRaids})},e.prototype.joinRaid=function(t){var n=new Set(this.leftRaids);n.delete(t.id);var i=this.getStorageData();return delete i[t.id],this.setStorageData(i),new e({expiredRaids:this.expiredRaids,leftRaids:n})},e.prototype.leaveRaid=function(t){var n=new Set(this.leftRaids);n.add(t.id);var i=this.getStorageData();return i[t.id]=!0,this.setStorageData(i),new e({expiredRaids:this.expiredRaids,leftRaids:n})},e.prototype.destroy=function(){i=void 0},e.prototype.setStorageData=function(e){r.m.set("raids-left",e)},e.prototype.getStorageData=function(){return r.m.get("raids-left",{})},e}()},J6px:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d}));var i,r,a=n("/7QA"),o="sub_to_skip_ads",s="sub_to_skip_ads_ad_load_count";function c(e){var t=a.p.experiments.getAndTrackAssignment(o),n=u(e),s=n>=3&&n<=20;switch(t){case r.Treatment:return i.Phase1;case r.TreatmentTargeted:if(s)return i.Phase1;break;case r.TreatmentV2:return i.Phase2;case r.TreatmentV2Targeted:if(s)return i.Phase2;break;default:return null}return null}function l(e){var t=e.isAdShowing,n=e.hasAdFree,i=e.isTheaterMode,r=e.isFullscreen,a=e.loggedIn,o=e.channel;return t&&n&&!i&&!r&&a?c(o):null}function u(e){return a.m.get(s,{})[e]||0}function d(e){if(a.p.experiments.getAndTrackAssignment(o)!==r.Control){var t=a.m.get(s,{});t[e]||(t[e]=0),t[e]+=1,a.m.set(s,t)}}!function(e){e.Phase1="phase1",e.Phase2="phase2"}(i||(i={})),function(e){e.Control="control",e.Treatment="treatment",e.TreatmentTargeted="treatment_targeted",e.TreatmentV2="treatment_v2",e.TreatmentV2Targeted="treatment_v2_targeted"}(r||(r={}))},JDoF:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("wOiE"),c=n("GnwI"),l=n("RGzP"),u=n("OCDW"),d=n("Yegi"),m=n("1AzW"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={xsollaLoaded:!1},t.xsollaEnabled=Object(s.e)(),t.messageOriginWhitelist=["https://secure.xsolla.com","https://sandbox-secure.xsolla.com"],t.firstInteractFired=!1,t.onIframeLoad=function(){t.props.latencyTracking.reportInteractive(),t.props.onLoad&&t.props.onLoad(),t.setState({xsollaLoaded:!0})},t.handleXsollaEvent=function(e){var n,i,r;if((!e.origin||t.messageOriginWhitelist.includes(e.origin))&&e.data)try{var a=JSON.parse(e.data),o=a.data,s=a.command;if(t.props.onFirstInteraction&&!t.firstInteractFired&&((null===(n=null==o?void 0:o.action)||void 0===n?void 0:n.includes("click-"))||"open-payment"===(null==o?void 0:o.action))&&(t.firstInteractFired=!0,t.props.onFirstInteraction()),"open-payment"===(null==o?void 0:o.action)&&t.props.onCompletePurchaseShown&&t.props.onCompletePurchaseShown(),"status"===s&&(null==o?void 0:o.paymentInfo))switch(null===(i=null==o?void 0:o.paymentInfo)||void 0===i?void 0:i.status){case"troubled":t.props.onFail&&t.props.onFail();break;case"done":t.props.onSuccess&&t.props.onSuccess(null===(r=null==o?void 0:o.paymentInfo)||void 0===r?void 0:r.invoice)}}catch(e){}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("message",this.handleXsollaEvent)},t.prototype.componentDidUpdate=function(e){e.xsollaToken!==this.props.xsollaToken&&this.setState({xsollaLoaded:!1}),this.state.xsollaLoaded&&this.props.latencyTracking.reportInteractive()},t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleXsollaEvent)},t.prototype.render=function(){if(!this.xsollaEnabled)return r.createElement(m.a,null);var e=this.state.xsollaLoaded&&!this.props.refreshingIframe;return r.createElement(r.Fragment,null,!e&&r.createElement(l.a,{lineCount:(this.props.height||650)/20}),r.createElement(u.a,{fullWidth:!0,display:e?d.h.Inline:d.h.Hide},r.createElement("iframe",{title:Object(o.d)("Xsolla Paystation","XsollaIframe"),onLoad:this.onIframeLoad,id:"xsolla",src:this.xsollaIframeURL,width:"100%",height:(this.props.height||650)+"px"})))},Object.defineProperty(t.prototype,"xsollaIframeURL",{get:function(){return this.props.xsollaToken?this.props.isSandbox?"https://sandbox-secure.xsolla.com/paystation2?access_token="+this.props.xsollaToken:"https://secure.xsolla.com/paystation2?access_token="+this.props.xsollaToken:""},enumerable:!0,configurable:!0}),t}(r.Component),f=Object(a.d)(Object(c.withLatencyTracking)("XsollaIframe"))(p)},JV5c:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subStandardGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"recipientLogin"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientLogin"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withStandardGifting"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:253}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment subStandardGiftingFragment on SubscriptionGifting {\nstandard(recipientLogin: $giftRecipientLogin) @include(if: $withStandardGifting){\noffer {\n...subProductOfferFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("Wd+u").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},JWfW:function(e,t,n){},Jgup:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("/7QA");function r(e){switch(e.toUpperCase()){case"A1":return Object(i.d)("Anonymous Proxy","format-country");case"A2":return Object(i.d)("Satellite Provider","format-country");case"AD":return Object(i.d)("Andorra","format-country");case"AE":return Object(i.d)("United Arab Emirates","format-country");case"AF":return Object(i.d)("Afghanistan","format-country");case"AG":return Object(i.d)("Antigua and Barbuda","format-country");case"AI":return Object(i.d)("Anguilla","format-country");case"AL":return Object(i.d)("Albania","format-country");case"AM":return Object(i.d)("Armenia","format-country");case"AO":return Object(i.d)("Angola","format-country");case"AP":return Object(i.d)("Asia/Pacific Region","format-country");case"AQ":return Object(i.d)("Antarctica","format-country");case"AR":return Object(i.d)("Argentina","format-country");case"AS":return Object(i.d)("American Samoa","format-country");case"AT":return Object(i.d)("Austria","format-country");case"AU":return Object(i.d)("Australia","format-country");case"AW":return Object(i.d)("Aruba","format-country");case"AX":return Object(i.d)("Aland Islands","format-country");case"AZ":return Object(i.d)("Azerbaijan","format-country");case"BA":return Object(i.d)("Bosnia and Herzegovina","format-country");case"BB":return Object(i.d)("Barbados","format-country");case"BD":return Object(i.d)("Bangladesh","format-country");case"BE":return Object(i.d)("Belgium","format-country");case"BF":return Object(i.d)("Burkina Faso","format-country");case"BG":return Object(i.d)("Bulgaria","format-country");case"BH":return Object(i.d)("Bahrain","format-country");case"BI":return Object(i.d)("Burundi","format-country");case"BJ":return Object(i.d)("Benin","format-country");case"BL":return Object(i.d)("Saint Bartelemey","format-country");case"BM":return Object(i.d)("Bermuda","format-country");case"BN":return Object(i.d)("Brunei","format-country");case"BO":return Object(i.d)("Bolivia","format-country");case"BQ":return Object(i.d)("Bonaire, Saint Eustatius, and Saba","format-country");case"BR":return Object(i.d)("Brazil","format-country");case"BS":return Object(i.d)("Bahamas","format-country");case"BT":return Object(i.d)("Bhutan","format-country");case"BV":return Object(i.d)("Bouvet Island","format-country");case"BW":return Object(i.d)("Botswana","format-country");case"BY":return Object(i.d)("Belarus","format-country");case"BZ":return Object(i.d)("Belize","format-country");case"CA":return Object(i.d)("Canada","format-country");case"CC":return Object(i.d)("Cocos (Keeling) Islands","format-country");case"CD":return Object(i.d)("Congo, The Democratic Republic of the","format-country");case"CF":return Object(i.d)("Central African Republic","format-country");case"CG":return Object(i.d)("Congo","format-country");case"CH":return Object(i.d)("Switzerland","format-country");case"CI":return Object(i.d)("Ivory Coast","format-country");case"CK":return Object(i.d)("Cook Islands","format-country");case"CL":return Object(i.d)("Chile","format-country");case"CM":return Object(i.d)("Cameroon","format-country");case"CN":return Object(i.d)("China","format-country");case"CO":return Object(i.d)("Colombia","format-country");case"CR":return Object(i.d)("Costa Rica","format-country");case"CU":return Object(i.d)("Cuba","format-country");case"CV":return Object(i.d)("Cape Verde","format-country");case"CW":return Object(i.d)("Curacao","format-country");case"CX":return Object(i.d)("Christmas Island","format-country");case"CY":return Object(i.d)("Cyprus","format-country");case"CZ":return Object(i.d)("Czech Republic","format-country");case"DE":return Object(i.d)("Germany","format-country");case"DJ":return Object(i.d)("Djibouti","format-country");case"DK":return Object(i.d)("Denmark","format-country");case"DM":return Object(i.d)("Dominica","format-country");case"DO":return Object(i.d)("Dominican Republic","format-country");case"DZ":return Object(i.d)("Algeria","format-country");case"EC":return Object(i.d)("Ecuador","format-country");case"EE":return Object(i.d)("Estonia","format-country");case"EG":return Object(i.d)("Egypt","format-country");case"EH":return Object(i.d)("Western Sahara","format-country");case"ER":return Object(i.d)("Eritrea","format-country");case"ES":return Object(i.d)("Spain","format-country");case"ET":return Object(i.d)("Ethiopia","format-country");case"EU":return Object(i.d)("Europe","format-country");case"FI":return Object(i.d)("Finland","format-country");case"FJ":return Object(i.d)("Fiji","format-country");case"FK":return Object(i.d)("Falkland Islands (Malvinas)","format-country");case"FM":return Object(i.d)("Micronesia","format-country");case"FO":return Object(i.d)("Faroe Islands","format-country");case"FR":return Object(i.d)("France","format-country");case"GA":return Object(i.d)("Gabon","format-country");case"GB":return Object(i.d)("United Kingdom","format-country");case"GD":return Object(i.d)("Grenada","format-country");case"GE":return Object(i.d)("Georgia","format-country");case"GF":return Object(i.d)("French Guiana","format-country");case"GG":return Object(i.d)("Guernsey","format-country");case"GH":return Object(i.d)("Ghana","format-country");case"GI":return Object(i.d)("Gibraltar","format-country");case"GL":return Object(i.d)("Greenland","format-country");case"GM":return Object(i.d)("Gambia","format-country");case"GN":return Object(i.d)("Guinea","format-country");case"GP":return Object(i.d)("Guadeloupe","format-country");case"GQ":return Object(i.d)("Equatorial Guinea","format-country");case"GR":return Object(i.d)("Greece","format-country");case"GS":return Object(i.d)("South Georgia and the South Sandwich Islands","format-country");case"GT":return Object(i.d)("Guatemala","format-country");case"GU":return Object(i.d)("Guam","format-country");case"GW":return Object(i.d)("Guinea-Bissau","format-country");case"GY":return Object(i.d)("Guyana","format-country");case"HK":return Object(i.d)("Hong Kong","format-country");case"HM":return Object(i.d)("Heard Island and McDonald Islands","format-country");case"HN":return Object(i.d)("Honduras","format-country");case"HR":return Object(i.d)("Croatia","format-country");case"HT":return Object(i.d)("Haiti","format-country");case"HU":return Object(i.d)("Hungary","format-country");case"ID":return Object(i.d)("Indonesia","format-country");case"IE":return Object(i.d)("Ireland","format-country");case"IL":return Object(i.d)("Israel","format-country");case"IM":return Object(i.d)("Isle of Man","format-country");case"IN":return Object(i.d)("India","format-country");case"IO":return Object(i.d)("British Indian Ocean Territory","format-country");case"IQ":return Object(i.d)("Iraq","format-country");case"IR":return Object(i.d)("Iran","format-country");case"IS":return Object(i.d)("Iceland","format-country");case"IT":return Object(i.d)("Italy","format-country");case"JE":return Object(i.d)("Jersey","format-country");case"JM":return Object(i.d)("Jamaica","format-country");case"JO":return Object(i.d)("Jordan","format-country");case"JP":return Object(i.d)("Japan","format-country");case"KE":return Object(i.d)("Kenya","format-country");case"KG":return Object(i.d)("Kyrgyzstan","format-country");case"KH":return Object(i.d)("Cambodia","format-country");case"KI":return Object(i.d)("Kiribati","format-country");case"KM":return Object(i.d)("Comoros","format-country");case"KN":return Object(i.d)("Saint Kitts and Nevis","format-country");case"KP":return Object(i.d)("North Korea","format-country");case"KR":return Object(i.d)("South Korea","format-country");case"KW":return Object(i.d)("Kuwait","format-country");case"KY":return Object(i.d)("Cayman Islands","format-country");case"KZ":return Object(i.d)("Kazakhstan","format-country");case"LA":return Object(i.d)("Laos","format-country");case"LB":return Object(i.d)("Lebanon","format-country");case"LC":return Object(i.d)("Saint Lucia","format-country");case"LI":return Object(i.d)("Liechtenstein","format-country");case"LK":return Object(i.d)("Sri Lanka","format-country");case"LR":return Object(i.d)("Liberia","format-country");case"LS":return Object(i.d)("Lesotho","format-country");case"LT":return Object(i.d)("Lithuania","format-country");case"LU":return Object(i.d)("Luxembourg","format-country");case"LV":return Object(i.d)("Latvia","format-country");case"LY":return Object(i.d)("Libya","format-country");case"MA":return Object(i.d)("Morocco","format-country");case"MC":return Object(i.d)("Monaco","format-country");case"MD":return Object(i.d)("Moldova","format-country");case"ME":return Object(i.d)("Montenegro","format-country");case"MF":return Object(i.d)("Saint Martin","format-country");case"MG":return Object(i.d)("Madagascar","format-country");case"MH":return Object(i.d)("Marshall Islands","format-country");case"MK":return Object(i.d)("Macedonia","format-country");case"ML":return Object(i.d)("Mali","format-country");case"MM":return Object(i.d)("Myanmar","format-country");case"MN":return Object(i.d)("Mongolia","format-country");case"MO":return Object(i.d)("Macao","format-country");case"MP":return Object(i.d)("Northern Mariana Islands","format-country");case"MQ":return Object(i.d)("Martinique","format-country");case"MR":return Object(i.d)("Mauritania","format-country");case"MS":return Object(i.d)("Montserrat","format-country");case"MT":return Object(i.d)("Malta","format-country");case"MU":return Object(i.d)("Mauritius","format-country");case"MV":return Object(i.d)("Maldives","format-country");case"MW":return Object(i.d)("Malawi","format-country");case"MX":return Object(i.d)("Mexico","format-country");case"MY":return Object(i.d)("Malaysia","format-country");case"MZ":return Object(i.d)("Mozambique","format-country");case"NA":return Object(i.d)("Namibia","format-country");case"NC":return Object(i.d)("New Caledonia","format-country");case"NE":return Object(i.d)("Niger","format-country");case"NF":return Object(i.d)("Norfolk Island","format-country");case"NG":return Object(i.d)("Nigeria","format-country");case"NI":return Object(i.d)("Nicaragua","format-country");case"NL":return Object(i.d)("Netherlands","format-country");case"NO":return Object(i.d)("Norway","format-country");case"NP":return Object(i.d)("Nepal","format-country");case"NR":return Object(i.d)("Nauru","format-country");case"NU":return Object(i.d)("Niue","format-country");case"NZ":return Object(i.d)("New Zealand","format-country");case"O1":return Object(i.d)("Other Country","format-country");case"OM":return Object(i.d)("Oman","format-country");case"PA":return Object(i.d)("Panama","format-country");case"PE":return Object(i.d)("Peru","format-country");case"PF":return Object(i.d)("French Polynesia","format-country");case"PG":return Object(i.d)("Papua New Guinea","format-country");case"PH":return Object(i.d)("Philippines","format-country");case"PK":return Object(i.d)("Pakistan","format-country");case"PL":return Object(i.d)("Poland","format-country");case"PM":return Object(i.d)("Saint Pierre and Miquelon","format-country");case"PN":return Object(i.d)("Pitcairn","format-country");case"PR":return Object(i.d)("Puerto Rico","format-country");case"PS":return Object(i.d)("Palestine","format-country");case"PT":return Object(i.d)("Portugal","format-country");case"PW":return Object(i.d)("Palau","format-country");case"PY":return Object(i.d)("Paraguay","format-country");case"QA":return Object(i.d)("Qatar","format-country");case"RE":return Object(i.d)("Reunion","format-country");case"RO":return Object(i.d)("Romania","format-country");case"RS":return Object(i.d)("Serbia","format-country");case"RU":return Object(i.d)("Russia","format-country");case"RW":return Object(i.d)("Rwanda","format-country");case"SA":return Object(i.d)("Saudi Arabia","format-country");case"SB":return Object(i.d)("Solomon Islands","format-country");case"SC":return Object(i.d)("Seychelles","format-country");case"SD":return Object(i.d)("Sudan","format-country");case"SE":return Object(i.d)("Sweden","format-country");case"SG":return Object(i.d)("Singapore","format-country");case"SH":return Object(i.d)("Saint Helena","format-country");case"SI":return Object(i.d)("Slovenia","format-country");case"SJ":return Object(i.d)("Svalbard and Jan Mayen","format-country");case"SK":return Object(i.d)("Slovakia","format-country");case"SL":return Object(i.d)("Sierra Leone","format-country");case"SM":return Object(i.d)("San Marino","format-country");case"SN":return Object(i.d)("Senegal","format-country");case"SO":return Object(i.d)("Somalia","format-country");case"SR":return Object(i.d)("Suriname","format-country");case"SS":return Object(i.d)("South Sudan","format-country");case"ST":return Object(i.d)("Sao Tome and Principe","format-country");case"SV":return Object(i.d)("El Salvador","format-country");case"SX":return Object(i.d)("Sint Maarten","format-country");case"SY":return Object(i.d)("Syria","format-country");case"SZ":return Object(i.d)("Swaziland","format-country");case"TC":return Object(i.d)("Turks and Caicos Islands","format-country");case"TD":return Object(i.d)("Chad","format-country");case"TF":return Object(i.d)("French Southern Territories","format-country");case"TG":return Object(i.d)("Togo","format-country");case"TH":return Object(i.d)("Thailand","format-country");case"TJ":return Object(i.d)("Tajikistan","format-country");case"TK":return Object(i.d)("Tokelau","format-country");case"TL":return Object(i.d)("East Timor","format-country");case"TM":return Object(i.d)("Turkmenistan","format-country");case"TN":return Object(i.d)("Tunisia","format-country");case"TO":return Object(i.d)("Tonga","format-country");case"TR":return Object(i.d)("Turkey","format-country");case"TT":return Object(i.d)("Trinidad and Tobago","format-country");case"TV":return Object(i.d)("Tuvalu","format-country");case"TW":return Object(i.d)("Taiwan","format-country");case"TZ":return Object(i.d)("Tanzania","format-country");case"UA":return Object(i.d)("Ukraine","format-country");case"UG":return Object(i.d)("Uganda","format-country");case"UM":return Object(i.d)("United States Minor Outlying Islands","format-country");case"US":return Object(i.d)("United States","format-country");case"UY":return Object(i.d)("Uruguay","format-country");case"UZ":return Object(i.d)("Uzbekistan","format-country");case"VA":return Object(i.d)("Vatican City","format-country");case"VC":return Object(i.d)("Saint Vincent and the Grenadines","format-country");case"VE":return Object(i.d)("Venezuela","format-country");case"VG":return Object(i.d)("British Virgin Islands","format-country");case"VI":return Object(i.d)("U.S. Virgin Islands","format-country");case"VN":return Object(i.d)("Vietnam","format-country");case"VU":return Object(i.d)("Vanuatu","format-country");case"WF":return Object(i.d)("Wallis and Futuna","format-country");case"WS":return Object(i.d)("Samoa","format-country");case"YE":return Object(i.d)("Yemen","format-country");case"YT":return Object(i.d)("Mayotte","format-country");case"ZA":return Object(i.d)("South Africa","format-country");case"ZM":return Object(i.d)("Zambia","format-country");case"ZW":return Object(i.d)("Zimbabwe","format-country");default:return e}}var a=["US","CA","AF","AX","AL","DZ","AS","AD","AO","AI","A1","AQ","AG","AR","AM","AW","AP","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","VG","BN","BG","BF","BI","KH","CM","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","HR","CU","CW","CY","CZ","DK","DJ","DM","DO","TL","EC","EG","SV","GQ","ER","EE","ET","EU","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","CI","JM","JP","JE","JO","KZ","KE","KI","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","KP","MP","NO","OM","O1","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","A2","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","KR","SS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TG","TK","TO","TT","TN","TR","TM","TC","TV","VI","UG","UA","AE","GB","UM","UY","UZ","VU","VA","VE","VN","WF","EH","YE","ZM","ZW"]},Jhy1:function(e,t,n){},KAhE:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldUsePersonalizedSettings"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"kickoff"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainKickoffConfig"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cooldownPeriodMinutes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"difficultySettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainDifficultySetting"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductorRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductorReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"notificationThresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainNotificationThreshold"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participationConversionRates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipationConversionRate"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"calloutEmote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainCalloutEmote"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"willUseCreatorColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryHexColor"},arguments:[],directives:[]}]}}],loc:{start:0,end:986}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-conductor-reward.gql"\n#import "twilight/features/hype-train/queries/hype-train-difficulty-setting.gql"\n#import "twilight/features/hype-train/queries/hype-train-kickoff-config.gql"\n#import "twilight/features/hype-train/queries/hype-train-notification-threshold.gql"\n#import "twilight/features/hype-train/queries/hype-train-participation-conversion-rate.gql"\n#import "twilight/features/hype-train/queries/hype-train-callout-emote.gql"\nfragment hypeTrainConfig on HypeTrainConfig {\nid\nisEnabled\nshouldUsePersonalizedSettings\nkickoff {\n...hypeTrainKickoffConfig\n}\ncooldownPeriodMinutes\nlevelDurationSeconds\ndifficulty\ndifficultySettings {\n...hypeTrainDifficultySetting\n}\nconductorRewards {\n...hypeTrainConductorReward\n}\nnotificationThresholds {\n...hypeTrainNotificationThreshold\n}\nparticipationConversionRates {\n...hypeTrainParticipationConversionRate\n}\ncalloutEmote {\n...hypeTrainCalloutEmote\n}\nwillUseCreatorColor\nprimaryHexColor\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("p0fo").definitions)),i.definitions=i.definitions.concat(a(n("80LI").definitions)),i.definitions=i.definitions.concat(a(n("G6r4").definitions)),i.definitions=i.definitions.concat(a(n("zB5j").definitions)),i.definitions=i.definitions.concat(a(n("Aiem").definitions)),i.definitions=i.definitions.concat(a(n("YIFl").definitions)),e.exports=i},KL9a:function(e,t,n){e.exports=n.p+"assets/mastercard_dark-a85ba185886a8899fef1.svg"},KZQ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("GA+j"),c=n.n(s),l=n("FBRg"),u=n.n(l),d=n("2xEe"),m=n.n(d),p=n("q8H6"),f=n.n(p),h=n("x1M1"),v=n("ER7f"),g=n("GnwI"),b=n("cwzQ"),y=n("OCDW"),k=n("Yegi"),S=n("uq9l"),E=n("5e0Q"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={paypalConfigured:!1,processing:!1},t.openPayPalLogin=function(){t.setState({processing:!0}),t.paypalInstance.start()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkRecurlyInstance(this.props)},t.prototype.componentDidUpdate=function(e){(!e.recurlyInstance&&this.props.recurlyInstance||this.props.recurlyLoadFailed)&&this.checkRecurlyInstance(this.props)},t.prototype.render=function(){return this.state.paypalConfigured?r.createElement(r.Fragment,null,this.props.autoLogin&&r.createElement(r.Fragment,null,r.createElement(y.a,{display:k.h.Flex,justifyContent:k.m.Center,margin:{bottom:1}},r.createElement(h.a,{sources:{themed:!0,dark:{"1x":m.a,"2x":f.a},light:{"1x":c.a,"2x":u.a}}})),r.createElement(y.a,{display:k.h.Flex,justifyContent:k.m.Center,margin:{bottom:2}},r.createElement(S.a,null,Object(o.d)("Please confirm your PayPal details in the pop-up window","RecurlyPayPalProcessor")))),r.createElement(y.a,{display:k.h.Flex,justifyContent:k.m.Center},r.createElement(E.a,{"data-a-target":"recurly-paypal__button",onClick:this.openPayPalLogin,state:this.state.processing||this.props.forceLoadingState?E.c.Loading:E.c.Default,disabled:this.state.processing||this.props.forceLoadingState||this.props.disableCallToActionButton},this.props.autoLogin?Object(o.d)("Open PayPal","RecurlyPayPalProcessor"):this.props.callToActionButtonLabel))):r.createElement(b.a,{fillContent:!0})},t.prototype.checkRecurlyInstance=function(e){var t=e.recurlyInstance,n=e.recurlyLoadFailed;t&&!this.recurlyInstance?(this.props.latencyTracking.reportInteractive(),this.recurlyInstance=t,this.setupConfigs(this.recurlyInstance)):n&&this.props.latencyTracking.reportInteractive()},t.prototype.setupConfigs=function(e){var t=this;e.configure(this.props.publicKey),this.paypalInstance=e.PayPal({braintree:{clientAuthorization:this.props.braintreeClientAuthorization}}),this.paypalInstance.on("token",(function(e){t.setState({processing:!1}),t.props.handleTokenResponse(e)})),this.paypalInstance.on("error",(function(e){t.props.handleTokenError&&t.props.handleTokenError(e),t.setState({processing:!1})})),this.paypalInstance.on("cancel",(function(){t.setState({processing:!1})})),this.paypalInstance.on("ready",(function(){t.setState({paypalConfigured:!0},(function(){t.props.onPayPalReady&&t.props.onPayPalReady(),t.props.autoLogin&&t.openPayPalLogin()}))}))},t}(r.Component),O=Object(a.d)(Object(g.withLatencyTracking)("RecurlyPayPalProcessor"),Object(v.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(C)},KhHV:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return b}));var i,r,a,o,s,c,l,u,d=n("2xye"),m=n("4rCz"),p=n("BmOg");!function(e){e.DropsInfo="drops_info",e.DropsClaimable="drops_claimable",e.DropsClaimed="drops_claimed",e.ClaimFailed="claim_failed",e.NoNewDrops="no_new_drops"}(r||(r={})),function(e){e.Render="render",e.Expand="expand",e.Minimize="minimize",e.Dismiss="dismiss",e.ClickCTA="click_cta"}(a||(a={})),function(e){e.Chat="chat",e.Inventory="inventory_page",e.Details="reward_details"}(o||(o={})),function(e){e.ViewDetails="view_details",e.Claim="claim",e.Login="login",e.ConnectAccounts="connect_accounts"}(s||(s={})),function(e){e.EventBased="event_based",e.TimeBased="time_based"}(c||(c={})),function(e){e.Claimed="claimed",e.InProgress="in_progress",e.Claimable="claimable",e.Blocked="blocked"}(l||(l={})),function(e){e.Render="render",e.ConnectAccounts="connect_account",e.Claim="claim"}(u||(u={}));var f=((i={})[p.c.E2DropAvailable]=c.EventBased,i[p.c.DropClaim]=c.EventBased,i[p.c.MWDropAvailable]=c.TimeBased,i),h=function(e){var t={time:new Date,location:e.location,action:e.action,channel_id:e.channelID,drop_instance_id:e.dropInstanceID||null,cta_detail:e.CTADetail||null,user_id:e.userID||null,campaign_id:e.campaignID||null,drop_type:f[e.calloutType]||null};m.p.track(d.SpadeEventType.DropsCommunityCalloutActions,t)},v=function(e){var t={time:new Date,user_id:e.userID,platform:"client_app",drop_id:e.dropID||"",reward_id:e.rewardID||"",claim_status:e.claimStatus||"",account_linked:e.accountLinked,action:e.action,campaign_id:e.campaignID};m.p.track(d.SpadeEventType.DropsInventoryRewardActions,t)},g=function(e){var t={time:new Date,user_id:e.userID,platform:"client_app",account_linked:e.accountLinked,action:e.action,campaign_id:e.campaignID};m.p.track(d.SpadeEventType.DropsAvailableActions,t)},b=function(e){var t={channel_id:e.channelID||null,drop_id:e.dropID,campaign_id:e.campaignID,ui_context:e.uiContext};m.p.track(d.SpadeEventType.DropsClientClaimableImpression,t)}},KnXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("p46w"),r=n("cr+I"),a=n("dlQn");function o(){return r.parse(window.location.search).countryCode||i.get(a.a)}},Kukq:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("geRD"),l=n("/aPz"),u=n("G8UE"),d=n("F9EK"),m=n("W1kE"),p=n("bFdo"),f=n("ulmk"),h=n("NO6m"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.raidStorage=u.RaidStorage.instance,t.handleJoin=function(e){t.setState({raid:e.withStorage(t.raidStorage.joinRaid(e))});var n={raidID:e.id};return t.props.joinRaid(Object(c.a)(n)).catch((function(){return{data:null}}))},t.handleExpire=function(e){t.setState({raid:e.withStorage(t.raidStorage.expireRaid(e))})},t.handleLeave=function(e){t.setState({raid:e.withStorage(t.raidStorage.leaveRaid(e))});var n={raidID:e.id};return t.props.leaveRaid(Object(c.a)(n)).catch((function(){return{data:null}}))},t.handleCancel=function(e){var n={sourceID:e.sourceChannelID};return t.props.cancelRaid(Object(c.a)(n)).catch((function(){return{data:null}}))},t.handleCreate=function(e,n){var i={sourceID:e,targetID:n};return t.props.createRaid(Object(c.a)(i)).catch((function(){return{data:null}}))},t.handleRaidNow=function(e){var n={sourceID:e.sourceChannelID};return t.props.goRaid(Object(c.a)(n)).catch((function(){return{data:null}}))},t.unsubscribe=function(){},t.handlePubsubMessage=function(e){if(t.props.channelID===e.raid.source_id)switch(e.type){case u.RAID_UPDATE_V2:case u.RAID_CANCEL_V2:case u.RAID_GO_V2:return t.setState((function(n){return n.raid?Object(i.__assign)(Object(i.__assign)({},n),{raid:n.raid.withMessage(e)}):Object(i.__assign)(Object(i.__assign)({},n),{raid:new u.RaidV2(e,t.raidStorage)})}));default:return}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe(this.props.channelID)},t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children({raid:this.state.raid,onJoin:this.handleJoin,onLeave:this.handleLeave,onCancel:this.handleCancel,onCreate:this.handleCreate,onExpire:this.handleExpire,onRaidNow:this.handleRaidNow}))},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.channelID!==e.channelID&&(this.unsubscribe(),this.setState({raid:void 0},(function(){return t.subscribe(t.props.channelID)})))},t.prototype.subscribe=function(e){this.unsubscribe=o.p.pubsub.subscribe({topic:Object(l.Q)(e),onMessage:this.handlePubsubMessage})},t}(r.Component),g=Object(a.d)(Object(s.a)(d,{name:"cancelRaid"}),Object(s.a)(m,{name:"createRaid"}),Object(s.a)(p,{name:"goRaid"}),Object(s.a)(f,{name:"joinRaid"}),Object(s.a)(h,{name:"leaveRaid"}))(v)},KxXQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n("q1tI").createRef()},LKES:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainLevel"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progression"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remainingSeconds"},arguments:[],directives:[]}]}}],loc:{start:0,end:187}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-level.gql"\nfragment hypeTrainProgress on HypeTrainProgress {\nlevel {\n...hypeTrainLevel\n}\ngoal\nprogression\ntotal\nremainingSeconds\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("QC++").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},LKxS:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("mrSG"),r=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("/0dD"),l=n("XDQu"),u=n("ER7f"),d=n("6fcp"),m=n("GnwI"),p=n("OCDW"),f=n("Yegi"),h=n("RGzP"),v=n("TSYQ"),g=n("fvsf"),b=n("KnXG"),y=n("GGWn"),k=n("6+Z+"),S=n("UfC+"),E=n("bO8+"),C=n("TbBp"),O=n("4wQG"),D=n("WeGZ"),P=n("uq9l"),_=n("5e0Q"),T=n("BBJN"),N=n("s+pF"),w=n("TwdJ"),j=(n("Bgni"),function(){return{cvv:!1,first_name:!1,last_name:!1,month:!1,number:!1,year:!1,country:!1,address1:!1,city:!1,postal_code:!1}}),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={errorState:j(),processing:!1,firstName:"",lastName:"",countryCode:Object(b.a)()||"US",streetAddress:"",city:"",stateOrProvince:"",postalCode:""},t.firstInteractFired=!1,t.onFirstNameChange=function(e){t.setState({firstName:e.target.value})},t.onLastNameChange=function(e){t.setState({lastName:e.target.value})},t.onCountryChange=function(e){var n=e.currentTarget.value,i="";"US"===n?i=k.a[0]:"CA"===n&&(i=y.a[0]),t.setState({countryCode:n,stateOrProvince:i,postalCode:""})},t.onPostalCodeChange=function(e){t.setState({postalCode:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var n=j(),i=!1;("CA"===t.state.countryCode||"US"===t.state.countryCode)&&!t.validPostalCode&&(n.postal_code=!0,i=!0),""===t.state.firstName&&(n.first_name=!0,i=!0),""===t.state.lastName&&(n.last_name=!0,i=!0),i?t.setState({errorMessage:t.invalidCredentialsError,errorState:n}):(t.setState({processing:!0,errorMessage:void 0,errorState:j()}),t.props.recurlyInstance?t.props.recurlyInstance.token(t.form,(function(e,n){e?(t.handleValidationError(e),t.props.handleTokenError&&t.props.handleTokenError(e)):(t.setState({processing:!1}),t.props.handleTokenResponse(n))})):(t.props.handleTokenError&&t.props.handleTokenError(),t.setState({processing:!1,errorMessage:{title:Object(s.d)("Unexpected Error Occurred","RecurlyCreditCardForm"),description:Object(s.d)("Our credit card processor is not working at the moment. Please try again later.","RecurlyCreditCardForm")}})))},t.handleValidationError=function(e){var n=j();e&&(e.code!==d.b.Validation&&e.code!==d.b.InvalidParameter||e.fields&&e.fields.forEach((function(e){n[e]=!0}))),t.setState({processing:!1,errorMessage:t.invalidCredentialsError,errorState:n})},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){!this.props.onFirstFormInteraction||this.firstInteractFired||t.firstName===this.state.firstName&&t.lastName===this.state.lastName&&t.countryCode===this.state.countryCode&&t.streetAddress===this.state.streetAddress&&t.city===this.state.city&&t.stateOrProvince===this.state.stateOrProvince&&t.postalCode===this.state.postalCode||(this.firstInteractFired=!0,this.props.onFirstFormInteraction())},t.prototype.render=function(){var e=this;return r.createElement(p.a,{className:"recurly-credit-card-form"},this.state.errorMessage&&r.createElement(p.a,{margin:{y:1}},r.createElement(O.a,{type:D.a.Error,message:this.state.errorMessage})),r.createElement("form",{ref:function(t){return e.form=t}},r.createElement(p.a,{margin:{y:1}},r.createElement(P.a,{bold:!0,transform:P.d.Uppercase},Object(s.d)("Billing Information","RecurlyCreditCardForm"))),this.renderNameFields(),r.createElement(p.a,{margin:{y:1}},r.createElement(P.a,{bold:!0,transform:P.d.Uppercase},Object(s.d)("Credit Card Information","RecurlyCreditCardForm"))),this.renderCreditCardFields(),r.createElement(p.a,{margin:{top:2},display:f.h.Flex,alignItems:f.b.Center,justifyContent:f.m.Between},r.createElement(p.a,{display:f.h.Flex,alignItems:f.b.Start},Object(E.a)()&&r.createElement(S.a,null)),r.createElement(p.a,{display:f.h.Flex,alignItems:f.b.End},r.createElement(_.a,{onClick:this.handleSubmit,state:this.state.processing||this.props.forceLoadingState?_.c.Loading:_.c.Default,disabled:this.state.processing||this.props.disableCallToActionButton||this.props.forceLoadingState,"data-a-target":"continue-button"},this.props.callToActionButtonLabel)))))},Object.defineProperty(t.prototype,"firstNameText",{get:function(){return Object(s.d)("First Name","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNameText",{get:function(){return Object(s.d)("Last Name","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),t.prototype.renderNameFields=function(){var e="CA"===this.state.countryCode||"US"===this.state.countryCode;return r.createElement(T.a,{gutterSize:T.b.Medium},r.createElement(N.a,{cols:{sm:e?3:4,default:6}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},this.firstNameText)),r.createElement(w.a,{type:w.c.Text,placeholder:this.firstNameText,value:this.state.firstName,onChange:this.onFirstNameChange,error:this.state.errorState[d.a.FirstName],"data-a-target":"first-name",autoComplete:"given-name"}),r.createElement("input",{type:"hidden","data-recurly":d.a.FirstName,value:this.state.firstName}))),r.createElement(N.a,{cols:{sm:e?3:4,default:6}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},this.lastNameText)),r.createElement(w.a,{type:w.c.Text,placeholder:this.lastNameText,value:this.state.lastName,onChange:this.onLastNameChange,error:this.state.errorState[d.a.LastName],"data-a-target":"last-name",autoComplete:"family-name"}),r.createElement("input",{type:"hidden","data-recurly":d.a.LastName,value:this.state.lastName}))),r.createElement(N.a,{cols:{sm:e?3:4,default:6}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},Object(s.d)("Country","RecurlyCreditCardForm"))),r.createElement(g.a,{countryCode:this.state.countryCode,countryCodeList:C.a,onChange:this.onCountryChange,error:this.state.errorState[d.a.Country],"data-a-target":"country"}),r.createElement("input",{type:"hidden","data-recurly":d.a.Country,value:this.state.countryCode}))),e&&r.createElement(N.a,{cols:{sm:3,default:6}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},this.postalCodeText)),r.createElement(w.a,{type:w.c.Text,placeholder:this.postalCodeText,value:this.state.postalCode,onChange:this.onPostalCodeChange,error:this.state.errorState[d.a.PostalCode],maxLength:this.postalCodeMaxLength,"data-a-target":"postal-code",autoComplete:"postal-code"}),r.createElement("input",{type:"hidden","data-recurly":d.a.PostalCode,value:this.state.postalCode}))))},Object.defineProperty(t.prototype,"postalCodeText",{get:function(){return Object(s.d)("Postal Code","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),t.prototype.renderCreditCardFields=function(){var e=v({"recurly-error":this.state.errorState[d.a.ExpMonth],"recurly-dark-theme":this.props.darkModeEnabled}),t=v({"recurly-error":this.state.errorState[d.a.ExpMonth],"recurly-dark-theme":this.props.darkModeEnabled}),n=v({"recurly-error":this.state.errorState[d.a.CreditCardNumber],"secure-lock":!0,"recurly-dark-theme":this.props.darkModeEnabled}),i=v({"recurly-error":this.state.errorState[d.a.CVV],"secure-lock":!0,"recurly-dark-theme":this.props.darkModeEnabled});return r.createElement(T.a,{gutterSize:T.b.Medium},r.createElement(N.a,{cols:{default:12,sm:4}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},Object(s.d)("Credit Card Number","RecurlyCreditCardForm"))),r.createElement("div",{id:"recurly-number","data-recurly":d.a.CreditCardNumber,className:n}))),r.createElement(N.a,{cols:{default:12,sm:4}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},Object(s.d)("Expiry Date","RecurlyCreditCardForm"))),r.createElement(T.a,{gutterSize:T.b.Medium},r.createElement(N.a,{cols:6},r.createElement("div",{id:"recurly-month","data-recurly":d.a.ExpMonth,className:e})),r.createElement(N.a,{cols:6},r.createElement("div",{id:"recurly-year","data-recurly":d.a.ExpYear,className:t}))))),r.createElement(N.a,{cols:{default:12,sm:4}},r.createElement(p.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},r.createElement(p.a,{margin:{bottom:.5}},r.createElement(P.a,{bold:!0},Object(s.d)("CVV","RecurlyCreditCardForm"))),r.createElement("div",{id:"recurly-cvv","data-recurly":d.a.CVV,className:i}))),r.createElement("input",{type:"hidden","data-recurly":d.a.Token}))},Object.defineProperty(t.prototype,"postalCodeMaxLength",{get:function(){switch(this.state.countryCode){case"US":return 5;case"CA":return 7;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidCredentialsError",{get:function(){return{title:Object(s.d)("Valid Credentials Required","RecurlyCreditCardForm"),description:Object(s.d)("Please enter valid credentials in the highlighted areas and try again.","RecurlyCreditCardForm")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validPostalCode",{get:function(){switch(this.state.countryCode){case"US":case"CA":return 0!==this.state.postalCode.length;default:return!0}},enumerable:!0,configurable:!0}),t}(r.Component),x={light:"#000",dark:"#fff"},R={light:"#53535f",dark:"#c4c4c5"},A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recurlyReady:!1},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkRecurlyInstance()},t.prototype.componentDidUpdate=function(e){!e.recurlyInstance&&this.props.recurlyInstance||this.props.recurlyLoadFailed?this.checkRecurlyInstance():this.props.recurlyInstance&&this.props.darkModeEnabled!==e.darkModeEnabled&&this.setupConfigs()},t.prototype.componentWillUnmount=function(){window.clearInterval(this.hostedFieldPollId)},t.prototype.render=function(){return this.props.recurlyLoadFailed?null:r.createElement(r.Fragment,null,r.createElement(p.a,{display:this.state.recurlyReady?f.h.Hide:f.h.Block,padding:{y:1}},r.createElement(h.a,{lineCount:12})),r.createElement(p.a,{display:this.state.recurlyReady?f.h.Block:f.h.Hide},r.createElement(I,{onFirstFormInteraction:this.props.onFirstFormInteraction,callToActionButtonLabel:this.props.callToActionButtonLabel,darkModeEnabled:this.props.darkModeEnabled,disableCallToActionButton:this.props.disableCallToActionButton,forceLoadingState:this.props.forceLoadingState,handleTokenResponse:this.props.handleTokenResponse,handleTokenError:this.props.handleTokenError,recurlyInstance:this.props.recurlyInstance})))},t.prototype.checkRecurlyInstance=function(){this.props.recurlyInstance?(this.props.latencyTracking.reportInteractive(),this.setupConfigs(),this.pollForHostedField()):this.props.recurlyLoadFailed&&this.props.latencyTracking.reportInteractive()},t.prototype.pollForHostedField=function(){var e=this;this.hostedFieldPollId=window.setInterval((function(){document.querySelector(".recurly-hosted-field > iframe")&&(e.setState({recurlyReady:!0}),e.props.onRecurlyReady&&e.props.onRecurlyReady(),window.clearInterval(e.hostedFieldPollId))}),500)},t.prototype.setupConfigs=function(){if(this.props.recurlyInstance){var e=[d.a.CVV,d.a.Country];this.props.recurlyInstance.configure({publicKey:this.props.publicKey,fraud:{kount:{dataCollector:!0}},required:e,fields:{all:{style:{height:"auto",fontSize:"12px",fontColor:this.props.darkModeEnabled?x.dark:x.light,placeholder:{color:this.props.darkModeEnabled?R.dark:R.light}}},number:{selector:"#recurly-number",style:{placeholder:{content:Object(s.d)("Card Number","RecurlyCreditCardProcessor")}}},month:{selector:"#recurly-month",inputType:"select",style:{placeholder:{content:Object(s.d)("Month","RecurlyCreditCardProcessor")}}},year:{selector:"#recurly-year",inputType:"select",style:{placeholder:{content:Object(s.d)("Year","RecurlyCreditCardProcessor")}}},cvv:{selector:"#recurly-cvv",style:{placeholder:{content:Object(s.d)("CVV","RecurlyCreditCardProcessor")}}}}})}},t}(r.Component);var M=Object(o.d)(Object(m.withLatencyTracking)("RecurlyCreditCardProcessor"),Object(a.b)((function(e){return{darkModeEnabled:Object(l.a)(e)===c.a.Dark}})),Object(u.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(A)},LZV1:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n("q1tI"),r=n("4rCz"),a=n("A4KW"),o=n("OCDW"),s=n("Yegi"),c=function(e,t){return Object(r.d)("You win {pointsCount}!",{pointsCount:i.createElement(i.Fragment,null,i.createElement(o.a,{display:s.h.InlineBlock,verticalAlign:s.r.Middle},i.createElement(a.b,{iconSize:t}))," ",Object(r.f)(e))},"PredictionCheckout")},l=function(e,t,n,c){var l,u,d,m,p=null===(u=null===(l=t.topPredictors[0])||void 0===l?void 0:l.user)||void 0===u?void 0:u.displayName,f=e.reduce((function(e,t){return e+t.totalPoints}),0),h=i.createElement(i.Fragment,null,i.createElement(o.a,{display:s.h.InlineBlock,verticalAlign:s.r.Middle},i.createElement(a.b,{iconSize:n}))," ",c?Object(r.g)(f,{maximumFractionDigits:1}):Object(r.f)(f));switch(t.totalUsers){case 0:return Object(r.d)("Nobody thought this would happen","PredictionCheckout");case 1:return p?Object(r.d)("{pointsCount} go to {topUser}",{pointsCount:h,topUser:p},"PredictionCheckout"):null;default:return p?Object(r.d)("{otherUsers, plural, one {{pointsCount} go to {topUser} and {topUser2}} other {{pointsCount} go to {topUser} and # others}}",{pointsCount:h,topUser:p,topUser2:(null===(m=null===(d=t.topPredictors[1])||void 0===d?void 0:d.user)||void 0===m?void 0:m.displayName)||Object(r.d)("1 other","PredictionCheckout"),otherUsers:t.totalUsers-1},"PredictionCheckout"):null}},u=function(){return Object(r.d)("It will appear in your balance shortly","PredictionCheckout")}},"M/F8":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i,r=n("q1tI"),a=n("QwmM"),o=n("miTg"),s=n("CtEm"),c=n("W1Rv");!function(e){e.Primary1="color-accent-primary-1",e.Primary2="color-accent-primary-2",e.Primary3="color-accent-primary-3",e.Primary4="color-accent-primary-4",e.Primary5="color-accent-primary-5"}(i||(i={}));var l=function(e){var t=e.primary1,n=e.primary2,o=e.primary3,s=e.primary4,c=e.primary5,l=e.inputColor,u=e.inputColorHover,d=e.inputColorIsDark,m=e.children,p={};return l&&(p["--color-accent"]=Object(a.e)(l)),"boolean"==typeof d&&(p["--color-accent-label"]=d?"var(--color-white)":"var(--color-black)"),"boolean"==typeof d&&(p["--color-background-button-purchase"]=d?"var(--color-opac-b-5)":"var(--color-opac-w-5)"),u&&(p["--color-accent-hover"]=Object(a.e)(u)),t&&(p["--"+i.Primary1]=Object(a.e)(t)),n&&(p["--"+i.Primary2]=Object(a.e)(n)),o&&(p["--"+i.Primary3]=Object(a.e)(o)),s&&(p["--"+i.Primary4]=Object(a.e)(s)),c&&(p["--"+i.Primary5]=Object(a.e)(c)),r.createElement("div",{style:p,className:"tw-accent-region"},m)};function u(e){var t=e&&Object(s.a)(Object(a.e)(e));if(!t)return{inputColor:null,inputColorIsDark:!1,inputColorHover:null,primary1:null,primary2:null,primary3:null,primary4:null,primary5:null};var n=Object(o.a)(t).map((function(e){return Object(c.a)(e)}));return{inputColor:Object(c.a)(t),inputColorIsDark:Object(a.a)(t),inputColorHover:Object(c.a)(Object(o.b)(t)),primary1:n[0],primary2:n[1],primary3:n[2],primary4:n[3],primary5:n[4]}}l.displayName="AccentRegion"},M19B:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"celebrationProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CelebrationProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"celebrationOffer"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CelebrationProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"intensity"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243}};i.loc.source={body:'#import "twilight/features/channel-celebrations/queries/celebration-offer-fragment.gql"\nfragment celebrationProduct on CelebrationProduct {\nid\ntitle\ndescription\noffers {\n...celebrationOffer\n}\n... on CelebrationProduct {\nisEnabled\nintensity\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("Pp9m").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},M9G0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubsProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeGiftRecipientQuery"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"giftRecipient"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeGiftRecipientQuery"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefitsStartAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:527}};n.loc.source={body:"query SubsProductDescription(\n$productName: String!\n$giftRecipientID: ID\n$includeGiftRecipientQuery: Boolean!\n$params: PurchasableOfferParams!\n) {\nsubscriptionProduct(productName: $productName) {\nid\ntier\nowner {\nid\nlogin\ndisplayName\nprofileImageURL(width: 150)\n}\n}\ngiftRecipient: user(id: $giftRecipientID)\n@include(if: $includeGiftRecipientQuery) {\nid\ndisplayName\n}\npurchasableOffer(params: $params) {\nid\ngiftType\neligibility {\nbenefitsStartAt\npurchaseType\n}\nlisting {\nchargeModel {\ninternal {\nplan {\nrenewalPolicy\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SubsProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"SubsProductDescription")},M9Tn:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var i,r=n("TSYQ"),a=n("q1tI"),o=n("4udP"),s=n("OCDW"),c=n("Yegi"),l=n("uq9l");n("lYl3");!function(e){e[e.Short=5e3]="Short",e[e.Medium=7e3]="Medium",e[e.Long=9e3]="Long"}(i||(i={}));var u=function(e){var t=e.icon,n=e.message,u=e.onComplete,d=e.postAnimationDelayMs,m=e.duration,p=r({"scroll-animation--short":m===i.Short,"scroll-animation--medium":!m||m===i.Medium,"scroll-animation--long":m===i.Long}),f=Object(a.useRef)();return Object(o.a)((function(){return f.current=setTimeout((function(){u()}),(m||i.Medium)+(d||0)),function(){clearTimeout(f.current)}})),a.createElement(s.a,{display:c.h.Flex,alignItems:c.b.Center,fullHeight:!0,className:p},t&&a.createElement(s.a,{display:c.h.Flex,margin:1},t),a.createElement(l.a,{bold:!0,fontSize:c.k.Size3,whiteSpace:l.f.NoWrap},n))}},MPK0:function(e,t,n){},Mb07:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return u}));var i,r=n("DsWU"),a=n("5yce"),o=n("a5fV");function s(e,t){return null==t?void 0:t.find((function(t){var n;return(null===(n=t.promotion)||void 0===n?void 0:n.name)===e}))}function c(e,t){return l(e,t)?u(e):{}}function l(e,t){return!!e&&(!(Object(a.c)(e)&&!Object(a.b)())&&(!(Object(r.c)(e)&&!Object(r.b)())&&(!!e.eligibility.isEligible&&(!t||!!e.quantity&&e.quantity.min<=t&&t<=e.quantity.max))))}function u(e){var t,n,i,r,a,s,c,l,u=null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.promoDisplay.discountPercent,d=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.previewPrice,m=null===(c=null===(s=null===(a=null===(r=null==e?void 0:e.listing)||void 0===r?void 0:r.chargeModel.internal)||void 0===a?void 0:a.previewPrice)||void 0===s?void 0:s.discount)||void 0===c?void 0:c.price;return d&&(l=Object(o.a)(Object(o.b)(d.total,d.exponent),d.currency)),{discountPercent:u,discountPrice:m,price:l}}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off",e.FirstPaidGiftOffer="first_paid_gift_offer_20_perc_off",e.FirstPaidSingleGiftOffer="single_paid_gift_offer_20_perc_off",e.FirstPaidMulitMonthOffer="single_paid_multi_month_gift_offer_20_perc_off",e.MultiMonthIntroOffer="multimonth_intro",e.ActiveSubCommunityGiftPromoOffer="active_sub_community_gifting_discount_10_perc_off",e.ActiveSubSixMultiMonthGiftPromoOffer="active_sub_6_multi_month_gifting_discount_10_perc_off",e.ActiveSubTwelveMultiMonthGiftPromoOffer="active_sub_12_multi_month_gifting_discount_10_perc_off"}(i||(i={}))},NBHn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("5e0Q"),s=n("OCDW"),c=n("Yegi"),l=function(e){return a.createElement(s.a,{display:c.h.Flex,justifyContent:c.m.Start,flexDirection:c.i.RowReverse},a.createElement("div",null,a.createElement(o.a,r()({size:o.b.Small,type:e.primaryButton.type||o.d.Primary},e.primaryButton))),e.secondaryButton&&a.createElement(s.a,{margin:{right:1}},a.createElement(o.a,r()({size:o.b.Small,type:e.secondaryButton.type||o.d.Secondary},e.secondaryButton))))};l.displayName="NotificationActions",l.displayName="NotificationActions"},NC8R:function(e,t,n){},NO6m:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LeaveRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LeaveRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"leaveRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raidID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:83}};n.loc.source={body:"mutation LeaveRaid($input: LeaveRaidInput!) {\nleaveRaid(input: $input) {\nraidID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.LeaveRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"LeaveRaid")},NYFu:function(e,t,n){e.exports=n.p+"assets/sub-only-chat-432211050c885b3070f1.png"},NgZA:function(e,t,n){},Njy6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("4rCz"),a=n("OCDW"),o=n("Yegi"),s=(n("s7pO"),function(e){var t=e.topBitsContributor;if(!t)return null;var n=t.user&&t.user.displayName||"",s=t.bitsAmount;return n&&s?i.createElement(a.a,{margin:{top:1}},i.createElement(a.a,{borderRadius:o.e.Rounded,className:"top-poll-contributor",padding:{x:1,y:.5},display:o.h.InlineBlock},Object(r.d)("{bits, plural, one {{username} contributed {bitsString} Bits!} other {{username} contributed {bitsString} Bits!}}",{username:n,bits:s,bitsString:Object(r.f)(s)},"Polls--TopPollContributor"))):null})},NoAt:function(e,t,n){e.exports=n.p+"assets/custom-username-9977ae65e403e35e9f17.png"},Nxym:function(e,t,n){},O3Y9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var i,r=n("/7QA"),a=n("2xye");function o(e){r.p.tracking.track(a.SpadeEventType.WhisperIgnoreUser,{ui_context:e.context,from_login:e.currentUserLogin,ignored_login:e.targetUserLogin})}!function(e){e.ViewerCard="chat_card",e.ReportWizard="report_wizard"}(i||(i={}))},Oje4:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var i,r=n("q1tI"),a=n("eirU"),o=n("8XDC"),s=n("/0dD"),c=n("76Lv"),l=n("DMoW"),u=n("dfHF"),d=n("BmOg"),m=n("YV90"),p=n("cFyR"),f=n("JiyE"),h=n("IyK4"),v=n("Yegi"),g=n("xTkt"),b=n("mrSG"),y=n("/7QA"),k=n("29Yd"),S=n("4udP"),E=n("OCDW"),C=(n("T3An"),function(e){var t=e.children,n=e.postAnimationDelayMs,i=e.onComplete,a=Object(r.useRef)();return Object(S.a)((function(){return a.current=setTimeout((function(){i()}),700+(n||0)),function(){clearTimeout(a.current)}})),r.createElement(E.a,{display:v.h.Flex,alignItems:v.b.Center,justifyContent:v.m.Center,fullHeight:!0,className:"scale-over-animation"},t)}),O=n("M9Tn"),D=n("A4KW"),P=n("W1jp"),_=n("JjwZ"),T=n("uq9l");n("RAWN");!function(e){e.Scroll="scroll-animation",e.ScaleOver="scale-animation"}(i||(i={}));var N,w=function(e){var t=e.backgroundColor,n=e.challenge,a=e.milestone,o=e.onAnimationComplete,s=n.amountNeeded,c=n.title,l=n.pointsContributed,u=Object(r.useState)(i.Scroll),m=u[0],p=u[1],f=function(){p(i.ScaleOver)},g=function(){switch(a){case d.b.Started:return Object(y.d)("Community Challenge Started!","CommunityChallengeHighlightAnimation");case d.b.Quarter:return Object(y.d)("Community Challenge 25% Complete","CommunityChallengeHighlightAnimation");case d.b.Half:return Object(y.d)("Community Challenge 50% Complete","CommunityChallengeHighlightAnimation");case d.b.ThreeQuarter:return Object(y.d)("Community Challenge 75% Complete","CommunityChallengeHighlightAnimation");case d.b.NinetyFive:return Object(y.d)("Community Challenge 95% Complete","CommunityChallengeHighlightAnimation");case d.b.Ended:return Object(y.d)("Community Challenge Complete!","CommunityChallengeHighlightAnimation");default:return""}},S=function(){return a===d.b.Ended&&l>=s?r.createElement(k.a,{confettiCount:50,infinite:!0}):null};return r.createElement(h.a,{position:v.o.Absolute,borderRadius:v.e.Medium,zIndex:v.t.Above,className:"community-challenge-highlight-animation",fullHeight:!0,fullWidth:!0},r.createElement("div",{style:{backgroundColor:t}},function(){switch(m){case i.Scroll:var e=f,t=0;return a===d.b.Started&&(e=o,t=500),r.createElement(O.b,{icon:(p=Object(P.e)(n),r.createElement(_.a,Object(b.__assign)({alt:c},p))),message:g(),postAnimationDelayMs:t,onComplete:e});case i.ScaleOver:var u=a===d.b.Ended&&l>=s?5e3:2e3;return r.createElement(r.Fragment,null,r.createElement(C,{postAnimationDelayMs:u,onComplete:o},function(){switch(a){case d.b.Quarter:case d.b.Half:case d.b.ThreeQuarter:case d.b.NinetyFive:return r.createElement(r.Fragment,null,r.createElement(E.a,{display:v.h.Flex,margin:{x:.5}},r.createElement(D.b,null)),r.createElement(T.a,{fontSize:v.k.Size3,bold:!0},Object(y.d)("{points, plural, one {# Raised} other {# Raised}}",{points:l},"CommunityChallengeHighlightAnimation")));case d.b.Ended:return r.createElement(T.a,{fontSize:v.k.Size2,bold:!0},Object(y.d)("{percent}%",{percent:Math.floor(l/s*100)},"CommunityChallengeHighlightAnimation"));default:return null}}()),S());default:return null}var p}()))},j=n("BXoJ"),I=n("nAiT"),x=n("CZSx"),R=n("5e0Q");!function(e){e.Description="community-challenge-highlight-body__description",e.Duration="community-challenge-highlight-body__duration",e.PointsProgress="community-challenge-highlight-body__points-progress"}(N||(N={}));var A,M=function(e){var t=e.challenge,n=e.onButtonClick,i=e.pointName,a=t.amountNeeded,o=t.endedAt,s=t.pointsContributed;return r.createElement(E.a,{display:v.h.Flex,flexDirection:v.i.Column,alignItems:v.b.Start,color:v.f.Alt,fontSize:v.k.Size6,margin:{top:1}},o&&r.createElement(T.a,{"data-test-selector":N.Duration},Object(y.d)("{time} left",{time:Object(x.a)(o)},"CommunityChallengeHighlightBody")),r.createElement(E.a,{display:v.h.Flex,alignItems:v.b.Center,margin:{y:.5}},r.createElement(E.a,{display:v.h.Flex,padding:{right:.5}},r.createElement(D.b,null)),r.createElement(T.a,{"data-test-selector":N.PointsProgress},Object(y.d)("{pointsContributed, number} / {amountNeeded, number} {pointName}",{pointsContributed:s,amountNeeded:a,pointName:i||Object(I.c)()},"CommunityChallengeHighlightBody"))),r.createElement(T.a,{"data-test-selector":N.Description},Object(j.a)(t)),r.createElement(E.a,{margin:{top:1}},r.createElement(R.a,{onClick:function(e){e.stopPropagation(),n()}},Object(y.d)("Contribute","CommunityChallengeHighlightBody"))))},F=n("7Py2"),L=n("hPKk");!function(e){e.Subtitle="community-challenge-highlight-header__subtitle",e.Title="community-challenge-highlight-header__title"}(A||(A={}));var B=function(e){var t=e.challenge,n=e.expanded,i=e.milestone,a=Object(r.useCallback)((function(){switch(i){case d.b.Ended:return Object(y.d)("Community Challenge Ended","CommunityChallengeHighlightHeader");case d.b.Started:return Object(y.d)("Community Challenge Started","CommunityChallengeHighlightHeader");default:return Object(y.d)("Community Challenge","CommunityChallengeHighlightHeader")}}),[i]);return r.createElement(E.a,{display:v.h.Flex},r.createElement(E.a,{display:v.h.Flex,flexDirection:v.i.Column,flexGrow:1,textAlign:v.q.Left,overflow:v.n.Hidden},r.createElement(h.a,{margin:{bottom:.5}},r.createElement(T.a,{color:v.f.Alt,fontSize:v.k.Size6,"data-test-selector":A.Subtitle},a())),r.createElement(h.a,{color:v.f.Base},r.createElement(F.a,{ellipsis:!n,size:F.b.Small,wordBreak:T.g.BreakWord,"data-test-selector":A.Title},Object(j.b)(t)))),r.createElement(E.a,{display:v.h.Flex,flexDirection:v.i.Column,textAlign:v.q.Right,padding:{x:1}},r.createElement(h.a,{margin:{bottom:.5}},r.createElement(T.a,{color:v.f.Alt,fontSize:v.k.Size6},Object(y.d)("Raised","CommunityChallengeHighlightHeader"))),r.createElement(h.a,{color:v.f.Base},r.createElement(F.a,{size:F.b.Small},r.createElement(L.a,{value:t.pointsContributed,formatValue:function(e){return Object(y.g)(e)},monospaced:!1})))))},U=f.a.Purple8,V=f.a.BrandMutedSky,z=function(e){var t=e.channelID,n=e.challengeID,i=e.event,f=e.expanded,b=e.onClick,y=e.removeHighlight,k=e.toggleExpanded,S=e.visible,E=e.viewUUID,C=e.renderPreview,O=Object(r.useContext)(m.a),D=O.pointName,P=O.rewardMap,_=Object(r.useContext)(p.b).openReward,T=Object(r.useState)(!C),N=T[0],j=T[1],I=Object(r.useState)(!1),x=I[0],R=I[1],A=r.useRef(),F=Object(a.d)(g,{variables:{channelID:t}}).data,L=P[n]||i.data,z=L.amountNeeded,G=L.pointsContributed,H=L.status,W=L.type,q=Object(o.a)(H),Q=(H===l.fb.ENDED||W===l.gb.BOOST&&H===l.fb.FULFILLED)&&G>=z,Y=Q&&W===l.gb.BOOST,K=Object(r.useCallback)((function(){var e,t;return L.type===l.gb.BOOST?V:(null===(e=null==F?void 0:F.user)||void 0===e?void 0:e.primaryColorHex)?"#"+(null===(t=null==F?void 0:F.user)||void 0===t?void 0:t.primaryColorHex):U}),[L,F]),J=Object(r.useCallback)((function(){x||R(!0)}),[x]),X=Object(r.useCallback)((function(){k&&k()}),[k]),Z=Object(r.useCallback)((function(){k&&k(),_({reward:L,viewUUID:E})}),[L,_,k,E]);Object(r.useEffect)((function(){!N&&H!==q&&H===l.fb.ENDED&&G>=z&&j(!0)}),[N,q,H,G,z]),Object(r.useEffect)((function(){if(Y&&y)return A.current=setTimeout((function(){y()}),16e3),function(){clearTimeout(A.current)}}));var $,ee={};Q&&(ee={backgroundColor:K()},$=Object(c.b)(s.a.Dark));var te=!N&&H!==l.fb.ENDED&&H!==l.fb.FULFILLED;return r.createElement(h.a,{borderRadius:v.e.Large,className:$,overflow:N?v.n.Hidden:v.n.Auto},r.createElement("div",{style:ee},r.createElement(u.a,{visible:S,progressBar:function(){if(!C&&!N&&H!==l.fb.ENDED&&H!==l.fb.FULFILLED)return{duration:120,onDurationEnd:J}}(),expandable:te,expanded:f&&te,toggleExpanded:X,dismissable:x,onDismiss:y,onClick:b,header:r.createElement(r.Fragment,null,N&&r.createElement(w,{backgroundColor:K(),challenge:L,milestone:Q?d.b.Ended:i.typeDetails,onAnimationComplete:function(){j(!1),H!==l.fb.ENDED||Y||J()}}),r.createElement(B,{expanded:f,challenge:L,milestone:H===l.fb.ENDED?d.b.Ended:i.typeDetails}))},f?r.createElement(M,{challenge:L,onButtonClick:Z,pointName:D}):null)))}},OoH1:function(e,t,n){e.exports=n.p+"assets/prime-gaming-white-d6ba45600d204db0ed23.svg"},Oy4H:function(e,t,n){},PZ6D:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return g}));var i=n("DMoW"),r=n("VURH"),a=n("Mb07");function o(e,t){if((null==e?void 0:e.offers)&&0!==e.offers.length)return 1===e.offers.length?e.offers[0]:s(e.offers,t)}function s(e,t){return null==e?void 0:e.slice().sort((function(e,n){var i,r,o,s,c,l,u,d,m=null===(o=null===(r=null===(i=e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===o?void 0:o.previewPrice,p=null===(l=null===(c=null===(s=n.listing)||void 0===s?void 0:s.chargeModel)||void 0===c?void 0:c.internal)||void 0===l?void 0:l.previewPrice;return m?p?!Object(a.e)(e,t)&&Object(a.e)(n,t)?1:Object(a.e)(e,t)&&!Object(a.e)(n,t)?-1:((null===(u=null==m?void 0:m.discount)||void 0===u?void 0:u.total)||(null==m?void 0:m.total))-((null===(d=null==p?void 0:p.discount)||void 0===d?void 0:d.total)||(null==p?void 0:p.total)):-1:1}))[0]}function c(e){if((null==e?void 0:e.offers)&&0!==e.offers.length)return function(e){var t=[];if(!e)return t;var n=s(l(e,1,i.Q.MONTHS));n&&t.push(n);var r=s(l(e,3,i.Q.MONTHS));r&&t.push(r);var a=s(l(e,6,i.Q.MONTHS));a&&t.push(a);return t}(e.offers)}function l(e,t,n){return e.filter((function(e){var i,r,a,o,s=null===(o=null===(a=null===(r=null===(i=e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===a?void 0:a.plan)||void 0===o?void 0:o.interval;return(null==s?void 0:s.duration)===t&&(null==s?void 0:s.unit)===n}))}function u(e,t){var n;return(null===(n=d(e,t))||void 0===n?void 0:n.id)||""}function d(e,t){var n,o=null===(n=null==e?void 0:e.community)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){return(null==e?void 0:e.platform)===i.hd.WEB&&(null==e?void 0:e.tplr)===r.b.ChannelSubCommunityGift})),c=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidGiftOffer}));if(Object(a.e)(c,t))return c||void 0;var l=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.ActiveSubCommunityGiftPromoOffer}));return Object(a.e)(l,t)?l||void 0:s(o,t)}function m(e){var t;return(null===(t=p(e))||void 0===t?void 0:t.id)||""}function p(e){var t,n,o=null===(n=null===(t=null==e?void 0:e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){var t,n,a;return(null==e?void 0:e.platform)===i.hd.WEB&&(null==e?void 0:e.tplr)===r.b.ChannelSubStandardGift&&1===(null===(a=null===(n=null===(t=null==e?void 0:e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===n?void 0:n.plan)||void 0===a?void 0:a.interval.duration)})),c=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidSingleGiftOffer}));return Object(a.e)(c)?c||void 0:s(o)}function f(e){var t,n,o=null===(n=null===(t=null==e?void 0:e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){return(null==e?void 0:e.platform)===i.hd.WEB&&(null==e?void 0:e.tplr)===r.b.ChannelSubStandardGift})),s=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidSingleGiftOffer}));if(Object(a.e)(s))return s||void 0;var c=null==o?void 0:o.find((function(e){var t,n;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.ActiveSubSixMultiMonthGiftPromoOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===a.a.ActiveSubTwelveMultiMonthGiftPromoOffer}));return Object(a.e)(c)&&c||void 0}function h(e,t){if(t)return e.map((function(e){return g(e,t)}))}function v(e){var t,n;return null===(n=null===(t=e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){var t,n,a,o,s,c,l;if(!e)return!1;var u=null===(a=null===(n=null===(t=e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===n?void 0:n.plan)||void 0===a?void 0:a.interval,d=1===(null==u?void 0:u.duration)||3===(null==u?void 0:u.duration)||6===(null==u?void 0:u.duration)||12===(null==u?void 0:u.duration);return e.platform===i.hd.WEB&&e.tplr===r.b.ChannelSubStandardGift&&(null===(l=null===(c=null===(s=null===(o=e.listing)||void 0===o?void 0:o.chargeModel.internal)||void 0===s?void 0:s.plan)||void 0===c?void 0:c.interval)||void 0===l?void 0:l.unit)===i.Q.MONTHS&&d}))}function g(e,t){var n=!1,i=null==t?void 0:t.filter((function(t){var i,r,o;if(!t)return!1;Object(a.e)(t)&&(n=!0);var s=null===(o=null===(r=null===(i=t.listing)||void 0===i?void 0:i.chargeModel.internal)||void 0===r?void 0:r.plan)||void 0===o?void 0:o.interval;return(null==s?void 0:s.duration)===e}));return n?null==i?void 0:i.slice().sort((function(e,t){var n,i,r,o,s,c,l,u;if(!Object(a.e)(e)&&Object(a.e)(t))return 1;if(Object(a.e)(e)&&!Object(a.e)(t))return-1;var d=null===(r=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice,m=null===(c=null===(s=null===(o=null==t?void 0:t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.previewPrice;return d&&m?((null===(l=null==d?void 0:d.discount)||void 0===l?void 0:l.total)||(null==d?void 0:d.total))-((null===(u=null==m?void 0:m.discount)||void 0===u?void 0:u.total)||(null==m?void 0:m.total)):0}))[0]:null==i?void 0:i.slice().sort((function(e,t){var n,i,r,o,s,c,l,u;if(!Object(a.e)(e)&&Object(a.e)(t))return 1;if(Object(a.e)(e)&&!Object(a.e)(t))return-1;var d=null===(r=null===(i=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.previewPrice,m=null===(c=null===(s=null===(o=null==t?void 0:t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.previewPrice;return d&&m?((null===(l=null==m?void 0:m.discount)||void 0===l?void 0:l.total)||(null==m?void 0:m.total))-((null===(u=null==d?void 0:d.discount)||void 0===u?void 0:u.total)||(null==d?void 0:d.total)):0}))[0]}},Pp9m:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"celebrationOffer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"priceID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:253}};n.loc.source={body:"fragment celebrationOffer on Offer {\nid\ntplr\nplatform\neligibility {\nisEligible\n}\nlisting {\nchargeModel {\ninternal {\npriceID\npreviewPrice {\nid\nexponent\nprice\ntotal\ncurrency\ndiscount {\nprice\ntotal\n}\n}\n}\n}\n}\ntagBindings {\nkey\nvalue\n}\nquantity {\nmin\nmax\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},PwAB:function(e,t,n){e.exports=n.p+"assets/xsolla_2x-b8ef30f34626976fddc4.png"},Q3S8:function(e,t,n){"use strict";n.d(t,"s",(function(){return c})),n.d(t,"t",(function(){return l})),n.d(t,"p",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"q",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"r",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"c",(function(){return O})),n.d(t,"m",(function(){return D})),n.d(t,"k",(function(){return P})),n.d(t,"a",(function(){return _})),n.d(t,"l",(function(){return T}));var i=n("cr+I"),r=n("SSXq"),a=n("+XUr"),o=n("mrSG"),s=n("yWUM");function c(e){return e.type===a.a.Live}function l(e){return e.type===a.a.VOD}function u(e){return e.type===a.a.Collection}function d(e){return e.type===a.a.Clip}function m(e){return!!(l(e)||u(e)||d(e))&&!!e.editing}function p(e){if(l(e)||u(e)||d(e))return e.editing}function f(e){var t=p(e);return t&&t.segments}function h(e){var t=p(e);return!!(null==t?void 0:t.isPostEdit)}function v(e){return e.type===a.a.Invalid}function g(e){if(c(e)||l(e)||u(e)||d(e))return e.channelLogin}function b(e){if(c(e))return e.multiview}function y(e){if(c(e))return e.channelLogin}function k(e){if(c(e)&&e.multiview)return e.multiview.parentChannelLogin}function S(e){if(c(e)&&e.multiview)return e.multiview.parentChannelID}function E(e){if(u(e))return e.collectionID}function C(e){return l(e)||u(e)?e.vodID:null}function O(e){return d(e)?e.clipSlug:null}function D(e){if(d(e)||l(e)||u(e))return e.videoOffset}function P(e){return c(e)&&e.squad?e.squad.streamID:null}var _=function(e){return d(e)||l(e)||u(e)};function T(e,t,n){switch(e.type){case a.a.Live:var c=Object(r.a)("/"+e.channelLogin);return t?c+"?"+i.stringify(t):c;case a.a.VOD:return l=e.vodID,u=n&&n.getPosition(),d=t,m=void 0!==u?Object(s.a)(Math.floor(u)):void 0,(p=i.stringify(Object(o.__assign)({t:m},d)))?Object(r.a)("/videos/"+l+"?"+p):Object(r.a)("/videos/"+l);case a.a.Clip:return function(e,t){var n=i.stringify(Object(o.__assign)({tt_content:"player_twitch_logo",tt_medium:"clips_embed"},t));return Object(r.a)("/"+e+"?"+n,"clips")}(e.clipSlug,t);default:return"https://www.twitch.tv"}var l,u,d,m,p}},Q7xm:function(e,t,n){e.exports=n.p+"assets/blue-gem-3d8ce5988f1af3a9da13.png"},"QC++":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainLevel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainLevel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}],loc:{start:0,end:159}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-reward.gql"\nfragment hypeTrainLevel on HypeTrainLevel {\nid\nvalue\ngoal\nrewards {\n...hypeTrainReward\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("iotB").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},QCvd:function(e,t,n){e.exports=n.p+"assets/apple_1x-37e2db56c962df2a5704.svg"},QYyK:function(e,t,n){},QjI3:function(e,t,n){"use strict";n.r(t),n.d(t,"SubscribeButtonContainer",(function(){return we})),n.d(t,"SubscribeButton",(function(){return je})),n.d(t,"TestSelectors",(function(){return ge})),n.d(t,"signalSubPurchase",(function(){return ke})),n.d(t,"signalOpenSubModal",(function(){return Se})),n.d(t,"SubscribeButtonPresentation",(function(){return Ee})),n.d(t,"hasCriticalData",(function(){return Ce})),n.d(t,"hasCriticalErrors",(function(){return De})),n.d(t,"isAvailable",(function(){return Pe})),n.d(t,"isInteractive",(function(){return _e})),n.d(t,"SubscribeButtonComponent",(function(){return Te}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("ZS2+"),l=n("v8lJ"),u=n("1/iK"),d=n("XDCx"),m=n("kz7j"),p=n("kRBY"),f=n("w1PT"),h=n("8EUQ"),v=n("GnwI"),g=n("G1Na"),b=n("uhBA"),y=n("/7QA"),k=n("vCMj"),S=n("yR8l"),E=n("x7UT"),C=n("/aPz"),O=n("f00E"),D=n("7IMp"),P=n("SSXq"),_=n("KriR"),T=n("DQ0a"),N=Object(s.d)(Object(S.a)(T,{options:function(e){var t;return{variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:""}}}}))((function(e){return a.createElement(a.Fragment,null,e.children)})),w=n("Uh2Q"),j=n("RiD7"),I=n("p9DJ"),x=n("JjwZ"),R=n("swlv"),A=n("OCDW"),M=n("Yegi"),F=n("g8gE"),L=n("uq9l");n("nO9i");!function(e){e.Callout="mega-commerce-callout"}(i||(i={}));var B,U=function(e){var t=e.userId,n=Object(a.useState)((function(){return y.m.get(Object(w.j)(t),!1)})),o=n[0],s=n[1];if(o||!Object(w.n)())return null;var c="mega-commerce-callout",l={callout:c,icon:c+"__icon",header:c+"__header",background:c+"__background",dismiss:c+"__dismiss"},u=Object(w.f)(),d={message:{title:Object(w.m)(),description:Object(w.g)((function(e){return a.createElement(I.a,{linkTo:Object(w.c)(),targetBlank:!0,onClick:function(){return e=t,void Object(j.o)({user_id:e||"",source:j.e.SubButtonCallout});var e}},e)}))},icon:a.createElement(x.a,{src:u.src,alt:u.emoteString}),closeButton:{"aria-label":Object(y.d)("Close","MegaCommerceCallout"),type:R.c.Secondary,onClick:function(){y.m.set(Object(w.j)(t),!0),s(!0)}}};return a.createElement(A.a,{className:l.callout,position:M.o.Absolute,zIndex:M.t.Above,padding:{top:.5},"data-test-selector":i.Callout},a.createElement(A.a,{border:!0,borderRadius:M.e.Medium,className:l.background,color:M.f.Base,elevation:4,padding:{x:1,bottom:2},position:M.o.Relative,overflow:M.n.Hidden},a.createElement(A.a,{padding:{left:.5},position:M.o.Absolute,className:l.dismiss},a.createElement(F.a,Object(r.__assign)({size:R.b.Small},d.closeButton))),a.createElement(A.a,{display:M.h.Flex,alignItems:M.b.Center,margin:{x:1,top:1}},a.createElement(A.a,{className:l.icon,margin:{right:1},display:M.h.Flex,alignItems:M.b.Center,justifyContent:M.m.Center},d.icon),a.createElement(A.a,{className:l.header,display:M.h.Flex,alignItems:M.b.Center,padding:{right:.5,top:.5},flexGrow:1},a.createElement(L.a,{className:"mega-commerce-callout__title",fontSize:M.k.Size5,fontWeight:M.l.SemiBold},d.message.title))),a.createElement(A.a,{display:M.h.Flex,margin:{top:.5,x:1}},a.createElement(L.a,{type:L.e.Span},d.message.description))))},V=n("UZA7"),z=n("J6px"),G=n("br9A"),H=n("5e0Q"),W=n("Ix37"),q=n("4rCz"),Q=n("Mb07"),Y=n("PZ6D"),K=n("0WFu");function J(e){return"control"===y.p.experiments.getAndTrackAssignment("show_gift_button_top_of_sub_modal")&&y.p.experiments.getAndTrackAssignment("show_support_subscribe_button")===e}!function(e){e.Control="control",e.VariantA="variant_a",e.VariantB="variant_b"}(B||(B={}));var X="Continue Sub",Z=function(e){return"Continue Sub: "+e+"% off"},$="Continue Sub - Ends Today",ee=function(e){return"Continue Sub: "+e+"% off - Ends Today"},te=function(e){return"Continue Sub - "+e+" Days Remaining"},ne=function(e,t){return"Continue Sub: "+e+"% off - "+t+" Days Remaining"},ie="Gift A Sub",re=function(e){return"Gift A Sub: "+e+"% off"},ae="Resubscribe",oe=function(e){return"Resubscribe: "+e+"% off"},se="Subscribe",ce=function(e){return"Subscribe: "+e+"% off"},le="Subscribed to <hosted channel>",ue="Subscribe to <hosted channel>",de=function(e){return"Subscribe to <hosted channel>: "+e+"% off"},me="Subscribe to Skip Ads",pe="Support",fe="Support <displayName>",he="Support <hosted channel>";function ve(e,t,n,i,r){var a,o,s,c,l,u,d,m,p,f,h;if(!(null==e?void 0:e.user))return{text:"",cta:""};var v=e.user.self,g=null==v?void 0:v.subscriptionBenefit,b=(null===(c=null===(s=Object(Q.d)(Object(Q.c)(Q.a.FirstPaidSubOffer,null===(o=null===(a=e.user.subscriptionProducts)||void 0===a?void 0:a[0])||void 0===o?void 0:o.offers)))||void 0===s?void 0:s.discountPercent)||void 0===c?void 0:c.toString())||"",y=(null===(m=null===(d=Object(Q.d)(Object(Y.a)(null===(u=null===(l=e.user.subscriptionProducts)||void 0===l?void 0:l[0])||void 0===u?void 0:u.gifting)))||void 0===d?void 0:d.discountPercent)||void 0===m?void 0:m.toString())||"";if(J(B.VariantA))return{text:Object(q.d)("Support","SubscribeButton"),cta:pe};var k=Object(q.d)("Support {username}",{username:e.user.displayName},"SubscribeButton");if(J(B.VariantB))return{text:k,cta:fe};if(g){if(t)return{text:Object(q.d)("Subscribed to {username}",{username:t},"SubscribeButton"),cta:le};if(((null==g?void 0:g.purchasedWithPrime)||(null==g?void 0:g.isDNRd)||(null===(p=null==g?void 0:g.gift)||void 0===p?void 0:p.isGift))&&g.endsAt&&!g.pendingSubscription){var S=Object(K.a)(null==g?void 0:g.endsAt);if(S<=15&&S>7)return b?{text:Object(q.d)("Continue Sub: {discountPercent}% off",{discountPercent:b},"SubscribeButton"),cta:Z(b)}:{text:Object(q.d)("Continue Sub","SubscribeButton"),cta:X};if(S<=7&&0!==S)return b?{text:Object(q.d)("{daysRemaining, plural, one {Continue Sub: {discountPercent}% off - {daysRemaining} Day Remaining} other {Continue Sub: {discountPercent}% off - {daysRemaining} Days Remaining}}",{discountPercent:b,daysRemaining:S},"SubscribeButton"),cta:ne(b,S)}:{text:Object(q.d)("{daysRemaining, plural, one {Continue Sub - {daysRemaining} Day Remaining} other {Continue Sub - {daysRemaining} Days Remaining}}",{daysRemaining:S},"SubscribeButton"),cta:te(S)};if(0===S)return b?{text:Object(q.d)("Continue Sub: {discountPercent}% off - Ends Today",{discountPercent:b},"SubscribeButton"),cta:ee(b)}:{text:Object(q.d)("Continue Sub - Ends Today","SubscribeButton"),cta:$}}return y?{text:Object(q.d)("Gift a Sub: {giftDiscountPercent}% off",{giftDiscountPercent:y},"SubscribeButton"),cta:re(y),giftPromo:!0}:{text:Object(q.d)("Gift a Sub","SubscribeButton"),cta:ie}}var E=(null===(h=null===(f=e.user.subscriptionProducts)||void 0===f?void 0:f[0])||void 0===h?void 0:h.hasAdFree)||!1,C=Object(z.d)({isAdShowing:!!n,hasAdFree:E,isTheaterMode:!1,isFullscreen:!1,loggedIn:!!i,channel:e.user.id});return C===z.a.Phase1||C===z.a.Phase2&&r?{text:Object(q.d)("Subscribe to Skip Ads","SubscribeButton"),cta:me}:t?J(B.VariantA)||J(B.VariantB)?{text:k,cta:he}:b?{text:Object(q.d)("Subscribe to {username}: {discountPercent}% off",{discountPercent:b,username:t},"SubscribeButton"),cta:de(b)}:{text:Object(q.d)("Subscribe to {username}",{username:t},"SubscribeButton"),cta:ue}:(null==v?void 0:v.cumulativeTenure)&&v.cumulativeTenure.months>0?b?{text:Object(q.d)("Resubscribe: {discountPercent}% off",{discountPercent:b},"SubscribeButton"),cta:oe(b)}:{text:Object(q.d)("Resubscribe","SubscribeButton"),cta:ae}:b?{text:Object(q.d)("Subscribe: {discountPercent}% off",{discountPercent:b},"SubscribeButton"),cta:ce(b)}:{text:Object(q.d)("Subscribe","SubscribeButton"),cta:se}}n("NgZA");var ge,be=n("z+dA");!function(e){e.SubButton="subscribe-button__dropdown",e.ElasticText="subscribe-button__elastic-text",e.ElasticTextInner="subscribe-button__elastic-text-inner"}(ge||(ge={}));var ye=new b.EventEmitter;function ke(){ye.emit("subPurchaseEvent")}function Se(){ye.emit("subOpenModalEvent")}var Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modalSessionId:"",setTimeoutAfterAd:null,showSecondaryButtonText:!1,elasticTextWidth:null},t.handleSubMenuAction=function(e){var n,i,r,a,o;if(new Set([G.a.ClickCheckout,G.a.BuyGiftSub,G.a.BuyMysteryGift,G.a.BuyCustomMysteryGift,G.a.BuyGiftToPaidUpgrade,G.a.BuyPaidUpgrade,G.a.BuyContinueSub,G.a.BuyPrimeToPaid]).has(e.action)&&t.checkAndDisplaySubscriptionCheckout(),t.props.data){var s=t.props,c=s.data,l=s.hostChannelID,u=c.user;Object(G.c)({action:e.action||"",adID:t.props.adID,adSessionID:t.props.adSessionID,buttonCTA:ve(c,l?null==u?void 0:u.displayName:void 0,t.props.isAdShowing,!!(null==u?void 0:u.self),t.state.showSecondaryButtonText).cta,channelLogin:t.props.channelLogin||"",isLive:t.props.isLive,channelID:(null==u?void 0:u.id)||"",checkoutButtonTier:e.checkoutButtonTier,cumulativeTenureMonths:(null===(i=null===(n=null==u?void 0:u.self)||void 0===n?void 0:n.cumulativeTenure)||void 0===i?void 0:i.months)||null,hasSubCredit:!!(null===(r=null==u?void 0:u.self)||void 0===r?void 0:r.canPrimeSubscribe),hostChannelID:t.props.hostChannelID,hostChannelLogin:t.props.hostChannelLogin,isAdShowing:t.props.isAdShowing,isAnonymous:e.isAnonymous,isMenuOpen:e.action!==G.a.OpenSubMenu,isSingleMonth:e.isSingleMonth,isSubscribed:!!(null===(o=null===(a=c.user)||void 0===a?void 0:a.self)||void 0===o?void 0:o.subscriptionBenefit),multiMonthGiftAmount:e.multiMonthGiftAmount,mysteryGiftCount:e.mysteryGiftCount,subLocation:t.props.subLocation,modalSessionId:e.modalSessionId||t.state.modalSessionId,giftRecipient:e.giftRecipient||null})}},t.handleButtonClick=function(){if(t.props.data)if(t.props.useSubsLandingPage)window.open(Object(P.a)("/subs/"+t.props.channelLogin),"_blank");else{var e=Object(O.c)();t.props.channelLogin&&(t.props.showSubscriptionModal({channelLogin:t.props.channelLogin,countryCode:t.props.data.requestInfo.countryCode,extraSubProductNames:t.props.extraSubscriptionProducts,hostChannelID:t.props.hostChannelID,hostChannelLogin:t.props.hostChannelLogin,modalSessionId:e,onClose:t.handleModalClose,subLocation:t.props.subLocation}),t.handleSubMenuAction({action:G.a.OpenSubMenu,modalSessionId:e,isAdShowing:t.props.isAdShowing})),t.setState({modalSessionId:e})}},t.handleModalClose=function(){t.handleSubMenuAction({action:G.a.CloseSubMenu,modalSessionId:t.state.modalSessionId,isAdShowing:t.props.isAdShowing})},t.setElasticTextRef=function(e){t.elasticTextRef=e},t.subPurchaseEventListener=function(){var e;null===(e=t.props.data)||void 0===e||e.refetch()},t.subOpenModalEventListener=function(){t.handleButtonClick()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.reportCustomLatency,n=e.onLoad,i=e.isAdShowing;this.checkAndDisplaySubscriptionCheckout(),ye.on("subPurchaseEvent",this.subPurchaseEventListener),ye.on("subOpenModalEvent",this.subOpenModalEventListener),_e(this.props.data)&&(null==t||t(),null==n||n()),i&&this.showSecondaryTextAfterDelay()},t.prototype.componentDidUpdate=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,a,o,s,c,l,u,d,m,p,f,h=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=this.props,i=n.data,a=n.isAdShowing,o=n.onLoad,s=n.pubsub.messages,c=n.reportCustomLatency,l=n.updateContainerWidth,u=e.data,d=e.isAdShowing,m=e.pubsub.messages,p=t.elasticTextWidth,!d&&a?this.showSecondaryTextAfterDelay():d&&!a&&this.setState({showSecondaryButtonText:!1}),_e(i)?(_e(u)||(null==c||c(),null==o||o(),null==l||l()),!(null==u?void 0:u.user)&&(null==i?void 0:i.user)&&this.checkAndDisplaySubscriptionCheckout(),this.elasticTextRef&&(f=this.elasticTextRef.offsetWidth+"px",p!==f&&requestAnimationFrame((function(){h.setState({elasticTextWidth:f})}))),s.subscriptionInfo===m.subscriptionInfo?[3,2]:[4,null==i?void 0:i.refetch()]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.componentWillUnmount=function(){h.a.clearSubscriptionCheckoutKeys(),ye.off("subPurchaseEvent",this.subPurchaseEventListener),ye.off("subOpenModalEvent",this.subOpenModalEventListener),null!==this.state.setTimeoutAfterAd&&clearTimeout(this.state.setTimeoutAfterAd)},t.prototype.render=function(){var e,t,n,i=this.props,r=i.data,o=i.hostChannelID;if(De(r)||!(null===(e=null==r?void 0:r.user)||void 0===e?void 0:e.subscriptionProducts)||0===r.user.subscriptionProducts.length)return null;var s=r.user,c=s.displayName,l=s.self,u=s.subscriptionProducts,d=this.props,m=d.allowPromotionalCallout,p=d.channelLogin,f=d.hideDropdownArrow,h=d.isAdShowing,v=d.overlayButton,g=d.sessionUser,b=d.subscribedButtonType,k=d.unsubscribedButtonType,S=null==l?void 0:l.subscriptionBenefit;if(1===u.length&&S){var E=Object(y.d)("Subscribed","SubscribeButton");return a.createElement(H.a,{disabled:!0,"aria-label":E,icon:W.a.Star},E)}var C=ve(r,o?c:void 0,h,!!l,this.state.showSecondaryButtonText),O=((null===(t=null==u?void 0:u[0])||void 0===t?void 0:t.hasAdFree)||!1)&&(null===(n=r.user)||void 0===n?void 0:n.id)&&Object(z.c)(r.user.id)===z.a.Phase2;return a.createElement(N,{channelLogin:p},a.createElement(A.a,{position:M.o.Relative},m&&g&&a.createElement(U,{userId:g.id}),a.createElement(H.a,{"aria-label":C.text,"data-a-target":S?"subscribed-button":"subscribe-button","data-test-selector":ge.SubButton,dropdown:!f,fullWidth:!0,icon:this.getButtonIcon(!!S,null==S?void 0:S.purchasedWithPrime,C.giftPromo),onClick:this.handleButtonClick,type:S?null!=b?b:H.d.Success:null!=k?k:H.d.Primary,overlay:v},O?this.renderElasticText(C.text):C.text)))},t.prototype.getButtonIcon=function(e,t,n){return e?n?W.a.Gift:t?W.a.CrownFilled:W.a.Star:this.props.forceIcon?W.a.StarHollow:void 0},t.prototype.checkAndDisplaySubscriptionCheckout=function(){var e,t=this.props,n=t.data,i=t.extraSubscriptionProducts,r=y.n.get(h.a.SUB_CHECKOUT__PRODUCT_KEY,"");(null===(e=null==n?void 0:n.user)||void 0===e?void 0:e.subscriptionProducts)&&r&&(n.user.subscriptionProducts.some((function(e){return(null==e?void 0:e.name)===r}))||(null==i?void 0:i.includes(r))?this.props.sessionUser?this.props.showSubscriptionCheckout({isAnonymous:y.n.get(h.a.SUB_CHECKOUT__GIFTING_ANONYMOUSLY,!1),isOneTimePurchase:y.n.get(h.a.SUB_CHECKOUT__IS_ONE_TIME_PURCHASE,!1),mysteryGiftCount:Number(y.n.get(h.a.SUB_CHECKOUT__MYSTERY_GIFT_COUNT,"")),multiMonthGiftAmount:Number(y.n.get(h.a.SUB_CHECKOUT__MULTIMONTH_GIFT_KEY,"")),productName:r,recipientLogin:y.n.get(h.a.SUB_CHECKOUT__RECIPIENT_KEY,""),trackingContext:{source:_.a.ChannelSubscribeButton}}):this.props.showLoginModal():h.a.clearSubscriptionCheckoutKeys())},t.prototype.renderElasticText=function(e){return a.createElement(A.a,{className:"sub-button__elastic-text","data-test-selector":ge.ElasticText,display:M.h.InlineBlock,style:{width:this.state.elasticTextWidth||"auto"}},a.createElement(A.a,{"data-test-selector":ge.ElasticTextInner,display:M.h.Inline,refDelegate:this.setElasticTextRef},e))},t.prototype.showSecondaryTextAfterDelay=function(){var e=this;this.setState({setTimeoutAfterAd:setTimeout((function(){e.setState({showSecondaryButtonText:!0})}),5600)})},t}(a.Component);function Ce(e){var t;return!!(null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.subscriptionProducts)}var Oe=["user","user.subscriptionProducts"];function De(e){return Object(V.b)(e,Oe)}function Pe(e){return De(e)||!Ce(e)?D.b.Unavailable:(null==e?void 0:e.error)?D.b.PartiallyAvailable:D.b.Available}function _e(e){return!(null==e?void 0:e.loading)||De(e)||Ce(e)}var Te=Object(s.d)(Object(S.a)(be,{options:function(e){var t;return{errorPolicy:"no-cache-write",variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:""}}},skip:function(e){return!e.channelLogin}}),Object(k.a)({category:D.a.Subscribe,feature:D.c.SubscribeButton,gqlErrors:function(e){return Object(V.a)(e.data)},available:function(e){return Pe(e.data)},skip:function(e){return!_e(e.data)}}),Object(E.a)([{topic:function(e){var t;return Object(C.eb)((null===(t=e.sessionUser)||void 0===t?void 0:t.id)||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!e.sessionUser}}]))(Ee),Ne=c.a.wrap((function(){return Promise.all([n.e(0),n.e(121)]).then(n.bind(null,"hfwl"))}),"SubModal"),we=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadedLatencyEvent=t.props.latencyTracking.registerCustomEvent({benchmark:500,group:m.a.Subscriptions,label:m.c.Loaded,start:m.d.Registration,key:m.b.SubscriptionButtonLoaded}),t.reportCustomLatencyTracking=function(){t.props.latencyTracking.reportInteractive(),t.props.latencyTracking.reportCustomEvent(t.loadedLatencyEvent)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(Te,{adID:this.props.adID,adSessionID:this.props.adSessionID,allowPromotionalCallout:this.props.allowPromotionalCallout,channelLogin:this.props.channelLogin,extraSubscriptionProducts:this.props.extraSubscriptionProducts,forceIcon:this.props.forceIcon,hideDropdownArrow:this.props.hideDropdownArrow,hostChannelID:this.props.hostChannelID,hostChannelLogin:this.props.hostChannelLogin,isAdShowing:this.props.isAdShowing,isLive:this.props.isLive,onLoad:this.props.onLoad,overlayButton:this.props.overlayButton,reportCustomLatency:this.reportCustomLatencyTracking,sessionUser:this.props.sessionUser,showLoginModal:this.props.showLoginModal,showSubscriptionCheckout:this.props.showSubscriptionCheckout,showSubscriptionModal:this.props.showSubscriptionModal,subLocation:this.props.subLocation,subscribedButtonType:this.props.subscribedButtonType,unsubscribedButtonType:this.props.unsubscribedButtonType,updateContainerWidth:this.props.updateContainerWidth,useSubsLandingPage:this.props.useSubsLandingPage}),a.createElement(Ne.Preload,{priority:l.a.Later}))},t}(a.Component);var je=Object(s.d)(Object(g.c)((function(e){return{adID:e.adID,adSessionID:e.sessionID,isAdShowing:e.isAdShowing}})),Object(o.b)((function(e){return{sessionUser:Object(p.e)(e)}}),(function(e){return Object(s.b)({showLoginModal:h.a.showLoginModalWithCheckoutDispatch(u.a.ChannelSubscriptionButton),showSubscriptionModal:function(e){return Object(d.e)(Ne,e)},showSubscriptionCheckout:f.b},e)})),Object(v.withLatencyTracking)("SubscribeButton"))(we)},Qyjw:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return T}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("/7QA"),l=n("yR8l"),u=n("y5D0"),d=n("DMoW"),m=n("4uwt"),p=n("D/1V"),f=n("rACw"),h=n("EMHe");!function(e){e.Bio="Description specified is too long",e.DisplayNameCasing="You may not change your display name, only the capitalization of it.",e.DisplayNameCJK="You may not change your display name again.",e.DisplayNameInvalidChars="name you selected contains invalid characters",e.DisplayNameLong="name you selected is too long",e.DisplayNameNotAvailable="display name you selected is not available",e.DisplayNameShort="name you selected is too short",e.EmailAdminDomainRequired="Admins must use their work email",e.EmailDomainNotAllowed="Email address uses an invalid domain",e.EmailNotAllowed="Email disabled for reuse",e.EmailNotUpdateable="You are not allowed to change your email more than once every",e.EmailNotValid="Email address is not valid",e.SudoTokenInvalid="invalid sudo token",e.SudoTokenMissing="missing sudo token"}(i||(i={}));var v,g=n("wfkB"),b=n("aw6k"),y=n("OCDW"),k=n("uq9l"),S=n("afq6"),E=n("TwdJ"),C=n("p9DJ"),O=n("4wQG"),D=n("WeGZ");!function(e){e.AddEmailButton="add-email-form__add-email-button"}(v||(v={}));var P,_,T;!function(e){e[e.AddressNotAllowed=1]="AddressNotAllowed",e[e.DomainNotAllowed=2]="DomainNotAllowed",e[e.DomainNotAllowedForAdmins=3]="DomainNotAllowedForAdmins",e[e.InvalidAddress=4]="InvalidAddress",e[e.UnknownError=5]="UnknownError"}(P||(P={})),function(e){e[e.EnterEmail=0]="EnterEmail",e[e.VerifyPassword=1]="VerifyPassword"}(_||(_={})),function(e){e[e.Modal=0]="Modal",e[e.Inline=1]="Inline"}(T||(T={}));var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:"",saveStatus:h.b.NoChanges,formStep:_.EnterEmail},t.logger=c.k.withCategory("add-email-form"),t.onChange=function(e){var n=h.b.DirtyChanges;Object(f.b)(e.currentTarget.value)||(n=h.b.NoChanges),t.setState({saveStatus:n,value:e.currentTarget.value})},t.saveForm=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a,o,s,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.props.currentUserID?(this.setState({saveStatus:h.b.Working,submitError:void 0}),e=h.b.Error,t=_.EnterEmail,n=void 0,[4,Object(b.b)(this.props.updateEmail,this.state.value,this.props.currentUserID,!1)]):[2];case 1:if(a=r.sent(),o=null===(c=null==a?void 0:a.error)||void 0===c?void 0:c.code,n=P.UnknownError,s="",o){switch(o){case d.wf.INVALID_EMAIL:s=i.EmailNotValid,n=P.InvalidAddress;break;case d.wf.WORK_EMAIL_REQUIRED:s=i.EmailAdminDomainRequired,n=P.DomainNotAllowedForAdmins;break;case d.wf.INVALID_EMAIL_DOMAIN:s=i.EmailDomainNotAllowed,n=P.DomainNotAllowed;break;case d.wf.EMAIL_DISABLED_FOR_REUSE:s=i.EmailNotAllowed,n=P.AddressNotAllowed;break;case d.wf.REAUTH_NEEDED:s=i.SudoTokenInvalid,this.props.verificationType===T.Inline?t=_.VerifyPassword:this.props.verifyPassword(this.props.passportActionSource,{onComplete:this.saveForm});break;default:Object(b.a)(this.props.currentUserID,this.logger,o)}this.props.onSaveError&&this.props.onSaveError(s)}else e=h.b.Success,this.props.onSaveSuccess();return this.setState({saveStatus:e,submitError:n,formStep:t}),[2]}}))}))},t.handleNotificationClose=function(){t.setState({submitError:void 0})},t.onPasswordVerificationComplete=function(){return t.setState({formStep:_.EnterEmail}),t.saveForm(),Promise.resolve()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(this.state.formStep===_.VerifyPassword&&this.props.verificationType===T.Inline)return a.createElement(m.a,{flow:p.a.PasswordVerification,action:this.props.passportActionSource,onAuthenticated:this.onPasswordVerificationComplete});var e=this.state.submitError;return a.createElement(a.Fragment,null,e&&a.createElement(y.a,{margin:{bottom:1}},this.renderErrorNotification(e)),a.createElement(y.a,{margin:{bottom:1}},a.createElement(k.a,null,this.props.descriptionText)),a.createElement(S.a,{label:Object(c.d)("Email Address","AddEmailForm"),error:!!e},a.createElement(y.a,{margin:{y:1}},a.createElement(E.a,{id:"add-email-form__email-input",onChange:this.onChange,type:E.c.Email,value:this.state.value,placeholder:Object(c.d)("pog@champ.com","AddEmailForm")})),a.createElement(h.a,{status:this.state.saveStatus,onClick:this.saveForm,"data-a-target":"add-email-to-account-button"},this.state.saveStatus===h.b.Error?Object(c.d)("Failed to add email. Try again.","AddEmailForm"):Object(c.d)("Add Email to Account","AddEmailForm"))))},t.prototype.renderErrorNotification=function(e){var t,n=Object(c.d)("Error adding email","AddEmailForm");switch(e){case P.AddressNotAllowed:n=Object(c.d)("Email not allowed","AddEmailForm"),t=Object(c.d)("Unable to change email address - Please use a different email address.","AddEmailForm");break;case P.InvalidAddress:t=Object(c.d)("Please provide a valid email address.","AddEmailForm");break;case P.DomainNotAllowed:t=Object(c.d)("Emails using that domain are not allowed - Please use a different email address.","AddEmailForm");break;case P.DomainNotAllowedForAdmins:t=Object(c.d)("Admins must use their work email address.","AddEmailForm");break;default:n=Object(c.d)("An unexpected error occurred","AddEmailForm"),t=Object(c.d)("Your email could not be added at this time. Please try again. If the problem persists, <x:link>contact support</x:link>.",{"x:link":function(e){return a.createElement(C.a,{linkTo:"https://help.twitch.tv/customer/portal/emails/new",targetBlank:!0},e)}},"AddEmailForm")}return a.createElement(O.a,{type:D.a.Error,message:{title:n,description:t},closeButton:{"aria-label":Object(c.d)("Close notification","AddEmailForm"),onClick:this.handleNotificationClose}})},t}(a.Component);var w=Object(s.d)(Object(l.a)(g,{name:"updateEmail"}),Object(o.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}),(function(e){return Object(s.b)({verifyPassword:function(e,t){return Object(u.h)(e,t)}},e)})))(N)},RAWN:function(e,t,n){},RBh2:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l}));var i,r,a=n("/7QA"),o=n("2xye");function s(e){var t={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,total_responses:e.totalResponses,bits_per_vote:e.bitsPerVote,channel_points_per_vote:e.communityPointsPerVote,poll_duration_seconds_remaining:e.pollDurationSecondsRemaining};a.o.track(o.SpadeEventType.PollsClientImpression,t)}function c(e){var t={user_id:e.userID||null,channel_id:e.channelID,poll_id:e.pollID,action:e.action,action_source:e.actionSource,bits_spent:e.bitsSpent||null,channel_points_spent:e.communityPointsSpent||null};a.o.track(o.SpadeEventType.PollsClientInteraction,t)}function l(e){var t=Date.parse(e.pollStartTime)+1e3*e.pollDuration-Date.now(),n={user_id:e.userID||null,poll_id:e.pollID,time_difference_ms:Math.abs(e.serverTimeRemaining-t),server_time_remaining_ms:e.serverTimeRemaining,client_time_remaining_ms:t,device_id:a.p.session.deviceID};a.o.track(o.SpadeEventType.PollsTimeDifferenceImpression,n)}!function(e){e.Vote="vote",e.Expand="expand",e.Collapse="collapse"}(i||(i={})),function(e){e.ChatCommand="chat_command",e.PollInput="poll_input"}(r||(r={}))},"RCc/":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseLive"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:105}};n.loc.source={body:"query UseLive($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nlogin\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UseLive=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UseLive")},RGU8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l}));var i,r=n("/7QA"),a=n("2xye");function o(e){r.p.tracking.track(a.SpadeEventType.CelebrationsBalloonClick,e)}function s(e){r.p.tracking.track(a.SpadeEventType.CelebrationsBalloonToCheckout,e)}function c(e){r.p.tracking.track(a.SpadeEventType.CelebrationsBalloonRender,e)}function l(e){r.p.tracking.track(a.SpadeEventType.CelebrationsViewerAnimationToggle,e)}!function(e){e.ChannelButton="channel_button",e.CloseBalloonButton="close_balloon_button",e.CheckoutButton="checkout_button",e.IntensitySelection="intensity_selection"}(i||(i={}))},RHMS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("DMoW"),r=1,a=18e5;function o(e){return function(e){return e.sort((function(e,t){return new Date(e.createdAt)<new Date(t.createdAt)?1:-1}))}(e).slice(0,r).filter((function(e){return function(e){switch(e.status){case i.Jd.ACTIVE:case i.Jd.LOCKED:case i.Jd.RESOLVE_PENDING:return!0;case i.Jd.RESOLVED:return!(e.endedAt&&(new Date).getTime()-new Date(e.endedAt).getTime()>a);case i.Jd.CANCEL_PENDING:case i.Jd.CANCELED:default:return!1}}(e)}))}function s(e){var t=(new Date).getTime()/1e3,n=new Date(e.createdAt).getTime()/1e3+e.predictionWindowSeconds;return Math.max(n-t,0)}},"RWo/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI"),r=n("IyK4"),a=n("Yegi"),o=(n("JWfW"),i.forwardRef((function(e,t){return i.createElement(r.a,{position:a.o.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,display:a.h.Flex,alignItems:a.b.Center,justifyContent:a.m.Center,zIndex:a.t.Above,className:"celebration__overlay"},i.createElement("div",{ref:t},e.children))})))},S8uQ:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Loading="loading",e.None="none",e.Provided="provided"}(i||(i={}))},SAGE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var i=n("/MKj"),r=i.e,a=i.d},SPyc:function(e,t,n){e.exports=n.p+"assets/discover-d67f6b00db816208999c.svg"},SXhr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsBundleSuccessScreen"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query BitsBundleSuccessScreen {\ncurrentUser {\nid\nbitsBalance\nbitsOffers {\nid\nbits\n... on BitsBundleOffer {\nasin\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BitsBundleSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"BitsBundleSuccessScreen")},SpWp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DropsHighlightService_AvailableDrops"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerDropCampaigns"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"detailsURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventBasedDrops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DropsHighlightService_EventBasedDrop"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"timeBasedDrops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DropsHighlightService_TimeBasedDrop"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inventory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"gameEventDrops"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DropsHighlightService_EarnedDropReward"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DropsHighlightService_EarnedDropReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserDropReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DropsHighlightService_EventBasedDrop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EventBasedDrop"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"benefitEdges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"imageAssetURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"entitlementLimit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"missionName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DropsHighlightService_TimeBasedDrop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TimeBasedDrop"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"benefitEdges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"imageAssetURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"entitlementLimit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requiredMinutesWatched"},arguments:[],directives:[]}]}}],loc:{start:0,end:874}};n.loc.source={body:"query DropsHighlightService_AvailableDrops($channelID: ID!) {\nchannel(id: $channelID) {\nid\nviewerDropCampaigns {\nid\nname\ngame {\nid\nname\n}\ndetailsURL\nendAt\nimageURL\neventBasedDrops {\n...DropsHighlightService_EventBasedDrop\n}\ntimeBasedDrops {\n...DropsHighlightService_TimeBasedDrop\n}\n}\n}\ncurrentUser {\nid\ninventory {\ngameEventDrops {\n...DropsHighlightService_EarnedDropReward\n}\n}\n}\n}\nfragment DropsHighlightService_EarnedDropReward on UserDropReward {\nid\ntotalCount\n}\nfragment DropsHighlightService_EventBasedDrop on EventBasedDrop {\nid\nname\nstartAt\nendAt\nclaimDurationSeconds\nbenefitEdges {\nbenefit {\nid\nname\ngame {\nname\nid\n}\nimageAssetURL\nname\n}\nentitlementLimit\n}\nmissionName\n}\nfragment DropsHighlightService_TimeBasedDrop on TimeBasedDrop {\nid\nname\nstartAt\nendAt\nbenefitEdges {\nbenefit {\nid\nname\ngame {\nname\nid\n}\nimageAssetURL\n}\nentitlementLimit\n}\nrequiredMinutesWatched\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DropsHighlightService_AvailableDrops=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"DropsHighlightService_AvailableDrops")},T3An:function(e,t,n){},TMob:function(e,t,n){"use strict";var i=n("HTDB"),r=n.n(i);n.d(t,"a",(function(){return r.a}));var a=n("HDgp"),o=n.n(a);n.d(t,"b",(function(){return o.a}));var s=n("CSwz"),c=n.n(s);n.d(t,"c",(function(){return c.a}));var l=n("mHjF"),u=n.n(l);n.d(t,"d",(function(){return u.a}));var d=n("1Fpl"),m=n.n(d);n.d(t,"e",(function(){return m.a}));var p=n("OoH1"),f=n.n(p);n.d(t,"f",(function(){return f.a}))},TSpM:function(e,t,n){e.exports=n.p+"assets/amazon_pay_2x-2eccd73373faaefa6764.png"},TbBp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Jgup"),r=new Set(["A1","A2","AP","AQ","CU","EU","IR","KP","MM","O1","SD","SS","SY","TL"]),a=i.a.filter((function(e){return!r.has(e)}))},TjQE:function(e,t,n){e.exports=n.p+"assets/sub_token-d2a8ccd2958eaf734587.svg"},Tn5u:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e[e.Waiting=0]="Waiting",e[e.Ready=1]="Ready",e[e.Forced=2]="Forced"}(i||(i={}));var r=function(){function e(e){this.status=e.status,this.secondsUntilTransition=e.secondsUntilTransition}return e.waitingFor=function(t){return new e({status:i.Waiting,secondsUntilTransition:t})},e.readyFor=function(t){return new e({status:i.Ready,secondsUntilTransition:t})},e.forced=function(){return new e({status:i.Forced,secondsUntilTransition:1/0})},Object.defineProperty(e.prototype,"isWaiting",{get:function(){return this.status===i.Waiting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this.status===i.Ready},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isForced",{get:function(){return this.status===i.Forced},enumerable:!0,configurable:!0}),e}()},TzpY:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v}));var i=n("GSI7"),r=n("0BjR");function a(e){return e.playerState===r.g.PLAYING}function o(e){return e.playerState===r.g.BUFFERING}function s(e){return e.playerState===r.g.ENDED}function c(e){return e.playerState===r.g.READY}function l(e){return e?{videoWidth:e.getVideoWidth(),videoHeight:e.getVideoHeight()}:{videoWidth:void 0,videoHeight:void 0}}function u(e){return e.playerState===r.g.IDLE}function d(e){var t=e.mediaPlayerInstance;return!!t&&!!t.getSessionData().FUTURE}function m(e,t){var n=e.isLiveLowLatencyEnabled,i=e.mediaPlayerInstance,r=e.updateContext;i&&(i.setLiveLowLatencyEnabled(t),t!==n&&r({isLiveLowLatencyEnabled:t}))}function p(e,t){var n=e.restrictions;return t?!!n[t]:Object.keys(n).some((function(e){return!!n[e]}))}function f(e){var t=e.restrictions,n=e.accessExpiration;return!!t[i.a.PremiumContent]||!!t[i.a.SubscriberVOD]||!!n}function h(e){var t=e.mediaPlayerInstance;return t&&t.getSessionData()["SERVING-ID"]}function v(e){var t=e.mediaPlayerInstance;return t&&t.getSessionData()["BROADCAST-ID"]}},UZA7:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("mrSG");function r(e,t){var n;return!!(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.graphQLErrors.some((function(e){var n=e.path;return n&&t.includes(n.join("."))})))}function a(e){var t;return JSON.stringify(null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.graphQLErrors.reduce((function(e,t){var n=t.path;return n?Object(i.__spreadArrays)(e,[n.join(".")]):e}),[]))}},Ubux:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelCelebrations_UserSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"celebrationSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOptedOut"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:96}};n.loc.source={body:"query ChannelCelebrations_UserSettings {\ncurrentUser {\nid\ncelebrationSettings {\nisOptedOut\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelCelebrations_UserSettings=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelCelebrations_UserSettings")},"UfC+":function(e,t,n){"use strict";var i=n("kBDA");n.d(t,"a",(function(){return i.a}))},UtoE:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("q1tI"),a=n("+XUr"),o=n("i/Zp"),s=n("Av26"),c={behaviors:{},callbacks:{},content:{type:a.a.Invalid},type:o.a.Site},l=Object(s.a)("PlayerPublicPropsContext",c,(function(e){return{playerPublicPropsContext:e}})),u=l.withMemoContext,d=l.context,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(d.Provider,{value:this.props},this.props.children||null)},t}(r.PureComponent)},"UxA+":function(e,t,n){e.exports=n.p+"assets/turbo-avatar-9ecb4d9e242f8782bad6.png"},Uyxv:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),function(e){e.Loading="pbyp_loading",e.Playing="pbyp_playing",e.Paused="pbyp_paused",e.Unavailable="pbyp_unavailable"}(i||(i={}));var r="p_by_p_adstart_show_player"},"V/nq":function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("VURH"),l=n("ABd2"),u=n("GnwI"),d=n("OCDW"),m=n("uq9l"),p=n("Yegi"),f=n("p9DJ"),h=n("vsSX"),v=n("ijbd"),g=n("Ty5D"),b=n("E1Lb"),y=n("Ix37"),k=(n("V0gd"),function(){return r.createElement(d.a,{className:"checkmark-icon",color:p.f.Overlay,margin:{right:1},borderRadius:p.e.Rounded},r.createElement(b.a,{asset:y.a.Check}))}),S=n("LNol"),E=n("cwzQ"),C=n("SXhr"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSetupClick=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.SetupAutoRefillClick}),t.props.checkoutSessionTracker.track({subEvent:l.b.Close,subEventDetail:JSON.stringify({close_button:"setup_auto_refill"})}),t.props.history.push("/payments?tab=bits-auto-refill")},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive(),this.props.checkoutSessionTracker.track({subEvent:l.b.SetupAutoRefillPrompt})},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return r.createElement(d.a,{"data-a-target":"bits-bundle-success-screen"},!!this.totalBitsAdded&&r.createElement(d.a,{margin:{bottom:2},display:p.h.Flex,justifyContent:p.m.Center,alignItems:p.b.Center},r.createElement(k,null),r.createElement(d.a,null,r.createElement(m.a,{fontSize:p.k.Size5},Object(o.d)("<x:strong>{totalBitsAdded, number} Bits</x:strong> have been added to your balance.",{totalBitsAdded:this.totalBitsAdded,"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"BitsBundleSuccessScreen")))),r.createElement(d.a,{margin:{bottom:2},display:p.h.Flex,justifyContent:p.m.Center,alignItems:p.b.Center},r.createElement(d.a,{padding:{top:.5}},r.createElement(S.a,{asset:y.a.Bits,height:50})),r.createElement(d.a,null,r.createElement(m.a,{fontSize:p.k.Size5},Object(o.d)("Total Bits:","BitsBundleSuccessScreen"))),r.createElement(d.a,{margin:{left:.5}},this.newBitsBalance?r.createElement(m.a,{bold:!0,fontSize:p.k.Size4},Object(o.f)(this.newBitsBalance)):r.createElement(E.a,null))),r.createElement(d.a,{margin:{top:3},padding:2,border:!0,borderRadius:p.e.Large},r.createElement(d.a,{margin:{bottom:1}},r.createElement(m.a,{bold:!0,fontSize:p.k.Size5},Object(o.d)("Never run out of Bits again!","BitsBundleSuccessScreen"))),r.createElement(d.a,{margin:{bottom:1}},r.createElement(m.a,{fontSize:p.k.Size5},Object(o.d)("You can now automatically refill your Bits when you have less than a specified amount. This can be cancelled at any time.","BitsBundleSuccessScreen"))),r.createElement(d.a,null,r.createElement(m.a,{fontSize:p.k.Size5,bold:!0},r.createElement(f.a,{onClick:this.handleSetupClick},Object(o.d)("Setup Auto-Refill","BitsBundleSuccessScreen"))))))},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalBitsAdded",{get:function(){var e=this,t=this.props.data.currentUser;if(!t||!t.bitsOffers)return null;var n=t.bitsOffers.find((function(t){return!(!t||"BitsBundleOffer"!==t.__typename||t.asin!==e.props.productID)}));return n?n.bits*this.props.finalQuantity:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newBitsBalance",{get:function(){var e;return null===(e=this.props.data.currentUser)||void 0===e?void 0:e.bitsBalance},enumerable:!0,configurable:!0}),t}(r.Component),D=Object(a.d)(Object(u.withLatencyTracking)("BitsBundleSuccessScreen"),Object(s.a)(C,{options:function(){return{fetchPolicy:"network-only"}}}),g.l)(O),P=n("JjwZ"),_=(n("Dj+a"),function(e){var t=e.benefits;return r.createElement(d.a,{display:p.h.Flex,justifyContent:p.m.Center,alignItems:p.b.Start,flexWrap:p.j.Wrap,margin:{top:3},breakpointExtraSmall:{margin:{top:5}}},t.map((function(e,t){var n=e.imageSrc,i=e.imageSrcSet,a=e.imageAlt,o=e.description;return r.createElement(d.a,{key:"benefits-container__benefit-"+t,className:"benefits-container__benefit-container",display:p.h.Inline,margin:2},r.createElement(d.a,{className:"benefits-container__image-container",display:p.h.Flex,background:p.d.Alt,borderRadius:p.e.Rounded,padding:1,justifyContent:p.m.Center,alignItems:p.b.Center,margin:{bottom:1,x:"auto"}},r.createElement(P.a,{className:"benefits-container__image",src:n,srcSet:i,alt:a})),r.createElement(d.a,{className:"benefits-container__description-container",textAlign:p.q.Center},r.createElement(m.a,{color:p.f.Alt2,fontSize:p.k.Size5},o)))})))}),T=n("0E6Y"),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?r.createElement(d.a,{"data-a-target":"channel-sub-gift-success-screen"},r.createElement(d.a,{display:p.h.Flex,justifyContent:p.m.Center,alignItems:p.b.Center},r.createElement(k,null),r.createElement(m.a,{fontSize:p.k.Size5},this.giftText)),this.subGifterBadgeAssetURL&&r.createElement(_,{benefits:[{imageSrc:this.subGifterBadgeAssetURL,imageAlt:this.subGifterBadgeTitle,description:Object(o.d)("Sub Gifter Badge","ChannelSubGiftSuccessScreen")}]})):null},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftText",{get:function(){var e,t,n,i,a,s;if(this.props.tplr===c.b.ChannelSubStandardGift)if(this.props.giftMonths>1)if(this.props.isAnonymous)switch(null===(e=this.props.data.subscriptionProduct)||void 0===e?void 0:e.tier){case"1000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{giftMonths, plural, one {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else switch(null===(t=this.props.data.subscriptionProduct)||void 0===t?void 0:t.tier){case"1000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{giftMonths, plural, one {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else if(this.props.isAnonymous)switch(null===(n=this.props.data.subscriptionProduct)||void 0===n?void 0:n.tier){case"1000":return Object(o.d)("You gifted a Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("You gifted a Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("You gifted a Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("You gifted a Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else switch(null===(i=this.props.data.subscriptionProduct)||void 0===i?void 0:i.tier){case"1000":return Object(o.d)("You gifted a Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("You gifted a Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("You gifted a Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("You gifted a Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else{if(this.props.tplr!==c.b.ChannelSubCommunityGift)return null;if(this.props.isAnonymous)switch(null===(a=this.props.data.subscriptionProduct)||void 0===a?void 0:a.tier){case"1000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 1 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 1 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 2 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 2 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 3 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 3 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen")}else switch(null===(s=this.props.data.subscriptionProduct)||void 0===s?void 0:s.tier){case"1000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 1 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 1 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 2 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 2 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 3 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 3 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen")}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftRecipientName",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.giftRecipient)||void 0===t?void 0:t.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadge",{get:function(){var e,t,n,i,r,a,o,s,c,l;return(null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.self)||void 0===i?void 0:i.availableBadges)||void 0===r?void 0:r.find((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})))||(null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.subscriptionProduct)||void 0===o?void 0:o.owner)||void 0===s?void 0:s.self)||void 0===c?void 0:c.displayBadges)||void 0===l?void 0:l.find((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadgeAssetURL",{get:function(){var e;return(null===(e=this.subGifterBadge)||void 0===e?void 0:e.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadgeTitle",{get:function(){var e;return(null===(e=this.subGifterBadge)||void 0===e?void 0:e.title)||""},enumerable:!0,configurable:!0}),t}(r.Component),w=Object(a.d)(Object(u.withLatencyTracking)("ChannelSubGiftSuccessScreen"),Object(s.a)(T,{options:function(e){return{variables:{productName:e.productName||"",giftRecipientID:e.giftRecipientIDs&&e.giftRecipientIDs[0]}}}}))(N),j=n("/MKj"),I=n("9g6D"),x=n.n(I),R=n("NYFu"),A=n.n(R),M=n("XDQu"),F=n("nAiT"),L=n("OpME"),B=n("VYPy"),U=n("1ZQW"),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?r.createElement(d.a,{"data-a-target":"channel-sub-success-screen"},r.createElement(d.a,{display:p.h.Flex,justifyContent:p.m.Center,alignItems:p.b.Center},r.createElement(k,null),r.createElement(m.a,{fontSize:p.k.Size5},this.benefitsMessage)),this.benefitsContainer):null},Object.defineProperty(t.prototype,"benefitsMessage",{get:function(){return Object(o.d)("You're now subscribed to <x:strong>{channelDisplayName}</x:strong>. Enjoy your subscriber benefits.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)},channelDisplayName:this.channelDisplayName},"ChannelSubSuccessScreen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefitsContainer",{get:function(){return r.createElement(_,{benefits:this.benefits})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelDisplayName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadge",{get:function(){var e,t,n,i,r,a,o,s,c,l;return(null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.self)||void 0===i?void 0:i.availableBadges)||void 0===r?void 0:r.find((function(e){return(null==e?void 0:e.setID)&&["subscriber","founder"].includes(e.setID)})))||(null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.subscriptionProduct)||void 0===o?void 0:o.owner)||void 0===s?void 0:s.self)||void 0===c?void 0:c.displayBadges)||void 0===l?void 0:l.find((function(e){return(null==e?void 0:e.setID)&&["subscriber","founder"].includes(e.setID)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadgeAssetURL",{get:function(){var e;return(null===(e=this.subscriberBadge)||void 0===e?void 0:e.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadgeAssetTitle",{get:function(){var e;return(null===(e=this.subscriberBadge)||void 0===e?void 0:e.title)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emotes",{get:function(){var e=[],t=this.props.data.subscriptionProduct;return t&&t.owner&&t.owner.subscriptionProducts&&t.owner.subscriptionProducts.forEach((function(n){n&&n.emotes&&n.tier<=t.tier&&n.emotes.forEach((function(t){t&&t.id&&t.token&&e.push({id:t.id,token:t.token,setID:t.setID||""})}))})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteCount",{get:function(){return this.emotes.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteSrcSet",{get:function(){if(!this.emoteCount)return"";var e=this.emotes[0];return Object(L.c)([e])[0].srcSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteToken",{get:function(){return this.emoteCount?this.emotes[0].token:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteSrc",{get:function(){var e=this.emoteSrcSet.split(" ");return e[2]||e[0]||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiers",{get:function(){var e,t,n=[],i=this.props.data.subscriptionProduct;return null===(t=null===(e=null==i?void 0:i.owner)||void 0===e?void 0:e.subscriptionProducts)||void 0===t||t.forEach((function(e){e&&e.emoteModifiers&&e.tier<=i.tier&&e.emoteModifiers.forEach((function(e){n.push(e)}))})),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiersSrc",{get:function(){var e=this.emoteModifiers,t=e[e.length-1];return Object(B.d)(t,this.props.theme)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiersAlt",{get:function(){var e=this.emoteModifiers,t=e[e.length-1];return Object(F.h)(Object(B.c)(t.name))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAdfree",{get:function(){var e,t;return!!(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.hasAdFree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefits",{get:function(){var e=[];if(this.subscriberBadgeAssetURL&&e.push({imageSrc:this.subscriberBadgeAssetURL,imageAlt:this.subscriberBadgeAssetTitle,description:Object(o.d)("Subscriber Badge","ChannelSubSuccessScreen")}),this.emoteModifiers.length>0&&e.push({imageSrc:this.emoteModifiersSrc["1x"],imageSrcSet:this.emoteModifiersSrc,imageAlt:this.emoteModifiersAlt,description:Object(o.d)("{numberOfEmoteModifiers, plural, one {# Emote Modifier} other {# Emote Modifiers}}",{numberOfEmoteModifiers:this.emoteModifiers.length},"ChannelSubSuccessScreen")}),this.emoteSrc&&this.emoteSrcSet&&this.emoteCount>0&&e.push({imageSrc:this.emoteSrc,imageAlt:this.emoteToken,description:Object(o.d)("{numberOfEmotes, plural, one {# Emote} other {# Emotes}}",{numberOfEmotes:this.emoteCount},"ChannelSubSuccessScreen")}),this.hasAdfree){var t=Object(o.d)("Ad-Free Viewing","ChannelSubSuccessScreen");e.push({imageSrc:x.a,imageAlt:t,description:t})}var n=Object(o.d)("Sub-Only Chat","ChannelSubSuccessScreen");return e.push({imageSrc:A.a,imageAlt:n,description:n}),e},enumerable:!0,configurable:!0}),t}(r.Component);var z,G=Object(a.d)(Object(j.b)((function(e){return{theme:Object(M.a)(e)}})),Object(u.withLatencyTracking)("ChannelSubSuccessScreen"),Object(s.a)(U,{options:function(e){return{variables:{productName:e.productName||""}}}}))(V),H=n("NoAt"),W=n.n(H),q=n("s0i4"),Q=n.n(q),Y=n("x9xf"),K=n.n(Y),J=n("VRha"),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turboSubscriberBadgeText=Object(o.d)("Turbo Subscriber Badge","TurboSuccessScreen"),t.expandedEmoteSetText=Object(o.d)("Expanded Emote Set","TurboSuccessScreen"),t.customUsernameColorText=Object(o.d)("Custom Username Color","TurboSuccessScreen"),t.adFreeViewingText=Object(o.d)("Ad-Free Viewing","TurboSuccessScreen"),t.extendedBroadcasterStorageText=Object(o.d)("Extended Broadcaster Storage","TurboSuccessScreen"),t.defaultBenefits=[{imageSrc:Q.a,imageAlt:t.expandedEmoteSetText,description:t.expandedEmoteSetText},{imageSrc:W.a,imageAlt:t.customUsernameColorText,description:t.customUsernameColorText},{imageSrc:x.a,imageAlt:t.adFreeViewingText,description:t.adFreeViewingText},{imageSrc:K.a,imageAlt:t.extendedBroadcasterStorageText,description:t.extendedBroadcasterStorageText}],t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?r.createElement(d.a,null,r.createElement(d.a,{display:p.h.Flex,justifyContent:p.m.Center,alignItems:p.b.Center},r.createElement(k,null),r.createElement(m.a,{fontSize:p.k.Size5},Object(o.d)("You're now subscribed to <x:strong>Twitch Turbo</x:strong>. Enjoy your subscriber benefits.",{"x:strong":function(e){return r.createElement(m.a,{bold:!0,type:m.e.Span},e)}},"ChannelSubSuccessScreen"))),r.createElement(_,{benefits:this.benefits})):null},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"turboBadgeAssetURL",{get:function(){var e,t,n,i;return(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.availableBadges)||void 0===n?void 0:n.find((function(e){return"turbo"===(null==e?void 0:e.setID)})))||void 0===i?void 0:i.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefits",{get:function(){return this.turboBadgeAssetURL?Object(i.__spreadArrays)([{imageSrc:this.turboBadgeAssetURL,imageAlt:this.turboSubscriberBadgeText,description:this.turboSubscriberBadgeText}],this.defaultBenefits):this.defaultBenefits},enumerable:!0,configurable:!0}),t}(r.Component),Z=Object(a.d)(Object(u.withLatencyTracking)("TurboSuccessScreen"),Object(s.a)(J))(X),$=n("bFOZ");!function(e){e[e.Subscription=1]="Subscription",e[e.GiftSubscription=2]="GiftSubscription"}(z||(z={}));var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPurchaseSupportClick=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.PurchaseSupportFAQClick}),window.open("https://help.twitch.tv/s/article/one-click-checkout")},t.onSubscriptionsClick=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.SubscriptionManagementClick}),window.open("https://www.twitch.tv/subscriptions")},t.closeModal=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.Close,subEventDetail:JSON.stringify({close_button:"close_button"})}),t.props.closeModal&&t.props.closeModal()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive(),this.props.checkoutSessionTracker.track({subEvent:l.b.PurchaseSuccessScreenShown})},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(d.a,{padding:2,breakpointExtraSmall:{padding:{x:3}},"data-a-target":"checkout-form-success-screen"},r.createElement(d.a,{margin:{bottom:2},breakpointExtraSmall:{margin:{bottom:5}}},r.createElement(m.a,{bold:!0,fontSize:p.k.Size2},Object(o.d)("Purchase Successful","CheckoutFormSuccessScreen"))),this.body,this.actions),this.orderHelp)},Object.defineProperty(t.prototype,"orderHelp",{get:function(){var e=this;if(this.props.orderHelpType)return r.createElement(d.a,{background:p.d.Alt2,padding:{x:3,y:2}},r.createElement(d.a,{padding:{bottom:1}},r.createElement(m.a,{fontWeight:p.l.Bold,fontSize:p.k.Size5},Object(o.d)("Help with Your Order","CheckoutFormSuccessScreen"))),r.createElement(m.a,null,this.props.orderHelpType===z.Subscription?Object(o.d)("You can use the <x:subscriptions>Subscriptions</x:subscriptions> page to manage your order. If you need additional support check out our <x:purchaseSupport>Purchase Support FAQ</x:purchaseSupport> for guidance on next steps.",{"x:subscriptions":function(t){return r.createElement(f.a,{onClick:e.onSubscriptionsClick},t)},"x:purchaseSupport":function(t){return r.createElement(f.a,{onClick:e.onPurchaseSupportClick},t)}},"CheckoutFormSuccessScreenSubHelp"):Object(o.d)("If you need support related to your purchase check out our <x:purchaseSupport>Purchase Support FAQ</x:purchaseSupport> for guidance on next steps.",{"x:purchaseSupport":function(t){return r.createElement(f.a,{onClick:e.onPurchaseSupportClick},t)}},"CheckoutFormSuccessScreenSubGiftHelp")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return r.createElement(d.a,{margin:{top:2},display:p.h.Flex,justifyContent:p.m.End},this.props.closeModal&&r.createElement(h.a,{type:h.d.Secondary,onClick:this.closeModal},r.createElement(v.a,null,Object(o.d)("Close","CheckoutFormSuccessScreen"))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){var e,t,n=this;if(!this.dataReady)return null;switch(this.tplr){case c.b.BitsBundle:return r.createElement(D,{productID:this.productID,finalQuantity:this.props.finalQuantity,checkoutSessionTracker:this.props.checkoutSessionTracker});case c.b.ChannelSub:case c.b.ChannelSubCustom:return r.createElement(G,{productName:this.props.productName});case c.b.ChannelSubStandardGift:case c.b.ChannelSubCommunityGift:var i=null===(t=null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.find((function(e){return e.offerID===n.props.finalOfferID})))||void 0===t?void 0:t.months;return r.createElement(w,{productName:this.props.productName,tplr:this.tplr,isAnonymous:this.props.isAnonymous,giftRecipientIDs:this.props.giftRecipientIDs,finalQuantity:this.props.finalQuantity,giftMonths:i||1});case c.b.Turbo:return r.createElement(Z,null);default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tagBindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productID",{get:function(){if(this.tplr===c.b.BitsBundle&&this.tagBindings){var e=this.tagBindings.find((function(e){return"product_id"===e.key}));return e&&e.value||""}return""},enumerable:!0,configurable:!0}),t}(r.Component),te=Object(a.d)(Object(u.withLatencyTracking)("CheckoutFormSuccessScreen"),Object(s.a)($,{options:function(e){return{variables:{params:{offerID:e.finalOfferID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}}}))(ee)},V0gd:function(e,t,n){},V6PS:function(e,t,n){e.exports=n.p+"assets/community-gift-13d8871e1410e7690ed3.svg"},V7AV:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.AllPaidTiers=0]="AllPaidTiers",e[e.CurrentSubscription=1]="CurrentSubscription",e[e.GiftSelect=2]="GiftSelect",e[e.UnsubbedTop=3]="UnsubbedTop",e[e.CommunityGiftSelect=4]="CommunityGiftSelect"}(i||(i={}))},VRha:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TurboSuccessScreen"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query TurboSuccessScreen {\ncurrentUser {\nid\navailableBadges {\nid\nimageURL(size: QUADRUPLE)\nsetID\ntitle\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TurboSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"TurboSuccessScreen")},VURH:function(e,t,n){"use strict";n.d(t,"a",(function(){return zi})),n.d(t,"b",(function(){return ne}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("1/iK"),l=n("f00E"),u=n("y5D0"),d=n("kRBY"),m=n("4rCz"),p=n("GnwI"),f=n("OCDW"),h=n("1rIY"),v=n("KriR"),g=Object(h.a)("CheckoutFormContext",{offerID:"",quantity:0,tagBindings:[],trackingContext:{source:v.a.Direct},giftRecipientIDs:[],isAnonymous:!1,paymentSession:{},onPurchaseSuccess:function(){},checkoutSessionTracker:{}}),b=g.context,y=g.withContext,k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(b.Provider,{value:this.contextValue},this.props.children)},Object.defineProperty(t.prototype,"contextValue",{get:function(){return{offerID:this.props.offerID,quantity:this.props.quantity,tagBindings:this.props.tagBindings,trackingContext:this.props.trackingContext,giftRecipientIDs:this.props.giftRecipientIDs,isAnonymous:this.props.isAnonymous,paymentSession:this.props.paymentSession,productName:this.props.productName,onPurchaseSuccess:this.props.onPurchaseSuccess,closeModal:this.props.closeModal,checkoutSessionTracker:this.props.checkoutSessionTracker,chargeInterval:this.props.chargeInterval,reportCustomLatency:this.props.reportCustomLatency,multimonthGiftOffers:this.props.multimonthGiftOffers,offerQuantityOverrides:this.props.offerQuantityOverrides,multiMonthOffers:this.props.multiMonthOffers,initialPurchaseOfferErrorCode:this.props.initialPurchaseOfferErrorCode,initialPurchaseOrderFailureReason:this.props.initialPurchaseOrderFailureReason}},enumerable:!0,configurable:!0}),t}(a.Component),S=Object(p.withLatencyTracking)("CheckoutFormContextManager",{autoReportInteractive:!0})(k),E=n("dMq0"),C=n("/7QA"),O=n("cZKs"),D=n("yR8l"),P=n("/0dD"),_=n("KnXG"),T=n("DMoW"),N=n("XDQu"),w=n("pr4f"),j=n("ABd2"),I=n("Qyjw"),x=n("uq9l"),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEmailSaveSuccess=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.AddEmailClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:j.b.AddEmailClickSuccess}),t.props.onEmailSaveSuccess()},t.onEmailSaveError=function(e){t.props.checkoutSessionTracker.track({subEvent:j.b.AddEmailClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:j.b.AddEmailClickFailure,subEventDetail:JSON.stringify({error:e})})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track({subEvent:j.b.AddEmailPrompt})},t.prototype.render=function(){return a.createElement(f.a,null,a.createElement(f.a,{margin:{bottom:1}},a.createElement(x.a,{type:x.e.H4},Object(C.d)("Add Email Address","CheckoutFormEmailScreen"))),a.createElement(I.a,{descriptionText:Object(C.d)("An email address is required to manage your purchases and payments. Enter a valid email address to be used with this account going forward and continue with your purchase.","CheckoutFormEmailScreen"),passportActionSource:c.a.SubsCheckoutPage,onSaveSuccess:this.onEmailSaveSuccess,onSaveError:this.onEmailSaveError,verificationType:I.b.Inline}))},t}(a.Component),A=Object(s.d)(Object(p.withLatencyTracking)("CheckoutFormEmailScreen",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(R),M=n("ZDlU"),F=n("Yegi"),L=n("5e0Q"),B=(n("5RPz"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeModal=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.Close,subEventDetail:JSON.stringify({close_button:"close_button"})}),t.props.closeModal&&t.props.closeModal()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(f.a,{className:"checkout-form-error__content-container",display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center,margin:{x:"auto"},padding:{y:5}},a.createElement(M.PageError,{inline:!0}),a.createElement(f.a,{display:F.h.Inline},a.createElement(x.a,{fontSize:F.k.Size5},Object(C.d)("Sorry, Something seems to have gone wrong. Please try again later.","CheckoutFormError")),!!this.props.closeModal&&a.createElement(f.a,{margin:{y:2}},a.createElement(L.a,{onClick:this.closeModal},Object(C.d)("Close","CheckoutFormError")))))},t}(a.PureComponent)),U=Object(s.d)(Object(p.withLatencyTracking)("CheckoutFormError",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(B),V=n("4wQG"),z=n("WeGZ"),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(V.a,{type:z.a.Error,message:{title:Object(C.d)("You are not eligible to make this purchase.","CheckoutFormIneligibleScreen"),description:""}})},t}(a.Component),H=Object(s.d)(Object(p.withLatencyTracking)("CheckoutFormIneligibleScreen",{autoReportInteractive:!0}))(G);function W(e,t){C.n.set("price_change_warning_"+e,t)}function q(e){return C.n.get("price_change_warning_"+e,!1)}!function(e){e.UserResidence="user_residence",e.BillingCountry="billing_country"}(i||(i={}));var Q,Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeWarning=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PriceChangeWarningDismiss}),t.props.onClose()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track({subEvent:j.b.PriceChangeWarningShown,subEventDetail:this.props.updatePriceReason||""})},t.prototype.render=function(){return a.createElement(f.a,{margin:{bottom:1}},a.createElement(V.a,{type:z.a.Warning,message:{title:Object(C.d)("The total price has changed.  Please review your checkout information before proceeding.","PriceChangeWarning")},closeButton:{"aria-label":"close",onClick:this.closeWarning}}))},t}(a.PureComponent),K=Object(s.d)(y((function(e){return Object(r.__assign)({},e)})))(Y),J=n("geRD"),X=n("fgOK"),Z=n("RGzP"),$=n("vZNl");!function(e){e.PhoneBillingMismatch="phone_billing_mismatch",e.GiftCardBalanceUsage="gc_balance_usage"}(Q||(Q={}));var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSetResidenceSuccess=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.CountryOfResidenceAttempt,subEventDetail:t.props.details}),t.props.checkoutSessionTracker.track({subEvent:j.b.CountryOfResidenceSuccess,subEventDetail:t.props.details}),t.props.onSetResidenceSuccess()},t.onSetResidenceFailure=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.CountryOfResidenceAttempt,subEventDetail:t.props.details}),t.props.checkoutSessionTracker.track({subEvent:j.b.CountryOfResidenceFailure,subEventDetail:t.props.details})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track({subEvent:j.b.CountryOfResidencePrompt,subEventDetail:this.props.details})},t.prototype.render=function(){return this.dataReady&&this.props.data.currentUser?a.createElement(f.a,null,a.createElement(x.a,{type:x.e.H4},Object(C.d)("Confirm Country of Residence","ConfirmCountryOfResidence")),a.createElement(f.a,{margin:{top:2}},a.createElement(X.a,{userID:this.props.data.currentUser.id,defaultCountryCode:this.defaultCountryCode,defaultPostalCode:this.defaultPostalCode,onSetResidenceSuccess:this.onSetResidenceSuccess,onSetResidenceFailure:this.onSetResidenceFailure}))):a.createElement(Z.a,{lineCount:8})},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultCountryCode",{get:function(){var e,t,n;return(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.residence)||void 0===t?void 0:t.countryCode)||(null===(n=this.props.data.requestInfo)||void 0===n?void 0:n.countryCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPostalCode",{get:function(){var e,t;return(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.residence)||void 0===t?void 0:t.postalCode)||""},enumerable:!0,configurable:!0}),t}(a.Component),te=Object(s.d)(Object(p.withLatencyTracking)("ConfirmCountryOfResidence",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})),Object(D.a)($))(ee);te.defaultProps={details:Q.PhoneBillingMismatch};var ne,ie=n("p9DJ"),re=n("IyK4"),ae=n("hNTM"),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"chargeStatementCopy",{get:function(){return Object(C.d)("Actual amount to be charged may vary depending on the exchange rate. Conversion fees and other incidental costs may be additionally included.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refundStatementCopy",{get:function(){return Object(C.d)("Your subscription will start immediately after payment. You may cancel the subscription within seven days from the date of subscription, provided that the charges for the period already used are not refundable. Purchases made by a minor may be cancelled by the minor or the minors parent or legal guardian in case the parent or legal representative does not consent to the purchase made by the minor.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renewalStatementCopy",{get:function(){return Object(C.d)("You may choose not to renew your Subscription at any time by selecting Do Not Renew on your <x:subs>subscriptions page</x:subs>. Your cancellation is effective at the end of the current subscription term.",{"x:subs":function(e){return a.createElement(ie.a,{targetBlank:!0,linkTo:"https://twitch.tv/subscriptions"},e)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"termsOfSaleCopy",{get:function(){var e=this;return Object(C.d)("Please refer to the <x:tos>Terms of Sale</x:tos> for additional details.",{"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"twitchCopy",{get:function(){return Object(C.d)("Twitch Interactive, Inc.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"representativeCopy",{get:function(){return Object(C.d)("Name of Representative: Emmett Shear, CEO","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addressCopy",{get:function(){return Object(C.d)("Address: 350 Bush Street, 2nd Floor, San Francisco, California 94104, USA","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"termsAndConditionsCopy",{get:function(){var e=this;return Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?a.createElement(f.a,{padding:{y:2}},a.createElement(re.a,{padding:{bottom:1}},a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.termsAndConditionsCopy)),a.createElement(re.a,{padding:{bottom:1}},a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.chargeStatementCopy)),a.createElement(re.a,{padding:{bottom:1}},a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.refundStatementCopy)),a.createElement(re.a,{padding:{bottom:1}},a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.renewalStatementCopy)),a.createElement(re.a,{padding:{bottom:1}},a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.termsOfSaleCopy)),a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.twitchCopy),a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.representativeCopy),a.createElement(x.a,{type:x.e.P,fontSize:F.k.Size7},this.addressCopy)):a.createElement(f.a,{padding:{y:2}},a.createElement(x.a,{fontSize:F.k.Size7},this.termsAndConditionsCopy)):a.createElement(Z.a,{lineCount:3,width:400})},t}(a.Component),se=Object(s.d)(Object(D.a)(ae))(oe),ce=n("fI+N"),le=n("//su"),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"legalDisclaimerCopyKR",{get:function(){var e=this;return Object(C.d)("By clicking Complete Purchase, you agree to the <x:use>Twitch Bits Acceptable Use Policy</x:use>, <x:tos>Terms of Sale</x:tos>, and <x:privacy>Privacy Policy</x:privacy> and that we may start to deliver this order. Your payment method will be saved for future purchases, and any future payments for recurring subscriptions will also be updated.",{"x:use":function(e){return a.createElement(ie.a,{linkTo:"https://twitch.tv/p/legal/bits-acceptable-use/"},e)},"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legalDisclaimerCopyNonKR",{get:function(){var e=this;return Object(C.d)("By clicking Complete Purchase, you agree to the <x:use>Twitch Bits Acceptable Use Policy</x:use>, <x:tos>Terms of Sale</x:tos>, and <x:privacy>Privacy Policy</x:privacy> and that we may start to deliver this order. You cannot cancel your order once delivery has started. Your payment method will be saved for future purchases, and any future payments for recurring subscriptions will also be updated.",{"x:use":function(e){return a.createElement(ie.a,{linkTo:"https://twitch.tv/p/legal/bits-acceptable-use/"},e)},"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"LegalDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?a.createElement(x.a,{fontSize:F.k.Size7},this.legalDisclaimerCopyKR):a.createElement(x.a,{fontSize:F.k.Size7},this.legalDisclaimerCopyNonKR):a.createElement(Z.a,{lineCount:3,width:400})},t}(a.Component),de=Object(s.d)(Object(D.a)(le))(ue),me=n("VUyg"),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e,t,n=this;if(!this.dataReady)return null;if("KR"!==(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.requestInfo)||void 0===t?void 0:t.countryCode))return a.createElement(f.a,{margin:{y:2}},a.createElement(x.a,null,Object(C.d)('By clicking "Complete Purchase", you agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Policy</x:privacy> applies. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(e){return a.createElement(ie.a,{onClick:n.onTermsOfSaleLinkClick},e)},"x:privacy":function(e){return a.createElement(ie.a,{onClick:n.onPrivacyPolicyLinkClick},e)}},"CompletePurchaseDisclaimer")));switch(this.tplr){case ne.BitsBundle:return a.createElement(f.a,{margin:{y:2}},a.createElement(de,{onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick}),a.createElement(ce.a,null));case ne.Turbo:case ne.ChannelSub:case ne.ChannelSubCommunityGift:case ne.ChannelSubStandardGift:case ne.ChannelSubCustom:return a.createElement(se,{onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick});default:return null}},Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!(this.props.data.loading&&!this.props.data.error&&!this.props.data.purchasableOffer)},enumerable:!0,configurable:!0}),t}(a.Component),fe=Object(s.d)(Object(p.withLatencyTracking)("CompletePurchaseDisclaimer"),y((function(e){return Object(r.__assign)({},e)})),Object(D.a)(me,{options:function(e){return{variables:{params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}}}))(pe),he=function(){window.open("https://gocardless.com/privacy")},ve=function(){window.open("https://www.twitch.tv/p/legal/direct-debit-guarantee/")},ge=function(){window.open("https://www.twitch.tv/p/legal/sepa-direct-debit-mandate/")},be=function(e){var t=e.hasWalletBalance?function(e){return Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:sepa>SEPA Direct Debit Mandate</x:sepa>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>. We will notify you at least 3 working days in advance of any changes to your payment date, frequency, or amount.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:sepa":function(e){return a.createElement(ie.a,{onClick:ge},e)},"x:gocardless":function(e){return a.createElement(ie.a,{onClick:he},e)}},"DirectDebitPurchaseDisclaimer")}(e):function(e){return Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:sepa>SEPA Direct Debit Mandate</x:sepa>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>. We will notify you at least 3 working days in advance of any changes to your payment date, frequency, or amount.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:sepa":function(e){return a.createElement(ie.a,{onClick:ge},e)},"x:gocardless":function(e){return a.createElement(ie.a,{onClick:he},e)}},"DirectDebitPurchaseDisclaimer")}(e);return a.createElement(f.a,{margin:{y:2}},a.createElement(x.a,null,t))},ye=function(e){var t=e.hasWalletBalance?function(e){return Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:bacs>Direct Debit Guarantee</x:bacs>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:bacs":function(e){return a.createElement(ie.a,{onClick:ve},e)},"x:gocardless":function(e){return a.createElement(ie.a,{onClick:he},e)}},"DirectDebitPurchaseDisclaimer")}(e):function(e){return Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:bacs>Direct Debit Guarantee</x:bacs>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:bacs":function(e){return a.createElement(ie.a,{onClick:ve},e)},"x:gocardless":function(e){return a.createElement(ie.a,{onClick:he},e)}},"DirectDebitPurchaseDisclaimer")}(e);return a.createElement(f.a,{margin:{y:2}},a.createElement(x.a,null,t))},ke=function(e){var t=function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},n=function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")};return e.paymentScheme===T.ud.SEPA?a.createElement(be,{hasWalletBalance:e.hasWalletBalance,onTermsOfSaleLinkClick:t,onPrivacyPolicyLinkClick:n}):a.createElement(ye,{hasWalletBalance:e.hasWalletBalance,onTermsOfSaleLinkClick:t,onPrivacyPolicyLinkClick:n})},Se=function(e){return a.createElement(x.a,null,Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Notice</x:privacy> applies. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Recurring subscriptions will expire if the amount owed exceeds your gift card balance. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")}},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")}},t)}},"WalletPurchaseDisclaimer"))},Ee=function(e){return a.createElement(x.a,null,Object(C.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Notice</x:privacy> applies. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(t){return a.createElement(ie.a,{onClick:function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")}},t)},"x:privacy":function(t){return a.createElement(ie.a,{onClick:function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")}},t)}},"WalletPurchaseDisclaimer"))},Ce=function(e){var t=e.hasSPM?a.createElement(Ee,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):a.createElement(Se,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick});return a.createElement(f.a,{margin:{top:1,bottom:2},padding:{top:e.hasSPM?1:0}},t)},Oe=function(e){return e.isWalletPurchase&&e.paymentScheme!==T.ud.SEPA&&e.paymentScheme!==T.ud.BACS?a.createElement(Ce,{hasSPM:e.hasSPM,onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):e.paymentScheme===T.ud.BACS||e.paymentScheme===T.ud.SEPA?a.createElement(ke,{hasWalletBalance:e.isWalletPurchase,paymentScheme:e.paymentScheme,onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):a.createElement(fe,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick})},De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return a.createElement(f.a,null,this.errorMessage)},Object.defineProperty(t.prototype,"hasPurchaseError",{get:function(){return!!this.props.productPurchaseErrorCode||!!this.props.purchaseOfferErrorCode||!!this.props.purchaseOrderFailureReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorMessage",{get:function(){if(this.hasPurchaseError){var e=Object(C.d)("Purchase Not Complete","ReviewPurchaseDisplay"),t=Object(C.d)("An unexpected error occurred. Please try again later.","ReviewPurchaseDisplay"),n=Object(C.d)("You are not eligible to make this purchase.","ReviewPurchaseDisplay"),i=Object(C.d)("Invalid Payment Method","ReviewPurchaseDisplay"),r=Object(C.d)("Please update your payment details by clicking on Change Payment Method.","ReviewPurchaseDisplay");if(this.props.productPurchaseErrorCode)e=i,t=Object(C.d)("This payment method is not available for your purchase at this time. Please continue checkout using another payment method.","ReviewPurchaseDisplay");else if(this.props.purchaseOfferErrorCode)switch(this.props.purchaseOfferErrorCode){case T.Qd.INELIGIBLE:e=n,t="";break;case T.Qd.INVALID_PAYMENT_METHOD:e=i,t=r}else if(this.props.purchaseOrderFailureReason)switch(this.props.purchaseOrderFailureReason){case T.Rd.BANK_DECLINED:e=Object(C.d)("Purchase Declined","ReviewPurchaseDisplay"),t=Object(C.d)("Please contact your bank or click on Change Payment Method to pay another way.","ReviewPurchaseDisplay");break;case T.Rd.INELIGIBLE:e=n,t="";break;case T.Rd.INVALID_PAYMENT_METHOD:e=i,t=r}return a.createElement(f.a,{margin:{bottom:2}},a.createElement(V.a,{type:z.a.Error,message:{title:e,description:t}}))}return null},enumerable:!0,configurable:!0}),t}(a.Component),Pe=Object(s.d)(Object(p.withLatencyTracking)("PurchaseErrorMessage",{autoReportInteractive:!0}))(De),_e=function(){return a.createElement(f.a,{padding:{y:3}},a.createElement(V.a,{type:z.a.Warning,message:{title:Object(C.d)("Payment Method Unavailable","PaymentMethodUnavailableMessage"),description:Object(C.d)("The payment method you selected is temporarily unavailable. Please use a different payment method or try again later.","PaymentMethodUnavailableMessage")}}))};!function(e){e.BitsBundle="bits_bundle",e.ChannelSub="channel_sub",e.ChannelSubCustom="channel_sub_custom",e.ChannelSubCommunityGift="channel_sub_community_gift",e.ChannelSubStandardGift="channel_sub_standard_gift",e.Turbo="turbo",e.Celebrations="celebration"}(ne||(ne={}));var Te,Ne=n("ER7f"),we='[data-recurly="fraud_session_id"]',je=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fraudSessionIDReady=function(){var e=document.querySelector(we);e&&e.value?t.props.handleRecurlyFraudSessionIDReady(e.value):t.props.handleError({message:"Recurly failed to attach the fraud_session_id"})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.recurlyInstance&&!this.props.recurlyLoadFailed&&this.setupConfigs()},t.prototype.componentDidUpdate=function(e){e.recurlyInstance||!this.props.recurlyInstance||this.props.recurlyLoadFailed||this.setupConfigs()},t.prototype.render=function(){return a.createElement(f.a,{display:F.h.Hide},a.createElement("form",null,a.createElement("input",{type:"text","data-recurly":"first_name"}),a.createElement("input",{type:"text","data-recurly":"last_name"}),a.createElement("div",{"data-recurly":"number"}),a.createElement("div",{"data-recurly":"month"}),a.createElement("div",{"data-recurly":"year"}),a.createElement("div",{"data-recurly":"cvv"}),a.createElement("input",{type:"hidden",name:"recurly-token","data-recurly":"token"})))},t.prototype.setupConfigs=function(){this.props.recurlyInstance&&(this.props.recurlyInstance.configure({publicKey:this.props.recurlyPublicKey,fraud:{kount:{dataCollector:!0}}}),this.props.recurlyInstance.fraud?(this.props.recurlyInstance.fraud.on("ready",this.fraudSessionIDReady),this.props.recurlyInstance.fraud.on("error",this.props.handleError)):this.props.handleError({message:"Recurly failed to create the Fraud class"}))},t}(a.Component),Ie=Object(s.d)(Object(Ne.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(je),xe=n("8ggV"),Re=n("kBDA"),Ae=n("bO8+"),Me=n("DYZf"),Fe="review-purchase-almost-done-text",Le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={closedPriceChangeWarning:!1},t.hidePriceChangedWarning=function(){W(t.props.checkoutSessionTracker.getCheckoutSessionID(),!0),t.setState({closedPriceChangeWarning:!0})},t.toggleUseSavedPaymentMethod=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.ChangePaymentMethodClick}),t.props.toggleUseSavedPaymentMethod()},t.toggleAddPaymentMethodClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.AddPaymentMethodClick}),t.props.toggleUseSavedPaymentMethod()},t.handleRecurlyFraudProcessorError=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.Error,subEventDetail:"failed to attach fraud session ID"})},t.handleThreeDSecureChallengeShown=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.ThreeDS2Prompt})},t.onTermsOfSaleLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.TermsOfSaleClick})},t.onPrivacyPolicyLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PrivacyPolicyClick})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){e.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseShown}),e.props.productPurchaseErrorCode&&e.props.checkoutSessionTracker.track({subEvent:j.b.Error,subEventDetail:JSON.stringify({checkout_price_error_code:e.props.productPurchaseErrorCode})})}),1e3)},t.prototype.render=function(){var e,t,n,i,r,o,s,c,l,u,d;return a.createElement(f.a,null,a.createElement(Pe,{productPurchaseErrorCode:this.props.productPurchaseErrorCode,purchaseOfferErrorCode:this.props.purchaseOfferErrorCode,purchaseOrderFailureReason:this.props.purchaseOrderFailureReason}),this.props.eligibleSPM&&a.createElement(f.a,{margin:{bottom:2},breakpointSmall:{display:F.h.Flex,justifyContent:F.m.Between}},a.createElement(x.a,{type:x.e.H4,bold:!0},Object(C.d)("Saved Payment Method","ReviewPurchaseDisplay")),a.createElement(f.a,{margin:{top:.5},breakpointSmall:{display:F.h.Flex,alignItems:F.b.End,margin:0}},a.createElement(ie.a,{onClick:this.toggleUseSavedPaymentMethod,disabled:this.props.purchasing,"data-a-target":"change-payment-method"},Object(C.d)("Change Payment Method","ReviewPurchaseDisplay")))),this.shouldShowPriceChangeWarning&&a.createElement(K,{updatePriceReason:this.props.priceChangeNotice.reason,onClose:this.hidePriceChangedWarning}),(null===(e=this.props.paymentMethodAvailabilityStatus)||void 0===e?void 0:e.availabilityStatus)!==T.sd.AVAILABLE?a.createElement(_e,null):a.createElement(Ne.a,null,(null===(t=this.props.eligibleSPM)||void 0===t?void 0:t.paymentType)===T.rd.CREDIT_CARD&&this.props.recurlyPublicKey&&a.createElement(Ie,{recurlyPublicKey:this.props.recurlyPublicKey,handleRecurlyFraudSessionIDReady:this.props.handleRecurlyFraudSessionIDReady,handleError:this.handleRecurlyFraudProcessorError}),this.props.recurlyPublicKey&&a.createElement(xe.a,{publicKey:this.props.recurlyPublicKey,handleSuccess:this.props.handleThreeDSecureSuccess,handleError:this.props.handleThreeDSecureError,handleChallengeShown:this.handleThreeDSecureChallengeShown,threeDSecureActionTokenID:this.props.threeDSecureActionTokenID},!!this.props.eligibleSPM&&a.createElement(f.a,{background:F.d.Alt,border:!0,borderRadius:F.e.Small,padding:2},a.createElement(Me.a,{paymentType:null===(n=this.props.eligibleSPM)||void 0===n?void 0:n.paymentType,cardType:null===(i=this.props.eligibleSPM)||void 0===i?void 0:i.cardType,provider:null===(r=this.props.eligibleSPM)||void 0===r?void 0:r.provider,lastFour:null===(o=this.props.eligibleSPM)||void 0===o?void 0:o.lastFour,expirationYear:null===(s=this.props.eligibleSPM)||void 0===s?void 0:s.expirationYear,billingEmail:null===(c=this.props.eligibleSPM)||void 0===c?void 0:c.billingEmail,expirationMonth:null===(l=this.props.eligibleSPM)||void 0===l?void 0:l.expirationMonth,paymentScheme:(null===(u=this.props.eligibleSPM)||void 0===u?void 0:u.paymentScheme)||void 0})),a.createElement(Oe,{hasSPM:!!this.props.eligibleSPM,paymentScheme:(null===(d=this.props.eligibleSPM)||void 0===d?void 0:d.paymentScheme)||null,isWalletPurchase:this.props.isWalletPurchase,onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick}),a.createElement(f.a,{margin:{y:1},display:F.h.Flex,alignItems:F.b.Center,justifyContent:Object(Ae.a)()?F.m.Between:F.m.End},this.props.purchasing&&a.createElement(f.a,{margin:{right:1}},a.createElement(x.a,{"data-test-selector":Fe},this.props.tplr===ne.Celebrations?Object(C.d)("Almost done! Celebrations will launch soon after completing the purchase.","ReviewPurchaseDisplay"):Object(C.d)("Almost done! Your order will be completed soon.","ReviewPurchaseDisplay"))),a.createElement(f.a,{display:F.h.Flex,justifyContent:Object(Ae.a)()?F.m.Start:F.m.End},a.createElement(Re.a,{margin:{right:2}})),a.createElement(f.a,{margin:{y:1},display:F.h.Flex,alignItems:F.b.Center,justifyContent:F.m.End},!this.props.eligibleSPM&&a.createElement(f.a,{padding:{right:1}},a.createElement(L.a,{type:L.d.Secondary,onClick:this.toggleAddPaymentMethodClick,disabled:this.props.purchasing,"data-a-target":"change-payment-method"},Object(C.d)("Add a Payment Method","ReviewPurchaseDisplay"))),a.createElement(L.a,{state:this.props.purchasing?L.c.Loading:L.c.Default,onClick:this.props.handleCompletePurchaseClick,disabled:this.completePurchaseDisabled,"data-a-target":"spm-complete-purchase-button"},Object(C.d)("Complete Purchase","ReviewPurchaseDisplay")))))))},Object.defineProperty(t.prototype,"shouldShowPriceChangeWarning",{get:function(){return this.props.priceChangeNotice.show&&!this.state.closedPriceChangeWarning&&!q(this.props.checkoutSessionTracker.getCheckoutSessionID())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completePurchaseDisabled",{get:function(){return this.props.purchasing||!!this.props.productPurchaseErrorCode||this.props.purchaseOrderFailureReason===T.Rd.INELIGIBLE||this.props.purchaseOfferErrorCode===T.Qd.INELIGIBLE},enumerable:!0,configurable:!0}),t}(a.Component),Be=Object(s.d)(Object(p.withLatencyTracking)("ReviewPurchaseDisplay",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(Le),Ue=n("pXzP"),Ve=n("7DAU"),ze=[T.Sd.PAYMENT_PENDING,T.Sd.SUCCESS],Ge=[T.Sd.BENEFITS_CANCELLED,T.Sd.CANCEL_BENEFITS_INITIATED,T.Sd.FAILED,T.Sd.REFUND_APPLIED,T.Sd.REFUND_FAILED,T.Sd.REFUND_INITIATED],He=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={updatedResidenceThisSession:!1,purchasing:!1,purchaseError:!!t.props.purchaseOfferErrorCode||!!t.props.purchaseOrderFailureReason,purchaseOfferErrorCode:t.props.purchaseOfferErrorCode,purchaseOrderFailureReason:t.props.purchaseOrderFailureReason},t.handleCompletePurchaseClick=function(){t.completePurchase()},t.initiate3DS2Challenge=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:try{t=JSON.parse(e).three_d_secure_action_token_id}catch(n){t=e}return this.stopPolling(),[4,this.props.data.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return n.sent(),this.setState({threeDSecureActionTokenID:t}),[2]}}))}))},t.handleRecurlyFraudSessionIDReady=function(e){t.recurlyFraudSessionID=e},t.handleThreeDSecureSuccess=function(e){t.setState({threeDSecureActionTokenID:void 0},(function(){t.completePurchase(e)}))},t.handleThreeDSecureError=function(e){t.props.checkoutSessionTracker.track({subEvent:j.b.ThreeDS2Failure,subEventDetail:JSON.stringify(e)}),t.handlePurchaseFailure(JSON.stringify(e))},t.onSetResidenceSuccess=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.refetchCheckoutFormScreenManagerData()];case 1:return e.sent(),this.setState({updatedResidenceThisSession:!0}),[2]}}))}))},t.completePurchase=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n,i,a,o,s,c,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!this.props.data.currentUser)return[2];this.setState({purchasing:!0,purchaseError:!1,purchaseOfferErrorCode:void 0,purchaseOrderFailureReason:void 0,threeDSecureActionTokenID:void 0}),e||this.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickAttempt}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.purchaseOfferMutation(Object(J.a)({billingAuthInfo:{recurlyFraudSessionID:this.recurlyFraudSessionID,threeDSecureActionResultTokenID:e},giftRecipientUserIDs:this.props.giftRecipientIDs,offerID:this.props.selectedOfferID,paymentSession:this.props.paymentSession,purchasingUserID:this.props.data.currentUser.id,quantity:this.props.selectedQuantity,tagBindings:this.props.tagBindings,tenantTracking:this.props.trackingContext.tenantTracking?JSON.stringify(this.props.trackingContext.tenantTracking):""}))];case 2:return t=r.sent(),n=t.data,i=t.errors,a=null===(c=null===(s=n.purchaseOffer)||void 0===s?void 0:s.purchaseOrder)||void 0===c?void 0:c.id,i?(this.handlePurchaseFailure(JSON.stringify(i)),[2]):(null===(l=n.purchaseOffer)||void 0===l?void 0:l.error)?(this.handlePurchaseFailure(JSON.stringify({purchase_offer_error:n.purchaseOffer.error}),n.purchaseOffer.error),[2]):a?(this.startPolling(a),[3,4]):(this.handlePurchaseFailure("missing purchase order ID"),[2]);case 3:return o=r.sent(),this.handlePurchaseFailure(null==o?void 0:o.message),[3,4];case 4:return[2]}}))}))},t.handlePurchaseFailure=function(e,n,i){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickFailure,subEventDetail:e}),this.setState({purchasing:!1,purchaseError:!0,purchaseOfferErrorCode:n,purchaseOrderFailureReason:i}),this.stopPolling(),[4,this.props.data.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return t.sent(),[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.handlePaymentProviderUpdate(T.td.RECURLY),this.props.isWalletPurchase&&!this.props.isSplitTender)this.props.checkoutSessionTracker.activePaymentMethod="wallet";else if(this.props.eligibleSPM)switch(this.props.eligibleSPM.paymentType.toUpperCase()){case T.rd.CREDIT_CARD:this.props.checkoutSessionTracker.activePaymentMethod="credit_card";break;case T.rd.PAYPAL:this.props.checkoutSessionTracker.activePaymentMethod="paypal";break;case T.rd.AMAZON:this.props.checkoutSessionTracker.activePaymentMethod="amazon_pay"}this.props.checkoutSessionTracker.activePaymentProvider="recurly"},t.prototype.componentDidUpdate=function(e,t){var n,i,r,a,o,s,c,l,u,d,m,p,f,h,v;(null===(r=null===(i=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===i?void 0:i.purchaseOrder)||void 0===r?void 0:r.state)&&ze.includes(this.props.data.currentUser.purchaseOrder.state)&&(this.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickSuccess,originID:this.props.data.currentUser.purchaseOrder.id}),this.props.handlePurchaseSuccess()),(null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.currentUser)||void 0===o?void 0:o.purchaseOrder)||void 0===s?void 0:s.state)===T.Sd.THREE_D_SECURE_CHALLENGE_REQUIRED&&(null===(u=null===(l=null===(c=this.props.data)||void 0===c?void 0:c.currentUser)||void 0===l?void 0:l.purchaseOrder)||void 0===u?void 0:u.actionTokenID)&&!this.state.threeDSecureActionTokenID&&this.initiate3DS2Challenge(this.props.data.currentUser.purchaseOrder.actionTokenID),(null===(p=null===(m=null===(d=this.props.data)||void 0===d?void 0:d.currentUser)||void 0===m?void 0:m.purchaseOrder)||void 0===p?void 0:p.state)&&Ge.includes(this.props.data.currentUser.purchaseOrder.state)&&!t.purchaseError&&t.purchasing&&(null===(v=null===(h=null===(f=e.data)||void 0===f?void 0:f.currentUser)||void 0===h?void 0:h.purchaseOrder)||void 0===v?void 0:v.state)!==this.props.data.currentUser.purchaseOrder.state&&this.handlePurchaseFailure(JSON.stringify({purchase_order_error:this.props.data.currentUser.purchaseOrder.failureReason}),void 0,this.props.data.currentUser.purchaseOrder.failureReason)},t.prototype.componentWillUnmount=function(){this.stopPolling()},t.prototype.render=function(){return this.askForResidence&&this.props.data.currentUser?a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):a.createElement(f.a,null,a.createElement(Be,{recurlyPublicKey:this.props.recurlyPublicKey,purchasing:this.state.purchasing,productPurchaseErrorCode:this.props.productPurchaseErrorCode,purchaseOrderFailureReason:this.state.purchaseOrderFailureReason,purchaseOfferErrorCode:this.state.purchaseOfferErrorCode,toggleUseSavedPaymentMethod:this.props.toggleUseSavedPaymentMethod,eligibleSPM:this.props.eligibleSPM,paymentMethodAvailabilityStatus:this.props.paymentMethodAvailabilityStatus,handleCompletePurchaseClick:this.handleCompletePurchaseClick,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID,handleThreeDSecureSuccess:this.handleThreeDSecureSuccess,handleThreeDSecureError:this.handleThreeDSecureError,handleRecurlyFraudSessionIDReady:this.handleRecurlyFraudSessionIDReady,isWalletPurchase:this.props.isWalletPurchase,tplr:this.props.tplr,priceChangeNotice:this.props.priceChangeNotice}))},Object.defineProperty(t.prototype,"askForResidence",{get:function(){return!this.state.updatedResidenceThisSession&&(this.props.productPurchaseErrorCode===T.Od.UNKNOWN_USER_RESIDENCE||!!this.props.eligibleSPM&&this.props.requestInfoCountryCode!==this.props.eligibleSPM.billingCountry)},enumerable:!0,configurable:!0}),t.prototype.startPolling=function(e){var t=this;this.props.data.refetch({purchaseOrderID:e,includeOrder:!0}),this.pollingID=setInterval((function(){t.props.data.refetch({purchaseOrderID:e,includeOrder:!0})}),1e3),this.props.handlePollingOrder(!0),this.timeoutID=setTimeout((function(){t.stopPolling(),t.handlePurchaseFailure("polling timeout")}),6e4)},t.prototype.stopPolling=function(){clearInterval(this.pollingID),clearTimeout(this.timeoutID),this.props.handlePollingOrder(!1)},t}(a.Component),We=Object(s.d)(Object(p.withLatencyTracking)("CheckoutReviewPurchaseScreen",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})),Object(D.a)(Ve,{options:function(){return{variables:{purchaseOrderID:"",includeOrder:!1}}}}),Object(D.a)(Ue,{name:"purchaseOfferMutation"}))(He),qe=n("Hl/S"),Qe=n("eMuj"),Ye=n("LKxS"),Ke=n("cwzQ"),Je=n("6fcp"),Xe=n("BBJN"),Ze=n("s+pF"),$e=n("afq6"),et=n("TwdJ"),tt=n("F+KF"),nt=function(e){var t=Object(a.useState)(""),n=t[0],i=t[1],o=Object(a.useState)(""),s=o[0],c=o[1],l=Object(a.useState)(!1),u=l[0],d=l[1],m=Object(a.useState)(!1),p=m[0],h=m[1],v=Object(a.useState)(!1),g=v[0],b=v[1],y=Object(a.useState)(!1),k=y[0],S=y[1],E=Object(a.useState)({confirmed:!1,error:!1}),O=E[0],D=E[1],P=null;return u||p?P={title:Object(C.d)("Valid Credentials Required","SepaBankAccountProcessor"),description:Object(C.d)("Please enter valid credentials in the highlighted areas and try again","SepaBankAccountProcessor")}:g&&(P={title:Object(C.d)("Unexpected Error Occurred","SepaBankAccountProcessor"),description:Object(C.d)("Our credit card processor is not working at the moment. Please try again later.","SepaBankAccountProcessor")}),a.createElement(a.Fragment,null,P&&a.createElement(V.a,{type:z.a.Error,message:P}),a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:6},a.createElement($e.a,{label:Object(C.d)("Holder Name","SepaBankAccountProcessor")},a.createElement(et.a,{type:et.c.Text,placeholder:Object(C.d)("J. Smith","SepaBankAccountProcessor"),value:s,error:p,onChange:function(e){var t=e.currentTarget.value;c(t),h(!1)}}))),a.createElement(Ze.a,{cols:6},a.createElement($e.a,{label:Object(C.d)("International Bank Account Number (IBAN)","SepaBankAccountProcessor")},a.createElement(et.a,{type:et.c.Text,placeholder:Object(C.d)("DE 12 ABCD 890111 11167800","SepaBankAccountProcessor"),error:u,value:n,onChange:function(e){var t=e.currentTarget.value;i(t),d(!1)}})))),a.createElement(f.a,{margin:{top:2},display:F.h.Flex,flexDirection:F.i.RowReverse,alignItems:F.b.Center},a.createElement(L.a,{disabled:k||e.disableCallToAction,state:k||e.forceLoadingState?L.c.Loading:L.c.Default,onClick:function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,i,a;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return O.confirmed?(t=!1,i="",b(!1),n.length<14?(d(!0),t=!0):(i=n.length>2?n.substring(0,2):"",rt.has(i)||(d(!0),t=!0)),""===s&&(h(!0),t=!0),t?[2]:(a={country:i,iban:n,name_on_account:s},[4,S(!0)])):(D(Object(r.__assign)(Object(r.__assign)({},O),{error:!0})),[2]);case 1:return o.sent(),e.recurly.bankAccount.token(a,(function(t,a){var o;(null==t?void 0:t.code)===Je.b.InvalidParameter?(null===(o=t.fields)||void 0===o?void 0:o.some((function(e){return"iban"===e})))&&d(!0):null!==t&&b(!0),e.onSubmit(t,Object(r.__assign)(Object(r.__assign)({},a),{billing_info:{cc_bin_country:i},lastFour:n.substring(n.length-4)}))})),S(!1),[2]}}))}))}},e.callToActionButtonLabel),a.createElement(f.a,{padding:{right:1}},a.createElement(tt.a,{label:Object(C.d)("I verify that my account information is correct","SepaBankAccountProcessor"),checked:O.confirmed,error:O.error,onChange:function(){var e=!O.confirmed,t=!e&&O.error;D({error:t,confirmed:e})}}))))},it=function(e){var t=Object(a.useState)(""),n=t[0],i=t[1],o=Object(a.useState)(""),s=o[0],c=o[1],l=Object(a.useState)(""),u=l[0],d=l[1],m=Object(a.useState)(""),p=m[0],h=m[1],v=Object(a.useState)(""),g=v[0],b=v[1],y=Object(a.useState)(""),k=y[0],S=y[1],E=Object(a.useState)(!1),O=E[0],D=E[1],P=Object(a.useState)(!1),_=P[0],T=P[1],N=Object(a.useState)(!1),w=N[0],j=N[1],I=Object(a.useState)({}),R=I[0],A=I[1],M=null;return Object.values(R).some((function(e){return!0===e}))?M={title:Object(C.d)("Valid Credentials Required","BacsProcessor"),description:Object(C.d)("Please enter valid credentials in the highlighted areas and try again","BacsProcessor")}:w&&(M={title:Object(C.d)("Unexpected Error Occurred","BacsProcessor"),description:Object(C.d)("Our payment processor is not working at the moment. Please try again later.","BacsProcessor")}),a.createElement(a.Fragment,null,M&&a.createElement(V.a,{type:z.a.Error,message:M}),a.createElement(f.a,{margin:{bottom:1}},a.createElement(x.a,{type:x.e.H5,bold:!0},Object(C.d)("ACCOUNT INFORMATION","BacsProcessor"))),a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:4},a.createElement($e.a,{label:Object(C.d)("Account Holder Name","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"name",type:et.c.Text,value:u,error:R.name_on_account,placeholder:Object(C.d)("J. Smith","BacsProcessor"),onChange:function(e){var t=e.currentTarget.value;d(t),A(Object(r.__assign)(Object(r.__assign)({},R),{name_on_account:void 0}))}}))),a.createElement(Ze.a,{cols:4},a.createElement($e.a,{label:Object(C.d)("Sort Code","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"sort_code",type:et.c.Text,value:n,placeholder:Object(C.d)("12-34-56","BacsProcessor"),error:R.sort_code,onChange:function(e){var t=e.currentTarget.value;i(t),A(Object(r.__assign)(Object(r.__assign)({},R),{sort_code:void 0}))}}))),a.createElement(Ze.a,{cols:4},a.createElement($e.a,{label:Object(C.d)("Account Number","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"account",type:et.c.Text,error:R.account_number,value:s,placeholder:Object(C.d)("12345678","BacsProcessor"),onChange:function(e){var t=e.currentTarget.value;c(t),A(Object(r.__assign)(Object(r.__assign)({},R),{account_number:void 0}))}})))),a.createElement(f.a,{margin:{bottom:1,top:2}},a.createElement(x.a,{type:x.e.H5,bold:!0},Object(C.d)("BILLING INFORMATION","BacsProcessor"))),a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:4},a.createElement($e.a,{label:Object(C.d)("Address","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"address",type:et.c.Text,value:g,error:R.address1,placeholder:Object(C.d)("Address","BacsProcessorPlaceholder"),onChange:function(e){var t=e.currentTarget.value;b(t),A(Object(r.__assign)(Object(r.__assign)({},R),{address1:void 0}))}}))),a.createElement(Ze.a,{cols:4},a.createElement($e.a,{label:Object(C.d)("Town/City","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"city",type:et.c.Text,value:p,error:R.city,placeholder:Object(C.d)("Town/City","BacsProcessorPlaceholder"),onChange:function(e){var t=e.currentTarget.value;h(t),A(Object(r.__assign)(Object(r.__assign)({},R),{city:void 0}))}}))),a.createElement(Ze.a,{cols:4},a.createElement($e.a,{label:Object(C.d)("Post Code","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"postal_code",type:et.c.Text,value:k,error:R.postal_code,placeholder:Object(C.d)("Post Code","BacsProcessorPlaceholder"),onChange:function(e){var t=e.currentTarget.value;S(t),A(Object(r.__assign)(Object(r.__assign)({},R),{postal_code:void 0}))}})))),a.createElement(f.a,{margin:{top:3},display:F.h.Flex,flexDirection:F.i.RowReverse,alignItems:F.b.Center},a.createElement(L.a,{disabled:_||e.disableCallToAction,state:e.forceLoadingState||_?L.c.Loading:L.c.Default,onClick:function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,i,a;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return O?(A(Object(r.__assign)(Object(r.__assign)({},R),{confirmation:void 0})),t={name_on_account:u,account_number:s,account_number_confirmation:s,sort_code:n,country:"GB",address1:g,city:p,postal_code:k,type:"bacs"},j(!1),i=!1,a={},Object.keys(t).forEach((function(e){""===t[e]&&"account_number_confirmation"!==e&&(i=!0,a[e]=!0)})),i?(A(a),[2]):[4,T(!0)]):(A(Object(r.__assign)(Object(r.__assign)({},R),{confirmation:!0})),[2]);case 1:return o.sent(),e.recurly.bankAccount.token(t,(function(t,n){var i;if(null===t){A({});var a=Object(r.__assign)(Object(r.__assign)({},n),{lastFour:s.substring(s.length-4)});e.onSubmit(t,a)}else{if(t.code===Je.b.InvalidParameter){var o={};return null===(i=t.fields)||void 0===i||i.forEach((function(e){o[e]=!0})),void A(o)}j(!0)}})),T(!1),[2]}}))}))}},e.callToActionButtonLabel),a.createElement(f.a,{padding:{right:1}},a.createElement(tt.a,{label:Object(C.d)("I verify that my account information is correct","BacsProcessor"),checked:O,error:R.confirmation,onChange:function(){var e=!O;e&&A(Object(r.__assign)(Object(r.__assign)({},R),{confirmation:void 0})),D(e)}}))))},rt=new Set(["AT","BE","BG","HR","CY","CZ","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES"]),at=new Set(["GB"]),ot=Object(s.d)(Object(p.withLatencyTracking)("RecurlyBankAccountProcessor"),Object(Ne.b)((function(e){return Object(r.__assign)({},e)})))((function(e){var t=Object(a.useState)(!1),n=t[0],i=t[1];if(Object(a.useEffect)((function(){!e.recurlyLoadFailed&&e.recurlyInstance&&(e.recurlyInstance.configure(e.recurlyPublicKey),i(!0))}),[e.recurlyLoadFailed,e.recurlyInstance,e.recurlyPublicKey]),!n)return a.createElement(Ke.a,null);var r=function(t,n){t&&e.handleTokenError&&e.handleTokenError(t),t||e.handleTokenResponse(n)};return rt.has(e.userCountry)?a.createElement(nt,{recurly:e.recurlyInstance,onSubmit:r,disableCallToAction:e.disableCallToActionButton,callToActionButtonLabel:e.callToActionButtonLabel}):at.has(e.userCountry)?a.createElement(it,{recurly:e.recurlyInstance,onSubmit:r,callToActionButtonLabel:e.callToActionButtonLabel,disableCallToAction:e.disableCallToActionButton}):a.createElement(a.Fragment,null)})),st=n("KZQ4"),ct=n("gn2N"),lt="eu_direct_debit",ut=function(e){var t=new Set(C.b.get("eu_direct_debit_valid_schemes",[])),n=at.has(e)&&t.has(T.ud.BACS),i=rt.has(e)&&t.has(T.ud.SEPA);return n||i},dt=n("FT7T"),mt=function(e){return e.paymentMethodAvailable!==T.sd.AVAILABLE?a.createElement(_e,null):a.createElement(a.Fragment,null,e.children)},pt=n("Jgup"),ft=n("UfC+"),ht=n("JDoF"),vt=n("1AzW"),gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showCountrySelector:!1,purchaseSuccessful:!1,closedPriceChangeWarning:!1},t.hidePriceChangedWarning=function(){W(t.props.checkoutSessionTracker.getCheckoutSessionID(),!0),t.setState({closedPriceChangeWarning:!0})},t.reportInteractive=function(){t.props.latencyTracking.reportInteractive(),t.props.xsollaEnabled&&t.props.xsollaEnabled.availabilityStatus===T.sd.AVAILABLE?t.props.xsollaToken||t.props.productPurchaseErrorCode===T.Od.UNKNOWN_USER_RESIDENCE||t.props.productPurchaseErrorCode===T.Od.BILLING_INFO_NOT_FOUND?t.props.checkoutSessionTracker.track({subEvent:j.b.LoadSuccess}):t.props.checkoutSessionTracker.track({subEvent:j.b.Error,subEventDetail:"missing xsolla iframe token"}):t.props.checkoutSessionTracker.track({subEvent:j.b.Error,subEventDetail:"xsolla disabled"})},t.onChangePaymentMethodClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.ChangePaymentMethodClick}),t.props.onChangePaymentMethodClick()},t.onCompletePurchaseShown=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseShown})},t.onXsollaPurchaseSuccess=function(e){t.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickSuccess,extTransactionID:e||""}),t.props.handlePurchaseSuccess(T.td.XSOLLA_V3),t.setState({purchaseSuccessful:!0})},t.onXsollaPurchaseFail=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:j.b.CompletePurchaseClickFailure})},t.onFirstInteraction=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_provider:"xsolla"})})},t.toggleCountrySelector=function(){t.setState((function(e){return{showCountrySelector:!e.showCountrySelector}}))},t.onSetResidenceSuccess=function(){t.props.refetchCheckoutFormScreenManagerData(),t.setState({showCountrySelector:!1})},t.onTermsOfSaleLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.TermsOfSaleClick})},t.onPrivacyPolicyLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PrivacyPolicyClick})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.handlePaymentProviderUpdate(T.td.XSOLLA_V3),this.reportInteractive()},t.prototype.render=function(){return this.state.showCountrySelector?a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):this.props.xsollaEnabled&&this.props.xsollaEnabled.availabilityStatus===T.sd.AVAILABLE?this.props.productPurchaseErrorCode===T.Od.UNKNOWN_USER_RESIDENCE?a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):this.props.xsollaToken?this.billingCountry||this.userResidence?a.createElement(a.Fragment,null,this.header,this.shouldShowPriceChangeWarning&&a.createElement(K,{updatePriceReason:this.props.priceChangeNotice.reason,onClose:this.hidePriceChangedWarning}),a.createElement(ht.a,{xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,onCompletePurchaseShown:this.onCompletePurchaseShown,onSuccess:this.onXsollaPurchaseSuccess,onFail:this.onXsollaPurchaseFail,onFirstInteraction:this.onFirstInteraction}),a.createElement(fe,{onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick}),Object(Ae.a)()&&a.createElement(ft.a,null)):a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):a.createElement(a.Fragment,null,this.header,a.createElement(f.a,{margin:{top:2}},a.createElement(M.PageError,null))):a.createElement(f.a,null,this.header,a.createElement(vt.a,null))},Object.defineProperty(t.prototype,"header",{get:function(){var e=this;return a.createElement(f.a,{display:F.h.Flex,alignItems:F.b.Center,flexDirection:F.i.Row,justifyContent:F.m.Between,margin:{bottom:1}},a.createElement(f.a,{display:F.h.Flex,alignItems:F.b.Center},a.createElement(f.a,{display:F.h.InlineBlock,alignItems:F.b.Center,margin:{right:Object(Ae.a)()?0:1}},a.createElement(x.a,{type:x.e.H4},Object(C.d)("Checkout","CheckoutWithXsolla"))),!Object(Ae.a)()&&a.createElement(ft.a,null),a.createElement(f.a,{display:F.h.InlineBlock,alignItems:F.b.Center,margin:{left:1}},a.createElement(x.a,{fontSize:F.k.Size6},Object(C.d)("Country  <x:link></x:link>",{"x:link":function(){return a.createElement(ie.a,{"data-a-target":"select-country-of-residence-link",onClick:e.toggleCountrySelector},Object(pt.b)(e.country))}},"CheckoutWithXsolla")))),this.showChangePaymentMethodButton&&a.createElement(ie.a,{onClick:this.onChangePaymentMethodClick,"data-a-target":"change-payment-method"},Object(C.d)("Change Payment Method","CheckoutWithXsolla")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowPriceChangeWarning",{get:function(){return this.props.priceChangeNotice.show&&!this.state.closedPriceChangeWarning&&!q(this.props.checkoutSessionTracker.getCheckoutSessionID())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showChangePaymentMethodButton",{get:function(){return!(this.props.chargeInterval&&this.props.chargeInterval>1)&&(this.props.recurlyEnabled&&!this.state.purchaseSuccessful)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"savedPaymentMethod",{get:function(){var e;return null===(e=this.props.paymentMethods)||void 0===e?void 0:e.find((function(e){return e.provider===T.td.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingCountry",{get:function(){var e;return null===(e=this.savedPaymentMethod)||void 0===e?void 0:e.billingCountry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userResidence",{get:function(){return this.props.userResidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"country",{get:function(){var e;return(null===(e=this.userResidence)||void 0===e?void 0:e.countryCode)||this.props.requestInfoCountryCode||"US"},enumerable:!0,configurable:!0}),t}(a.Component),bt=Object(s.d)(Object(p.withLatencyTracking)("CheckoutWithXsolla"),y((function(e){return Object(r.__assign)({},e)})))(gt),yt=function(e){var t=Object(a.useState)(!1),n=t[0],i=t[1];if(!n&&e.onLoad&&(e.onLoad(),i(!0)),!ut(e.bestGuessCountry))return null;var r=rt.has(e.bestGuessCountry)?Object(C.d)("Your saved SEPA payment method isnt available for Bits or Gift purchases.","DirectDebitAlertBanner"):Object(C.d)("Your saved BACS payment method isnt available for Bits or Gift purchases.","DirectDebitAlertBanner");return a.createElement(f.a,{padding:{bottom:2}},a.createElement(V.a,{type:z.a.Info,message:{title:Object(C.d)("Direct Debit unavailable.","DirectDebitAlertBanner"),description:r},closeButton:{"aria-label":Object(C.d)("Dismiss","DirectDebitAlertBanner"),onClick:e.onDismiss}}))},kt=function(e){return a.createElement(f.a,{margin:{y:1}},a.createElement(V.a,{type:z.a.Error,message:{title:Object(C.d)("Payment not processed","CheckoutFormSelectScreen"),description:e.children}}))},St=function(){return a.createElement(f.a,{margin:{y:1}},a.createElement(V.a,{type:z.a.Error,message:{title:Object(C.d)("Verification Failed","CheckoutFormSelectScreen"),description:Object(C.d)("We had a problem verifying this payment method with your bank. Please try again or use a different payment method.","CheckoutFormSelectScreen")}}))},Et=(n("0PSp"),function(){var e=a.createElement(f.a,{flexGrow:1,position:F.o.Relative},a.createElement(f.a,{borderTop:!0,className:"pay-with-credit-card-line__line",fullWidth:!0,position:F.o.Absolute}));return a.createElement(a.Fragment,null,a.createElement(f.a,{display:F.h.Flex,textAlign:F.q.Center,margin:{y:1}},e,a.createElement(f.a,{flexGrow:0,padding:{x:1}},a.createElement(f.a,{display:F.h.Flex},a.createElement(f.a,{alignSelf:F.c.Center,margin:{right:.5}},a.createElement(x.a,{type:x.e.Span,transform:x.d.Uppercase,color:F.f.Alt2},Object(C.d)("Or","PayWithCreditCardLine"))))),e))}),Ct=n("2DIU"),Ot=n.n(Ct),Dt=n("TSpM"),Pt=n.n(Dt),_t=n("pVnL"),Tt=n.n(_t),Nt=n("8OQS"),wt=n.n(Nt),jt=n("SWse"),It=n("vsSX");!function(e){e.Xsolla="tw-payment-button--xsolla",e.AmazonPay="tw-payment-button--amazon-pay",e.PaypalBlue="tw-payment-button--paypal-blue",e.PaypalYellow="tw-payment-button--paypal-yellow"}(Te||(Te={}));var xt=function(e,t){var n=e.children,i=e.type,r=wt()(e,["children","type"]),o={"tw-payment-button":!0,"tw-payment-button--disabled":r.disabled};return i&&(o[i]=!0),a.createElement(It.a,Tt()({},r,{ref:t,className:Object(jt.a)(o),type:i===Te.Xsolla?It.d.Secondary:void 0}),a.createElement(f.a,{className:"tw-payment-button__layout",position:F.o.Relative,display:F.h.Flex,alignItems:F.b.Center,padding:{x:1},color:i===Te.PaypalBlue?F.f.Overlay:void 0},n))};xt.displayName="PaymentButton",xt.displayName="PaymentButton";var Rt,At=a.forwardRef(xt),Mt=n("JjwZ"),Ft=(n("k/qa"),function(e){return a.createElement(At,{type:Te.AmazonPay,onClick:e.onClick,size:It.c.Large,fullWidth:!0},a.createElement(f.a,{className:"select-amazon-pay-button__container",display:F.h.Flex,flexDirection:F.i.Column,justifyContent:F.m.Center,padding:{top:.5}},a.createElement(Mt.a,{src:Ot.a,alt:Object(C.d)("Amazon Pay","PaymentMethodSelector"),srcSet:{"1x":Ot.a,"2x":Pt.a}})))}),Lt=n("uReR"),Bt=n.n(Lt),Ut=n("SPyc"),Vt=n.n(Ut),zt=n("bOWA"),Gt=n.n(zt),Ht=n("iSjI"),Wt=n.n(Ht),qt=(n("ami3"),function(e){return a.createElement(At,{type:Te.Xsolla,onClick:e.onClick,size:It.c.Large,fullWidth:!0},a.createElement(f.a,{className:"select-credit-card-button__container",padding:{y:.5},display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Wt.a,alt:Object(C.d)("Visa","SelectCreditCardButton")}),a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Gt.a,alt:Object(C.d)("Master Card","SelectCreditCardButton")}),a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Bt.a,alt:Object(C.d)("American Express","SelectCreditCardButton")}),a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Vt.a,alt:Object(C.d)("Discover","SelectCreditCardButton")})))}),Qt=n("t5Mr"),Yt=n.n(Qt),Kt=n("+H2+"),Jt=n.n(Kt),Xt=n("vwei"),Zt=n.n(Xt),$t=(n("lGkd"),function(e){return a.createElement(f.a,{display:F.h.Flex,flexDirection:F.i.Row,alignItems:F.b.Center},a.createElement(Mt.a,{src:e.imgSrc,alt:e.alt,className:"direct-debit-button-img"}),a.createElement(f.a,{padding:{left:1}},a.createElement(x.a,null,e.buttonText)))}),en=Object(o.b)((function(e){return{darkModeEnabled:Object(N.a)(e)===P.a.Dark}}))((function(e){var t=void 0,n=Object(C.d)("Direct Debit","DirectDebitButton");switch(e.scheme){case T.ud.BACS:var i=e.darkModeEnabled?Yt.a:Jt.a;t=a.createElement($t,{imgSrc:i,alt:n,buttonText:n});break;case T.ud.SEPA:var r=Object(C.d)("SEPA Direct Debit","DirectDebitButton");t=a.createElement($t,{imgSrc:Zt.a,alt:r,buttonText:r});break;default:t=n}return a.createElement(At,{type:Te.Xsolla,onClick:e.onClick,size:It.c.Large,fullWidth:!0},t)})),tn=n("2xEe"),nn=n.n(tn),rn=n("q8H6"),an=n.n(rn),on=(n("YaM9"),function(e){return a.createElement(At,{type:Te.PaypalBlue,onClick:e.onClick,size:It.c.Large,fullWidth:!0},a.createElement(f.a,{className:"select-paypal-button__container",display:F.h.Flex,flexDirection:F.i.Column,justifyContent:F.m.Center},a.createElement(Mt.a,{src:nn.a,alt:Object(C.d)("PayPal","SelectPaypalButton"),srcSet:{"1x":nn.a,"2x":an.a}})))}),sn=(n("8sFf"),n("oe2Q")),cn=new Map([["KR",n.n(sn).a]]);function ln(){var e=Object(_.a)()||"";return cn.get(e)||""}!function(e){e[e.MoreMethods=0]="MoreMethods",e[e.CreditCardPlusMore=1]="CreditCardPlusMore"}(Rt||(Rt={}));var un,dn=function(e){var t,n=Object(C.d)("+ More","SelectXsollaButton"),i=e.type===Rt.MoreMethods?a.createElement(x.a,null,Object(C.d)("See More Methods","SelectXsollaButton")):a.createElement(f.a,{display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Wt.a,alt:Object(C.d)("Visa","SelectXsollaButton")}),a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Gt.a,alt:Object(C.d)("Master Card","SelectXsollaButton")}),a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Bt.a,alt:Object(C.d)("American Express","SelectXsollaButton")}),a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Vt.a,alt:Object(C.d)("Discover","SelectXsollaButton")}),a.createElement(x.a,{type:x.e.Span,transform:x.d.Uppercase},n));return t=Object(_.a)()||"",cn.has(t.toUpperCase())&&(i=a.createElement(f.a,{display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-new-icon",src:ln(),alt:Object(C.d)("Options","SelectXsollaButton")}),a.createElement(x.a,{type:x.e.Span},n))),a.createElement(At,{"data-a-target":"xsolla-payment-method-button",type:Te.Xsolla,onClick:e.onClick,size:It.c.Large,fullWidth:!0},i)},mn=n("KL9a"),pn=n.n(mn),fn=function(e){return a.createElement(f.a,{margin:{bottom:1},display:F.h.Flex,flexDirection:F.i.Row},a.createElement(x.a,{type:x.e.H4},e.children),a.createElement(f.a,{margin:{left:1},display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(f.a,{display:F.h.Flex,flexDirection:F.i.Row},a.createElement(f.a,{className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:Wt.a,alt:Object(C.d)("Visa","PayWithCreditCardLine")})),a.createElement(f.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:pn.a,alt:Object(C.d)("Master Card","PayWithCreditCardLine")})),a.createElement(f.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:Bt.a,alt:Object(C.d)("American Express","PayWithCreditCardLine")})),a.createElement(f.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:Vt.a,alt:Object(C.d)("Discover","PayWithCreditCardLine")})))))},hn=Object(o.b)((function(e){return{darkModeEnabled:Object(N.a)(e)===P.a.Dark}}))((function(e){var t,n,i;switch(e.scheme){case T.ud.SEPA:t=Object(C.d)("Pay with SEPA Direct Debit","DirectDebitHeader"),n=Zt.a,i=Object(C.d)("SEPA","DirectDebitHeader");break;case T.ud.BACS:t=Object(C.d)("Pay with Direct Debit","DirectDebitHeader"),n=e.darkModeEnabled?Yt.a:Jt.a,i=Object(C.d)("Direct Debit","DirectDebitHeader");break;default:return a.createElement(x.a,{type:x.e.H4},Object(C.d)("Pay with Direct Debit","DirectDebitHeaderComponent"))}return a.createElement(f.a,{margin:{bottom:1},display:F.h.Flex,flexDirection:F.i.Row,alignItems:F.b.Center},a.createElement(x.a,{type:x.e.H4},t),a.createElement(f.a,{margin:{left:1}},a.createElement(Mt.a,{src:n,className:"direct-debit-image",alt:i})))})),vn=function(e){var t;switch(e.selectedPaymentMethod){case un.RecurlyDirectDebit:t=a.createElement(hn,{scheme:e.paymentScheme});break;case un.RecurlyAmazonPay:t=a.createElement(x.a,{type:x.e.H4},Object(C.d)("Checkout with Amazon Pay","PaymentMethodSelector"));break;case un.RecurlyPayPal:t=a.createElement(x.a,{type:x.e.H4},Object(C.d)("Checkout with PayPal","PaymentMethodSelector"));break;case un.RecurlyCreditCard:t=a.createElement(fn,null,Object(C.d)("Pay with Credit Card","PayWithCreditCardLine"));break;default:t=void 0}return t?a.createElement(f.a,{display:F.h.Flex,alignItems:F.b.Center,flexDirection:F.i.Row,justifyContent:F.m.Between},t,e.onChangePaymentMethod&&a.createElement(ie.a,{onClick:e.onChangePaymentMethod},Object(C.d)("Change Payment Method","PaymentMethodSelector"))):null};!function(e){e[e.AllPaymentMethods=0]="AllPaymentMethods",e[e.RecurlyCreditCard=1]="RecurlyCreditCard",e[e.RecurlyPayPal=2]="RecurlyPayPal",e[e.RecurlyAmazonPay=3]="RecurlyAmazonPay",e[e.RecurlyDirectDebit=4]="RecurlyDirectDebit",e[e.Xsolla=5]="Xsolla"}(un||(un={}));var gn,bn=new Set([un.Xsolla,un.RecurlyPayPal,un.RecurlyAmazonPay,un.RecurlyDirectDebit,un.RecurlyCreditCard]);!function(e){e[e.Default=0]="Default",e[e.PaypalFirst=1]="PaypalFirst"}(gn||(gn={}));var yn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChangePaymentMethodClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.ChangePaymentMethodClick}),t.props.onPaymentMethodChange(un.AllPaymentMethods)},t.useExistingPaymentMethod=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.UseExistingPaymentMethodClick}),t.props.showReviewPurchaseScreen()},t.showCCButton=function(){return!!t.props.recurlyCreditCardEnabled&&(t.props.paymentMethodLayout===gn.PaypalFirst||!!t.props.recurlyDirectDebitEnabled&&"t2"===C.p.experiments.getAndTrackAssignment(lt))},t.showDDButton=function(){return!!t.props.recurlyDirectDebitEnabled&&"t1"===C.p.experiments.getAndTrackAssignment(lt)},t.onPayPalClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"paypal",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyPayPal)},t.onDirectDebitClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"direct_debit",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyDirectDebit)},t.onCreditCardClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"credit_card",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyCreditCard)},t.onAmazonPayClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"amazon_pay",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyAmazonPay)},t.onXsollaClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_provider:"xsolla"})}),t.props.onPaymentMethodChange(un.Xsolla)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){if(bn.has(this.props.selectedPaymentMethod))return a.createElement(vn,{selectedPaymentMethod:this.props.selectedPaymentMethod,onChangePaymentMethod:this.onChangePaymentMethodClick,paymentScheme:this.props.paymentScheme});var e,t,n=a.createElement(a.Fragment,null,this.props.formHeader?this.props.formHeader:(e=this.props.hasEligibleSPM,t=this.useExistingPaymentMethod,a.createElement(f.a,{display:F.h.Flex,alignItems:F.b.Center,flexDirection:F.i.Row,justifyContent:F.m.Between,margin:{bottom:2}},a.createElement(f.a,{display:F.h.InlineFlex},a.createElement(x.a,{type:x.e.H4},Object(C.d)("Pay with","PaymentMethodSelector")),!Object(Ae.a)()&&e&&a.createElement(Re.a,{margin:{left:1}})),e&&a.createElement(ie.a,{onClick:t},Object(C.d)("Use Existing Payment Method","PaymentMethodSelector")),!Object(Ae.a)()&&!e&&a.createElement(Re.a,null))),a.createElement(f.a,{"data-a-target":"payment-method-selector"},a.createElement(Xe.a,{gutterSize:Xe.b.Small},this.props.recurlyPayPalEnabled&&a.createElement(Ze.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1},"data-a-target":"recurly-paypal-button"},a.createElement(on,{onClick:this.onPayPalClick}))),this.showCCButton()&&a.createElement(Ze.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(qt,{onClick:this.onCreditCardClick}))),this.showDDButton()&&a.createElement(Ze.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(en,{onClick:this.onDirectDebitClick,scheme:this.props.paymentScheme}))),this.props.recurlyAmazonPayEnabled&&a.createElement(Ze.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1},"data-a-target":"recurly-amazon-pay-button"},a.createElement(Ft,{onClick:this.onAmazonPayClick}))),this.props.xsollaEnabled&&a.createElement(Ze.a,{cols:{default:12,sm:this.colWidth}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(dn,{type:this.props.recurlyCreditCardEnabled?Rt.MoreMethods:Rt.CreditCardPlusMore,onClick:this.onXsollaClick}))))));return this.props.recurlyDirectDebitEnabled&&this.props.paymentMethodLayout===gn.Default&&"t2"===C.p.experiments.getAndTrackAssignment(lt)?a.createElement(a.Fragment,null,n,a.createElement(Et,null),a.createElement(vn,{selectedPaymentMethod:un.RecurlyDirectDebit,paymentScheme:this.props.paymentScheme})):this.props.recurlyCreditCardEnabled&&this.props.paymentMethodLayout===gn.Default?a.createElement(a.Fragment,null,n,a.createElement(Et,null),a.createElement(vn,{selectedPaymentMethod:un.RecurlyCreditCard})):n},Object.defineProperty(t.prototype,"colWidth",{get:function(){return this.props.paymentMethodLayout===gn.PaypalFirst&&this.props.recurlyCreditCardEnabled&&this.props.recurlyPayPalEnabled&&this.props.recurlyAmazonPayEnabled&&this.props.xsollaEnabled?3:4},enumerable:!0,configurable:!0}),t}(a.Component),kn=Object(s.d)(Object(p.withLatencyTracking)("PaymentMethodSelector",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(yn),Sn=["AD","AL","AT","AX","BA","BE","BG","BY","CH","CH","CY","CZ","DE","DK","EE","ES","EU","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","NO","PL","PT","RO","RS","SE","SI","SJ","SK","SM","UA","VA"];var En="dismissed_direct_debit_alert",Cn=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.state={selectedPaymentMethod:n.initialPaymentMethod,updatingPaymentMethodViaAPI:!1,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureChallengeFailed:!1,directDebitAlertDismissed:C.m.get(En,!1)},n.inPrioritizePayPalEUExperiment=(t=Object(_.a)()||"",Sn.includes(t.toUpperCase())&&"variant"===C.p.experiments.getAndTrackAssignment("prioritize_paypal_eu")),n.updateEventTrackingProperties=function(){switch(n.state.selectedPaymentMethod){case un.AllPaymentMethods:return void(n.recurlyCreditCardEnabled&&n.paymentMethodLayout!==gn.PaypalFirst?n.directDebitExperimentEnabled?(n.props.checkoutSessionTracker.activePaymentMethod="direct_debit",n.props.checkoutSessionTracker.activePaymentProvider="recurly"):(n.props.checkoutSessionTracker.activePaymentMethod="credit_card",n.props.checkoutSessionTracker.activePaymentProvider="recurly"):(n.props.checkoutSessionTracker.activePaymentMethod=void 0,n.props.checkoutSessionTracker.activePaymentProvider=void 0));case un.RecurlyPayPal:return n.props.checkoutSessionTracker.activePaymentMethod="paypal",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.RecurlyCreditCard:return n.props.checkoutSessionTracker.activePaymentMethod="credit_card",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.RecurlyAmazonPay:return n.props.checkoutSessionTracker.activePaymentMethod="amazon_pay",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.RecurlyDirectDebit:return n.props.checkoutSessionTracker.activePaymentMethod="direct_debit",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.Xsolla:return n.props.checkoutSessionTracker.activePaymentMethod=void 0,void(n.props.checkoutSessionTracker.activePaymentProvider="xsolla");default:return}},n.onPaymentMethodChange=function(e){switch(e){case un.AllPaymentMethods:case un.RecurlyPayPal:case un.RecurlyAmazonPay:n.props.handlePaymentProviderUpdate(T.td.RECURLY)}n.setState({selectedPaymentMethod:e,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureChallengeFailed:!1})},n.onChangePaymentMethodClick=function(){n.props.handlePaymentProviderUpdate(T.td.RECURLY),n.setState({selectedPaymentMethod:un.AllPaymentMethods})},n.handleStrongAuthSuccess=function(e){n.threeDSecureUpdatePaymentMethodArgs.billingAuthInfo={threeDSecureActionResultTokenID:e},n.state.updatingPaymentMethodViaAPI&&(n.props.checkoutSessionTracker.track({subEvent:j.b.ThreeDS2Success}),n.updatePaymentMethod(n.threeDSecureUpdatePaymentMethodArgs))},n.handleStrongAuthError=function(e){n.props.checkoutSessionTracker.track({subEvent:j.b.ThreeDS2Failure,subEventDetail:JSON.stringify(e)}),n.setState({threeDSecureChallengeFailed:!0,updatingPaymentMethodViaAPI:!1})},n.handleStrongAuthShown=function(){n.props.checkoutSessionTracker.track({subEvent:j.b.ThreeDS2Prompt})},n.handleRecurlyDirectDebitToken=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return t=(null===(n=e.billing_info)||void 0===n?void 0:n.cc_bin_country)||this.props.bestGuessCountry,[4,this.updatePaymentMethod({paymentMethod:ct.b.DirectDebit,token:e.id,cardBINCountry:t,lastFour:e.lastFour})];case 1:return i.sent(),[2]}}))}))},n.handleRecurlyCreditCardToken=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:ct.b.CreditCard,token:e.id,cardBINCountry:null===(t=null==e?void 0:e.billing_info)||void 0===t?void 0:t.cc_bin_country})];case 1:return n.sent(),[2]}}))}))},n.handleCreditCardFormInteraction=function(){n.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"credit_card",payment_provider:"recurly"})})},n.handleRecurlyPayPalToken=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:ct.b.PayPal,token:e.id})];case 1:return t.sent(),[2]}}))}))},n.handleAmazonPayResponse=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:ct.b.AmazonPay,token:e})];case 1:return t.sent(),[2]}}))}))},n.handleAmazonPayScriptError=function(e){n.props.checkoutSessionTracker.track({subEvent:j.b.VendorScriptFailure,subEventDetail:JSON.stringify({error:e})})},n.updatePaymentMethod=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t,n,i,a,o,s,c,l,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.paymentMethod,n=e.token,i=e.cardBINCountry,a=e.billingAuthInfo,o=e.lastFour,this.threeDSecureUpdatePaymentMethodArgs=e,this.setState({updatingPaymentMethodViaAPI:!0,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureActionTokenID:void 0,threeDSecureChallengeFailed:!1}),this.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateAPIAttempt}),[4,ct.a.updatePaymentMethod({userID:this.props.currentUserID,paymentMethod:t,token:n,cardBINCountry:i,lastFour:o,billingAuthInfo:{threeDSecureActionResultTokenID:null==a?void 0:a.threeDSecureActionResultTokenID},paymentSession:this.props.paymentSession})];case 1:if(s=r.sent().error){if(l=null===(u=null==(c=s)?void 0:c.error_details)||void 0===u?void 0:u.three_d_secure_action_token_id,this.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateAPIFailure,subEventDetail:JSON.stringify(c)}),l)return this.setState({threeDSecureActionTokenID:l}),[2];this.setState({updatePaymentMethodAPIError:!0,updatePaymentMethodAPIErrorCode:null==c?void 0:c.error_code}),this.setState({updatingPaymentMethodViaAPI:!1})}else this.props.checkoutSessionTracker.track({subEvent:j.b.PaymentMethodUpdateAPISuccess}),this.props.onUpdatePaymentMethodSuccess();return[2]}}))}))},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateEventTrackingProperties()},t.prototype.componentDidUpdate=function(){this.updateEventTrackingProperties()},t.prototype.render=function(){if(!this.recurlyEnabled)return a.createElement(f.a,{className:"checkout-form-select-screen"},a.createElement(bt,{selectedQuantity:this.props.selectedQuantity,handlePaymentProviderUpdate:this.props.handlePaymentProviderUpdate,onChangePaymentMethodClick:this.onChangePaymentMethodClick,recurlyEnabled:this.recurlyEnabled,refetchCheckoutFormScreenManagerData:this.props.refetchCheckoutFormScreenManagerData,xsollaEnabled:this.xsollaEnabled,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,productPurchaseErrorCode:this.props.productPurchaseErrorCode,handlePurchaseSuccess:this.props.handlePurchaseSuccess,priceChangeNotice:this.props.priceChangeNotice}));var e=void 0;return this.isDirectDebitCountry&&(at.has(this.props.bestGuessCountry)?e=T.ud.BACS:rt.has(this.props.bestGuessCountry)&&(e=T.ud.SEPA)),a.createElement(f.a,{className:"checkout-form-select-screen"},this.directDebitAlertBanner,a.createElement(kn,{selectedPaymentMethod:this.state.selectedPaymentMethod,paymentMethodLayout:this.paymentMethodLayout,onPaymentMethodChange:this.onPaymentMethodChange,showReviewPurchaseScreen:this.props.showReviewPurchaseScreen,hasEligibleSPM:this.props.hasEligibleSPM,recurlyCreditCardEnabled:!!this.recurlyCreditCardEnabled,recurlyPayPalEnabled:!!this.recurlyPayPalEnabled,recurlyAmazonPayEnabled:!!this.recurlyAmazonPayEnabled,recurlyDirectDebitEnabled:!!this.recurlyDirectDebitEnabled,xsollaEnabled:!!this.xsollaEnabled,formHeader:this.props.formHeader,paymentScheme:e}),this.anyErrorMessage,a.createElement(Qe.a,null,this.paymentMethodProcessor))},Object.defineProperty(t.prototype,"directDebitAlertBanner",{get:function(){var e=this;if(null!==this.props.paymentMethods&&!this.props.paymentMethods.every((function(e){return e.paymentType!==T.rd.DIRECT_DEBIT}))&&(this.isDirectDebitCountry&&"c"!==C.p.experiments.getAndTrackAssignment(lt)))return this.props.tplr===ne.ChannelSub||this.state.directDebitAlertDismissed?void 0:a.createElement(yt,{bestGuessCountry:this.props.bestGuessCountry,onDismiss:function(){C.m.set(En,!0),e.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{directDebitAlertDismissed:!0})}))},onLoad:function(){e.props.checkoutSessionTracker.tplr=e.props.tplr,e.props.checkoutSessionTracker.track({subEvent:j.b.DirectDebitUnavailableBannerLoad})}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialPaymentMethod",{get:function(){return"variant"===C.p.experiments.getAndTrackAssignment("prioritize_xsolla")&&this.props.checkoutActions.includes(T.U.PRIORITIZE_XSOLLA)?un.Xsolla:this.recurlyEnabled?un.AllPaymentMethods:un.Xsolla},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodLayout",{get:function(){return this.inPrioritizePayPalEUExperiment?gn.PaypalFirst:gn.Default},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDirectDebitCountry",{get:function(){return!!this.props.bestGuessCountry&&ut(this.props.bestGuessCountry)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyDirectDebitEnabled",{get:function(){return this.isDirectDebitCountry?ne.ChannelSub!==this.props.tplr?null:this.props.checkoutActions.includes(T.U.DISABLE_NEW_DIRECT_DEBIT)?null:this.eligiblePaymentMethod(T.mc.DIRECT_DEBIT):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyCreditCardEnabled",{get:function(){return this.props.checkoutActions.includes(T.U.DISABLE_NEW_CREDIT_CARD)?null:this.eligiblePaymentMethod(T.mc.CREDIT_CARD)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyPayPalEnabled",{get:function(){return this.eligiblePaymentMethod(T.mc.PAYPAL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyAmazonPayEnabled",{get:function(){return this.eligiblePaymentMethod(T.mc.AMAZON_PAY)},enumerable:!0,configurable:!0}),t.prototype.eligiblePaymentMethod=function(e){return this.props.eligiblePaymentMethods.find((function(t){return t.name===e}))||null},Object.defineProperty(t.prototype,"recurlyEnabled",{get:function(){return!!(this.recurlyCreditCardEnabled||this.recurlyPayPalEnabled||this.recurlyAmazonPayEnabled||this.recurlyDirectDebitEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xsollaEnabled",{get:function(){return this.props.eligiblePaymentMethods.find((function(e){return e.name===T.mc.XSOLLA}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"directDebitExperimentEnabled",{get:function(){var e;return(null===(e=this.recurlyDirectDebitEnabled)||void 0===e?void 0:e.availabilityStatus)===T.sd.AVAILABLE&&"t2"===C.p.experiments.getAndTrackAssignment(lt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reviewPurchaseText",{get:function(){return Object(C.d)("Review Purchase","CheckoutFormSelectScreen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anyErrorMessage",{get:function(){return this.state.updatePaymentMethodAPIError?a.createElement(kt,null,Object(dt.a)(this.state.updatePaymentMethodAPIErrorCode)):this.state.threeDSecureChallengeFailed?a.createElement(St,null):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodProcessor",{get:function(){var e,t,n,i,r,o;switch(this.state.selectedPaymentMethod){case un.AllPaymentMethods:if(!this.recurlyCreditCardEnabled||this.inPrioritizePayPalEUExperiment)return null;var s=a.createElement(mt,{paymentMethodAvailable:null===(e=this.recurlyCreditCardEnabled)||void 0===e?void 0:e.availabilityStatus},a.createElement(f.a,null,a.createElement(xe.a,{publicKey:this.props.recurlyConfigs.publicKey,handleSuccess:this.handleStrongAuthSuccess,handleError:this.handleStrongAuthError,handleChallengeShown:this.handleStrongAuthShown,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID},a.createElement(Ye.a,{publicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyCreditCardToken,onFirstFormInteraction:this.handleCreditCardFormInteraction}))));return this.directDebitExperimentEnabled?a.createElement(mt,{paymentMethodAvailable:null===(t=this.recurlyDirectDebitEnabled)||void 0===t?void 0:t.availabilityStatus},a.createElement(f.a,{padding:{top:1}},a.createElement(ot,{userCountry:this.props.bestGuessCountry,recurlyPublicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,handleTokenResponse:this.handleRecurlyDirectDebitToken,forceLoadingState:this.state.updatingPaymentMethodViaAPI}))):s;case un.RecurlyDirectDebit:return a.createElement(mt,{paymentMethodAvailable:null===(n=this.recurlyDirectDebitEnabled)||void 0===n?void 0:n.availabilityStatus},a.createElement(f.a,{padding:{top:1}},a.createElement(ot,{userCountry:this.props.bestGuessCountry,recurlyPublicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,handleTokenResponse:this.handleRecurlyDirectDebitToken,forceLoadingState:this.state.updatingPaymentMethodViaAPI})));case un.RecurlyPayPal:return a.createElement(mt,{paymentMethodAvailable:null===(i=this.recurlyPayPalEnabled)||void 0===i?void 0:i.availabilityStatus},a.createElement(f.a,{padding:{y:3}},a.createElement(st.a,{publicKey:this.props.recurlyConfigs.publicKey,braintreeClientAuthorization:this.props.recurlyConfigs.braintreeClientAuthorization,callToActionButtonLabel:"",forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyPayPalToken,autoLogin:!0})));case un.RecurlyCreditCard:return a.createElement(mt,{paymentMethodAvailable:null===(r=this.recurlyCreditCardEnabled)||void 0===r?void 0:r.availabilityStatus},a.createElement(f.a,null,a.createElement(xe.a,{publicKey:this.props.recurlyConfigs.publicKey,handleSuccess:this.handleStrongAuthSuccess,handleError:this.handleStrongAuthError,handleChallengeShown:this.handleStrongAuthShown,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID},a.createElement(Ye.a,{publicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyCreditCardToken,onFirstFormInteraction:this.handleCreditCardFormInteraction}))));case un.RecurlyAmazonPay:return a.createElement(mt,{paymentMethodAvailable:null===(o=this.recurlyAmazonPayEnabled)||void 0===o?void 0:o.availabilityStatus},a.createElement(f.a,{padding:{y:3}},a.createElement(qe.a,{clientID:this.props.recurlyConfigs.payWithAmazonConfigs.clientID,isProduction:this.props.recurlyConfigs.payWithAmazonConfigs.isProduction,sellerID:this.props.recurlyConfigs.payWithAmazonConfigs.sellerID,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleBillingAgreementID:this.handleAmazonPayResponse,handleAmazonPayScriptError:this.handleAmazonPayScriptError,autoLogin:!0})));case un.Xsolla:return a.createElement(bt,{selectedQuantity:this.props.selectedQuantity,handlePaymentProviderUpdate:this.props.handlePaymentProviderUpdate,onChangePaymentMethodClick:this.onChangePaymentMethodClick,recurlyEnabled:this.recurlyEnabled,refetchCheckoutFormScreenManagerData:this.props.refetchCheckoutFormScreenManagerData,xsollaEnabled:this.xsollaEnabled,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,productPurchaseErrorCode:this.props.productPurchaseErrorCode,handlePurchaseSuccess:this.props.handlePurchaseSuccess,priceChangeNotice:this.props.priceChangeNotice});default:return null}},enumerable:!0,configurable:!0}),t}(a.Component),On=Object(s.d)(Object(p.withLatencyTracking)("CheckoutFormSelectScreen",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(Cn),Dn=n("V/nq"),Pn=n("8EUQ"),_n=n("Mb07"),Tn=n("CoFg"),Nn=(n("vLiP"),function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.sortedOffers=null===(t=n.props.multimonthGiftOffers)||void 0===t?void 0:t.sort((function(e,t){return e.months-t.months})),n.handleMultimonthSelect=function(e){var t=e.target.value;n.props.handleMultimonthSelect({selectedOfferID:t})},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e;return a.createElement(f.a,{className:"month-selector"},a.createElement(Tn.a,{onChange:this.handleMultimonthSelect,value:""+this.props.selectedOfferID,"data-a-target":"checkout-month-selector"},null===(e=this.sortedOffers)||void 0===e?void 0:e.map((function(e){var t=e.offerID,n=e.months;return a.createElement("option",{key:t,value:t,"data-months":n},Object(C.d)("{months, plural, one {{months} month} other {{months} months}}",{months:n},"MonthSelector"))}))))},t}(a.Component)),wn=(n("vK6+"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputString:t.props.quantity.toString()},t.handleSelectChange=function(e){var n=e.target.value;t.props.handleQuantitySelect(Number(n))},t.handleInputChange=function(e){if(""===e.target.value)return t.props.handleQuantitySelect(t.props.min),void t.setState({inputString:""});var n=parseInt(e.target.value,10);isNaN(n)||(n<t.props.min?n=t.props.min:n>t.props.max&&(n=t.props.max),t.setState({inputString:n.toString()}),t.props.handleQuantitySelect(n))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.max-this.props.min<=9?this.quantityDropdownSelector:this.customQuantitySelector},Object.defineProperty(t.prototype,"quantityDropdownSelector",{get:function(){var e=[];if(this.props.min&&this.props.max)for(var t=this.props.min;t<=this.props.max;t++)e.push(a.createElement("option",{key:t,value:t},Object(C.f)(t)));return a.createElement(f.a,{className:"quantity-selector"},a.createElement(Tn.a,{onChange:this.handleSelectChange,value:""+this.props.quantity,"data-a-target":"checkout-quantity-selector"},e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customQuantitySelector",{get:function(){return a.createElement(f.a,{className:"quantity-selector",margin:{bottom:1},display:F.h.Flex,breakpointSmall:{margin:{y:1}}},a.createElement(f.a,{margin:{right:1},display:F.h.Flex,alignItems:F.b.Center},a.createElement(x.a,{color:F.f.Alt2,fontSize:F.k.Size8},Object(C.d)("(max {limit, number})",{limit:this.props.max},"QuantitySelector"))),a.createElement(et.a,{max:this.props.max,min:this.props.min,onChange:this.handleInputChange,type:et.c.Number,value:this.state.inputString}))},enumerable:!0,configurable:!0}),t}(a.Component)),jn=n("a5fV"),In=n("cBvd"),xn=n("eUaf"),Rn=n("7Py2"),An=(n("Jhy1"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCard=function(e,n){var i,r,o,s,c,l,u=e.id===t.props.selectedOfferID,d=Object(m.d)("Renews monthly","MultiMonthOfferSelector"),p=null===(c=null===(s=null===(o=null===(r=null===(i=e.listing)||void 0===i?void 0:i.chargeModel)||void 0===r?void 0:r.internal)||void 0===o?void 0:o.plan)||void 0===s?void 0:s.interval)||void 0===c?void 0:c.duration;p&&(d=Object(m.d)("{duration, plural, one {Renews monthly} other {Renews every # months}}",{duration:p},"MultiMonthOfferSelector"));var h,v,g=Object(jn.c)(e,1,!0),b=null===(l=e.promotion)||void 0===l?void 0:l.promoDisplay.discountPercent;return b&&p&&(v=Object(jn.c)(e),h=Object(m.d)("{duration, plural, one {{percent}% off 1st month} other {{percent}% off 1st # months}}",{duration:p,percent:b},"MultiMonthOfferSelector")),a.createElement(f.a,{margin:.5,flexGrow:1,fullWidth:!0},a.createElement(In.a,{type:In.b.Checkbox,onChange:function(){return!u&&t.handleSelect(e.id)},key:n,disabled:t.props.disabled,borderRadius:F.e.Medium,checked:u},a.createElement(f.a,{padding:1,background:u?F.d.Base:F.d.Alt2,className:"multi-month-offer-selector",display:F.h.Flex,flexDirection:F.i.Column,justifyContent:F.m.Between},a.createElement(re.a,{padding:{bottom:1},"data-a-target":"multi-month-offer-selector"},a.createElement(x.a,{fontSize:F.k.Size5,bold:!0},d)),a.createElement(f.a,{justifyContent:F.m.Between},v&&a.createElement(x.a,{decoration:x.c.Strikethrough,color:F.f.Alt2,type:x.e.Span},g),a.createElement(re.a,{padding:.5},a.createElement(x.a,{color:F.f.Alt,type:x.e.Span},v||g)),h&&a.createElement(re.a,{padding:.5},a.createElement(xn.a,{label:h,type:xn.b.Success}))))))},t.handleSelect=function(e){t.props.handleSelect({selectedOfferID:e})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(f.a,{margin:{y:2}},a.createElement(re.a,{padding:{bottom:1}},a.createElement(Rn.a,{type:x.e.H2,size:Rn.b.ExtraSmall},Object(m.d)("Select Renewal Period","MultiMonthOfferSelector"))),a.createElement(f.a,{display:F.h.Flex,flexWrap:F.j.NoWrap},this.props.multiMonthOffers.map((function(t,n){return e.renderCard(t,n)}))))},t}(a.Component));function Mn(e,t){var n,i,r,a,o=null==t?void 0:t.find((function(t){return t.id===e})),s=null===(a=null===(r=null===(i=null===(n=null==o?void 0:o.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.plan)||void 0===a?void 0:a.interval;return(null==s?void 0:s.unit)===T.Q.MONTHS?null==s?void 0:s.duration:void 0}var Fn,Ln=n("Q7xm"),Bn=n.n(Ln),Un=n("sqAG"),Vn=n.n(Un),zn=n("b92r"),Gn=n.n(zn),Hn=n("3Qp8"),Wn=n.n(Hn),qn=function(e){return a.createElement(f.a,{display:F.h.Flex},a.createElement(f.a,{flexGrow:0,flexShrink:0,verticalAlign:F.r.Top,margin:{right:1},padding:{top:.5}},e.leftColumn),a.createElement(f.a,{verticalAlign:F.r.Top,flexGrow:1,flexShrink:1},e.rightColumn))},Qn=n("LNol"),Yn=n("Ix37"),Kn=function(){return a.createElement(qn,{leftColumn:a.createElement(Qn.a,{asset:Yn.a.DeadGlitch,height:30,width:30}),rightColumn:a.createElement(Z.a,{lineCount:2})})},Jn=function(){return a.createElement(qn,{leftColumn:a.createElement(Z.a,{height:30,width:30}),rightColumn:a.createElement(Z.a,{lineCount:2})})},Xn=n("1ZY8"),Zn=(n("DFKC"),{100:Gn.a,500:Gn.a,1500:Vn.a,5e3:Bn.a,1e4:Wn.a,25e3:Wn.a}),$n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?this.props.data.error?a.createElement(Kn,null):a.createElement(qn,{leftColumn:a.createElement(Mt.a,{className:"bits-product-description__bits-image",src:this.bitsImgSrc,alt:this.formattedBitsBundleText}),rightColumn:a.createElement(f.a,null,a.createElement(x.a,{bold:!0,"data-a-target":"bits-product-text"},this.formattedBitsBundleText),a.createElement(x.a,{color:F.f.Alt2},Object(C.d)("One-time charge on {date}.",{date:Object(C.c)(new Date(Date.now()),"medium")},"BitsProductDescription")))}):a.createElement(Jn,null)},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitsAmount",{get:function(){var e=this,t=this.props.data.currentUser;if(!t||!t.bitsOffers)return null;var n=t.bitsOffers.find((function(t){return!(!t||"BitsBundleOffer"!==t.__typename||t.asin!==e.props.productID)}));return n?n.bits:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitsImgSrc",{get:function(){return this.bitsAmount&&Zn[this.bitsAmount]?Zn[this.bitsAmount]:Gn.a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBitsBundleText",{get:function(){return this.bitsAmount?Object(C.d)("{bitsAmount, number} Bits Bundle",{bitsAmount:this.bitsAmount},"BitsProductDescription"):Object(C.d)("Bits Bundle","BitsProductDescription")},enumerable:!0,configurable:!0}),t}(a.Component),ei=Object(s.d)(Object(p.withLatencyTracking)("BitsProductDescription"),Object(D.a)(Xn))($n),ti=n("eirU"),ni=n("QVaV"),ii=n("E1Lb");!function(e){e.ProductText="celebrations-product-text"}(Fn||(Fn={}));var ri=function(e){var t=e.channelLogin,n=e.channelDisplayName;return a.createElement(qn,{leftColumn:a.createElement(ii.a,{asset:Yn.a.Celebration}),rightColumn:a.createElement(f.a,null,a.createElement(x.a,{bold:!0,"data-test-selector":Fn.ProductText},Object(C.d)("Celebration on {channel}",{channel:Object(ni.a)(t,n)},"CelebrationsProductDescription")),a.createElement(x.a,{color:F.f.Alt2},Object(C.d)("One-time charge on {date}.",{date:Object(C.c)(new Date(Date.now()),"medium")},"CelebrationsProductDescription")))})},ai=n("vIXB"),oi=function(e){var t=e.tagBindings,n=a.useMemo((function(){var e=t.find((function(e){return"channel_id"===e.key}));return null==e?void 0:e.value}),[t]),i=Object(ti.d)(ai,{variables:{id:n||""},skip:!n}),r=i.data,o=i.loading,s=i.error,c=a.useMemo((function(){var e;return!r||s||o?"":(null===(e=r.user)||void 0===e?void 0:e.login)||""}),[s,o,r]),l=a.useMemo((function(){var e;return!r||s||o?"":(null===(e=r.user)||void 0===e?void 0:e.displayName)||""}),[s,o,r]);return!r||s||o?null:a.createElement(ri,{channelLogin:c,channelDisplayName:l})},si=n("HGFl"),ci=n("iF2L"),li=n("ku6+"),ui=(n("IVzh"),function(e){var t=e.channelName;return a.createElement(li.a,{padding:{left:1,right:1,top:.5,bottom:.5},message:a.createElement(f.a,{display:F.h.Flex,flexDirection:F.i.Row,alignItems:F.b.Center,justifyContent:F.m.Start,borderRadius:F.e.Medium,className:"sub-benefit-callout"},a.createElement(f.a,{margin:{right:1}},a.createElement(Mt.a,{className:"sub-benefit-callout__image",src:"https://static-cdn.jtvnw.net/emoticons/v1/62835/3.0",alt:"bleedPurple",srcSet:{"1x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/1.0","2x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/2.0","3x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/3.0"}})),a.createElement(x.a,null,Object(C.d)("This sub directly supports {channelName} and their stream",{channelName:t},"SubscriptionBenefitsCallout")))})}),di=n("M9G0"),mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?this.props.data.error?a.createElement(Kn,null):a.createElement(qn,{leftColumn:a.createElement(ci.a,{alt:this.channelLogin,size:60,src:this.avatarSrc,userLogin:this.channelLogin}),rightColumn:a.createElement(f.a,null,a.createElement(x.a,{bold:!0},this.formattedProductName),this.upgradeRecurringSub&&a.createElement(x.a,{color:F.f.Alt2},this.upgradeWarningText),this.isGift&&a.createElement(x.a,{color:F.f.Alt2},this.giftText),a.createElement(x.a,{color:F.f.Alt2},this.formattedChargeDateText),(this.upgradeRecurringSub||this.isGift||this.recurring)&&a.createElement(f.a,{margin:{top:.5}},a.createElement(ui,{channelName:this.channelOwnerDisplayName})))}):a.createElement(Jn,null)},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error||!!this.props.data.purchasableOffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upgradeWarningText",{get:function(){return Object(C.d)("You are upgrading your Subscription. You will be charged for your upgrade and will not be prorated for your previous Subscription.","SubsProductDescription")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"avatarSrc",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.profileImageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelLogin",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.login)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelOwnerDisplayName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tier",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.tier)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedProductName",{get:function(){switch(this.tier){case"1000":return Object(C.d)("Tier 1 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");case"2000":return Object(C.d)("Tier 2 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");case"3000":return Object(C.d)("Tier 3 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");default:return Object(C.d)("Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefitsStartAt",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.benefitsStartAt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedFutureChargeDate",{get:function(){return this.benefitsStartAt?Object(C.c)(Object(si.h)(this.benefitsStartAt),"medium"):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurring",{get:function(){var e,t,n,i,r,a;return(null===(a=null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel)||void 0===i?void 0:i.internal)||void 0===r?void 0:r.plan)||void 0===a?void 0:a.renewalPolicy)===T.ee.AUTO_RENEW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureDated",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===T.id.FUTURE_PURCHASE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upgradeRecurringSub",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===T.id.UPGRADE_RECURRING_SUB_TIER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedChargeDateText",{get:function(){return this.futureDated?this.props.chargeInterval&&this.props.chargeInterval>1?Object(C.d)("{chargeInterval, plural, one {Charged every # month, starting when your current Subscription ends on {futureDate}. Cancel anytime on your Subscriptions page.} other {Charged every # months, starting when your current Subscription ends on {futureDate}. Cancel anytime on your Subscriptions page.}}",{chargeInterval:this.props.chargeInterval,futureDate:this.formattedFutureChargeDate},"SubsProductDescription"):Object(C.d)("Monthly recurring charge, starting when your current Subscription ends on {futureDate}. Cancel anytime on your Subscriptions page.",{futureDate:this.formattedFutureChargeDate},"SubsProductDescription"):this.recurring?this.props.chargeInterval&&this.props.chargeInterval>1?Object(C.d)("{chargeInterval, plural, one {Charged every # month starting {date}. Cancel anytime on your Subscriptions page.} other {Charged every # months starting {date}. Cancel anytime on your Subscriptions page.}}",{chargeInterval:this.props.chargeInterval,date:Object(C.c)(new Date(Date.now()),"medium")},"SubsProductDescription"):Object(C.d)("Monthly recurring charge, starting {date}. Cancel anytime on your Subscriptions page.",{date:Object(C.c)(new Date(Date.now()),"medium")},"SubsProductDescription"):Object(C.d)("One-time charge on {date}.",{date:Object(C.c)(new Date(Date.now()),"medium")},"SubsProductDescription")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleGift",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.giftType)===T.Gc.SINGLE_RECIPIENT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"communityGift",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.giftType)===T.Gc.COMMUNITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGift",{get:function(){return this.singleGift||this.communityGift},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftRecipient",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.giftRecipient)||void 0===t?void 0:t.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftText",{get:function(){return this.singleGift?this.props.isAnonymous?Object(C.d)("You are anonymously gifting this to {giftRecipient}.",{giftRecipient:this.giftRecipient},"SubsProductDescription"):Object(C.d)("You are gifting this to {giftRecipient}.",{giftRecipient:this.giftRecipient},"SubsProductDescription"):this.communityGift?this.props.isAnonymous?Object(C.d)("You are anonymously gifting this to the community.","SubsProductDescription"):Object(C.d)("You are gifting this to the community.","SubsProductDescription"):""},enumerable:!0,configurable:!0}),t}(a.Component),pi=Object(s.d)(Object(p.withLatencyTracking)("SubsProductDescription"),Object(D.a)(di,{options:function(e){var t="";return e.giftRecipientIDs&&(t=e.giftRecipientIDs[0]),{variables:{productName:e.productName||"",giftRecipientID:t,includeGiftRecipientQuery:!!t,params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}},fetchPolicy:"network-only"}}}))(mi),fi=n("UxA+"),hi=n.n(fi),vi=(n("7m5f"),function(){var e=Object(C.d)("Twitch Turbo","TurboProductDescription");return a.createElement(qn,{leftColumn:a.createElement(Mt.a,{className:"turbo-product-description__turbo-avatar-image",src:hi.a,alt:e}),rightColumn:a.createElement(a.Fragment,null,a.createElement(x.a,{bold:!0},e),a.createElement(x.a,{color:F.f.Alt2},Object(C.d)('Monthly recurring charge, starting {date}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.',{date:Object(C.c)(new Date(Date.now()),"medium")},"TurboProductDescription")))})}),gi=n("CD86"),bi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;if(!this.dataReady)return a.createElement(Jn,null);if(null===(e=this.props.data)||void 0===e?void 0:e.error)return a.createElement(Kn,null);switch(this.tplr){case ne.BitsBundle:return a.createElement(ei,{productID:this.productID});case ne.ChannelSub:case ne.ChannelSubStandardGift:case ne.ChannelSubCommunityGift:case ne.ChannelSubCustom:return a.createElement(pi,{offerID:this.props.selectedOfferID,tplr:this.tplr,productName:this.props.productName,giftRecipientIDs:this.props.giftRecipientIDs,isAnonymous:this.props.isAnonymous,tagBindings:this.props.tagBindings,chargeInterval:Mn(this.props.selectedOfferID,this.props.multiMonthOffers)});case ne.Turbo:return a.createElement(vi,null);case ne.Celebrations:return a.createElement(oi,{tagBindings:this.props.tagBindings});default:return a.createElement(Kn,null)}},Object.defineProperty(t.prototype,"dataReady",{get:function(){var e,t;return!this.props.selectedOfferID||(!(null===(e=this.props.data)||void 0===e?void 0:e.loading)||!!(null===(t=this.props.data)||void 0===t?void 0:t.error)||!!this.props.data.purchasableOffer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tagBindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productID",{get:function(){if(this.tplr===ne.BitsBundle&&this.tagBindings){var e=this.tagBindings.find((function(e){return"product_id"===e.key}));return e&&e.value||""}return""},enumerable:!0,configurable:!0}),t}(a.Component),yi=Object(s.d)(Object(p.withLatencyTracking)("ProductDescription"),y((function(e){return Object(r.__assign)({},e)})),Object(D.a)(gi,{options:function(e){return{variables:{params:{offerID:e.selectedOfferID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}},skip:function(e){return!e.selectedOfferID}}))(bi),ki=(n("A1XS"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.selectorComponent?8:9,t=this.props.selectorComponent?4:3;return a.createElement(f.a,{className:"summary-layout",padding:2,breakpointSmall:{padding:{x:3}},borderBottom:!0},!!this.props.closeModal&&a.createElement(f.a,{margin:{bottom:2}},a.createElement(Rn.a,{size:Rn.b.Large,type:x.e.H1},Object(m.d)("Complete Purchase","SummaryLayout"))),this.props.multiMonthOffers&&this.props.multiMonthOffers.length>1&&a.createElement(An,{multiMonthOffers:this.props.multiMonthOffers,selectedOfferID:this.props.selectedOfferID,handleSelect:this.props.handleMultimonthSelect,disabled:this.props.purchaseComplete}),a.createElement(f.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:{default:12,sm:e}},a.createElement(f.a,{margin:{bottom:1}},a.createElement(Rn.a,{type:x.e.H2,size:Rn.b.ExtraSmall},Object(m.d)("Purchase Summary","SummaryLayout"))),a.createElement(f.a,{margin:{bottom:2},breakpointSmall:{margin:0}},a.createElement(yi,{selectedOfferID:this.props.selectedOfferID}))),a.createElement(Ze.a,{cols:{default:12,sm:t}},a.createElement(Xe.a,null,this.props.selectorComponent,this.props.topContent)))),this.props.bottomContent)},t}(a.Component)),Si=Object(s.d)(Object(p.withLatencyTracking)("SummaryLayout",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(ki),Ei=(n("sAl/"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleQuantitySelect=function(e){t.props.handleQuantitySelect(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(m.d)("Gift Card Balance: ({balanceString})",{balanceString:this.formattedBalance},"CheckoutFormSummary"),t=Object(m.d)("Have a Twitch Gift Card? <x:redeem>Redeem now</x:redeem>",{"x:redeem":function(e){return a.createElement(ie.a,{onClick:function(){window.open("/redeem")}},e)}},"CheckoutFormSummary");if(this.inMultiMonthExperiment||this.props.paymentProvider===T.td.XSOLLA_V3&&!this.isTaxInclusive){var n=this.props.walletBalance?Object(m.d)("Your Gift Card Balance cannot be used with the selected payment provider. See below for total.","CheckoutFormSummary"):Object(m.d)("See below for total","CheckoutFormSummary");return a.createElement(Si,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,topContent:this.subtotalDisplay,bottomContent:a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:{default:12,sm:6},offset:{default:0,sm:6}},a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,null,n)))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete})}return this.isTaxInclusive?a.createElement(Si,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,bottomContent:a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:{default:12,sm:6}},this.balanceEnabled&&a.createElement(f.a,{display:F.h.Flex,alignItems:F.b.Center,margin:{top:1,bottom:1}},a.createElement(x.a,{fontSize:F.k.Size6},t))),a.createElement(Ze.a,{cols:{default:9,sm:4}},this.discountPercent&&this.promotionLineItemDisplay,this.balanceEnabled&&a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,null,e)),a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,{type:x.e.Strong,fontSize:F.k.Size4},Object(m.d)("Total including VAT","CheckoutFormSummary")))),a.createElement(Ze.a,{cols:{default:3,sm:2}},this.discountPrice&&this.formattedDiscountDisplay,this.balanceEnabled&&a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,null,this.formattedBalanceDeduction)),a.createElement(f.a,{textAlign:F.q.Right},this.props.updatingPrice?a.createElement(f.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(x.a,null,a.createElement(x.a,{type:x.e.Span,fontSize:F.k.Size4,bold:!0},this.formattedTotal),this.total&&!this.discountPrice&&!this.hasWalletBalance&&a.createElement(x.a,{type:x.e.Span},this.formattedInterval))))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete}):a.createElement(Si,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,topContent:this.subtotalDisplay,bottomContent:a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:{default:12,sm:6}},this.balanceEnabled&&a.createElement(f.a,{display:F.h.Flex,alignItems:F.b.Center,margin:{top:2,bottom:2}},a.createElement(x.a,{fontSize:F.k.Size6},t))),a.createElement(Ze.a,{cols:{default:9,sm:4}},this.discountPercent&&this.promotionLineItemDisplay,a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,null,Object(m.d)("Tax","CheckoutFormSummary"))),this.balanceEnabled&&a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,null,e)),a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,{type:x.e.Strong,fontSize:F.k.Size4},Object(m.d)("Total","CheckoutFormSummary")))),a.createElement(Ze.a,{cols:{default:3,sm:2}},this.discountPrice&&this.formattedDiscountDisplay,a.createElement(f.a,{textAlign:F.q.Right},this.props.updatingPrice?a.createElement(f.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(x.a,null,this.formattedTax)),this.balanceEnabled&&a.createElement(f.a,{textAlign:F.q.Right},a.createElement(x.a,{"data-a-target":"checkout-summary-balance-deduction"},this.formattedBalanceDeduction)),a.createElement(f.a,{textAlign:F.q.Right},this.props.updatingPrice?a.createElement(f.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(x.a,null,a.createElement(x.a,{type:x.e.Span,fontSize:F.k.Size4,bold:!0,"data-a-target":"checkout-summary-total"},this.formattedTotal),this.total&&!this.discountPrice&&!this.hasWalletBalance&&a.createElement(x.a,{type:x.e.Span},this.formattedInterval))))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete})},Object.defineProperty(t.prototype,"showQuantitySelector",{get:function(){return this.props.quantityMin<this.props.quantityMax&&!this.isRecurring},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthSelector",{get:function(){var e;return!!(null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRecurring",{get:function(){return this.props.plan.renewalPolicy===T.ee.AUTO_RENEW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthSelector",{get:function(){var e;if(null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.length)return a.createElement(Ze.a,{cols:{default:12,sm:8},offset:this.isTaxInclusive?{default:0,sm:4}:void 0},a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:{default:6,sm:12}},a.createElement(f.a,{margin:{bottom:1},textAlign:F.q.Left,breakpointSmall:{textAlign:F.q.Right}},a.createElement(x.a,null,Object(m.d)("Months","CheckoutFormSummary")))),a.createElement(Ze.a,{cols:{default:6,sm:12}},a.createElement(Nn,{selectedOfferID:this.props.selectedOfferID,handleMultimonthSelect:this.props.handleMultimonthSelect,multimonthGiftOffers:this.props.multimonthGiftOffers}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantitySelector",{get:function(){if(this.showQuantitySelector)return a.createElement(Ze.a,{cols:{default:12,sm:8},offset:this.isTaxInclusive?{default:0,sm:4}:void 0},a.createElement(Xe.a,null,a.createElement(Ze.a,{cols:{default:6,sm:12}},a.createElement(f.a,{margin:{bottom:1},textAlign:F.q.Left,breakpointSmall:{textAlign:F.q.Right}},a.createElement(x.a,null,Object(m.d)("Quantity","CheckoutFormSummary")))),a.createElement(Ze.a,{cols:{default:6,sm:12}},a.createElement(wn,{min:this.props.quantityMin,max:this.props.quantityMax,quantity:this.props.selectedQuantity,handleQuantitySelect:this.handleQuantitySelect}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtotalDisplay",{get:function(){var e=this.showQuantitySelector||this.showMonthSelector?4:12;return a.createElement(Ze.a,{cols:{default:12,sm:e}},a.createElement(Xe.a,{fullHeight:!0},a.createElement(Ze.a,{cols:{default:6,sm:12}},a.createElement(f.a,{textAlign:F.q.Left,breakpointSmall:{textAlign:F.q.Right,margin:{bottom:1}}},a.createElement(x.a,null,Object(m.d)("Price","CheckoutFormSummary")))),a.createElement(Ze.a,{cols:{default:6,sm:12}},a.createElement(f.a,{textAlign:F.q.Right,alignItems:F.b.Center,verticalAlign:F.r.TextTop},this.props.updatingPrice?a.createElement(f.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(x.a,{"data-a-target":"checkout-summary-subtotal"},this.formattedSubtotal)))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promotionLineItemDisplay",{get:function(){var e,t,n;if(!this.discountPercent)return null;if(null===(t=null===(e=this.props.promotion)||void 0===e?void 0:e.name)||void 0===t?void 0:t.includes(_n.a.MultiMonthIntroOffer))return this.multimonthOfferLineItemDisplay;switch(null===(n=this.props.promotion)||void 0===n?void 0:n.name){case _n.a.FirstPaidSubOffer:return this.firstPaidSubOfferLineItemDisplay;case _n.a.FirstPaidGiftOffer:case _n.a.FirstPaidSingleGiftOffer:case _n.a.FirstPaidMulitMonthOffer:return this.firstPaidGiftOfferLineItemDisplay;case _n.a.ActiveSubCommunityGiftPromoOffer:case _n.a.ActiveSubSixMultiMonthGiftPromoOffer:case _n.a.ActiveSubTwelveMultiMonthGiftPromoOffer:return this.asgoOfferrLineItemDisplay;default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multimonthOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(x.a,{className:"checkout-form-summary__discount"},Object(m.d)("First Time {percent}% off",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPaidSubOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(x.a,{className:"checkout-form-summary__discount"},Object(m.d)("First Sub, First Month: {percent}% off Promo",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPaidGiftOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(x.a,null,Object(m.d)("{giftCount, plural, one {{percent}% off first gift sub} other {{percent}% off first gift subs}}",{giftCount:this.props.selectedQuantity,percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asgoOfferrLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(f.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(x.a,null,Object(m.d)("{percent}% off as a subscriber",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedDiscountDisplay",{get:function(){return a.createElement(f.a,{margin:{bottom:.5},textAlign:F.q.Right},this.props.updatingPrice?a.createElement(f.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(x.a,{className:"checkout-form-summary__discount"},this.formattedDiscount))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balanceEnabled",{get:function(){return!!this.props.walletBalance&&null!==this.props.checkoutPrice&&this.props.paymentProvider!==T.td.XSOLLA_V3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasWalletBalance",{get:function(){return void 0!==this.props.walletBalance&&this.props.walletBalance.amount>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){if(!this.inMultiMonthExperiment){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,i=e.selectedQuantity;return t?t.price:(null==n?void 0:n.price)?n.price*i:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPrice",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,i=e.selectedQuantity;return(null==t?void 0:t.discount)?t.discount.total:(null==n?void 0:n.discount)?n.discount.price*i:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPercent",{get:function(){var e,t;return null===(t=null===(e=this.props.promotion)||void 0===e?void 0:e.promoDisplay)||void 0===t?void 0:t.discountPercent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice;return t?t.currency:(null==n?void 0:n.currency)?n.currency:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exponent",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice;return t?t.exponent:void 0!==(null==n?void 0:n.exponent)?n.exponent:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,i=e.selectedQuantity;return this.discountPrice?this.discountPrice:t?t.total:(null==n?void 0:n.price)&&(null==n?void 0:n.isTaxInclusive)?n.price*i:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTaxInclusive",{get:function(){var e;return this.props.checkoutPrice?this.props.checkoutPrice.isTaxInclusive:null===(e=this.props.previewPrice)||void 0===e?void 0:e.isTaxInclusive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedSubtotal",{get:function(){return this.price&&void 0!==this.exponent?""+Object(m.f)(this.price/Math.pow(10,this.exponent),{style:"currency",currency:this.currency})+this.formattedInterval:"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balanceDeduction",{get:function(){if(this.total&&this.exponent&&this.props.walletBalance){var e=Object(Pn.b)({amount:this.total,exponent:this.exponent}),t=Object(Pn.b)(this.props.walletBalance);return e>t?t:e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBalanceDeduction",{get:function(){return this.balanceDeduction?"-"+Object(m.f)(this.balanceDeduction,{style:"currency",currency:this.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBalance",{get:function(){return this.props.walletBalance?Object(m.f)(Object(Pn.b)(this.props.walletBalance),{style:"currency",currency:this.props.walletBalance.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedDiscount",{get:function(){var e,t,n=this.props,i=n.checkoutPrice,r=n.previewPrice,a=n.selectedQuantity;return(null==i?void 0:i.discount)?(t=i,e=i.isTaxInclusive?i.total-i.discount.total:i.price-i.discount.price):(null==r?void 0:r.discount)&&(t=r,e=(r.price-r.discount.price)*a),e&&t?"-"+Object(m.f)(e/Math.pow(10,t.exponent),{style:"currency",currency:t.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedTax",{get:function(){var e,t=this.props.checkoutPrice;return t?Object(m.f)(((null===(e=t.discount)||void 0===e?void 0:e.tax)||t.tax)/Math.pow(10,t.exponent),{style:"currency",currency:t.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedTotal",{get:function(){if(!this.total||void 0===this.exponent)return"--";var e=Object(Pn.b)({exponent:this.exponent,amount:this.total});return this.balanceEnabled&&this.balanceDeduction&&(e-=this.balanceDeduction),Object(m.f)(e,{style:"currency",currency:this.currency})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedInterval",{get:function(){if(this.props.plan&&this.props.plan.renewalPolicy===T.ee.AUTO_RENEW&&this.props.plan.intervalUnit&&this.props.plan.intervalDuration&&this.props.paymentProvider===T.td.RECURLY){if(this.props.plan.intervalUnit===T.Q.DAYS)return" "+Object(m.d)("{intervalDuration, plural, one { /day} other { /# days}}",{intervalDuration:this.props.plan.intervalDuration},"CheckoutFormSummary");if(this.props.plan.intervalUnit===T.Q.MONTHS)return" "+Object(m.d)("{intervalDuration, plural, one { /month} other { /# months}}",{intervalDuration:this.props.plan.intervalDuration},"CheckoutFormSummary")}return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inMultiMonthExperiment",{get:function(){return this.props.chargeInterval&&this.props.chargeInterval>1},enumerable:!0,configurable:!0}),t}(a.Component)),Ci=Object(s.d)(Object(p.withLatencyTracking)("CheckoutFormSummary",{autoReportInteractive:!0}),y((function(e){return Object(r.__assign)({},e)})))(Ei),Oi=n("4udP"),Di=function(e){return Object(Oi.a)((function(){e.handlePaymentProviderUpdate(T.td.RECURLY)})),a.createElement(a.Fragment,null,a.createElement(Rn.a,{size:Rn.b.Small},Object(C.d)("Add a payment method?","AddPaymentPrompt")),a.createElement(f.a,{padding:{top:1,bottom:2}},a.createElement(x.a,null,Object(C.d)("To prevent your recurring purchase from expiring when your gift card balance runs out, please consider adding a payment method on file. This can be completed later as well.","AddPaymentPrompt"))),a.createElement(f.a,{display:F.h.Flex,justifyContent:F.m.End},a.createElement(f.a,{padding:{right:1}},a.createElement(L.a,{type:L.d.Secondary,onClick:e.handleSkipButtonClick},Object(C.d)("Skip Step","AddPaymentPrompt"))),a.createElement(L.a,{onClick:e.handleAddPaymentClick},Object(C.d)("Continue to Add Payment","AddPaymentPrompt"))))},Pi=function(e){var t=a.createElement(a.Fragment,null,a.createElement(f.a,{display:F.h.Flex,flexDirection:F.i.Row,justifyContent:F.m.Between,padding:{bottom:2}},a.createElement(f.a,{display:F.h.InlineFlex},a.createElement(x.a,{type:x.e.H4},Object(C.d)("Add a payment method to your account","WalletPaymentMethodSelector")),a.createElement(ft.a,{margin:{left:1}})),a.createElement(ie.a,{onClick:e.returnToPreviousScreen},Object(C.d)("Return to previous step","WalletPaymentMethodSelector"))));e.balanceTooLow&&(t=a.createElement(f.a,{padding:{bottom:2}},a.createElement(x.a,{type:x.e.H4},Object(C.d)("Your balance is low. Add a payment method here.","WalletPaymentMethodSelector"))));var n=Object(r.__assign)(Object(r.__assign)({},e),{formHeader:t});return a.createElement(On,Object(r.__assign)({},n))},_i=[T.mc.AMAZON_PAY,T.mc.PAYPAL,T.mc.CREDIT_CARD],Ti="wallet-do-not-add-spm",Ni=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dontAskAgain:C.m.get(Ti,!1),showConfirmPurchase:!1,showPaymentSelector:!1},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;if(!this.props.userResidence&&!this.props.eligibleSPM)return a.createElement(te,{onSetResidenceSuccess:this.props.refetchData,details:Q.GiftCardBalanceUsage});var t=!1,n=this.props.checkoutPrice&&(this.props.checkoutPrice.discount&&this.props.checkoutPrice.discount.total||this.props.checkoutPrice.total),i=n&&this.props.checkoutPrice&&Object(Pn.b)({amount:n,exponent:this.props.checkoutPrice.exponent});i&&i>Object(Pn.b)(this.props.walletBalance)&&(t=!0);var o=this.availabilityStatus();return this.state.showPaymentSelector||t&&!this.props.eligibleSPM?a.createElement(Pi,{currentUserID:this.props.currentUserID,onUpdatePaymentMethodSuccess:function(){e.props.onPaymentMethodSuccess(),e.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showPaymentSelector:!1})}))},handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate,handlePurchaseSuccess:this.props.handlePurchaseSuccess,hasEligibleSPM:!!this.props.eligibleSPM,showReviewPurchaseScreen:function(){e.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showPaymentSelector:!1,showConfirmPurchase:!0})}))},refetchCheckoutFormScreenManagerData:function(){return e.props.refetchData()},recurlyConfigs:this.props.recurlyConfigs,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,selectedQuantity:this.props.selectedQuantity,checkoutActions:this.props.checkoutActions,eligiblePaymentMethods:this.props.eligiblePaymentMethods,balanceTooLow:t&&!this.props.eligibleSPM,bestGuessCountry:this.props.bestGuessCountry,priceChangeNotice:this.props.priceChangeNotice,tplr:this.props.tplr,returnToPreviousScreen:function(){e.props.checkoutSessionTracker.track({subEvent:j.b.SkipAddPaymentMethodClick,subEventDetail:JSON.stringify({context:"wallet_purchase_add_payment_method"})}),e.setState({showPaymentSelector:!1})}}):this.props.eligibleSPM||this.state.showConfirmPurchase||this.state.dontAskAgain?a.createElement(We,{selectedOfferID:this.props.selectedOfferID,selectedQuantity:this.props.selectedQuantity,recurlyPublicKey:this.props.recurlyConfigs.publicKey,toggleUseSavedPaymentMethod:function(){return e.showPaymentMethodSelector()},eligibleSPM:this.props.eligibleSPM,paymentMethodAvailabilityStatus:o,refetchCheckoutFormScreenManagerData:this.props.refetchData,handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate,handlePurchaseSuccess:this.props.handlePurchaseSuccess,isWalletPurchase:!0,requestInfoCountryCode:this.props.requestInfoCountryCode,handlePollingOrder:this.props.handlePollingOrder,isSplitTender:t,priceChangeNotice:this.props.priceChangeNotice}):a.createElement(Di,{handleSkipButtonClick:function(){C.m.set(Ti,!0),e.props.checkoutSessionTracker.track({subEvent:j.b.SkipAddPaymentMethodClick,subEventDetail:JSON.stringify({context:"wallet_purchase_init"})}),e.showConfirmPurchase()},handleAddPaymentClick:function(){e.props.checkoutSessionTracker.track({subEvent:j.b.AddPaymentMethodClick,subEventDetail:"wallet_purchase"}),e.showPaymentMethodSelector()},handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate})},t.prototype.showPaymentMethodSelector=function(){this.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showPaymentSelector:!0})}))},t.prototype.availabilityStatus=function(){return this.props.eligibleSPM?this.props.paymentMethodAvailabilityStatus:this.props.eligiblePaymentMethods.filter((function(e){return _i.includes(e.name)&&e.availabilityStatus!==T.sd.FULL_OUTAGE})).length>0?{availabilityStatus:T.sd.AVAILABLE}:null},t.prototype.showConfirmPurchase=function(){this.setState((function(e){return Object(r.__assign)(Object(r.__assign)({},e),{showConfirmPurchase:!0})}))},t}(a.Component),wi=y((function(e,t){return Object(r.__assign)(Object(r.__assign)({},t),e)}))(Ni),ji=n("cO90"),Ii="checkout_2fa_notice",xi="checkout_2fa_velocity_notice",Ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hide:!1},t.on2FAWarningShownFired=!1,t.hasSeenTwoFactorNotice=C.m.get(Ii,!1),t.hasSeenTwoFactorVelocityNotice=C.m.get(xi,!1),t.hideReminder=function(){t.props.onDismiss2FAMessageClick&&t.props.onDismiss2FAMessageClick(),C.m.set(t.props.showVelocityLimitReminder?xi:Ii,!0),t.setState({hide:!0})},t.onEnable2FALinkClick=function(){t.props.onEnable2FALinkClick&&t.props.onEnable2FALinkClick(),window.open(window.location.origin+"/settings/security","_blank")},t.handleOnWarningShown=function(){t.props.on2FAWarningShown&&!t.on2FAWarningShownFired&&(t.on2FAWarningShownFired=!0,t.props.on2FAWarningShown())},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return!this.canShowTwoFactorNotice||this.state.hide?null:(this.handleOnWarningShown(),a.createElement(f.a,{margin:{bottom:1}},a.createElement(V.a,{"data-test-selector":this.props.showVelocityLimitReminder?"checkout_2fa_velocity_notice_selector":"checkout_2fa_notice_selector",type:z.a.Info,message:{title:Object(C.d)("Enable Two-Factor Authentication","TwoFactorReminder"),description:this.props.showVelocityLimitReminder?Object(C.d)("To make future purchases faster and help to protect your account                  from unauthorized purchases, enable two-factor authentication                  in your security settings.","TwoFactorReminder"):Object(C.d)("We recommend enabling two-factor authentication to help protect                  your account from unauthorized purchases.","TwoFactorReminder"),link:{onClick:this.onEnable2FALinkClick,children:Object(C.d)("Click here to enable it.","TwoFactorReminder")}},closeButton:{"aria-label":"close",onClick:this.hideReminder}})))},Object.defineProperty(t.prototype,"canShowTwoFactorNotice",{get:function(){var e=this.props.data.currentUser;return!((this.props.showVelocityLimitReminder?this.hasSeenTwoFactorVelocityNotice:this.hasSeenTwoFactorNotice)||!e||!e.settings||e.settings.hasTwoFactorEnabled)},enumerable:!0,configurable:!0}),t}(a.Component),Ai=Object(s.d)(Object(D.a)(ji))(Ri),Mi=n("l7sZ"),Fi=n("9TPM"),Li=new Set([T.rd.AMAZON,T.rd.PAYPAL,T.rd.DIRECT_DEBIT]),Bi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={emailUpdated:!1,useSavedPaymentMethod:!0,updatedPaymentMethodThisSession:!1,paymentProvider:T.td.RECURLY,selectedOfferID:t.props.offerID,selectedQuantity:t.props.quantity,updatingPrice:!1,showSuccessScreen:!1,pollingOrder:!1,completedXsollaCheckout:!1,initialPurchaseOfferErrorCode:t.props.initialPurchaseOfferErrorCode,initialPurchaseOrderFailureReason:t.props.initialPurchaseOrderFailureReason,priceTrackingState:{lastBillingCountry:"",lastResidenceCountry:"",lastPrice:null,lastCurrency:"",billingCountryChanged:!1,residenceCountryChanged:!1,priceChanged:!1,currencyChanged:!1,priceHasChanged:!1,updatePriceReason:null}},t.gqlErrorTracked=!1,t.walletBalanceEnabled=function(){return!!t.walletBalance&&(t.walletBalance.amount>0&&t.walletEligible)},t.setEventTrackingProperties=function(){var e,n,i,r,a,o;t.props.checkoutSessionTracker.offerID=t.state.selectedOfferID,t.props.checkoutSessionTracker.quantity=t.state.selectedQuantity,t.props.checkoutSessionTracker.paymentProvider=t.state.paymentProvider,t.props.checkoutSessionTracker.tagBindings=null===(n=null===(e=t.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===n?void 0:n.tagBindings,t.props.checkoutSessionTracker.tplr=null===(r=null===(i=t.props.data)||void 0===i?void 0:i.purchasableOffer)||void 0===r?void 0:r.tplr,t.props.checkoutSessionTracker.savedPaymentInstrumentType=null===(a=t.eligibleSPM)||void 0===a?void 0:a.paymentType,t.props.checkoutSessionTracker.countryCode=t.userResidenceCountryCode,t.props.checkoutSessionTracker.previewPrice=t.previewPrice,t.props.checkoutSessionTracker.checkoutPrice=t.checkoutPriceSummary,t.props.checkoutSessionTracker.walletBalanceLocal=null===(o=t.walletBalance)||void 0===o?void 0:o.amount,t.props.checkoutSessionTracker.monthQuantity=Mn(t.state.selectedOfferID,t.props.multiMonthOffers)||function(e,t){var n;return null===(n=null==t?void 0:t.find((function(t){return t.offerID===e})))||void 0===n?void 0:n.months}(t.state.selectedOfferID,t.props.multimonthGiftOffers)},t.reportLatency=function(){var e,n,i,r,a,o;if(!t.props.offerID)return t.props.latencyTracking.reportInteractive(),void(null===(n=(e=t.props).reportCustomLatency)||void 0===n||n.call(e));if(t.setEventTrackingProperties(),t.dataReady)if(t.props.latencyTracking.reportInteractive(),null===(r=(i=t.props).reportCustomLatency)||void 0===r||r.call(i),null===(a=t.props.data)||void 0===a?void 0:a.error)t.gqlErrorTracked||(t.gqlErrorTracked=!0,t.props.checkoutSessionTracker.track({subEvent:j.b.GQLError,subEventDetail:JSON.stringify(t.props.data.error.graphQLErrors)}));else{if(t.props.checkoutSessionTracker.isSpmShownAtLoad=!!t.eligibleSPM,1===(null===(o=t.eligiblePaymentMethods)||void 0===o?void 0:o.length)&&(t.eligiblePaymentMethods||[]).find((function(e){return e.name===T.mc.XSOLLA})))return;t.props.checkoutSessionTracker.track({subEvent:j.b.LoadSuccess})}},t.reportCheckoutAction=function(e){var n,i,r,a,s,c;(null===(r=null===(i=null===(n=t.props.data)||void 0===n?void 0:n.purchasableOffer)||void 0===i?void 0:i.self)||void 0===r?void 0:r.checkoutActions)&&!Object(o.c)(t.props.data.purchasableOffer.self.checkoutActions,null===(c=null===(s=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.purchasableOffer)||void 0===s?void 0:s.self)||void 0===c?void 0:c.checkoutActions)&&t.props.checkoutSessionTracker.track({subEvent:j.b.CheckoutActionCheck,subEventDetail:JSON.stringify({rules_triggered:t.props.data.purchasableOffer.self.checkoutActions})})},t.toggleUseSavedPaymentMethod=function(){t.setState((function(e){return{useSavedPaymentMethod:!e.useSavedPaymentMethod}}))},t.onEmailSaveSuccess=function(){t.setState({emailUpdated:!0})},t.trackModalClose=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.Close,subEventDetail:JSON.stringify({close_button:"x"})})},t.showSuccessScreen=function(e){var n,i;if((null===(i=null===(n=t.props.data)||void 0===n?void 0:n.purchasableOffer)||void 0===i?void 0:i.tplr)===ne.Celebrations&&t.props.closeModal)return Object(w.f)(t.props.data.purchasableOffer.id),void t.props.closeModal();e===T.td.XSOLLA_V3?t.setState({completedXsollaCheckout:!0}):(t.props.onPurchaseSuccess(),t.setState({showSuccessScreen:!0}))},t.handlePollingOrder=function(e){t.setState({pollingOrder:e})},t.isPartOfRedundantExperiment=function(){var e,n,i,r,a=!1;return(null===(n=null===(e=t.props.data)||void 0===e?void 0:e.currentUser)||void 0===n?void 0:n.id)&&(a=C.b.get("hide_redundant_payment_methods_opt_out",[]).includes(null===(r=null===(i=t.props.data)||void 0===i?void 0:i.currentUser)||void 0===r?void 0:r.id)),!a&&!t.savedPaymentMethod&&!t.checkoutActions.includes(T.U.PRIORITIZE_XSOLLA)&&"US"===Object(_.a)()&&"experiment"===C.p.experiments.getAndTrackAssignment("hide_redundant_payment_methods")},t.on2FAWarningShown=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.Add2FaPrompt})},t.onEnable2FALinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.Add2FaClick})},t.onDismiss2FAMessageClick=function(){t.props.checkoutSessionTracker.track({subEvent:j.b.Add2FaClose})},t.onUpdatePaymentMethodSuccess=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.refetchCheckoutFormScreenManagerData()];case 1:return e.sent(),this.setState({updatedPaymentMethodThisSession:!0,useSavedPaymentMethod:!0,initialPurchaseOfferErrorCode:void 0,initialPurchaseOrderFailureReason:void 0}),[2]}}))}))},t.refetchCheckoutFormScreenManagerData=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.gqlErrorTracked=!1,[4,null===(e=this.props.data)||void 0===e?void 0:e.refetch()];case 1:return t.sent(),[2]}}))}))},t.updatePriceTrackingState=function(){var e,n,r,a,o,s,c=!1,l=t.state.priceTrackingState;(null===(e=t.checkoutPriceSummary)||void 0===e?void 0:e.price)&&l.lastPrice!==(null===(n=t.checkoutPriceSummary)||void 0===n?void 0:n.price)&&(null!==l.lastPrice&&(l.priceChanged=!0),l.lastPrice=null===(r=t.checkoutPriceSummary)||void 0===r?void 0:r.price,c=!0),(null===(a=t.checkoutPriceSummary)||void 0===a?void 0:a.currency)&&l.lastCurrency!==(null===(o=t.checkoutPriceSummary)||void 0===o?void 0:o.currency)&&(""!==l.lastCurrency&&(l.currencyChanged=!0),l.lastCurrency=null===(s=t.checkoutPriceSummary)||void 0===s?void 0:s.currency,c=!0),t.savedPaymentMethod&&t.savedPaymentMethod.billingCountry&&l.lastBillingCountry!==t.savedPaymentMethod.billingCountry&&(""!==l.lastBillingCountry&&(l.billingCountryChanged=!0),l.lastBillingCountry=t.savedPaymentMethod.billingCountry,c=!0),t.userResidenceCountryCode&&l.lastResidenceCountry!==t.userResidenceCountryCode&&(""!==l.lastResidenceCountry&&(l.residenceCountryChanged=!0),l.lastResidenceCountry=t.userResidenceCountryCode,c=!0),(l.residenceCountryChanged||l.billingCountryChanged)&&(l.priceChanged||l.currencyChanged?(l.priceHasChanged=!0,W(t.props.checkoutSessionTracker.getCheckoutSessionID(),!1),l.billingCountryChanged?l.updatePriceReason=i.BillingCountry:l.residenceCountryChanged&&(l.updatePriceReason=i.UserResidence),l.billingCountryChanged=!1,l.residenceCountryChanged=!1,l.priceChanged=!1,l.currencyChanged=!1):l.priceHasChanged=!1),c&&t.setState({priceTrackingState:l})},t.handleQuantitySelect=function(e){var n,i;if(t.props.checkoutSessionTracker.track({subEvent:j.b.QuantityUpdated,subEventDetail:JSON.stringify({old_quantity:t.state.selectedQuantity,new_quantity:e})}),t.quantityOverride){var r=t.quantityOverride,a=r.promotion,o=r.regular,s=void 0;s=a.minQuantity>o.minQuantity&&a.maxQuantity===o.maxQuantity?e<a.minQuantity?o.offerID:a.offerID:e<=a.maxQuantity?a.offerID:o.offerID,t.setState({selectedOfferID:s,selectedQuantity:e,updatingPrice:!0}),null===(n=t.props.data)||void 0===n||n.refetch({params:{offerID:s,tagBindings:t.props.tagBindings,giftRecipientIDs:t.props.giftRecipientIDs},quantity:e})}else t.setState({selectedQuantity:e,updatingPrice:!0}),null===(i=t.props.data)||void 0===i||i.refetch({quantity:e})},t.handleMultimonthSelect=function(e){var n,i=e.selectedOfferID;t.setState({selectedOfferID:i,updatingPrice:!0},(function(){return t.props.checkoutSessionTracker.track({subEvent:j.b.UpdateMonthQuantityClick})})),null===(n=t.props.data)||void 0===n||n.refetch({params:{offerID:i,tagBindings:t.props.tagBindings,giftRecipientIDs:t.props.giftRecipientIDs}})},t.handlePaymentProviderUpdate=function(e){t.setState({paymentProvider:e})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportLatency(),this.props.offerID||this.props.checkoutSessionTracker.track({subEvent:j.b.Error,subEventDetail:"missing offer_id"})},t.prototype.componentDidUpdate=function(e){var t;this.state.updatingPrice&&(null===(t=this.props.data)||void 0===t?void 0:t.networkStatus)===E.c.ready&&this.setState({updatingPrice:!1}),this.updatePriceTrackingState(),this.reportLatency(),this.reportCheckoutAction(e)},t.prototype.render=function(){var e,t,n,i,r,o,s,c,l,u,d,m,p,h,v,g,b;return this.state.showSuccessScreen?a.createElement(f.a,{fullHeight:!0},!!this.props.closeModal&&a.createElement(f.a,{padding:{y:.5},background:F.d.Base,borderRadius:{topLeft:F.e.Large,topRight:F.e.Large}},a.createElement(O.a,{displayInset:!0,onClose:this.trackModalClose})),a.createElement(Dn.a,{finalOfferID:this.state.selectedOfferID,finalQuantity:this.state.selectedQuantity,checkoutSessionTracker:this.props.checkoutSessionTracker,closeModal:this.props.closeModal,giftRecipientIDs:this.props.giftRecipientIDs,tagBindings:this.props.tagBindings,multimonthGiftOffers:this.props.multimonthGiftOffers,productName:this.props.productName,isAnonymous:this.props.isAnonymous})):a.createElement(f.a,{fullHeight:!0},!!this.props.closeModal&&a.createElement(f.a,{className:"checkout-form__modal-header",padding:{y:.5},borderRadius:{topLeft:F.e.Large,topRight:F.e.Large}},a.createElement(O.a,{displayInset:!0,onClose:this.trackModalClose})),a.createElement(f.a,{background:F.d.Base,fullHeight:!0},a.createElement(Ci,{previewPrice:this.previewPrice,checkoutPrice:this.checkoutPriceSummary,plan:{renewalPolicy:null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.plan)||void 0===r?void 0:r.renewalPolicy,intervalUnit:null===(u=null===(l=null===(c=null===(s=null===(o=this.props.data)||void 0===o?void 0:o.purchasableOffer)||void 0===s?void 0:s.listing)||void 0===c?void 0:c.chargeModel.internal)||void 0===l?void 0:l.plan)||void 0===u?void 0:u.interval.unit,intervalDuration:null===(v=null===(h=null===(p=null===(m=null===(d=this.props.data)||void 0===d?void 0:d.purchasableOffer)||void 0===m?void 0:m.listing)||void 0===p?void 0:p.chargeModel.internal)||void 0===h?void 0:h.plan)||void 0===v?void 0:v.interval.duration},quantityMin:this.quantityMin,quantityMax:this.quantityMax,paymentProvider:this.state.paymentProvider,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,updatingPrice:this.state.updatingPrice,handleQuantitySelect:this.handleQuantitySelect,handleMultimonthSelect:this.handleMultimonthSelect,walletBalance:this.walletBalanceEnabled()?this.walletBalance:void 0,promotion:this.promotion||void 0,requestInfoCountryCode:null===(b=null===(g=this.props.data)||void 0===g?void 0:g.requestInfo)||void 0===b?void 0:b.countryCode,purchaseComplete:this.state.completedXsollaCheckout||this.state.showSuccessScreen}),a.createElement(f.a,{padding:2,breakpointExtraSmall:{padding:{x:3,y:2}}},a.createElement(Ai,{showVelocityLimitReminder:this.showVelocityLimitReminder,on2FAWarningShown:this.on2FAWarningShown,onEnable2FALinkClick:this.onEnable2FALinkClick,onDismiss2FAMessageClick:this.onDismiss2FAMessageClick}),this.body)))},Object.defineProperty(t.prototype,"body",{get:function(){var e,t,n,i,o,s,c,l,u,d,m,p,f,h,v,g;if(!this.dataReady)return a.createElement(Z.a,{lineCount:12});if(!this.props.offerID||(null===(e=this.props.data)||void 0===e?void 0:e.error)||!(null===(t=this.props.data)||void 0===t?void 0:t.currentUser))return a.createElement(U,null);if(this.showEmailScreen)return a.createElement(A,{onEmailSaveSuccess:this.onEmailSaveSuccess});if(!this.isEligible&&!this.state.completedXsollaCheckout)return a.createElement(H,null);if(this.walletBalanceEnabled()){var b=this.eligibleSPM?Object(r.__assign)(Object(r.__assign)({},this.eligibleSPM),{billingEmail:this.billingEmail}):void 0;return a.createElement(wi,{walletBalance:this.walletBalance,checkoutPrice:this.checkoutPriceSummary?this.checkoutPriceSummary:void 0,eligibleSPM:b,userResidence:this.props.data.currentUser.residence,currentUserID:this.props.data.currentUser.id,checkoutActions:this.checkoutActions,eligiblePaymentMethods:this.eligiblePaymentMethods,paymentMethodAvailabilityStatus:this.paymentMethodAvailabilityStatus,recurlyConfigs:this.recurlyConfigs,paymentMethods:this.props.data.currentUser.paymentMethods,requestInfoCountryCode:null===(i=null===(n=this.props.data)||void 0===n?void 0:n.requestInfo)||void 0===i?void 0:i.countryCode,xsollaToken:null===(o=this.xsollaConfig)||void 0===o?void 0:o.token,isSandbox:null===(s=this.xsollaConfig)||void 0===s?void 0:s.isSandbox,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,handlePurchaseSuccess:this.showSuccessScreen,handlePollingOrder:this.handlePollingOrder,handlePaymentMethodProviderUpdate:this.handlePaymentProviderUpdate,onPaymentMethodSuccess:this.onUpdatePaymentMethodSuccess,refetchData:this.refetchCheckoutFormScreenManagerData,bestGuessCountry:this.bgc,priceChangeNotice:this.priceChangeNotice,tplr:null===(c=this.props.data.purchasableOffer)||void 0===c?void 0:c.tplr})}return this.recurlyConfigs?this.showReviewScreen&&this.eligibleSPM?a.createElement(We,{requestInfoCountryCode:null===(u=null===(l=this.props.data)||void 0===l?void 0:l.requestInfo)||void 0===u?void 0:u.countryCode,productPurchaseErrorCode:this.productPurchaseErrorCode,isWalletPurchase:!1,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,recurlyPublicKey:this.recurlyConfigs&&this.recurlyConfigs.publicKey,toggleUseSavedPaymentMethod:this.toggleUseSavedPaymentMethod,eligibleSPM:Object(r.__assign)(Object(r.__assign)({},this.eligibleSPM),{billingEmail:this.billingEmail}),paymentMethodAvailabilityStatus:this.paymentMethodAvailabilityStatus,refetchCheckoutFormScreenManagerData:this.refetchCheckoutFormScreenManagerData,handlePurchaseSuccess:this.showSuccessScreen,handlePaymentProviderUpdate:this.handlePaymentProviderUpdate,handlePollingOrder:this.handlePollingOrder,purchaseOfferErrorCode:this.state.initialPurchaseOfferErrorCode,purchaseOrderFailureReason:this.state.initialPurchaseOrderFailureReason,tplr:null===(d=this.props.data.purchasableOffer)||void 0===d?void 0:d.tplr,priceChangeNotice:this.priceChangeNotice}):a.createElement(On,{currentUserID:this.props.data.currentUser.id,onUpdatePaymentMethodSuccess:this.onUpdatePaymentMethodSuccess,handlePaymentProviderUpdate:this.handlePaymentProviderUpdate,hasEligibleSPM:!!this.eligibleSPM,bestGuessCountry:this.bgc,showReviewPurchaseScreen:this.toggleUseSavedPaymentMethod,refetchCheckoutFormScreenManagerData:this.refetchCheckoutFormScreenManagerData,recurlyConfigs:this.recurlyConfigs,paymentMethods:this.props.data.currentUser.paymentMethods,userResidence:this.props.data.currentUser.residence,requestInfoCountryCode:null===(p=null===(m=this.props.data)||void 0===m?void 0:m.requestInfo)||void 0===p?void 0:p.countryCode,xsollaToken:null===(f=this.xsollaConfig)||void 0===f?void 0:f.token,isSandbox:null===(h=this.xsollaConfig)||void 0===h?void 0:h.isSandbox,selectedQuantity:this.state.selectedQuantity,checkoutActions:this.checkoutActions,eligiblePaymentMethods:this.eligiblePaymentMethods,productPurchaseErrorCode:this.productPurchaseErrorCode,handlePurchaseSuccess:this.showSuccessScreen,tplr:null===(g=null===(v=this.props.data)||void 0===v?void 0:v.purchasableOffer)||void 0===g?void 0:g.tplr,priceChangeNotice:this.priceChangeNotice}):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgc",{get:function(){var e,t,n,i,r,a,o;return r=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.requestInfo)||void 0===t?void 0:t.countryCode,a=this.eligibleSPM,o=null===(i=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===i?void 0:i.residence,a&&a.billingCountry?a.billingCountry:o?o.countryCode:r||void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"priceChangeNotice",{get:function(){return{show:this.state.priceTrackingState.priceHasChanged,reason:this.state.priceTrackingState.updatePriceReason}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"walletBalance",{get:function(){if(this.props.balanceData&&this.props.balanceData.currentUser&&this.props.balanceData.currentUser.balances){var e=this.checkoutPriceSummary||this.previewPrice,t=this.props.balanceData.currentUser.balances.filter((function(t){return!!t&&t.currency===(null==e?void 0:e.currency)}));return t&&t.length?{amount:t.reduce((function(e,t){return e+t.amount}),0),currency:t[0].currency,exponent:t[0].exponent}:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showReviewScreen",{get:function(){return this.state.useSavedPaymentMethod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEmailScreen",{get:function(){return!this.state.emailUpdated&&!this.hasEmail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){var e,t,n,i,r,a;return!this.props.offerID||!!(!(null===(e=this.props.data)||void 0===e?void 0:e.loading)&&!(null===(t=this.props.balanceData)||void 0===t?void 0:t.loading)||(null===(n=this.props.data)||void 0===n?void 0:n.error)||(null===(i=this.props.balanceData)||void 0===i?void 0:i.error)||(null===(r=this.props.data)||void 0===r?void 0:r.purchasableOffer)&&(null===(a=this.props.balanceData)||void 0===a?void 0:a.currentUser))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"savedPaymentMethod",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.paymentMethods)||void 0===n?void 0:n.find((function(e){return e.provider.toUpperCase()===T.td.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasEmail",{get:function(){var e;return!!((null===(e=this.props.data)||void 0===e?void 0:e.currentUser)&&this.props.data.currentUser.email)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligible",{get:function(){var e,t,n;return!!this.state.pollingOrder||!!(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.isEligible)&&this.props.quantity>=this.quantityMin&&this.props.quantity<=this.quantityMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityOverride",{get:function(){var e=this.props.offerQuantityOverrides;if(e&&[e.regular.offerID,e.promotion.offerID].includes(this.props.offerID)&&(e.regular.minQuantity<e.promotion.minQuantity||e.regular.maxQuantity>e.promotion.maxQuantity))return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityMin",{get:function(){var e,t,n;if(this.quantityOverride)return this.quantityOverride.promotion.minQuantity<this.quantityOverride.regular.minQuantity?this.quantityOverride.promotion.minQuantity:this.quantityOverride.regular.minQuantity;var i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.quantity)||void 0===n?void 0:n.min;return i||this.props.quantity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityMax",{get:function(){var e,t,n;if(this.quantityOverride)return this.quantityOverride.promotion.maxQuantity<this.quantityOverride.regular.maxQuantity?this.quantityOverride.regular.maxQuantity:this.quantityOverride.promotion.maxQuantity;var i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.quantity)||void 0===n?void 0:n.max;return i||this.props.quantity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodAvailabilityStatus",{get:function(){if(!this.savedPaymentMethod)return null;var e;switch(this.savedPaymentMethod.paymentType){case T.rd.DIRECT_DEBIT:e=T.mc.DIRECT_DEBIT;break;case T.rd.CREDIT_CARD:e=T.mc.CREDIT_CARD;break;case T.rd.AMAZON:e=T.mc.AMAZON_PAY;break;case T.rd.PAYPAL:e=T.mc.PAYPAL;break;default:return null}return this.eligiblePaymentMethods.find((function(t){return t.name===e}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligibleSPM",{get:function(){if(this.savedPaymentMethod&&(!this.blockSavedPaymentMethod||this.state.updatedPaymentMethodThisSession)&&(this.savedPaymentMethod.paymentType.toUpperCase()!==T.rd.CREDIT_CARD||this.paymentMethodAvailabilityStatus&&this.productPurchaseErrorCode!==T.Od.BILLING_INFO_NOT_FOUND)&&(!Li.has(this.savedPaymentMethod.paymentType)||this.paymentMethodAvailabilityStatus))return this.savedPaymentMethod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingEmail",{get:function(){return!this.eligibleSPM||this.eligibleSPM.paymentType.toUpperCase()!==T.rd.PAYPAL&&this.eligibleSPM.paymentType.toUpperCase()!==T.rd.AMAZON?null:this.eligibleSPM.billingEmail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyConfigs",{get:function(){var e;return null===(e=this.props.data)||void 0===e?void 0:e.recurlyConfigs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutActions",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligiblePaymentMethods",{get:function(){var e,t,n,i,r,a,o;if(this.isPartOfRedundantExperiment()){var s=(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.eligiblePaymentMethods)||void 0===i?void 0:i.filter((function(e){return e.name!==T.mc.XSOLLA})))||[];if(s.find((function(e){return e.availabilityStatus===T.sd.AVAILABLE})))return s}return(null===(o=null===(a=null===(r=this.props.data)||void 0===r?void 0:r.purchasableOffer)||void 0===a?void 0:a.self)||void 0===o?void 0:o.eligiblePaymentMethods)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPrice",{get:function(){var e,t,n,i,r,a,o,s,c,l;return this.state.paymentProvider===T.td.RECURLY?null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.self)||void 0===r?void 0:r.recurlyCheckoutPrice:this.state.paymentProvider===T.td.XSOLLA_V3?null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.purchasableOffer)||void 0===o?void 0:o.listing)||void 0===s?void 0:s.chargeModel.internal)||void 0===c?void 0:c.self)||void 0===l?void 0:l.xsollaCheckoutPrice:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPriceSummary",{get:function(){var e;return null===(e=this.checkoutPrice)||void 0===e?void 0:e.checkoutPriceSummary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promotion",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.promotion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productPurchaseErrorCode",{get:function(){var e;return null===(e=this.checkoutPrice)||void 0===e?void 0:e.errorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewPrice",{get:function(){var e,t,n,i;return null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===i?void 0:i.previewPrice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"walletEligible",{get:function(){return this.eligiblePaymentMethods.some((function(e){return e.name===T.mc.WALLET}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blockSavedPaymentMethod",{get:function(){var e,t,n,i;return!!(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||void 0===i?void 0:i.includes(T.U.BLOCK_SAVED_PAYMENT_METHOD))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showVelocityLimitReminder",{get:function(){var e,t,n,i;return!!(null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||void 0===i?void 0:i.includes(T.U.EXCEEDED_VELOCITY_LIMITS))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xsollaConfig",{get:function(){var e,t,n,i;return null===(i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutConfiguration)||void 0===i?void 0:i.xsolla},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userResidenceCountryCode",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.residence)||void 0===n?void 0:n.countryCode},enumerable:!0,configurable:!0}),t}(a.Component);var Ui=Object(s.d)(Object(o.b)((function(e){return{darkModeEnabled:Object(N.a)(e)===P.a.Dark}})),Object(p.withLatencyTracking)("CheckoutFormScreenManager"),y((function(e){return Object(r.__assign)({},e)})),Object(D.a)(Fi,{name:"balanceData",options:function(){return{variables:{walletType:T.Of.GIFT_CARD},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}}}),Object(D.a)(Mi,{options:function(e){return{variables:{params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs},quantity:e.quantity,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs,paymentSession:e.paymentSession,withDiscounts:!0,isDarkMode:e.darkModeEnabled},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}},skip:function(e){return!e.offerID}}))(Bi),Vi=(n("qhDs"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkoutSessionID=t.props.checkoutSessionTracker?t.props.checkoutSessionTracker.getCheckoutSessionID():Object(l.b)(),t.checkoutSessionTracker=t.props.checkoutSessionTracker?t.props.checkoutSessionTracker:new j.a({checkoutSessionID:t.checkoutSessionID,source:t.props.trackingContext.source,sourceDetail:t.props.trackingContext.detail,tenantTracking:JSON.stringify(t.props.trackingContext.tenantTracking)||"",offerID:t.props.offerID,quantity:t.props.quantity,subsTicketOwnerID:t.props.channelID,productType:t.props.productType}),t.onPurchaseSuccess=function(){t.props.onPurchaseSuccess&&t.props.onPurchaseSuccess()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.isLoggedIn||this.props.openLoginModal()},t.prototype.componentDidUpdate=function(){this.props.isLoggedIn||this.props.openLoginModal()},t.prototype.render=function(){return a.createElement(f.a,{className:"checkout-form__container",margin:{y:0,x:"auto"},"data-a-target":"checkout-form__container"},a.createElement(S,Object(r.__assign)({},this.checkoutFormProps),a.createElement(Ui,null)))},Object.defineProperty(t.prototype,"checkoutFormProps",{get:function(){return{offerID:this.props.offerID.split("amzn1.offer.")[1]||this.props.offerID,quantity:this.props.quantity,trackingContext:this.props.trackingContext,giftRecipientIDs:this.props.giftRecipientIDs||[],isAnonymous:!!this.props.isAnonymous,tagBindings:this.tagBindings,productName:this.props.productName,paymentSession:{deviceID:m.q.session.deviceID,localStorageDeviceID:m.q.session.localStorageDeviceID,tabSessionID:m.q.session.tabID,pageSessionID:m.q.session.pageviewID,checkoutSessionID:this.checkoutSessionID},onPurchaseSuccess:this.onPurchaseSuccess,closeModal:this.props.closeModal,checkoutSessionTracker:this.checkoutSessionTracker,chargeInterval:this.props.chargeInterval,reportCustomLatency:this.props.reportCustomLatency,multimonthGiftOffers:this.props.multimonthGiftOffers,offerQuantityOverrides:this.props.offerQuantityOverrides,multiMonthOffers:this.props.multiMonthOffers,initialPurchaseOfferErrorCode:this.props.purchaseOfferErrorCode,initialPurchaseOrderFailureReason:this.props.purchaseOrderFailureReason}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e=[];return e.push({key:"is_anonymous",value:this.props.isAnonymous?"true":"false"}),this.props.productID&&e.push({key:"product_id",value:this.props.productID}),this.props.channelID&&e.push({key:"channel_id",value:this.props.channelID}),this.props.chargeInterval&&this.props.chargeInterval>1&&e.push({key:"charge_interval",value:this.props.chargeInterval.toString()}),e},enumerable:!0,configurable:!0}),t}(a.Component));var zi=Object(s.d)(Object(p.withLatencyTracking)("CheckoutForm",{autoReportInteractive:!0}),Object(o.b)((function(e){return{isLoggedIn:Object(d.f)(e)}}),(function(e){return Object(s.b)({openLoginModal:function(){return Object(u.e)(c.a.CheckoutForm)}},e)})))(Vi)},VUyg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CompletePurchaseDisclaimer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};n.loc.source={body:"query CompletePurchaseDisclaimer($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CompletePurchaseDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CompletePurchaseDisclaimer")},VYPy:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u}));var i=n("/0dD"),r=n("DMoW"),a=function(e){switch(e){case r.Dd.BLACK_WHITE:return"Greyscale";case r.Dd.HORIZONTAL_FLIP:return"Horizontal Flip";case r.Dd.SUNGLASSES:return"Sunglasses";case r.Dd.THINKING:return"Thinking";case r.Dd.SQUISHED:return"Squished";default:return""}},o=function(e){switch(e){case r.Dd.BLACK_WHITE:return"BW";case r.Dd.HORIZONTAL_FLIP:return"HF";case r.Dd.SUNGLASSES:return"SG";case r.Dd.THINKING:return"TK";case r.Dd.SQUISHED:return"SQ";default:return""}},s=function(e){switch(e){case"BW":return r.Dd.BLACK_WHITE;case"HF":return r.Dd.HORIZONTAL_FLIP;case"SG":return r.Dd.SUNGLASSES;case"TK":return r.Dd.THINKING;case"SQ":return r.Dd.SQUISHED;default:return null}};function c(e,t){return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t}}function l(e,t){var n;if(!t)return e;var i=new RegExp(e.id,"g");return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t,displayName:e.displayName&&e.displayName+"_"+t,srcSet:null===(n=e.srcSet)||void 0===n?void 0:n.replace(i,e.id+"_"+t),isLocked:e.isLocked}}var u=function(e,t){void 0===t&&(t=i.a.Light);var n=a(e.name).toLowerCase().replace(" ","-"),r=t===i.a.Dark?"light":"dark";return{"1x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-1.png","2x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-2.png","4x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-4.png"}}},VlKc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),r=n("CGXs"),a=n("eirU"),o=n("0Log"),s=n("/aPz"),c=n("RCc/");function l(e){var t,n,l,u,d,m,p=Object(i.useRef)(!0),f=Object(a.d)(c,{variables:{channelLogin:null!=e?e:""},skip:!e,fetchPolicy:"network-only"}),h=f.data,v=f.loading,g=null!==(n=null===(t=null==h?void 0:h.user)||void 0===t?void 0:t.id)&&void 0!==n?n:null,b=v?null:!!(null===(u=null===(l=null==h?void 0:h.user)||void 0===l?void 0:l.stream)||void 0===u?void 0:u.id),y=Object(i.useState)(b),k=y[0],S=y[1],E=Object(i.useState)(null),C=E[0],O=E[1],D=Object(r.a)(g?Object(s.gb)(g):"",!g)[0];Object(i.useEffect)((function(){p.current=!0,O(null)}),[e]),Object(i.useEffect)((function(){p.current&&S(b)}),[b]),Object(i.useEffect)((function(){D&&(p.current=!1,!function(e){return e.type===o.PubsubMessageType.ChannelStreamDown}(D)?S(!0):(S(!1),O(null)))}),[D]);var P=Object(i.useMemo)((function(){return function(e){var t,n,i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.stream)||void 0===n?void 0:n.createdAt;if(!i)return null;return new Date(i)}(h)}),[h]);Object(i.useEffect)((function(){!k||P||C?P&&C&&O(null):O(new Date)}),[k,P,C]);var _=null;return(null===(d=null==h?void 0:h.user)||void 0===d?void 0:d.login)&&(null===(m=null==h?void 0:h.user)||void 0===m?void 0:m.login.toLowerCase())===(null==e?void 0:e.toLowerCase())&&(_=null!=k?k:p.current?b:null),{isLive:_,liveSince:null!=C?C:P}}},W1kE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation CreateRaid($input: CreateRaidInput!) {\ncreateRaid(input: $input) {\nraid {\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CreateRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CreateRaid")},WJ6U:function(e,t,n){e.exports=n.p+"assets/android_1x-38340be28156bb72233a.svg"},WNT5:function(e,t,n){},WRNo:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HypeTrainCTA"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subBenefit"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:163}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-benefit.gql"\nquery HypeTrainCTA($id: ID) {\nuser(id: $id) {\nid\nself {\nsubscriptionBenefit {\n...subBenefit\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("FaAX").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.HypeTrainCTA=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"HypeTrainCTA")},XNPz:function(e,t,n){},XnJk:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipation"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:192}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-participation.gql"\nfragment hypeTrainConductor on HypeTrainConductor {\nsource\nparticipation {\n...hypeTrainParticipation\n}\nuser {\nid\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("e0KT").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},YG3Y:function(e,t,n){},YIFl:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainCalloutEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:52}};n.loc.source={body:"fragment hypeTrainCalloutEmote on Emote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},YUew:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),r=n.n(i),a=n("q1tI"),o=n("SWse"),s=n("P+FS"),c=n("HQtB"),l=n("OCDW"),u=n("Yegi"),d=function(e){return a.createElement(l.a,r()({className:Object(o.a)({"tw-typeset":!0}),fontSize:e.baseFontSize||u.k.Size5},Object(c.a)(e),Object(s.a)(e)),e.children)};d.displayName="Typeset",d.displayName="Typeset"},YaM9:function(e,t,n){},Ys90:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var i,r,a,o=n("mrSG"),s=n("q1tI"),c=n("DMoW"),l=n("pr4f"),u=n("OCDW"),d=n("Yegi"),m=n("qyxT"),p=function(e,t){return e.map((function(e){return{createTimestamp:t,startTimestamp:t+e.delay,updateTimestamp:t,effect:e}}))},f=function(e){var t,n,i=Object(s.useRef)([]),r=Object(s.useRef)(null),a=Object(s.useRef)(null),o=Object(s.useRef)(!1),c=Object(s.useRef)(!1),l=Object(s.useRef)(0),u=Object(s.useRef)(null),d=Object(s.useRef)(null),m=Object(s.useRef)(0);return Object(s.useEffect)((function(){0===e.effects.length&&(o.current=!0,c.current=!0)}),[e.effects.length]),Object(s.useEffect)((function(){d.current&&e.effects.length!==i.current.length&&(i.current=p(e.effects,d.current),l.current=0,o.current=!1,c.current=!1)}),[e.effects]),t=function(t){a.current||(a.current=t,0===i.current.length&&(i.current=p(e.effects,a.current))),u.current||(u.current=t),d.current||(d.current=t);var n=t-d.current,s=(n+m.current)/(1e3/60),f=r.current;if(f){var h=f.getContext("2d");if(h&&(h.save(),h.clearRect(0,0,f.clientWidth,f.clientHeight),h.restore(),i.current)){if(i.current.filter((function(e){return t>=e.startTimestamp})).forEach((function(i){i.effect.particles.filter((function(e){return t>=i.startTimestamp+e.delay})).forEach((function(r){if(n<1e4)for(var a=0;a<s;a++)r.vx+=e.acceleration.x,r.vx*=1-e.drag,r.vy+=e.acceleration.y,r.vy*=1-e.drag,r.vz+=e.acceleration.z,r.vz*=1-e.drag,r.dx+=r.vx,r.dy+=r.vy,r.dz+=r.vz,t>=i.startTimestamp+r.delay+r.delayUntilDecay&&(r.alpha*=1-r.decay)})),i.effect.particles=i.effect.particles.filter((function(t){var r=t.dx+t.img.width>=0&&t.dx-t.img.width<=f.clientWidth&&t.dy-t.img.height<=f.clientHeight&&t.dz>=-e.distance&&t.alpha>=.03&&n<1e4;if(!r&&t.loop&&i.updateTimestamp-i.startTimestamp<i.effect.duration){var a=i.updateTimestamp-i.createTimestamp;return i.effect.resetParticle(t,a),!0}return r})),i.effect.particles.filter((function(e){return t>=i.startTimestamp+e.delay})).forEach((function(t){var n=t.img.width,i=t.img.height;h.save();var r=(t.dz+e.distance)/e.distance;h.translate(-1*n/2,-1*i/2),h.translate(Math.floor(t.dx),Math.floor(t.dy)),h.rotate(t.xyRotation),h.translate(-Math.floor(t.dx),-Math.floor(t.dy)),h.globalAlpha=t.alpha,h.drawImage(t.img,Math.floor(t.dx),Math.floor(t.dy),Math.floor(n*r*t.scale),Math.floor(i*r*t.scale)),h.restore()})),i.updateTimestamp=t})),i.current=i.current.filter((function(n){var i=0===n.effect.particles.length;return i&&e.onEffectEnd&&e.onEffectEnd(n.effect.id,t-n.startTimestamp),!i})),0===i.current.length&&!o.current){if(e.onLoopEnd){var v=t-u.current;o.current=!0,e.onLoopEnd(v,l.current)}if(e.loop)i.current.map((function(e){return e.effect.reset()}));else{if(e.onAnimationEnd&&!c.current){var g=t-a.current;c.current=!0,e.onAnimationEnd(g)}i.current=[]}l.current++,u.current=null}d.current=t,m.current+=n-Math.floor(s)*(1e3/60)}}},n=[],Object(s.useEffect)((function(){var e=0,n=function(i){t(i),e=requestAnimationFrame(n)};return e=requestAnimationFrame(n),function(){cancelAnimationFrame(e)}}),[n,t]),s.createElement("canvas",{width:e.width,height:e.height,ref:r})},h=n("f00E"),v=function(e,t,n,i,r,a,o,s,c,l,u,d,m,p){this.id=Object(h.c)(),this.img=e,this.dx=t,this.initialDx=t,this.dy=n,this.initialDy=n,this.dz=i,this.initialDz=i,this.vx=r,this.initialVx=r,this.vy=a,this.initialVy=a,this.vz=o,this.initialVz=o,this.xyRotation=s,this.initialXYRotation=s,this.alpha=c,this.initialAlpha=c,this.decay=l,this.initialDecay=l,this.delayUntilDecay=u,this.initialDelayUntilDecay=u,this.delay=d,this.initialDelay=d,this.scale=m,this.initialScale=m,this.loop=p},g=function(e,t){return Math.random()*(t-e)+e},b=function(e,t){return Math.floor(g(e,t))},y=function(){function e(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===i&&(i=1e3),this.id=Object(h.c)(),this.particles=e,this.delay=t,this.loop=n,this.duration=i}return e.prototype.resetParticle=function(e,t){e.dx=e.initialDx,e.dy=e.initialDy,e.dz=e.initialDz,e.vx=e.initialVx,e.vy=e.initialVy,e.vz=e.initialVz,e.xyRotation=e.initialXYRotation,e.alpha=e.initialAlpha,e.decay=e.initialDecay,e.delayUntilDecay=e.initialDelayUntilDecay,e.delay=t},e.prototype.reset=function(){var e=this;this.particles.forEach((function(t){return e.resetParticle(t,0)}))},e.prototype.isEnded=function(){return 0===this.particles.length},e}(),k=.25,S=function(e){function t(t,n,i){for(var r=2*Math.PI/t.numOfParticles,a=[],o=0;o<t.numOfParticles;o++){var s=r*o+g(r*(1-k),r*(1+k)),c=g(t.velocityMin,t.velocityMax),l=c*Math.cos(s),u=c*Math.sin(s),d=t.images[b(0,t.images.length)];a.push(new v(d,t.dx,t.dy,0,l,u,0,g(-Math.PI/4,Math.PI/4),1,g(t.decayMin,t.decayMax),t.delayUntilDecay,0,t.scale,!1))}return e.call(this,a,n,i)||this}return Object(o.__extends)(t,e),t}(y),E={x:0,y:.07,z:0},C=[{xPercent:.2,yPercent:.2},{xPercent:.5,yPercent:.2},{xPercent:.8,yPercent:.2},{xPercent:.1,yPercent:.4},{xPercent:.3,yPercent:.4},{xPercent:.4,yPercent:.4},{xPercent:.6,yPercent:.4},{xPercent:.7,yPercent:.4},{xPercent:.9,yPercent:.4},{xPercent:.2,yPercent:.6},{xPercent:.3,yPercent:.6},{xPercent:.5,yPercent:.6},{xPercent:.7,yPercent:.6},{xPercent:.8,yPercent:.6},{xPercent:.3,yPercent:.8},{xPercent:.7,yPercent:.8}],O=((i={})[l.a.Cute]={numOfParticles:30,scale:.8,velocityMin:3,velocityMax:8,decayMin:.09,decayMax:.13,delayUntilDecay:350,drag:.04,intervalDuration:400},i[l.a.Noice]={numOfParticles:45,scale:.9,velocityMin:4,velocityMax:10,decayMin:.075,decayMax:.115,delayUntilDecay:680,drag:.04,intervalDuration:400},i[l.a.Cool]={numOfParticles:60,scale:1,velocityMin:6,velocityMax:15,decayMin:.02,decayMax:.1,delayUntilDecay:1100,drag:.04,intervalDuration:500},i[l.a.Wow]={numOfParticles:80,scale:1,velocityMin:8,velocityMax:20,decayMin:.015,decayMax:.04,delayUntilDecay:1500,drag:.04,intervalDuration:550},i[l.a.PogChamp]={numOfParticles:80,scale:1.25,velocityMin:9,velocityMax:22,decayMin:.015,decayMax:.1,delayUntilDecay:1500,drag:.038,intervalDuration:750},i[l.a.OmegaPog]={numOfParticles:80,scale:1.5,velocityMin:9,velocityMax:22,decayMin:.03,decayMax:.125,delayUntilDecay:1600,drag:.034,intervalDuration:900},i[l.a.ExtinctionEvent]={numOfParticles:80,scale:2,velocityMin:10,velocityMax:24,decayMin:.05,decayMax:.25,delayUntilDecay:1800,drag:.03,intervalDuration:1e3},i),D=function(e){var t=e.width,n=e.height,i=e.intensity,r=e.duration,a=e.images,c=e.onAnimationEnd,u=O[i];u||(u=O[l.a.Cute]);var d=Math.sqrt(n*t/2073600),p=Object(s.useMemo)((function(){var e=Math.floor(r/u.intervalDuration);return Object(m.a)(C).slice(0,e).map((function(e,i){return new S(Object(o.__assign)(Object(o.__assign)({},u),{images:a,dx:t*e.xPercent,dy:n*e.yPercent,velocityMin:u.velocityMin*d,velocityMax:u.velocityMax*d}),i*u.intervalDuration)}))}),[r,u,a,t,n,d]);return s.createElement(f,{width:t,height:n,effects:p,drag:u.drag,acceleration:E,distance:800,onAnimationEnd:c})},P=n("0Tit"),_=function(e){function t(t,n,i,r){void 0===n&&(n=0),void 0===i&&(i=!1),void 0===r&&(r=1e3);for(var a=[],o=r*(t.numOfParticlesPerSecond/1e3),s=r/o,c=0;c<=o;c++){var l=g(t.angle-t.spread/2,t.angle+t.spread/2)+Math.PI/2,u=g(t.velocityMin,t.velocityMax),d=Math.sin(l)*u,m=Math.cos(l)*u,p=t.images[b(0,t.images.length)],f=r*t.bezier(c*s/r);a.push(new v(p,t.dx,t.dy,0,d,m,0,g(-Math.PI/4,Math.PI/4),1,g(t.decayMin,t.decayMax),t.delayUntilDecay,f,t.scale,!1))}return e.call(this,a,n,i,r)||this}return Object(o.__extends)(t,e),t}(y),T=Math.PI/180*20,N=Math.PI/180*90,w=P(.35,0,.5,.5),j=((r={})[l.a.Cute]={numOfFlamethrowers:2,numOfParticlesPerSecond:60,scale:1,velocityMin:30,velocityMax:40,accelerationY:-.625,delayUntilDecay:250},r[l.a.Noice]={numOfFlamethrowers:4,numOfParticlesPerSecond:60,scale:1,velocityMin:30,velocityMax:40,accelerationY:-.625,delayUntilDecay:250},r[l.a.Cool]={numOfFlamethrowers:2,numOfParticlesPerSecond:80,scale:1.25,velocityMin:50,velocityMax:70,accelerationY:-.625,delayUntilDecay:250},r[l.a.Wow]={numOfFlamethrowers:4,numOfParticlesPerSecond:80,scale:1.25,velocityMin:50,velocityMax:70,accelerationY:-.625,delayUntilDecay:250},r[l.a.PogChamp]={numOfFlamethrowers:2,numOfParticlesPerSecond:80,scale:1.6,velocityMin:70,velocityMax:90,accelerationY:-.625,delayUntilDecay:250},r[l.a.OmegaPog]={numOfFlamethrowers:4,numOfParticlesPerSecond:80,scale:1.6,velocityMin:70,velocityMax:90,accelerationY:-.625,delayUntilDecay:250},r[l.a.ExtinctionEvent]={numOfFlamethrowers:4,numOfParticlesPerSecond:90,scale:2,velocityMin:70,velocityMax:90,accelerationY:-.75,delayUntilDecay:350},r),I=function(e){var t=e.width,n=e.height,i=e.intensity,r=e.duration,a=e.images,c=e.onAnimationEnd,u=j[i];u||(u=j[l.a.Cute]);var d=Object(s.useMemo)((function(){var e=[1/3,2/3];return 4===u.numOfFlamethrowers&&(e=[1/6,2/6,4/6,5/6]),e.map((function(e){return new _(Object(o.__assign)(Object(o.__assign)({},u),{dx:t*e,dy:n,images:a,decayMin:.2,decayMax:.4,bezier:w,spread:T,angle:N}),0,!1,r)}))}),[u,r,t,n,a]);return s.createElement(f,{width:t,height:n,effects:d,drag:.14,acceleration:{x:0,y:u.accelerationY,z:0},distance:800,onAnimationEnd:c})},x=function(e){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=1e3);for(var a=[],o=r*(t.numOfParticlesPerSecond/1e3),s=0;s<o;s++){var c=t.images[b(0,t.images.length)],l=g(t.xLeft+c.width,t.xRight-c.width),u=c.height,d=b(0,r);a.push(new v(c,l,u,g(0,t.distance),0,0,0,g(-Math.PI/4,Math.PI/4),1,g(t.decayMin,t.decayMax),r,d,t.scale,!1))}return e.call(this,a,n,i,r)||this}return Object(o.__extends)(t,e),t}(y),R=((a={})[l.a.Cute]={numOfParticlesPerSecond:40,scale:.7,velocityMin:20,velocityMax:30,decayMin:.025,decayMax:.025,accelerationY:.4,delayUntilDecay:400},a[l.a.Noice]={numOfParticlesPerSecond:55,scale:.85,velocityMin:28,velocityMax:38,decayMin:.015,decayMax:.015,accelerationY:.6,delayUntilDecay:500},a[l.a.Cool]={numOfParticlesPerSecond:65,scale:1,velocityMin:35,velocityMax:45,decayMin:.01,decayMax:.01,accelerationY:.8,delayUntilDecay:600},a[l.a.Wow]={numOfParticlesPerSecond:80,scale:1,velocityMin:40,velocityMax:50,decayMin:.004,decayMax:.008,accelerationY:1,delayUntilDecay:800},a[l.a.PogChamp]={numOfParticlesPerSecond:80,scale:1.25,velocityMin:55,velocityMax:70,decayMin:.004,decayMax:.008,accelerationY:1.25,delayUntilDecay:800},a[l.a.OmegaPog]={numOfParticlesPerSecond:90,scale:1.5,velocityMin:70,velocityMax:90,decayMin:0,decayMax:0,accelerationY:1.5,delayUntilDecay:0},a[l.a.ExtinctionEvent]={numOfParticlesPerSecond:100,scale:2,velocityMin:80,velocityMax:100,decayMin:0,decayMax:0,accelerationY:2,delayUntilDecay:0},a),A=function(e){var t=e.width,n=e.height,i=e.intensity,r=e.duration,a=e.images,c=e.onAnimationEnd,u=R[i];u||(u=R[l.a.Cute]);var d=Object(s.useMemo)((function(){return new x(Object(o.__assign)(Object(o.__assign)({},u),{images:a,distance:800,particleDelay:500,xLeft:0,xRight:t}),0,!1,r)}),[u,r,a,t]);return s.createElement(f,{width:t,height:n,effects:[d],drag:.14,acceleration:{x:0,y:u.accelerationY,z:0},distance:800,onAnimationEnd:c})},M=function(e,t,n,i){void 0===n&&(n=23),void 0===i&&(i=30);var r=new Image;return r.src=e,r.alt=t,r.width=n,r.height=i,r},F=function(e){var t=e.animationID,n=e.effect,i=e.intensity,r=e.duration,a=e.emotes,m=e.emoteHeight,p=e.emoteWidth,f=e.onAnimationEnd,h=Object(s.useState)(null),v=h[0],g=h[1],b=Object(s.useCallback)((function(e){if(e){var t=e.getBoundingClientRect();g({width:t.width,height:t.height})}}),[g]),y=s.useMemo((function(){return M("https://d3aqoihi2n8ty8.cloudfront.net/celebi/diamond.png","diamond",m,p)}),[m,p]),k=s.useMemo((function(){return M("https://d3aqoihi2n8ty8.cloudfront.net/celebi/star.png","star",m,p)}),[m,p]),S=Object(s.useMemo)((function(){var e=a.map((function(e){return t=e.id,n=e.token,void 0===(i=m)&&(i=23),void 0===(r=p)&&(r=30),M("https://static-cdn.jtvnw.net/emoticons/v1/"+t+"/1.0",n,i,r);var t,n,i,r}));return Object(o.__spreadArrays)([y,k],Object(l.p)(e,t))}),[t,a,m,p,y,k]),E=r,C=null;if(v)switch(n){case c.K.FLAMETHROWERS:C=s.createElement(I,{width:v.width,height:v.height,intensity:i,duration:E,images:S,onAnimationEnd:f});break;case c.K.RAIN:C=s.createElement(A,{width:v.width,height:v.height,intensity:i,duration:E,images:S,onAnimationEnd:f});break;case c.K.FIREWORKS:default:C=s.createElement(D,{width:v.width,height:v.height,intensity:i,duration:E,images:S,onAnimationEnd:f})}return s.createElement(u.a,{position:d.o.Relative,fullWidth:!0,fullHeight:!0,refDelegate:b},C)}},ZRfM:function(e,t,n){},a5fV:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var i=n("/7QA");function r(e,t){return e/Math.pow(10,t)}function a(e,t){return Object(i.f)(e,{style:"currency",currency:t})}function o(e,t,n){var i,o,s,c;void 0===t&&(t=1),void 0===n&&(n=!1);var l=null===(s=null===(o=null===(i=null==e?void 0:e.listing)||void 0===i?void 0:i.chargeModel)||void 0===o?void 0:o.internal)||void 0===s?void 0:s.previewPrice;if(l)return a(r((n?l.total:(null===(c=l.discount)||void 0===c?void 0:c.total)||l.total)*t,l.exponent),l.currency)}},ami3:function(e,t,n){},aw6k:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("/7QA"),a=n("V+o+"),o=n("geRD"),s=n("1/iK"),c=n("DMoW"),l=n("NRne"),u=n("IZXT");function d(e,t,n,u){var d,m,p,f,h;return void 0===u&&(u=!0),Object(i.__awaiter)(this,void 0,void 0,(function(){var v;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r.p.tracking.track(l.a.UpdateEmailAttempt,{}),[4,Object(a.a)(e,Object(o.a)({email:t,userID:n,includeVerificationCode:!0}),(function(e){var t,n;return u&&(null===(n=null===(t=e.updateUser)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code)===c.wf.REAUTH_NEEDED}),s.a.SettingsPage)];case 1:return v=i.sent(),(null===(m=null===(d=v.data)||void 0===d?void 0:d.updateUser)||void 0===m?void 0:m.error)?r.p.tracking.track(l.a.UpdateEmailFailure,{error_code:null===(f=null===(p=v.data)||void 0===p?void 0:p.updateUser)||void 0===f?void 0:f.error.code}):r.p.tracking.track(l.a.UpdateEmailSuccess,{}),[2,null===(h=v.data)||void 0===h?void 0:h.updateUser]}}))}))}function m(e,t,n){Object(u.d)()?t.warn("Unrecognized User Service response error when trying to change email",{userID:e,error:n}):t.errorAndReport(n?new Error(n):new Error("Unrecognized User Service response error when trying to change email"),"Unrecognized User Service response error when trying to change email",{userID:e,error:n})}},b5vT:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var i=n("TSYQ"),r=n("q1tI"),a=n("/7QA"),o=n("8Xrw"),s=n("GnwI"),c=n("XC6p"),l=n("IyK4"),u=n("Yegi"),d=(n("GOKC"),"emote-button"),m=function(e){var t=i("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,m=n.displayName,p=n.srcSet;if(!p)return null;var f=p.split(" ")[0],h=r.createElement("img",{className:"emote-picker__image",src:f,srcSet:p,alt:m});if(e.isCriticalImage){for(var v={},g=0,b=p.split(",");g<b.length;g++){var y=b[g].trim().split(" "),k=y[1],S=y[0];v[k]=S}h=r.createElement(s.CriticalImage,{className:"emote-picker__emote-image",src:f,srcSet:v,alt:m||""})}var E=r.createElement(o.a,{lockIcon:e.emote.isBitsTierEmote?o.b.BITS:o.b.LOCK,className:"emote-button__lock"});return r.createElement("div",{className:d},r.createElement(c.a,{label:m||Object(a.d)("Emote","EmoteButton")},r.createElement(l.a,{display:u.h.Flex,alignItems:u.b.Center,justifyContent:u.m.Center},r.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":m,name:m,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":m},r.createElement("figure",null,e.emote.isLocked?E:null,e.showOptions&&r.createElement("div",{className:d+"__options"}),h)))))}},b92r:function(e,t,n){e.exports=n.p+"assets/purple-gem-74ef4a0fcc90ab16cc60.png"},bFOZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"query CheckoutFormSuccessScreen($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CheckoutFormSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CheckoutFormSuccessScreen")},bFdo:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"GoRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GoRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raid"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation GoRaid($input: GoRaidInput!) {\ngoRaid(input: $input) {\nraid {\nid\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.GoRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"GoRaid")},bGTo:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("/7QA"),r=n("eAel");var a=function(e){try{var t=i.m.get("drop_ids",{});if(!(t&&e in t))return[];var n=t[e];if(!n||!n.drops||0===n.drops.length)return[];var a=new Date(n.lastStoredAt);return o=a,s=new Date,c=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate()),l=Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()),Math.floor((l-c)/r.b)>1?(function(e){try{var t=i.m.get("drop_ids",{});e in t&&(t[e]={drops:[],lastStoredAt:new Date},i.m.set("drop_ids",t))}catch(e){i.k.warn("[DropsHighlightService] error trying to clean drop claims")}}(e),[]):n.drops}catch(e){return i.k.warn("[DropsHighlightService] error trying to load drop claims"),[]}var o,s,c,l},o=function(e,t){try{var n=i.m.get("drop_ids",{});if(e in n){var r=n[e],a=r.drops.filter((function(e){return e!==t}));0===a.length?delete n[e]:n[e]={drops:a,lastStoredAt:r.lastStoredAt},i.m.set("drop_ids",n)}}catch(e){i.k.warn("[DropsHighlightService] error trying to remove a drop claim")}},s=function(e,t){try{var n=i.m.get("drop_ids",{}),r=void 0;if(e in n){var a=n[e],o=new Set(a.drops||[]);o.add(t),r={drops:Array.from(o),lastStoredAt:new Date}}else r={drops:[t],lastStoredAt:new Date};n[e]=r,i.m.set("drop_ids",n)}catch(e){i.k.warn("[DropsHighlightService] error trying to persist a drop claim")}}},bNmR:function(e,t,n){},"bO8+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA");function r(){return"variant_b"===i.p.experiments.getAndTrackAssignment("norton_badge_v2")}},bOWA:function(e,t,n){e.exports=n.p+"assets/mastercard-280a786ec3225a087428.svg"},bQeB:function(e,t,n){e.exports=n.p+"assets/generic_credit_card_1x-a6b9cd93075728ab4114.png"},beC6:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPoll_GetUserStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:142}};n.loc.source={body:"query ChannelPoll_GetUserStatus($channelID: ID!) {\nchannel: user(id: $channelID) {\nid\nlogin\ndisplayName\nself {\nbanStatus {\nisPermanent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPoll_GetUserStatus=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPoll_GetUserStatus")},c7f0:function(e,t,n){"use strict";function i(e){return e.playerPublicPropsContext.behaviors||{}}function r(e){return e.playerPublicPropsContext.content}function a(e){return e.playerPublicPropsContext.callbacks||{}}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}))},cBvd:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b}));var i,r=n("pVnL"),a=n.n(r),o=n("8OQS"),s=n.n(o),c=n("VbXa"),l=n.n(c),u=n("q1tI"),d=n("o5gP"),m=n("SWse"),p=n("Yegi"),f=n("IyK4"),h=n("OCDW"),v=n("hMTT");!function(e){e.Checkbox="checkbox",e.Radio="radio"}(i||(i={}));var g=function(e){function t(){return e.apply(this,arguments)||this}return l()(t,e),t.prototype.render=function(){var e=Object(d.b)(),t={"tw-selectable":!0,"tw-selectable--error":this.props.error,"tw-selectable--overlay":this.props.overlay},n={"tw-selectable__child-border":!0,"tw-selectable__child-border--medium":this.props.borderRadius&&this.props.borderRadius===p.e.Medium,"tw-selectable__child-border--large":this.props.borderRadius&&this.props.borderRadius===p.e.Large},i=this.props,r=i.borderRadius,o=i.children,c=(i.error,i.id),l=i.refDelegate,v=(i.overlay,s()(i,["borderRadius","children","error","id","refDelegate","overlay"]));return u.createElement(h.a,{className:Object(m.a)(t)},u.createElement("input",a()({className:"tw-selectable__input","data-a-target":"tw-selectable",id:c||e,ref:l},v)),u.createElement(f.a,{display:p.h.Block,position:p.o.Relative,borderRadius:r},u.createElement("label",{className:"tw-selectable__label",htmlFor:c||e},u.createElement(h.a,{className:Object(m.a)(n),borderRadius:r&&r===p.e.Rounded?p.e.Rounded:void 0,position:p.o.Relative},o))))},t}(u.Component);g.displayName="SelectableComponent",g.displayName="SelectableComponent";var b=Object(v.b)(g)},cO90:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TwoFactorReminder"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasTwoFactorEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:"query TwoFactorReminder {\ncurrentUser {\nid\nsettings {\nhasTwoFactorEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TwoFactorReminder=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"TwoFactorReminder")},csmi:function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_1x-5810bf2a8f8185a1a905.png"},d028:function(e,t,n){},dAHa:function(e,t,n){"use strict";n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return B})),n.d(t,"b",(function(){return Le}));var i,r=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("/7QA"),l=n("atdg"),u=n("yR8l"),d=n("BhFH"),m=n("iS14"),p=n("geRD"),f=n("O3Y9"),h=n("f00E"),v=n("DMoW"),g=n("2xye"),b=n("IZXT"),y=n("GnwI"),k=n("kgU5"),S=n("QVaV"),E=n("p9DJ"),C=n("OCDW"),O=n("Yegi"),D=n("LNol"),P=n("Ix37"),_=n("uq9l"),T=n("YUew"),N=(n("MPK0"),"report-wizard-block"),w="report-wizard-unblock",j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={userBlocked:t.props.userBlocked||!1},t.renderBlock=function(){return a.createElement(E.a,{hoverUnderlineNone:!0,onClick:t.handleBlock,"data-test-selector":N},a.createElement(C.a,{display:O.h.Flex,alignItems:O.b.Center},a.createElement(D.a,{type:D.b.Brand,asset:P.a.Ban}),a.createElement(C.a,{margin:{left:.5}},Object(c.d)("Block {user}",{user:t.displayName()},"ReportWizardBlockActions"))))},t.renderUnblock=function(){return a.createElement(C.a,{className:"report-wizard__block-actions",display:O.h.Flex,alignItems:O.b.Center},a.createElement(D.a,{type:D.b.Success,asset:P.a.FollowCheck}),a.createElement(C.a,{margin:{right:1}},a.createElement(_.a,{className:"block-user__success",type:_.e.Span},Object(c.d)("{user} blocked",{user:t.displayName()},"ReportWizardBlockActions"))),a.createElement(E.a,{hoverUnderlineNone:!0,onClick:t.handleUnblock,"data-test-selector":w},a.createElement(C.a,{margin:{left:.5}},Object(c.d)("Unblock","ReportWizardBlockActions"))))},t.handleBlock=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.props.onBlock(),this.setState({userBlocked:!0}),[2]}))}))},t.handleUnblock=function(){t.props.onUnblock(),t.setState({userBlocked:!1})},t.displayName=function(){var e=t.props.targetUser.displayName,n=t.props.targetUser.login;return e||(n||"")},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.state.userBlocked?this.renderUnblock():this.renderBlock(),t=Object(S.a)(this.props.targetUser.login,this.props.targetUser.displayName,!0);return a.createElement(C.a,{borderTop:!0,padding:{y:1},margin:{top:1}},a.createElement(C.a,null,Object(c.d)("Would you like to block {user}?",{user:t},"ReportWizardBlockActions")),a.createElement(C.a,{color:O.f.Alt2,margin:{y:1}},a.createElement(T.a,{baseFontSize:O.k.Size6},a.createElement("p",null,Object(c.d)("Blocking {user} will:",{user:t},"ReportWizardBlockActions")),a.createElement("ul",null,a.createElement("li",null,Object(c.d)("Prevent them from sending you whispers","ReportWizardBlockActions")),a.createElement("li",null,Object(c.d)("Prevent them from hosting you","ReportWizardBlockActions")),a.createElement("li",null,Object(c.d)("Prevent them from adding you as a friend","ReportWizardBlockActions")),a.createElement("li",null,Object(c.d)("Prevent them from purchasing gift subs for other users in your channel","ReportWizardBlockActions")),a.createElement("li",null,Object(c.d)("Filter their messages out of chats you dont moderate","ReportWizardBlockActions"))))),a.createElement(C.a,{margin:{top:1}},e))},t}(a.Component),I=n("nAiT"),x=n("4qQ0");!function(e){e.Link="link",e.MultipleChoice="multiple choice",e.Text="text",e.Textarea="textarea",e.Checkbox="checkbox",e.TextInput="textinput"}(i||(i={}));var R,A={generalFilter:function(){return Object(c.d)("I don't think their content or behavior is allowed on Twitch","ReportModalWizard")},me:function(){return Object(c.d)("Me","ReportModalWizard")},someoneElse:function(){return Object(c.d)("Someone else","ReportModalWizard")},abusiveViolence:function(){return Object(c.d)("Threatening violence or physical harm","ReportModalWizard")},commitingViolence:function(){return Object(c.d)("Committing acts of violence or physical harm","ReportModalWizard")},threatening:function(){return Object(c.d)("Threatening, harming, or endangering someone","ReportModalWizard")},abusive:function(){return Object(c.d)("Being hateful, harassing, or abusive","ReportModalWizard")},harassment:function(){return Object(c.d)("Hate speech, harassment, or abuse","ReportModalWizard")},moreOptions:function(){return Object(c.d)("Give me more options...","ReportModalWizard")},scam:function(){return Object(c.d)("Attempts to scam other community members","ReportModalWizard")}},M={input_description:{testSelector:"input_description",getTitle:function(){return Object(c.d)("Could you provide more detail about this issue? You may include links to videos, clips, and content outside Twitch.","ReportModalWizard")},value:"description",type:i.Textarea,required:!0},input_link:{testSelector:"input_link",getTitle:function(){return Object(c.d)("If possible, please provide a link to show us where the issue occurred. Links that do not lead to the original source of the content may not be usable as evidence.","ReportModalWizard")},rows:2,value:"external links",type:i.Textarea},input_usernames:{testSelector:"input_usernames",getTitle:function(){return Object(c.d)("If you know the usernames of any other Twitch accounts that may be owned by this person, please list them in this space.","ReportModalWizard")},value:"other usernames",rows:2,type:i.Textarea},input_connection:{testSelector:"input_connection",getTitle:function(){return Object(c.d)("Please describe how you connected the offsite content to this Twitch account.","ReportModalWizard")},value:"offsite content connection",type:i.Textarea},input_comments:{testSelector:"input_comments",getTitle:function(){return Object(c.d)("If you have any other comments you would like to add, please do so here.","ReportModalWizard")},value:"comments",type:i.Textarea},input_identifyOwner:{testSelector:"input_identifyOwner",getTitle:function(){return Object(c.d)("Please describe how you identified this person as the owner of this Twitch account.","ReportModalWizard")},rows:2,value:"connect account owner",type:i.Textarea},input_emotes:{testSelector:"input_emotes",getTitle:function(){return Object(c.d)("Please provide more detail about the emote in question.","ReportModalWizard")},value:"emote report context",type:i.Textarea,required:!0},endBlurb_socialmedia:{testSelector:"endBlurb_socialmedia",getTitle:function(){return Object(c.d)("Please submit a report on the site or service where the incident occurred as well if you have not already done so.","ReportModalWizard")},type:i.Text},endBlurb_threat:{testSelector:"endBlurb_threat",getTitle:function(){return Object(c.d)("If you feel you are in immediate danger, please contact your local law enforcement. To protect yourself on Twitch, you may also block the user.","ReportModalWizard")},type:i.Text},endLink_selfharm:{testSelector:"endLink_selfharm",getTitle:function(){return Object(c.d)("Learn more about mental health support","ReportModalWizard")},value:"https://help.twitch.tv/customer/en/portal/articles/2904486-twitch-cares-mental-health-support-information",type:i.Link},endLink_DMCA:{testSelector:"endLink_DMCA",getTitle:function(){return Object(c.d)("View our DMCA Notification Guidelines","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/dmca-guidelines/",type:i.Link},endLink_trademark:{testSelector:"endLink_trademark",getTitle:function(){return Object(c.d)("View our Trademark Policy","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/trademark-policy/",type:i.Link},endLink_devAgreement:{testSelector:"endLink_devAgreement",getTitle:function(){return Object(c.d)("View our Developer Agreement","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/developer-agreement/",type:i.Link},endLink_eventCoC:{testSelector:"endLink_eventCoC",getTitle:function(){return Object(c.d)("View our Events Code of Conduct","ReportModalWizard")},value:"https://www.twitch.tv/p/legal/events-code-of-conduct",type:i.Link},messaging_general:{testSelector:"messaging_general",getTitle:A.generalFilter,value:"general_messaging",omitFromDescription:!0},profile_general:{testSelector:"profile_general",getTitle:A.generalFilter,value:"general_profile",omitFromDescription:!0},maliciousRaid:{testSelector:"maliciousRaid",getTitle:function(){return Object(c.d)("Participating in a malicious raid","ReportModalWizard")},value:"malicious raid",reportReason:x.a.Harassment},automod:{testSelector:"automod",getTitle:function(){return Object(c.d)("It's being used to bypass AutoMod","ReportModalWizard")},value:"bypass automod",reportReason:x.a.Other},violence:{testSelector:"violence",getTitle:function(){return Object(c.d)("Threats, harm, or endangerment of someone","ReportModalWizard")},value:"violence/threats",reportReason:x.a.Harm},terrorism_mass_violence:{testSelector:"terrorism_mass_violence",getTitle:function(){return Object(c.d)("Terrorism or act of mass violence","ReportModalWizard")},value:"terrorism_mass_violence",reportReason:x.a.TerrorismMassViolence},report_emotes:{testSelector:"report_emotes",getTitle:function(){return Object(c.d)("The emotes or badges","ReportModalWizard")},value:"inappropriate emotes",reportReason:x.a.Other},emotes_break_guidelines:{testSelector:"emotes_break_guidelines",getTitle:function(){return Object(c.d)("The emotes break Twitch's guidelines","ReportModalWizard")},value:"emotes break guidelines",reportReason:x.a.Other},abusive:{testSelector:"abusive",getTitle:A.harassment,value:"abusive"},scam:{testSelector:"scam",getTitle:A.scam,value:"scam",reportReason:x.a.Spam},emptyStream:{testSelector:"emptyStream",getTitle:function(){return Object(c.d)("There's nobody on the stream","ReportModalWizard")},value:"empty stream"},impersonation:{testSelector:"impersonation",getTitle:function(){return Object(c.d)("They're impersonating someone","ReportModalWizard")},value:"impersonation",reportReason:x.a.Impersonation},impersonating:{testSelector:"impersonating",getTitle:function(){return Object(c.d)("Impersonating someone","ReportModalWizard")},value:"impersonation",reportReason:x.a.Impersonation},underage:{testSelector:"underage",getTitle:function(){return Object(c.d)("They're underage (12 or younger)","ReportModalWizard")},value:"underage",reportReason:x.a.Underaged},report_ip:{testSelector:"report_ip",getTitle:function(){return Object(c.d)("I think they're using copyrighted content, trademarks, or other intellectual property that's not theirs","ReportModalWizard")},value:"intellectual property"},itsInappropriateContent:{testSelector:"itsInappropriateContent",getTitle:function(){return Object(c.d)("It's inappropriate or obscene","ReportModalWizard")},value:"inappropriate content"},inappropriateContent:{testSelector:"inappropriateContent",getTitle:function(){return Object(c.d)("Inappropriate or obscene content","ReportModalWizard")},value:"inappropriate content"},violateDevAgreement:{testSelector:"violateDevAgreement",getTitle:function(){return Object(c.d)("They're breaking Twitch's Developer Agreement","ReportModalWizard")},value:"violating developer agreement"},revealPersonalInfo:{testSelector:"revealPersonalInfo",getTitle:function(){return Object(c.d)("Revealing someone's personal information","ReportModalWizard")},value:"revealing personal info",reportReason:x.a.Other},inappropriateBadge:{testSelector:"inappropriateBadge",getTitle:function(){return Object(c.d)("Their emote or subscriber badge violates Twitch's Guidelines","ReportModalWizard")},value:"emote/subscriber badge",reportReason:x.a.Other},noModeration:{testSelector:"noModeration",getTitle:function(){return Object(c.d)("They're not moderating their chat appropriately","ReportModalWizard")},value:"not moderating chat",reportReason:x.a.Other},inappropriateExtension:{testSelector:"inappropriateExtension",getTitle:function(){return Object(c.d)("The extensions are inappropriate or malicious","ReportModalWizard")},value:"inappropriate extension",reportReason:x.a.Other},cheating:{testSelector:"cheating",getTitle:function(){return Object(c.d)("Cheating in an online game","ReportModalWizard")},value:"cheating",reportReason:x.a.Cheating},bitsViolation:{testSelector:"bitsViolation",getTitle:function(){return Object(c.d)("They're breaking Twitch's Bits Policy","ReportModalWizard")},value:"bits violation",reportReason:x.a.BitsViolation},compromisedAccount:{testSelector:"compromisedAccount",getTitle:function(){return Object(c.d)("The account is stolen or compromised","ReportModalWizard")},value:"account compromised",reportReason:x.a.Other},video_labeling:{testSelector:"video_labeling",getTitle:function(){return Object(c.d)("Their content is misclassified (wrong category or tags)","ReportModalWizard")},value:"incorrect label",reportReason:x.a.Miscategorized},video_general:{testSelector:"video_general",getTitle:A.generalFilter,value:"general_video",omitFromDescription:!0},hateSpeechSymbols:{testSelector:"hateSpeechSymbols",getTitle:function(){return Object(c.d)("It contains hate speech or hate symbols","ReportModalWizard")},value:"hate speech symbols",reportReason:x.a.HatefulConduct},hateSpeech:{testSelector:"hateSpeech",getTitle:function(){return Object(c.d)("Hate speech, hateful symbols, or other hateful conduct","ReportModalWizard")},value:"hate speech",reportReason:x.a.HatefulConduct},harassing:{testSelector:"harassing",getTitle:function(){return Object(c.d)("It's harassing or bullying someone","ReportModalWizard")},value:"harassment",reportReason:x.a.Harassment},harassment:{testSelector:"harassment",getTitle:function(){return Object(c.d)("Harassing or bullying someone","ReportModalWizard")},value:"harassment",reportReason:x.a.Harassment},abusiveViolence:{testSelector:"abusiveViolence",getTitle:A.abusiveViolence,value:"threatening violence",reportReason:x.a.Harm},commitingViolence:{testSelector:"commitingViolence",getTitle:A.commitingViolence,value:"committing violence",reportReason:x.a.Harm},swatting:{testSelector:"swatting",getTitle:function(){return Object(c.d)("Involvement in swatting or DDOS attacks","ReportModalWizard")},value:"swatting/ddosing",reportReason:x.a.Harassment},personalInfo:{testSelector:"personalInfo",getTitle:function(){return Object(c.d)("Doxxing (purposely revealing personal information)","ReportModalWizard")},value:"revealing personal info",reportReason:x.a.Harassment},threat_me:{testSelector:"threat_me",getTitle:function(){return Object(c.d)("At me","ReportModalWizard")},value:"against me",reportReason:x.a.Harm},threat_person:{testSelector:"threat_person",getTitle:function(){return Object(c.d)("At someone else","ReportModalWizard")},value:"against another person",reportReason:x.a.Harm},threat_group:{testSelector:"threat_group",getTitle:function(){return Object(c.d)("At a group of people","ReportModalWizard")},value:"against group of people",reportReason:x.a.Harm},threat_selfharm:{testSelector:"threat_selfharm",getTitle:function(){return Object(c.d)("They're threatening self-harm","ReportModalWizard")},value:"selfharm"},inappropriate_game:{testSelector:"inappropriate_game",getTitle:function(){return Object(c.d)("The game isn't allowed on Twitch","ReportModalWizard")},value:"prohibited game",reportReason:x.a.Prohibited},sexuallyViolentChildAnimal:{testSelector:"sexuallyViolentChildAnimal",getTitle:function(){return Object(c.d)("Sexual conduct involving violence, children, or animals","ReportModalWizard")},value:"sexual conduct: violent, child, or animal",reportReason:x.a.SexualViolence},pornographic:{testSelector:"pornographic",getTitle:function(){return Object(c.d)("Sexually explicit or pornographic content","ReportModalWizard")},value:"pornographic",reportReason:x.a.SexualContent},gory:{testSelector:"gory",getTitle:function(){return Object(c.d)("Extreme violence or gore","ReportModalWizard")},value:"gory",reportReason:x.a.Gore},suggestive:{testSelector:"suggestive",getTitle:function(){return Object(c.d)("Sexually suggestive content","ReportModalWizard")},value:"sexually suggestive",reportReason:x.a.SexualContent},nudity:{testSelector:"nudity",getTitle:function(){return Object(c.d)("Full or partial nudity","ReportModalWizard")},value:"nudity",reportReason:x.a.SexualContent},other:{testSelector:"other",getTitle:function(){return Object(c.d)("There's something else wrong with it...","ReportModalWizard")},value:"other",reportReason:x.a.Other},evasion:{testSelector:"evasion",getTitle:function(){return Object(c.d)("Evading a block, ban, or suspension","ReportModalWizard")},value:"ban evasion"},evasion_sitewide:{testSelector:"evasion_sitewide",getTitle:function(){return Object(c.d)("A sitewide ban from Twitch","ReportModalWizard")},value:"sitewide ban",reportReason:x.a.TosBanEvasion},evasion_chat:{testSelector:"evasion_chat",getTitle:function(){return Object(c.d)("A chat ban from one or more channels","ReportModalWizard")},value:"chat ban",reportReason:x.a.ChatBanEvasion},evasion_messaging:{testSelector:"evasion_messaging",getTitle:function(){return Object(c.d)("A block from messaging me","ReportModalWizard")},value:"messaging block",reportReason:x.a.ChatBanEvasion},impersonation_me:{testSelector:"impersonation_me",getTitle:A.me,value:"impersonating me",reportReason:x.a.Impersonation},impersonation_brand:{testSelector:"impersonation_brand",getTitle:function(){return Object(c.d)("Someone I represent, or a company I work for","ReportModalWizard")},value:"impersonating brand",reportReason:x.a.Impersonation},impersonation_other:{testSelector:"impersonation_other",getTitle:A.someoneElse,value:"Impersonating someone else",reportReason:x.a.Impersonation},selfharm:{testSelector:"selfharm",getTitle:function(){return Object(c.d)("I'm concerned for their wellbeing","ReportModalWizard")},value:"selfharm",reportReason:x.a.SelfHarm},video:{testSelector:"video",getTitle:function(){return Object(c.d)("In a live stream, video, or clip","ReportModalWizard")},value:"video"},video_more_options:{testSelector:"video_more_options",getTitle:A.moreOptions,value:"video more options"},channel_points:{testSelector:"channel_points",getTitle:I.k,value:"channel_points",reportContext:v.fe.CHANNEL_POINTS_REPORT},whisper:{testSelector:"whisper",getTitle:function(){return Object(c.d)("In a whisper (private message)","ReportModalWizard")},value:"whisper",reportContext:v.fe.WHISPER_REPORT},whisper_more_options:{testSelector:"whisper_more_options",getTitle:A.moreOptions,value:"whisper more options"},chat:{testSelector:"chat",getTitle:function(){return Object(c.d)("In a chat message","ReportModalWizardChat")},value:"chat"},chat_more_options:{testSelector:"chat_more_options",getTitle:A.moreOptions,value:"chat more options"},moderating:{testSelector:"moderating",getTitle:function(e){return Object(c.d)("{username} isn't moderating their chat",{username:e},"ReportModalWizard")},value:"moderating",reportReason:x.a.Other},otherContent:{testSelector:"otherContent",getTitle:function(e){return Object(c.d)("In {username}'s other content (profile, emotes, etc.)",{username:e},"ReportModalWizard")},value:"other content"},poll_more_options:{testSelector:"poll_more_options",getTitle:A.moreOptions,value:"poll more options"},profile:{testSelector:"profile",getTitle:function(){return Object(c.d)("The profile content (avatar, panels, etc.)","ReportModalWizard")},value:"profile"},profile_more_options:{testSelector:"profile_more_options",getTitle:A.moreOptions,value:"profile more options"},report_other:{testSelector:"report_other",getTitle:function(){return Object(c.d)("Somewhere else...","ReportModalWizard")},value:"somewhere else",omitFromDescription:!0},report_username:{testSelector:"report_username",getTitle:function(){return Object(c.d)("The username is inappropriate","ReportModalWizard")},value:"inappropriate username",reportReason:x.a.OffensiveUsername},video_streamer:{testSelector:"video_streamer",getTitle:function(){return Object(c.d)("The streamer or channel owner","ReportModalWizard")},value:"streamer"},video_someoneElse:{testSelector:"video_someoneElse",getTitle:function(){return Object(c.d)("Someone else in the video","ReportModalWizard")},value:"someone else in video"},video_chatSomeone:{testSelector:"video_chatSomeone",getTitle:function(){return Object(c.d)("Someone in chat","ReportModalWizard")},value:"someone in chat",differentTarget:!0},report_channelOwner:{testSelector:"report_channelOwner",getTitle:function(){return Object(c.d)("The channel owner","ReportModalWizard")},value:"channel owner"},report_member:{testSelector:"report_member",getTitle:function(){return Object(c.d)("Another community member","ReportModalWizard")},value:"community member",differentTarget:!0},location_onTwitch:{testSelector:"location_onTwitch",getTitle:function(){return Object(c.d)("On Twitch","ReportModalWizard")},value:"on twitch"},location_anotherSite:{testSelector:"location_anotherSite",getTitle:function(){return Object(c.d)("On another site or service","RpoertModalWizard")},value:"another site"},location_TwitchEvent:{testSelector:"location_TwitchEvent",getTitle:function(){return Object(c.d)("In person, at a Twitch event","ReportModalWizard")},value:"twitch event"},external_incitingRaids:{testSelector:"external_incitingRaids",getTitle:function(){return Object(c.d)("Inciting brigading or malicious raids","ReportModalWizard")},reportReason:x.a.Harassment,value:"brigading/raids"},external_threatening:{testSelector:"external_threatening",getTitle:A.threatening,value:"threatening"},external_harassment:{testSelector:"external_harassment",getTitle:A.harassment,value:"hateful/harassing"},external_abusiveViolence:{testSelector:"external_abusiveViolence",getTitle:A.abusiveViolence,value:"external site; threatening violence",reportReason:x.a.Harm},external_commitingViolence:{testSelector:"external_commitingViolence",getTitle:A.commitingViolence,value:"external site; committing violence",reportReason:x.a.Harm},conduct_impersonation:{testSelector:"conduct_impersonation",getTitle:function(){return Object(c.d)("impersonating someone","ReportModalWizard")},value:"impersonation",reportReason:x.a.Impersonation},spam:{testSelector:"spam",getTitle:function(){return Object(c.d)("Spam, malicious links, or bot accounts","ReportModalWizard")},value:"spam",reportReason:x.a.Spam},spam_bot:{testSelector:"spam_bot",getTitle:function(){return Object(c.d)("I think this is a bot account","ReportModalWizard")},value:"bot"},spam_links:{testSelector:"spam_links",getTitle:function(){return Object(c.d)("Sending malicious links","ReportModalWizard")},value:"malicious links"},spam_scam:{testSelector:"spam_scam",getTitle:A.scam,value:"scam"},spam_repeated:{testSelector:"spam_repeated",getTitle:function(){return Object(c.d)("Sending repeated messages (spam)","ReportModalWizard")},value:"repeat messages"},email_address:{testSelector:"email_address",getTitle:function(){return Object(c.d)("Confirm your email","ReportModalWizardNetzDG")},value:"email_address",type:i.TextInput,required:!0,omitFromDescription:!0},content_recipient_me:{testSelector:"content_recipient_me",getTitle:function(){return Object(c.d)("Me","ReportModalWizardNetzDG")},value:"me",type:i.MultipleChoice,omitFromDescription:!0},content_recipient_representative:{testSelector:"content_recipient_representative",getTitle:function(){return Object(c.d)("Someone I represent (a child or a client)","ReportModalWizardNetzDG")},value:"someone_i_represent",type:i.MultipleChoice,omitFromDescription:!0},content_recipient_someone_else:{testSelector:"content_recipient_someone_else",getTitle:function(){return Object(c.d)("Someone else","ReportModalWizardNetzDG")},value:"someone_else",type:i.MultipleChoice,omitFromDescription:!0},reporting_party_myself:{testSelector:"reporting_party_myself",getTitle:function(){return Object(c.d)("On behalf of myself","ReportModalWizardNetzDG")},value:"myself",type:i.MultipleChoice,omitFromDescription:!0},reporting_party_complaints_office:{testSelector:"reporting_party_complaints_office",getTitle:function(){return Object(c.d)("For a complaints office","ReportModalWizardNetzDG")},value:"complaints_office",type:i.MultipleChoice,omitFromDescription:!0},reporting_party_government_agency:{testSelector:"reporting_party_government_agency",getTitle:function(){return Object(c.d)("For a government agency","ReportModalWizardNetzDG")},value:"government_agency",type:i.MultipleChoice,omitFromDescription:!0},verify_info_truthful:{testSelector:"verify_info_truthful",getTitle:function(){return Object(c.d)("I verify that the information filed is truthful","ReportModalWizardNetzDG")},value:"verify_info_truthful",type:i.Checkbox,required:!0,omitFromDescription:!0}};!function(e){e.Confirm="Confirm",e.MultipleChoice="MultipleChoice",e.Info="End Card",e.NetzDGForm="NetzDGForm"}(R||(R={}));var F,L,B,U={contentGeneral:function(){return Object(c.d)("What would you like to report?","ReportModalWizard")},content:function(){return Object(c.d)("What's wrong with this content?","ReportModalWizard")},identifyUser:function(){return Object(c.d)("Who do you want to report?","ReportModalWizard")},thisPersonIs:function(){return Object(c.d)("This person is...","ReportModalWizard")},relevantStatements:function(){return Object(c.d)("What would you like to report? (Please choose the most relevant statement that applies.)","ReportModalWizard")}},V={report:function(e){return Object(c.d)("Report {username}",{username:e},"ReportModalWizard")},reportVideo:function(e){return Object(c.d)("Report {username}'s Video",{username:e},"ReportModalWizard")},reportMessage:function(e){return Object(c.d)("Report {username}'s Message",{username:e},"ReportModalWizard")},reportWhisper:function(e){return Object(c.d)("Report {username}'s Whisper",{username:e},"ReportModalWizard")},reportPoll:function(e){return Object(c.d)("Report {username}'s Poll",{username:e},"Polls--ReportModalWizard")},reportProfileOrOtherContent:function(e){return Object(c.d)("Report {username}'s Profile Or Other Content",{username:e},"ReportModalWizard")},reportProfile:function(e){return Object(c.d)("Report {username}'s Profile Content",{username:e},"ReportModalWizard")},reportEmotesBadges:function(e){return Object(c.d)("Report {username}'s Emotes or Badges",{username:e},"ReportModalWizard")},reportAbusive:function(e){return Object(c.d)("Report {username} for Abusive Conduct",{username:e},"ReportModalWizard")},tellUsMore:function(){return Object(c.d)("Tell Us More","ReportModalWizard")},thanks:function(){return Object(c.d)("Thanks for letting us know","ReportModalWizard")},thanksConcern:function(){return Object(c.d)("Thank you for your concern","ReportModalWizard")}},z={getDescription:function(){return Object(c.d)("Reports are reviewed by Twitch Staff 24 hours a day. We will issue penalties, such as account suspension and/or content removal, once we verify that a violation of our policies has occurred.","ReportModalWizard")},blockPrompt:!0,getTitle:V.thanks,type:R.Info,value:"end card"},G={socialMedia:Object(r.__assign)(Object(r.__assign)({},z),{items:[M.endBlurb_socialmedia]}),violence:Object(r.__assign)(Object(r.__assign)({},z),{items:[M.endBlurb_threat]}),terrorism_mass_violence:Object(r.__assign)(Object(r.__assign)({},z),{items:[M.endBlurb_threat]}),legal:{getTitle:V.thanksConcern,getDescription:function(){return Object(c.d)("To submit a claim or report a violation of this type, you will need to follow the steps listed on the relevant page below.","ReportModalWizard")},items:[M.endLink_DMCA,M.endLink_trademark,M.endLink_devAgreement],type:R.Info,value:"ip end"},selfharm:{getTitle:V.thanksConcern,getDescription:function(){return Object(c.d)("If you know the user personally, and you believe them to be in danger, please contact their local authorities immediately. The link below contains some general information that may be of use.","ReportModalWizard")},items:[M.endLink_selfharm],type:R.Info,value:"selfharm end"},twitchEvent:{getTitle:V.thanksConcern,getDescription:function(){return Object(c.d)("Please bring this concern to the attention of staff or security at the event if you have not already done so. More information is available at the link below.","ReportModalWizard")},items:[M.endLink_eventCoC],value:"twitch event end",type:R.Info}},H={getTitle:V.report,getLabel:function(){return Object(c.d)("Where is the problem?","ReportModalWizard")},items:[M.video,M.whisper,M.chat,M.moderating,M.otherContent,M.report_username,M.channel_points,M.report_other],type:R.MultipleChoice,value:"content type"},W={identifyUser:{getTitle:V.reportVideo,getLabel:U.identifyUser,items:[M.video_streamer,M.video_someoneElse,M.video_chatSomeone],type:R.MultipleChoice,value:"video identify user"},content:{getTitle:V.reportVideo,getLabel:U.contentGeneral,items:[M.terrorism_mass_violence,M.violence,M.abusive,M.video_labeling,M.inappropriateContent,M.selfharm,M.video_more_options],type:R.MultipleChoice,value:"video report reason"},moreOptions:{getTitle:V.reportVideo,getLabel:U.contentGeneral,items:[M.revealPersonalInfo,M.cheating,M.impersonating,M.underage,M.bitsViolation,M.report_ip,M.other],type:R.MultipleChoice,value:"video general report reason"}},q={content:{getTitle:V.reportMessage,getLabel:U.contentGeneral,items:[M.report_username,M.violence,M.abusive,M.evasion,M.spam,M.selfharm,M.chat_more_options],type:R.MultipleChoice,value:"message report reason"},moreOptions:{getTitle:V.reportMessage,getLabel:U.contentGeneral,items:[M.emotes_break_guidelines,M.inappropriateContent,M.revealPersonalInfo,M.maliciousRaid,M.underage,M.bitsViolation,M.other],type:R.MultipleChoice,value:"message general report reason"}},Q={general:{getTitle:V.reportWhisper,getLabel:U.contentGeneral,items:[M.report_username,M.violence,M.abusive,M.spam,M.selfharm,M.whisper_more_options],type:R.MultipleChoice,value:"whisper report reason",getDescription:function(){return Object(c.d)("Please note that we may review additional messages in this conversation to determine the context of your report.","ReportModalWizard")}},moreOptions:{getTitle:V.reportWhisper,getLabel:U.contentGeneral,items:[M.emotes_break_guidelines,M.evasion,M.inappropriateContent,M.revealPersonalInfo,M.underage,M.other],type:R.MultipleChoice,value:"whisper general report reason"}},Y={general:{getTitle:V.reportPoll,getLabel:U.contentGeneral,items:[M.violence,M.abusive,M.spam,M.selfharm,M.poll_more_options],type:R.MultipleChoice,value:"poll report reason"},moreOptions:{getTitle:V.reportPoll,getLabel:U.contentGeneral,items:[M.emotes_break_guidelines,M.evasion,M.inappropriateContent,M.revealPersonalInfo,M.underage,M.other],type:R.MultipleChoice,value:"poll general report reason"}},K={profile:{getTitle:V.reportProfile,getLabel:U.contentGeneral,items:[M.revealPersonalInfo,M.violence,M.abusive,M.inappropriateContent,M.selfharm,M.profile_more_options],type:R.MultipleChoice,value:"profile report reason"},profileMoreOptions:{getTitle:V.reportProfile,getLabel:U.contentGeneral,items:[M.scam,M.evasion,M.impersonation,M.underage,M.report_ip,M.other],type:R.MultipleChoice,value:"profile general report reason"},emotes:{getTitle:V.reportEmotesBadges,getLabel:U.content,items:[M.hateSpeechSymbols,M.harassing,M.itsInappropriateContent,M.automod,M.report_ip,M.other],type:R.MultipleChoice,value:"emote report reason"},general:{getTitle:V.reportProfileOrOtherContent,getLabel:U.content,items:[M.report_username,M.profile,M.report_emotes,M.inappropriateExtension,M.compromisedAccount,M.violateDevAgreement],type:R.MultipleChoice,value:"profile content location"}},J={getTitle:function(e){return Object(c.d)("Report {username}'s Room",{username:e},"ReportModalWizard")},getLabel:U.identifyUser,items:[M.report_channelOwner,M.report_member],value:"room report user",type:R.MultipleChoice},X={getTitle:V.tellUsMore,items:[M.input_description],type:R.Confirm,value:"tell us more"},Z={getTitle:function(e){return Object(c.d)("Report {username}'s Emote",{username:e},"ReportModalWizard")},items:[M.input_emotes],type:R.Confirm,value:"Emote report context"},$={banEvasion:Object(r.__assign)(Object(r.__assign)({},X),{items:[M.input_usernames,M.input_description],value:"ban evasion tell us more"}),socialMedia:Object(r.__assign)(Object(r.__assign)({},X),{items:[M.input_link,M.input_connection,M.input_description],nextCard:G.socialMedia,value:"social media tell us more"})},ee={content:{getTitle:V.reportAbusive,getLabel:U.relevantStatements,items:[M.hateSpeech,M.harassment,M.abusiveViolence,M.commitingViolence,M.swatting,M.personalInfo],type:R.MultipleChoice,value:"abuse type"}},te={identifyLocation:{getTitle:function(e){return Object(c.d)("Report {username} for something else...",{username:e},"ReportModalWizard")},getLabel:function(){return Object(c.d)("Where did the problem happen?","ReportModalWizard")},items:[M.location_onTwitch,M.location_anotherSite,M.location_TwitchEvent],type:R.MultipleChoice,value:"off-site conduct location"},externalSite:{getTitle:function(e){return Object(c.d)("Report {username}'s Conduct on Another Site or Service",{username:e},"ReportModalWizard")},getLabel:U.contentGeneral,getDescription:function(){return Object(c.d)("Please note that incidents reported through this form must involve Twitch community members. If possible, please submit a report to the site or service where the incident occurred as well.","ReportModalWizard")},items:[M.external_incitingRaids,M.external_threatening,M.external_harassment],type:R.MultipleChoice,nextCard:$.socialMedia,value:"external site conduct"},external_abusive:Object(r.__assign)(Object(r.__assign)({},ee.content),{items:[M.hateSpeech,M.harassment,M.external_abusiveViolence,M.external_commitingViolence,M.swatting,M.personalInfo],nextCard:$.socialMedia})},ne={getTitle:function(e){return Object(c.d)("Report {username}'s Spam or Malicious Links",{username:e},"ReportModalWizard")},getLabel:U.contentGeneral,items:[M.spam_bot,M.spam_scam,M.spam_links,M.spam_repeated],type:R.MultipleChoice,value:"spam type"},ie={getTitle:function(e){return Object(c.d)("Report {username} for Inappropriate Content",{username:e},"ReportModalWizard")},getLabel:U.relevantStatements,items:[M.inappropriate_game,M.gory,M.sexuallyViolentChildAnimal,M.pornographic,M.suggestive,M.nudity,M.other],type:R.MultipleChoice,value:"inappropriate content type"},re={getTitle:function(e){return Object(c.d)("Report {username} for Evading a Ban",{username:e},"ReportModalWizard")},getLabel:function(){return Object(c.d)("What kind of ban are they evading?","ReportModalWizard")},value:"ban type",items:[M.evasion_chat,M.evasion_sitewide,M.evasion_messaging],type:R.MultipleChoice,nextCard:$.banEvasion},ae={getTitle:function(e){return Object(c.d)("Report {username} for Impersonation",{username:e},"ReportModalWizard")},getLabel:function(){return Object(c.d)("Who is being impersonated?","ReportModalWizard")},getDescription:function(){return Object(c.d)("Please note that parody, cosplay, and other portrayals without the intent to deceive or defraud are allowed under Twitch's Community Guidelines. If you would still like to submit a report, please continue.","ReportModalWizard")},items:[M.impersonation_me,M.impersonation_brand,M.impersonation_other],type:R.MultipleChoice,value:"impersonation type"},oe={getLabel:function(){return Object(c.d)("Who is this content directed to?","ReportModalWizardNetzDG")},items:[M.content_recipient_me,M.content_recipient_representative,M.content_recipient_someone_else],type:R.MultipleChoice,value:"content_recipient"},se={getLabel:function(){return Object(c.d)("Who are you reporting for?","ReportModalWizardNetzDG")},items:[M.reporting_party_myself,M.reporting_party_complaints_office,M.reporting_party_government_agency],type:R.MultipleChoice,value:"reporting_party"},ce={getTitle:function(){return Object(c.d)("NetzDG Report","ReportModalWizardNetzDG")},items:Object(r.__spreadArrays)([M.email_address],oe.items,se.items,[M.verify_info_truthful]),type:R.NetzDGForm,value:"netzdg_contact_info"},le=H,ue=X,de=z,me={video:W.content,"video more options":W.moreOptions,whisper:Q.general,"whisper more options":Q.moreOptions,poll:Y.general,"poll more options":Y.moreOptions,chat:q.content,"chat more options":q.moreOptions,"other content":K.general,profile:K.profile,"profile more options":K.profileMoreOptions,room:J,"somewhere else":te.identifyLocation,streamer:W.content,"someone else in video":W.content,"someone in chat":q.content,general_video:W.moreOptions,general_messaging:q.content,general_profile:K.profile,"channel owner":K.general,"community member":q.content,"on twitch":K.general,"another site":te.externalSite,"twitch event":G.twitchEvent,"brigading/raids":$.socialMedia,"hateful/harassing":te.external_abusive,"external site; scam":$.socialMedia,"ban evasion":re,spam:ne,hateful:ee.content,impersonation:ae,abusive:ee.content,"inappropriate content":ie,"inappropriate emotes":K.emotes,"intellectual property":G.legal,"violating developer agreement":G.legal},pe={selfharm:G.selfharm,harm:G.violence,terrorism_mass_violence:G.terrorism_mass_violence,other:de},fe={CHANNEL_FEED_POST_REPORT:K.general,COMMUNITY_REPORT:K.general,CHAT_REPORT:q.content,CLIP_REPORT:W.content,EMOTE_REPORT:Z,EVENT_REPORT:K.general,EXTENSION_REPORT:K.general,LIVE_UP_REPORT:K.general,ROOM_REPORT:J,POLL_REPORT:Y.general,UNBAN_REQUEST_REPORT:q.content,VOD_COMMENT_REPORT:q.content,WHISPER_REPORT:Q.general},he=n("afq6"),ve=n("TwdJ"),ge=n("F+KF"),be=n("Mpot"),ye=n("xlBl"),ke=function(e){return void 0!==e&&je(e)},Se=function(e){var t=e.email,n=e.onChangeTextInput,i=M.email_address,r=Object(c.d)("Email address must be valid","ReportModalWizardNetzDG");return a.createElement(C.a,{padding:{bottom:1}},a.createElement(he.a,{label:i.getTitle(),labelOptional:i.required?"":Object(c.d)("Optional","ReportModalWizardCardNetzDGEmailInput")},a.createElement(ve.a,{required:i.required,type:ve.c.Text,name:i.value,value:t||"",error:ke(t)||!1,"data-test-selector":Ee,onChange:function(e){return n(e)}}),ke(t)&&a.createElement(C.a,{"data-test-selector":"helper-text-selector"},a.createElement(_.a,{color:O.f.Error},r))))},Ee="report-wizard-textinput",Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){var n=e.target,i=n.name,r=n.value;t.props.onChangeText(i,r)},t.onChangeTextInput=function(e){var n=e.target,i=n.name,r=n.value;t.props.onChangeText(i,r)},t.onSelect=function(e,n){var i,r=e.currentTarget.getAttribute("value"),a=null===(i=n.items)||void 0===i?void 0:i.find((function(e){return e.value===r}));a&&t.props.onChangeRadio(a,n)},t.onToggleCheckbox=function(e){var n=e.currentTarget,i=n.name,r="true"===n.value;return t.props.onChangeText(i,(!r).toString())},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.currentCard;switch(e.type){case R.NetzDGForm:var t=M.email_address.value?this.props.userTextInputs[M.email_address.value]:void 0;return a.createElement(C.a,{className:"reporting-wizard-card","data-test-selector":"netzdg-form"},a.createElement(C.a,{padding:{y:.5}},a.createElement(Se,{email:t,onChangeTextInput:this.onChangeTextInput})),a.createElement(C.a,{padding:{y:.5},"data-test-selector":"netzdg-content-recipient-selector"},this.renderCardItems(oe)),a.createElement(C.a,{padding:{y:.5},"data-test-selector":"netzdg-reporting-party-selector"},this.renderCardItems(se)),a.createElement(C.a,{padding:{y:.5}},this.renderCheckbox(M.verify_info_truthful,0)));case R.Confirm:case R.Info:case R.MultipleChoice:default:var n=e.getDescription?a.createElement(C.a,{padding:{bottom:1}},e.getDescription()):null;return a.createElement(C.a,{className:"reporting-wizard-card","data-a-target":e.value},n,this.renderCardItems(e))}},t.prototype.renderTextInput=function(e,t){var n=e.value?this.props.userTextInputs[e.value]:void 0;return a.createElement(C.a,{key:t,padding:{bottom:1},"data-a-target":e.testSelector},a.createElement(he.a,{label:e.getTitle(),labelOptional:e.required?"":Object(c.d)("Optional","ReportModalWizardCardNetzDG")},a.createElement(ve.a,{required:e.required,type:ve.c.Text,name:e.value,value:n||"","data-test-selector":Ee,onChange:this.onChangeTextInput})))},t.prototype.renderCheckbox=function(e,t){var n=e.value,i="true"===this.props.userTextInputs[n];return a.createElement(C.a,{key:t,padding:{bottom:1},"data-a-target":e.testSelector},a.createElement(ge.a,{required:e.required,label:e.getTitle(),onChange:this.onToggleCheckbox,name:n,checked:i,value:i.toString()}))},t.prototype.renderMultipleChoice=function(e,t,n){var i=this,r=this.props.selections[n.value],o=!!r&&r.value===e.value;return a.createElement(C.a,{key:t,padding:{y:.5},"data-a-target":e.testSelector},a.createElement(be.a,{checked:o,onChange:function(e){i.onSelect(e,n)},label:e.getTitle(this.props.targetUser.displayName),"data-a-index":t,name:n.value,value:e.value}))},t.prototype.renderLink=function(e,t){return a.createElement(C.a,{key:t,padding:{bottom:1},"data-a-target":e.testSelector},a.createElement(E.a,{linkTo:e.value,targetBlank:!0},a.createElement(C.a,{display:O.h.Flex},a.createElement(C.a,{display:O.h.Inline,padding:{right:.5}},a.createElement(D.a,{asset:P.a.Document})),e.getTitle())))},t.prototype.renderTextarea=function(e,t){var n=e.value?this.props.userTextInputs[e.value]:void 0,i=e.required&&(!n||!!n&&0===n.trim().length);return a.createElement(C.a,{key:t,padding:{bottom:1},"data-a-target":e.testSelector},a.createElement(he.a,{label:e.getTitle(),labelOptional:e.required?"":Object(c.d)("Optional","ReportModalWizardCard")},a.createElement(ye.a,{onChange:this.onChange,rows:e.rows||3,name:e.value,error:this.props.error&&i,value:n,"data-test-selector":"report-wizard-textarea"})))},t.prototype.renderText=function(e,t){return a.createElement(C.a,{key:t,padding:{bottom:1},"data-a-target":e.testSelector},e.getTitle())},t.prototype.renderCardItems=function(e){var t,n,r=this,o=[];return e.items&&e.type&&(o=e.items.filter((function(e){return!!e})).map((function(t,n){switch(t.type){case i.Checkbox:return r.renderCheckbox(t,n);case i.TextInput:return r.renderTextInput(t,n);case i.Text:return r.renderText(t,n);case i.Link:return r.renderLink(t,n);case i.Textarea:return r.renderTextarea(t,n);case i.MultipleChoice:default:return r.renderMultipleChoice(t,n,e)}}))),a.createElement(he.a,{label:null!==(n=null===(t=e.getLabel)||void 0===t?void 0:t.call(e))&&void 0!==n?n:""},o)},t}(a.Component),Oe=n("5e0Q"),De=(n("m618"),"report-wizard-back"),Pe="report-wizard-close",_e="report-wizard-next",Te="report-wizard-submit",Ne=[v.fe.LIVESTREAM_REPORT,v.fe.VOD_REPORT,v.fe.CLIP_REPORT],we=function(e,t){var n=c.b.get("netzdg_reports_enabled",!1);return!("DE"!==t||!Ne.includes(e)||!n)},je=function(e){return!e||!k.a.test(e)},Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentCard:t.props.currentCard||fe[t.props.reportContentType]||le,prevCards:[],selections:{},userTextInput:{},error:null,loading:!1,reportReason:t.props.reportReason||null,modalCloseTracked:!1,reportContext:t.props.reportContentType},t.renderPrimer=function(){return a.createElement(C.a,{margin:{top:1}},a.createElement(_.a,null,Object(c.d)("We are going to ask you a few questions to help us investigate your report quickly and accurately.","ReportModalWizard")))},t.renderButtons=function(){var e,n=t.state,r=n.userTextInput,o=n.selections,s=n.currentCard,l=n.prevCards,u=Object(c.d)("Close","ReportModalWizard"),d=t.handleClose,m=Pe,p=!1,f=s.type===R.Info||0===l.length?null:t.renderBack(),h=Object(c.d)("Next","ReportModalWizard");switch(s.type){case R.MultipleChoice:u=h,d=t.handleNext,m=_e,p=!o[s.value];break;case R.NetzDGForm:u=Object(c.d)("Submit Report","ReportModalWizardNetzDG"),d=t.handleSubmit,m=Te;var v=r[M.email_address.value];p=void 0===o[oe.value]||void 0===o[se.value]||je(v)||"true"!==r[M.verify_info_truthful.value];break;case R.Confirm:p=(null===(e=null==s?void 0:s.items)||void 0===e?void 0:e.some((function(e){return e.type===i.Textarea&&e.value&&e.required&&!r[e.value]})))||!1,we(t.state.reportContext,t.props.countryCode)?(d=t.handleNext,u=h,m=_e):(u=Object(c.d)("Submit Report","ReportModalWizard"),d=t.handleSubmit,m=Te)}return a.createElement(C.a,null,f,a.createElement(Oe.a,{onClick:d,disabled:p,"data-a-target":m,"data-test-selector":m,state:t.state.loading?Oe.c.Loading:Oe.c.Default},a.createElement(C.a,{padding:{x:1}},u)))},t.renderBack=function(){return a.createElement(C.a,{margin:{right:1},display:O.h.InlineBlock},a.createElement(Oe.a,{type:Oe.d.Secondary,onClick:t.handleBack,"data-test-selector":De},a.createElement(C.a,{padding:{x:1}},Object(c.d)("Back","ReportModalWizard"))))},t.getTitle=function(){var e=!!Object.entries(t.state.selections).find((function(e){e[0];var t=e[1];return!0===(null==t?void 0:t.differentTarget)}));return t.state.currentCard.getTitle&&(t.props.targetDisplayName||t.props.targetUser.displayName)&&t.props.targetUser.id?e?t.state.currentCard.getTitle(Object(c.d)("Another User","ReportModalWizard")):t.state.currentCard.getTitle(t.props.targetDisplayName||t.props.targetUser.displayName||void 0):e?Object(c.d)("Report User","ReportModalWizard"):t.props.title},t.handleClose=function(){t.setState({modalCloseTracked:!0},(function(){return t.props.trackClose({actionType:L.Close,closeType:B.Finish,currentStep:t.state.currentCard.value,choiceIndex:t.getChoiceIndex()})})),t.props.onClose()},t.getChoiceIndex=function(){var e=0;return t.state.currentCard&&t.state.currentCard.items&&(e=t.state.currentCard.items.findIndex((function(e){return t.state.selections[t.state.currentCard.value]===e}))+1),e>=1?e:void 0},t.handleNext=function(){var e=t.state.currentCard,n=Object(r.__assign)({},t.state.selections),i=n[e.value],a=t.state.prevCards.concat(e),o=(null==i?void 0:i.reportContext)||t.state.reportContext,s=t.getChoiceIndex(),c=(null==i?void 0:i.reportReason)||t.state.reportReason;t.props.reportContentType===v.fe.USER_REPORT&&n[H.value]===M.video&&t.props.isLivestreaming?o=v.fe.LIVESTREAM_REPORT:t.props.reportContentType===v.fe.USER_REPORT&&n[H.value]!==M.video&&o===v.fe.LIVESTREAM_REPORT&&(o=v.fe.USER_REPORT);var l=(null==i?void 0:i.value)&&me[i.value]?me[i.value]:e.nextCard||ue;e.type===R.Confirm&&we(o,t.props.countryCode)&&(l=ce),t.setState({currentCard:l,reportReason:c,prevCards:a,selections:n,reportContext:o},(function(){return t.props.trackAction({actionType:L.Next,currentStep:e.value,navigatedTo:l.value,choiceIndex:s})}))},t.userSelections=function(){return Object.entries(t.state.selections).map((function(e){if(e){var t=e[1];if(!(null==t?void 0:t.omitFromDescription))return null==t?void 0:t.value}})).filter((function(e){return!!e}))},t.createReportDescription=function(){return""+(t.state.reportContext!==t.props.reportContentType?"report context: "+t.props.reportContentType+"\n\n":"")+t.userSelections().join(" > ")+"\n\n"+Object.keys(t.state.userTextInput).map((function(e){return e+": "+t.state.userTextInput[e]})).join("\n")},t.requiredInputsNonEmpty=function(){if(t.state.currentCard.items)return 0===t.state.currentCard.items.filter((function(e){if(e.type!==i.Textarea||!e.required)return!1;var n=t.state.userTextInput[e.value],r=n&&0===n.trim().length;return!n||r})).length},t.handleSubmit=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a,o,s=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return e=Object(c.d)("Additional information is required.","ReportModalWizard"),this.requiredInputsNonEmpty()?(t=null!==(o=this.state.reportReason)&&void 0!==o?o:"other",n=this.createReportDescription(),this.setState({loading:!0}),[4,this.props.onSubmit(t,n,this.userSelections(),this.state.reportContext)]):[3,2];case 1:switch(r.sent(),this.setState({loading:!1}),this.props.submitStatus){case x.b.FormError:this.setState({error:e});break;case x.b.Success:i=de,pe[t]&&(i=pe[t]),this.state.currentCard.nextCard&&(i=this.state.currentCard.nextCard),a=this.getChoiceIndex(),this.setState({currentCard:i,prevCards:[],selections:{},userTextInput:{},error:null},(function(){return s.props.trackAction({actionType:L.Submit,choiceIndex:a})}));break;case x.b.UserError:this.setState({error:Object(c.d)("This account could not be reported. It may have already been suspended, or the owner may have deleted it.","ReportModalWizard")});break;case x.b.RateLimitedError:this.setState({error:Object(c.d)("Sorry, you're reporting too quickly. Please try again later.","ReportModalWizard")});break;case x.b.NoWhispersFromTargetUserError:this.setState({error:Object(c.d)("You cannot report this user for a whisper message because you have not recently received a message from them.","ReportModalWizard")});break;case x.b.MutationError:default:this.setState({error:Object(c.d)("Sorry, a network error occurred when submitting your report. Please try again later.","ReportModalWizard")})}return[3,3];case 2:this.props.onError(x.b.FormError),this.setState({error:e}),r.label=3;case 3:return[2]}}))}))},t.handleBack=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a,o,s=this;return Object(r.__generator)(this,(function(r){return e=this.state,t=e.currentCard,n=e.prevCards,i=e.selections,a=n[n.length-1],o=this.getChoiceIndex(),i[t.value]&&delete i[t.value],a&&this.setState({currentCard:a,prevCards:n.slice(0,-1),error:null},(function(){return s.props.trackAction({actionType:L.Back,navigatedTo:t.value,currentStep:a.value,choiceIndex:o})})),[2]}))}))},t.handleTextInput=function(e,n){t.setState((function(t){var i=t.userTextInput;return i[e]=n,{userTextInput:i}}))},t.handleSelection=function(e,n){var i=Object(r.__assign)({},t.state.selections),a=t.state.selections[n.value];n.items&&e!==a&&(i[n.value]=e,t.setState({selections:i}))},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.state.modalCloseTracked||this.props.trackClose({actionType:L.Close,closeType:B.Close,currentStep:this.state.currentCard.value,choiceIndex:this.getChoiceIndex()})},t.prototype.render=function(){var e=this.state,t=e.currentCard,n=e.selections,i=e.prevCards,r=e.userTextInput,o=this.props,s=o.targetUser,c=o.onBlock,u=o.onUnblock,d=o.userBlocked,m=t.type===R.Info&&t.blockPrompt?a.createElement(j,{targetUser:s,onBlock:c,onUnblock:u,userBlocked:d}):null,p=this.state.error&&a.createElement(C.a,{fullWidth:!0,margin:{bottom:1},padding:1,className:"report-wizard__error-container"},this.state.error),f=i.length||t.type===R.Info?null:this.renderPrimer();return a.createElement(C.a,{display:O.h.Flex,margin:{x:1},flexDirection:O.i.Column,fullHeight:!0,"data-test-card-value":t.value},p,a.createElement(_.a,{id:l.a,bold:!0,type:_.e.H4,"data-a-target":"reporting-channel-name"},this.getTitle()),f,a.createElement(C.a,{margin:{y:1}},a.createElement(Ce,{currentCard:t,selections:n,targetUser:s,targetUserID:s.id,onChangeRadio:this.handleSelection,onChangeText:this.handleTextInput,userTextInputs:r,error:this.props.submitStatus===x.b.FormError&&!!this.state.error}),m),this.renderButtons())},t}(a.Component),xe=n("cwzQ"),Re=n("s8Ou"),Ae=n("0hI/"),Me=n("dCvT");!function(e){e.Close="close",e.Open="open",e.Submit="submit_report",e.ToggleSettings="modal_settings"}(F||(F={})),function(e){e.Back="back",e.Close="close",e.Open="open",e.Next="next",e.Submit="submit_report",e.ToggleSettings="modal_settings"}(L||(L={})),function(e){e.Close="close",e.Finish="finish"}(B||(B={}));var Fe=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSubmit=function(e,t,i,a){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,o,s,l,u,d,m,f,h;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!this.props.data.targetUser)return[2];if(n=a&&[v.fe.WHISPER_REPORT,v.fe.CHANNEL_POINTS_REPORT,v.fe.LIVESTREAM_REPORT].includes(a)?a:this.props.reportContext.contentType,(o=v.fe[n])!==v.fe.WHISPER_REPORT)return[3,5];m={description:t,reason:e,targetID:this.props.data.targetUser.id,wizardPath:i},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.reportWhisper(Object(p.a)(m))];case 2:if(s=r.sent(),l=null===(h=s.data.reportWhisper)||void 0===h?void 0:h.error,u=void 0,l)switch(l.reason){case v.ge.NO_WHISPERS_FROM_TARGET_USER:u=x.b.NoWhispersFromTargetUserError;break;case v.ge.RATE_LIMITED:u=x.b.RateLimitedError;break;default:u=x.b.MutationError}else u=x.b.Success;return this.setState({submitStatus:u}),[3,4];case 3:return d=r.sent(),Object(b.d)()?c.k.warn("reportWhisper Mutation failed."):c.k.errorAndReport(d,"reportWhisper Mutation failed."),this.setState({submitStatus:x.b.MutationError}),[3,4];case 4:return[3,9];case 5:m={description:t,reason:e,content:o,contentID:this.props.reportContext.contentID||"",extra:this.props.reportContext.extra||"",targetID:this.props.data.targetUser.id,wizardPath:i},r.label=6;case 6:return r.trys.push([6,8,,9]),[4,this.props.reportUser(Object(p.a)(m))];case 7:return r.sent(),this.setState({submitStatus:x.b.Success}),[3,9];case 8:return f=r.sent(),Object(b.d)()?c.k.warn("ReportUser Mutation failed."):c.k.errorAndReport(f,"ReportUser Mutation failed."),this.setState({submitStatus:x.b.MutationError}),[3,9];case 9:return[2]}}))}))},n.handleChildError=function(e){return n.setState({submitStatus:e})},n.handleClose=function(){n.props.onClose&&n.props.onClose(n.state.submitStatus,n.state.userBlocked)},n.onBlock=function(){var e,t;n.props.data.targetUser&&(n.props.blockUserMutation(n.props.data.targetUser.id),n.setState({userBlocked:!0}),(null===(e=n.props.sessionUser)||void 0===e?void 0:e.login)&&(null===(t=n.props.data.targetUser)||void 0===t?void 0:t.login)&&Object(f.b)({context:f.a.ReportWizard,targetUserLogin:n.props.data.targetUser.login,currentUserLogin:n.props.sessionUser.login}))},n.onUnblock=function(){n.props.data.targetUser&&(n.props.unblockUserMutation(n.props.data.targetUser.id),n.setState({userBlocked:!1}))},n.trackOpen=function(e){n.state.openEventSent||(n.trackWizardAction({actionType:L.Open,currentStep:e}),n.setState({openEventSent:!0}))},n.trackClose=function(e){n.state.closeEventSent||(n.trackWizardAction(e),n.setState({closeEventSent:!0}))},n.trackWizardAction=function(e){c.p.tracking.track(g.SpadeEventType.ReportWizardFlowAction,{ui_context:n.props.reportContext.trackingContext||n.props.reportContext.contentType,target_user_id:n.props.reportContext.targetUserID,report_sent:n.state.submitStatus===x.b.Success,modal_type:"wizard_v2",extra_user_id:n.props.reportContext.additionalTrackingID,action:e.actionType,close_type:e.closeType,report_session_id:n.reportID,current_step:e.currentStep,navigated_to:e.navigatedTo,choice_index:e.choiceIndex})},n.reportID=Object(h.b)(),n.state={submitStatus:x.b.Unsubmitted,openEventSent:!1,closeEventSent:!1,userBlocked:!1},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackOpen()},t.prototype.componentWillUnmount=function(){this.handleClose()},t.prototype.render=function(){if(this.props.data.error)return a.createElement(a.Fragment,null,a.createElement(_.a,{id:l.a,type:_.e.H4},this.props.title),a.createElement(C.a,{margin:{bottom:1}},a.createElement(_.a,{fontSize:O.k.Size5},Object(c.d)("There was an unexpected error. Please refresh the page and try again","ReportUser"))));if(this.props.data.loading)return a.createElement(xe.a,null);if(this.props.data.targetUser){if(this.props.data.loading)return a.createElement(a.Fragment,null,a.createElement(_.a,{id:l.a,type:_.e.H4},this.props.title),a.createElement(xe.a,null));var e={onClose:this.handleClose,onError:this.handleChildError,onSubmit:this.handleSubmit,reportContentType:this.props.reportContext.contentType,submitStatus:this.state.submitStatus,title:this.props.title,defaultDescription:this.props.defaultDescription,isLivestreaming:this.props.reportContext.isLivestreaming,countryCode:this.props.data.requestInfo.countryCode,targetDisplayName:this.props.reportContext.targetDisplayName};return a.createElement(Ie,Object(r.__assign)({},e,{user:this.props.sessionUser,onBlock:this.onBlock,onUnblock:this.onUnblock,targetUser:this.props.data.targetUser,trackAction:this.trackWizardAction,trackClose:this.trackClose,userBlocked:this.userBlocked}))}return a.createElement(a.Fragment,null,a.createElement(_.a,{id:l.a,type:_.e.H4},this.props.title),a.createElement(C.a,{margin:{bottom:1}},a.createElement(_.a,{fontSize:O.k.Size5},Object(c.d)("The user you are trying to report does not exist","ReportUser"))))},Object.defineProperty(t.prototype,"userBlocked",{get:function(){var e,t,n=this;return!!(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.blockedUsers)||void 0===t?void 0:t.find((function(e){return!!e&&e.id===n.props.reportContext.targetUserID})))},enumerable:!0,configurable:!0}),t}(a.Component);var Le=Object(s.d)(Object(u.a)(Re,{name:"reportUser"}),Object(u.a)(Me,{name:"reportWhisper"}),Object(u.a)(Ae,{options:function(e){return{variables:{targetUserID:e.reportContext.targetUserID}}}}),Object(y.withLatencyTracking)("ReportUser",{autoReportInteractive:!0}),Object(d.a)(),Object(m.a)(),Object(o.b)((function(e){return{sessionUser:e.session.user}}),null))(Fe)},dCvT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReportUserModal_ReportWhisper"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReportWhisperInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportWhisper"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:121}};n.loc.source={body:"mutation ReportUserModal_ReportWhisper($input: ReportWhisperInput!) {\nreportWhisper(input: $input) {\nerror {\nreason\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportWhisper=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportWhisper")},dfHF:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i,r=n("TSYQ"),a=n("q1tI"),o=n("f00E"),s=n("OCDW"),c=n("Yegi"),l=n("swlv"),u=n("Ix37"),d=n("E1Lb"),m=n("uuYk"),p=n("Mg72");n("XNPz");!function(e){e.ClickWrapper="click-wrapper",e.HeaderContent="header-content",e.ExpandedContent="expanded-content",e.Footer="footer"}(i||(i={}));var f=function(e){var t=e.expandable,n=void 0!==t&&t,f=e.expanded,h=void 0!==f&&f,v=e.dismissable,g=void 0!==v&&v,b=e.onClick,y=e.onDismiss,k=e.toggleExpanded,S=e.progressBar,E=e.header,C=e.children,O=e.visible,D=e.footer,P=1;S&&(P=S.duration);var _=P;S&&void 0!==S.durationRemaining&&(_=S.durationRemaining);var T=a.useState({percent:_/P*100,duration:P,key:Object(o.c)()}),N=T[0],w=T[1],j=a.useState(Date.now()+1e3*_),I=j[0],x=j[1];a.useEffect((function(){var e=Date.now()+1e3*_;x(e)}),[_]),a.useEffect((function(){var e=(I-Date.now())/(1e3*P);w({percent:Math.max(100*e,0),duration:Math.max(P*e,0),key:Object(o.c)()})}),[I,P,h,O]);var R=S&&S.onDurationEnd;a.useEffect((function(){var e=setTimeout((function(){R&&R()}),1e3*_);return function(){return clearTimeout(e)}}),[_,R]);var A=function(e){k&&(e.stopPropagation(),k())},M=b||!k?void 0:A,F=function(){return a.createElement(s.a,{fullWidth:!0,className:"highlight__footer","data-test-selector":i.Footer},D)},L=a.createElement(s.a,{className:r("highlight",{highlight__collapsed:!h}),padding:1,display:c.h.Flex,flexDirection:c.i.Column,justifyContent:n?c.m.Start:c.m.Center,zIndex:c.t.Above,position:c.o.Relative},a.createElement(s.a,{display:c.h.Flex,alignItems:c.b.Center},a.createElement(s.a,{flexGrow:1,"data-test-selector":i.HeaderContent,className:"highlight__header"},E),g?a.createElement(s.a,{alignSelf:c.c.Start,margin:{top:.5}},a.createElement(l.a,{"aria-label":"",icon:u.a.Close,size:l.b.Large,onClick:y})):n&&k?M?a.createElement(s.a,{alignSelf:c.c.Start,margin:{top:.5}},a.createElement(l.a,{"aria-label":"",icon:h?u.a.AngleUp:u.a.AngleDown,size:l.b.Large,onClick:M,disabled:void 0===M})):a.createElement(s.a,{className:"highlight__icon",margin:.5},a.createElement(d.a,{asset:h?u.a.AngleUp:u.a.AngleDown,fill:!0})):void 0),a.createElement(p.a,{type:p.d.SlideOverTop,show:h},a.createElement(s.a,{"data-test-selector":i.ExpandedContent},C,h&&S&&a.createElement(s.a,{margin:{top:1,bottom:.5}},a.createElement(m.a,{mask:!0,borderRadius:c.e.Rounded,value:N.percent,animationDuration:N.duration,animationDirection:m.b.Down,size:m.c.ExtraSmall,key:N.key})))));return(b||k&&n)&&(L=a.createElement("div",{onClick:b?function(){return b(n)}:A,className:"highlight__click-target","data-test-selector":i.ClickWrapper},L)),a.createElement(s.a,null,a.createElement(s.a,null,L,!h&&S&&a.createElement(s.a,{fullWidth:!0,className:"highlight__progress-bar",overflow:c.n.Hidden,position:D?void 0:c.o.Absolute,zIndex:c.t.Below},a.createElement(m.a,{mask:!0,value:N.percent,animationDuration:N.duration,animationDirection:m.b.Down,size:D?m.c.ExtraSmall:m.c.Default,key:N.key,borderRadius:D?c.e.Large:c.e.Rounded})),!h&&D&&F()),h&&D&&F())}},dq0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};n.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},e0KT:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainParticipation"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainParticipation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]}]}}],loc:{start:0,end:84}};n.loc.source={body:"fragment hypeTrainParticipation on HypeTrainParticipation {\nsource\naction\nquantity\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},eMuj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var i=n("mrSG"),r=n("q1tI"),a=n("1rIY"),o=n("GnwI"),s=Object(a.a)("RecurlyContext",{recurlyInstance:void 0,recurlyLoadFailed:!1}),c=s.context,l=s.withContext,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recurlyInstance:void 0,recurlyLoadFailed:!1},t.recurlyTimeoutID=0,t.providerMounted=function(){t.props.handleProviderMounted&&t.props.handleProviderMounted()},t.scriptErrored=function(){t.setState({recurlyLoadFailed:!0},(function(){t.props.latencyTracking.reportInteractive(),t.props.handleScriptError&&t.props.handleScriptError()}))},t.scriptSuccess=function(){clearTimeout(t.recurlyTimeoutID),t.props.handleScriptSuccess&&t.props.handleScriptSuccess()},t.scriptLoaded=function(){t.setState({recurlyInstance:window.recurly,recurlyLoadFailed:!1},(function(){t.scriptSuccess(),t.props.latencyTracking.reportInteractive()}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.recurlyTimeoutID||(this.recurlyTimeoutID=setTimeout((function(){e.scriptErrored()}),3e4)),this.providerMounted(),this.appendRecurlyScript()},t.prototype.componentWillUnmount=function(){this.recurlyTimeoutID>0&&clearTimeout(this.recurlyTimeoutID);var e=document.getElementById("recurly-script");e&&(e.removeEventListener("load",this.scriptLoaded),e.removeEventListener("error",this.scriptErrored),document.body.removeChild(e))},t.prototype.render=function(){return r.createElement(c.Provider,{value:this.state},this.props.children)},t.prototype.appendRecurlyScript=function(){var e=document.getElementById("recurly-script");e&&document.body.removeChild(e);var t=document.createElement("script");t.src="https://js.recurly.com/v4/recurly.js",t.async=!0,t.id="recurly-script",(e=document.body.appendChild(t)).addEventListener("load",this.scriptLoaded),e.addEventListener("error",this.scriptErrored)},t}(r.Component),d=Object(o.withLatencyTracking)("RecurlyContextManager")(u)},eRLD:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),r=n("q1tI"),a=n("G8UE"),o=10,s=90;function c(e){return e<10?a.TimerPhase.waitingFor(o-e):e<s?a.TimerPhase.readyFor(s-e):a.TimerPhase.forced()}var l=new Map;var u=function(){},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={timerPhase:c(0)},t.stop=u,t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.stop=function(e,t){var n=l.get(e);if(n)n.listeners.add(t);else{var i=new Set([t]),r=0,a=setInterval((function(){r++,i.forEach((function(e){return e(r)}))}),1e3);n={listeners:i,timerID:a},l.set(e,n)}return function(){n&&(n.listeners.delete(t),0===n.listeners.size&&(l.delete(e),clearInterval(n.timerID)))}}(this.props.raid.id,(function(t){e.setState({timerPhase:c(t)})}))},t.prototype.componentWillUnmount=function(){this.stop()},t.prototype.render=function(){return r.createElement(r.Fragment,null,this.props.children(this.state.timerPhase))},t}(r.Component)},eWfW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=n("oKCn").f.Auto,r="chunked"},"fI+N":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("RGzP"),l=n("OCDW"),u=n("Yegi"),d=n("IyK4"),m=n("uq9l"),p=n("xWvT"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"chargeDisclaimerCopyKR",{get:function(){return Object(o.d)("Actual amount to be charged may vary depending on the exchange rate. Conversion fees and other incidental costs may be additionally included.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refundDisclaimerCopyKR",{get:function(){return Object(o.d)("Bits are available for use immediately after payment. You have the right to cancel your purchase and obtain a refund within seven days from the date of the purchase, provided that you have not used any of the Bits purchased in this transaction, at which point Twitch will deduct the purchased Bits from your account. Your purchase cannot be cancelled, irrespective of the date of the purchase, if you have used any of the Bits purchased in this transaction.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancellationCopyKR",{get:function(){return Object(o.d)("Purchases made by a minor may be cancelled by the minor or the minors parent or legal guardian in case the parent or legal representative does not consent to the purchase made by the minor.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"twitchCopy",{get:function(){return Object(o.d)("Twitch Interactive, Inc.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"representativeCopy",{get:function(){return Object(o.d)("Name of Representative: Emmett Shear, CEO","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addressCopy",{get:function(){return Object(o.d)("Address: 350 Bush Street, 2nd Floor, San Francisco, California 94104, USA","LegalDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?r.createElement(l.a,{textAlign:u.q.Left},r.createElement(d.a,{padding:{bottom:1}},r.createElement(m.a,{type:m.e.P,fontSize:u.k.Size7},this.chargeDisclaimerCopyKR)),r.createElement(d.a,{padding:{bottom:1}},r.createElement(m.a,{type:m.e.P,fontSize:u.k.Size7},this.refundDisclaimerCopyKR)),r.createElement(d.a,{padding:{bottom:1}},r.createElement(m.a,{type:m.e.P,fontSize:u.k.Size7},this.cancellationCopyKR)),r.createElement(m.a,{type:m.e.P,fontSize:u.k.Size7},this.twitchCopy),r.createElement(m.a,{type:m.e.P,fontSize:u.k.Size7},this.representativeCopy),r.createElement(m.a,{type:m.e.P,fontSize:u.k.Size7},this.addressCopy)):null:r.createElement(c.a,{lineCount:3,width:400})},t}(r.Component),h=Object(a.d)(Object(s.a)(p))(f)},fLvw:function(e,t,n){},fgOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("geRD"),l=n("t/uW"),u=n("GnwI"),d=n("OCDW"),m=n("uq9l"),p=n("Yegi"),f=n("5e0Q"),h=n("zbfc"),v=/^\d{5}$/,g=/^[A-Z]\d[A-Z] \d[A-Z]\d$/,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={countryCode:t.props.defaultCountryCode||"",postalCode:t.props.defaultPostalCode||"",settingResidence:!1,error:!1},t.handleCORChange=function(e){t.setState({countryCode:e.countryCode,postalCode:e.zipCode})},t.setUserResidence=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:this.setState({settingResidence:!0,error:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),e=Object(c.a)({userID:this.props.userID,countryCode:this.state.countryCode,zipCode:this.state.postalCode}),[4,this.props.setUserResidence(e)];case 2:return(t=n.sent().data).setUserResidence&&t.setUserResidence.user&&t.setUserResidence.user.residence?this.props.onSetResidenceSuccess():(this.props.onSetResidenceFailure&&this.props.onSetResidenceFailure(),this.setState({settingResidence:!1,error:!0})),[3,4];case 3:return n.sent(),this.props.onSetResidenceFailure&&this.props.onSetResidenceFailure(),this.setState({settingResidence:!1,error:!0}),[3,4];case 4:return[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(r.Fragment,null,r.createElement(l.a,{countryCode:this.state.countryCode,zipCode:this.state.postalCode,zipCodeError:!1,onChange:this.handleCORChange}),r.createElement(d.a,{margin:{y:2}},this.state.error&&r.createElement(d.a,{margin:{bottom:1}},r.createElement(m.a,{color:p.f.Error},Object(o.d)("There was an error processing your information. Please try again.","SelectResidence"))),r.createElement(f.a,{state:this.state.settingResidence?f.c.Loading:f.c.Default,disabled:!this.residenceValid||this.state.settingResidence,onClick:this.setUserResidence,"data-a-target":"proceed-button"},Object(o.d)("Proceed","SelectResidence"))))},Object.defineProperty(t.prototype,"residenceValid",{get:function(){return"US"===this.state.countryCode?v.test(this.state.postalCode):"CA"===this.state.countryCode?g.test(this.state.postalCode):!!this.state.countryCode},enumerable:!0,configurable:!0}),t}(r.Component),y=Object(a.d)(Object(u.withLatencyTracking)("SelectResidence",{autoReportInteractive:!0}),Object(s.a)(h,{name:"setUserResidence"}))(b)},fvsf:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("Jgup"),l=n("CoFg"),u=n("p8oj"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countryToCodeMap=t.createCountryToCodeMap(t.props.countryCodeList),t.sortedCountryStrings=t.createSortedCountryStringsList(t.props.countryCodeList),t.countryListSet=new Set(t.props.countryCodeList),t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){JSON.stringify(e.countryCodeList)!==JSON.stringify(this.props.countryCodeList)&&(this.countryToCodeMap=this.createCountryToCodeMap(this.props.countryCodeList),this.sortedCountryStrings=this.createSortedCountryStringsList(this.props.countryCodeList),this.countryListSet=new Set(this.props.countryCodeList))},t.prototype.render=function(){return r.createElement(l.a,{onChange:this.props.onChange,value:this.props.countryCode,error:this.props.error,autoComplete:"country"},r.createElement("option",{value:"",disabled:!0},Object(o.d)("Select country","CountrySelector")),this.sortedCountryOptions)},Object.defineProperty(t.prototype,"sortedCountryOptions",{get:function(){var e=this,t=[],n=this.props.data.requestInfo.countryCode;return n&&this.countryListSet.has(n)&&t.push(r.createElement("option",{value:n,key:"countryCode-"+n},Object(c.b)(n))),this.sortedCountryStrings.forEach((function(i){var a=e.countryToCodeMap[i];a!==n&&t.push(r.createElement("option",{value:a,key:"countryCode-"+a},i))})),t},enumerable:!0,configurable:!0}),t.prototype.createCountryToCodeMap=function(e){return e.reduce((function(e,t){return e[Object(c.b)(t)]=t,e}),{})},t.prototype.createSortedCountryStringsList=function(e){var t=o.p.intl.getLanguageCode()||"en";return e.map((function(e){return Object(c.b)(e)})).sort((function(e,n){return e.localeCompare(n,t)}))},t}(r.PureComponent),m=Object(a.d)(Object(s.a)(u))(d)},gn2N:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var i,r=n("mrSG"),a=n("b6Yk");!function(e){e.CreditCard="cc",e.PayPal="paypal",e.AmazonPay="amazon",e.Unknown="unknown",e.DirectDebit="gocardless"}(i||(i={}));var o=function(){function e(){}return e.updatePaymentMethod=function(e){return Object(r.__awaiter)(this,void 0,Promise,(function(){var t,n,i,o,s,c,l,u,d,m,p,f;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.userID,n=e.paymentMethod,i=e.token,o=e.cardBINCountry,s=e.billingAuthInfo,c=e.lastFour,l=e.paymentSession&&{device_id:e.paymentSession.deviceID,local_storage_device_id:e.paymentSession.localStorageDeviceID,tab_session_id:e.paymentSession.tabSessionID,page_session_id:e.paymentSession.pageSessionID,checkout_session_id:e.paymentSession.checkoutSessionID}||{},u="/v5/checkout/users/"+t+"/payment_methods",d={provider:"recurly",gateway:n,token:i,billing_info_country:o,last_four:c,payment_session:l,billing_auth_info:{three_d_secure_action_result_token_id:s&&s.threeDSecureActionResultTokenID}},[4,a.a.put(u,{body:d},{version:5})];case 1:return m=r.sent(),p=m.body,f=m.error,p&&p.error_code?[2,{error:p}]:[2,{error:f}]}}))}))},e}()},gxsq:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelCelebrations_LocalCelebration"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"celebrationChannelColorAndProducts"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"celebrationProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"celebrationProduct"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:393}};i.loc.source={body:'#import "twilight/features/channel-celebrations/queries/celebration-product-fragment.gql"\n#import "twilight/features/channel-celebrations/queries/celebration-channel-color-and-products-fragment.gql"\nquery ChannelCelebrations_LocalCelebration($channelLogin: String!) {\nuser(login: $channelLogin) {\n...celebrationChannelColorAndProducts\nself {\ncelebrationProducts {\n...celebrationProduct\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("M19B").definitions)),i.definitions=i.definitions.concat(a(n("CGEt").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.ChannelCelebrations_LocalCelebration=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"ChannelCelebrations_LocalCelebration")},hNTM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutPaymentsDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:64}};n.loc.source={body:"query CheckoutPaymentsDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CheckoutPaymentsDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CheckoutPaymentsDisclaimer")},hPKk:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),r=n.n(i),a=n("VbXa"),o=n.n(a),s=n("q1tI"),c=n("PHNs"),l=n.n(c),u=n("SWse"),d=n("P+FS"),m=function(){var e=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={currentValue:t.value,prevValue:void 0!==t.initialValue?t.initialValue:t.value},n}o()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this;this.props.value!==this.state.currentValue&&this.setState((function(t){return{currentValue:e.props.value,prevValue:t.currentValue}}))},n.render=function(){return s.createElement(l.a,r()({className:Object(u.a)({"tw-animated-number":!0,"tw-animated-number--monospaced":this.props.monospaced}),duration:this.props.duration,end:this.state.currentValue,start:this.state.prevValue,formattingFn:this.props.formatValue},Object(d.a)(this.props)))},t}(s.Component);return e.displayName="AnimatedNumber",e.defaultProps={duration:.7,monospaced:!0},e}()},hRLk:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"paymentMethodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PaymentMethod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeInstrumentID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billingCountry"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billingEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastFour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationMonth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationYear"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentScheme"},arguments:[],directives:[]}]}}],loc:{start:0,end:182}};n.loc.source={body:"fragment paymentMethodFragment on PaymentMethod {\nchargeInstrumentID\nprovider\npaymentType\nbillingCountry\nbillingEmail\ncardType\nlastFour\nexpirationMonth\nexpirationYear\npaymentScheme\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},hyxX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),r=n("q1tI"),a=n("yMEX"),o=n("2Ygb");function s(e){return function(t){var n;return(n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(o,n),o.prototype.render=function(){return r.createElement(a.a,Object(i.__assign)({},e),r.createElement(t,Object(i.__assign)({},this.props)))},o}(r.Component)).displayName=Object(o.a)("WithErrorBoundary",t),n}}},iS14:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("w09P"),a=n("yR8l"),o=n("ru7j"),s=n("zixI");function c(){var e=this;return Object(a.a)(s,{props:function(t){return{unblockUserMutation:function(n){return Object(i.__awaiter)(e,void 0,Promise,(function(){var e;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t.mutate?[4,t.mutate({variables:{input:{targetUserID:n}},optimisticResponse:{unblockUser:{__typename:"UnblockUserPayload",targetUser:{__typename:"User",id:n}}},update:function(e){var t=null;try{t=e.readQuery({query:o})}catch(e){return}(null==t?void 0:t.currentUser)&&e.writeQuery({query:o,data:r(t,(function(e){return e.currentUser.blockedUsers}),(function(e){return e.filter((function(e){return!e||e.id!==n}))}))})}})]:[3,2];case 1:if(!(e=i.sent()))throw new Error("unblockUserMutation did not resolve with data");return[2,e];case 2:throw new Error("unblockUserMutation is not ready")}}))}))}}}})}},iSjI:function(e,t,n){e.exports=n.p+"assets/visa-0862ac17dccf1c7a5a22.svg"},iotB:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainEmoteReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainBadgeReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]}]}}]}}]}}],loc:{start:0,end:180}};n.loc.source={body:"fragment hypeTrainReward on HypeTrainReward {\nid\ntype\n... on HypeTrainEmoteReward {\nemote {\nid\ntoken\n}\n}\n... on HypeTrainBadgeReward {\nbadge {\nid\nsetID\nimageURL(size: DOUBLE)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"k/qa":function(e,t,n){},kBDA:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,r=n("q1tI"),a=n("/7QA");!function(e){e.Small="s",e.Medium="m",e.Large="l"}(i||(i={}));var o=Object(r.memo)((function(e){var t=e.size,n=void 0===t?i.Small:t,o='\n    <style>\n      body {\n        margin: 0\n      }\n    </style>  \n    \n    <div id="DigiCertClickID_B309IfA3" />\n\n    <script type="text/javascript">\n      var __dcid = __dcid || [];\n      __dcid.push(["DigiCertClickID_B309IfA3", "15", "'+n+'", "black", "B309IfA3"]);\n      \n      (function(){\n        var cid = document.createElement("script");\n        cid.async = true;\n        cid.src = "//seal.digicert.com/seals/cascade/seal.min.js";\n        var s = document.getElementsByTagName("script");\n        var ls = s[(s.length - 1)];\n        ls.parentNode.insertBefore(cid, ls.nextSibling);\n      }());\n    <\/script>\n    ',s=80,c=58;switch(n){case i.Medium:s=100,c=73;break;case i.Large:s=130,c=94}return r.createElement("iframe",{title:Object(a.d)("Norton Seal, powered by digicert","NortonSeal"),width:s,height:c,sandbox:"allow-scripts allow-popups",srcDoc:o})})),s=n("LNol"),c=n("Ix37"),l=n("uq9l"),u=n("Yegi"),d=n("OCDW"),m=(n("5TAx"),function(e){var t=e.margin,n="control"!==a.p.experiments.getAndTrackAssignment("norton_badge_v2"),i=r.createElement(r.Fragment,null,r.createElement(s.a,{asset:c.a.Lock,width:20}),r.createElement(l.a,{fontSize:u.k.Size8},Object(a.d)("Secure","SecureStamp"))),m=r.createElement(o,null);return r.createElement(d.a,{display:u.h.InlineFlex,alignItems:u.b.Center,className:"secure-stamp",margin:t},n?m:i)})},kSkr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"BlockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BlockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"blockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"mutation BlockUser($input: BlockUserInput!) {\nblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.BlockUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"BlockUser")},kgU5:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=/^[\s\da-zA-Z&\-,'\/#\.%]*$/,r=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/},l7sZ:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormScreenManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagBindings"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OfferTagBindingInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientIDs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"quantity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentSession"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isDarkMode"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recurlyCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"RECURLY"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"xsollaCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"XSOLLA_V3"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkoutActions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligiblePaymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkoutConfiguration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"xsolla"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offerTagBindings"},value:{kind:"Variable",name:{kind:"Name",value:"tagBindings"}}},{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"giftRecipientIDs"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientIDs"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}},{kind:"Argument",name:{kind:"Name",value:"isDarkMode"},value:{kind:"Variable",name:{kind:"Name",value:"isDarkMode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSandbox"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"paymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userResidenceFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"recurlyConfigs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payWithAmazonConfigs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isProduction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sellerID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"braintreeClientAuthorization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:2167}};i.loc.source={body:'#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/eligible-payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/user-residence-fragment.gql"\nquery CheckoutFormScreenManager(\n$params: PurchasableOfferParams!\n$tagBindings: [OfferTagBindingInput!]\n$giftRecipientIDs: [ID!]\n$quantity: Int!\n$paymentSession: PaymentSession!\n$withDiscounts: Boolean = false\n$isDarkMode: Boolean = false\n) {\npurchasableOffer(params: $params) {\nlisting {\nchargeModel {\ninternal {\nself {\nrecurlyCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: RECURLY\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount @include(if: $withDiscounts) {\nprice\ntotal\ntax\n}\n}\n}\nxsollaCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: XSOLLA_V3\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount @include(if: $withDiscounts) {\nprice\ntotal\ntax\n}\n}\n}\n}\nplan {\nrenewalPolicy\ninterval {\nduration\nunit\n}\n}\npreviewPrice {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ndiscount @include(if: $withDiscounts) {\nprice\n}\n}\n}\n}\n}\neligibility {\nisEligible\n}\nendAt\ngiftType\nid\nquantity {\nmin\nmax\n}\nself {\ncheckoutActions(quantity: $quantity paymentSession: $paymentSession)\neligiblePaymentMethods {\n...eligiblePaymentMethodFragment\n}\ncheckoutConfiguration {\nxsolla(\nofferTagBindings: $tagBindings\nquantity: $quantity\ngiftRecipientIDs: $giftRecipientIDs\npaymentSession: $paymentSession\nisDarkMode: $isDarkMode\n) {\ntoken\nisSandbox\n}\n}\n}\ntplr\ntagBindings {\nkey\nvalue\n}\npromotion @include(if: $withDiscounts) {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\n}\ncurrentUser {\nid\nemail\npaymentMethods {\n...paymentMethodFragment\n}\nresidence {\n...userResidenceFragment\n}\n}\nrequestInfo {\ncountryCode\n}\nrecurlyConfigs {\npayWithAmazonConfigs {\nclientID\nisProduction\nsellerID\n}\nbraintreeClientAuthorization\npublicKey\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("G0EU").definitions)),i.definitions=i.definitions.concat(a(n("hRLk").definitions)),i.definitions=i.definitions.concat(a(n("z8ZU").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.CheckoutFormScreenManager=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,r=new Set,a=new Set;for(i.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){r.has(e)||(r.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return r.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"CheckoutFormScreenManager")},lGkd:function(e,t,n){},lYl3:function(e,t,n){},lbZ4:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return A}));var i,r=n("q1tI"),a=n("/7QA"),o=n("eirU"),s=n("5zf8"),c=n("4rCz"),l=n("/MKj"),u=n("SSXq"),d=n("dfHF"),m=n("nTAV"),p=n("KhHV"),f=n("OCDW"),h=n("Yegi"),v=n("G9R1"),g=n("wt2C"),b=n("uq9l"),y=n("5e0Q"),k=n("p9DJ");!function(e){e.LogInButton="drops-available-highlight-login-button",e.ViewDetailsCoreLink="drops-available-highlight-view-details-core-link",e.ViewDetailsButton="drops-available-highlight-view-details-button"}(i||(i={}));var S,E=function(e){var t=e.removeHighlight,n=e.toggleExpanded,o=Object(l.d)(),s=r.useCallback((function(n){n.stopPropagation(),Object(p.i)({location:p.d.DropsInfo,action:p.c.Dismiss,channelID:e.event.channelID,campaignID:e.event.campaignID,userID:e.event.userID,calloutType:e.event.type}),t()}),[e.event.channelID,e.event.userID,e.event.campaignID,e.event.type,t]),c=r.useCallback((function(t){t.stopPropagation(),Object(p.i)({location:p.d.DropsInfo,action:p.c.ClickCTA,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,CTADetail:p.b.ViewDetails,calloutType:e.event.type})}),[e.event.channelID,e.event.userID,e.event.campaignID,e.event.type]),S=r.useCallback((function(t){t.stopPropagation(),o(Object(m.c)()),Object(p.i)({location:p.d.DropsInfo,action:p.c.ClickCTA,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,CTADetail:p.b.Login,calloutType:e.event.type})}),[o,e.event.channelID,e.event.userID,e.event.campaignID,e.event.type]),E=1===e.event.drops.length?e.event.drops[0].iconURL:e.event.campaignIconURL,C=r.createElement(f.a,{display:h.h.Flex,padding:{top:1,bottom:1,right:1}},r.createElement(f.a,null,r.createElement(f.a,{borderRadius:h.e.Rounded,margin:{right:1},overflow:h.n.Hidden},r.createElement(v.a,{aspect:g.c.Aspect1x1,size:v.b.Size4,src:E||a.a.defaultBoxArtURL,alt:Object(a.d)("drop icon","DropAvailableHighlight")}))),r.createElement(f.a,{flexGrow:1,overflow:h.n.Hidden,display:h.h.Flex,flexDirection:h.i.Column,justifyContent:h.m.Center},r.createElement(b.a,{fontSize:h.k.Size8,color:h.f.Alt2},Object(a.d)("Twitch Drops","DropAvailableHighlight")),r.createElement(b.a,{ellipsis:!e.expanded,fontSize:h.k.Size5},e.headerContent))),O=Object(a.d)("View Details","DropAvailableHighlight"),D=e.event.detailsURL&&e.event.detailsURL.trim().length,P=r.useCallback((function(){return e.isUserLoggedIn&&D?r.createElement(f.a,{display:h.h.Inline,margin:{right:1,top:1}},r.createElement(y.a,{size:y.b.Small,linkTo:Object(u.a)("/drops/campaigns?dropID="+e.event.campaignID,"www"),"data-test-selector":i.ViewDetailsButton,targetBlank:!0,onClick:c},O)):e.isUserLoggedIn?void 0:r.createElement(f.a,{display:h.h.Inline,margin:{right:1,top:1}},r.createElement(y.a,{"data-test-selector":i.LogInButton,size:y.b.Small,onClick:S},Object(a.d)("Log in","DropAvailableHighlight")))}),[D,S,c,e.event.campaignID,e.isUserLoggedIn,O]),_=r.useCallback((function(){n&&(Object(p.i)({location:p.d.DropsInfo,action:e.expanded?p.c.Minimize:p.c.Expand,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,calloutType:e.event.type}),n())}),[e.event.channelID,e.event.userID,e.event.campaignID,e.event.type,e.expanded,n]);return r.createElement(d.a,{expandable:!0,visible:e.visible,onClick:e.onClick,progressBar:{duration:300,onDurationEnd:t},expanded:e.expanded,toggleExpanded:_,header:C},r.createElement(f.a,{padding:{right:1,left:3,bottom:1}},r.createElement(f.a,{padding:{left:2,bottom:.5}},r.createElement(f.a,null,e.children),r.createElement(f.a,{margin:{top:1}},r.createElement(b.a,{color:h.f.Alt2},Object(a.d)("Ends on {endDate}.",{endDate:Object(a.c)(new Date(e.event.endDate),{day:"numeric",month:"short"})},"DropAvailableHighlight")," ",!e.isUserLoggedIn&&D?r.createElement(k.a,{linkTo:Object(u.a)("/drops/campaigns?dropID="+e.event.campaignID,"www"),"data-test-selector":i.ViewDetailsCoreLink,targetBlank:!0,onClick:c},O):null),r.createElement(f.a,{display:h.h.Flex,flexWrap:h.j.Wrap},P(),r.createElement(f.a,{display:h.h.Inline,margin:{right:1,top:1}},r.createElement(y.a,{size:y.b.Small,type:y.d.Secondary,onClick:s},Object(a.d)("Dismiss This Message","DropAvailableHighlight"))))))))},C=n("zeiz"),O=function(e){var t,n,i,l,u,d,m,p,f,v,g=Object(o.d)(C).data,y=e.event.drops,k=(t=[]).concat.apply(t,y.map((function(e){return e.benefits}))),S=null===(n=null==g?void 0:g.currentUser)||void 0===n?void 0:n.dropCurrentSession,O=null===(i=null==S?void 0:S.channel)||void 0===i?void 0:i.id,D=null==S?void 0:S.dropID,P=e.event.drops.some((function(e){return e.dropID===D})),_=O&&D&&O!==e.channelID&&P,T=0,N=null!==(l=null==S?void 0:S.requiredMinutesWatched)&&void 0!==l?l:1,w=null!==(u=null==S?void 0:S.currentMinutesWatched)&&void 0!==u?u:0;w>=0&&N>0&&(T=Math.min(w/N,1));var j=P&&T>0&&T<1?Object(a.d)(" Keep it up! You are {remainingProgress} away.",{remainingProgress:Object(c.f)(1-T,"percent")},"TimeBasedDropAvailableHighlight"):"";if(k.length<1)return null;if(_)f=Object(a.d)("Drops enabled by {channelName} for the community!",{channelName:e.event.channelName},"TimeBasedDropAvailableHighlight"),v=Object(a.d)("You are currently earning toward the reward by watching {sessionChannel}. You can only earn progress in one channel at a time",{sessionChannel:(null===(p=null===(m=null===(d=null==g?void 0:g.currentUser)||void 0===d?void 0:d.dropCurrentSession)||void 0===m?void 0:m.channel)||void 0===p?void 0:p.displayName)||"another channel"},"TimeBasedDropAvailableHighlight");else if(1===k.length){var I=y[0],x=k[0].benefit;f=Object(a.d)("Get {dropName} by watching {channelName} play {gameName}!",{dropName:r.createElement(b.a,{bold:!0,type:b.e.Span},x.name),channelName:e.event.channelName,gameName:r.createElement(b.a,{bold:!0,type:b.e.Span},e.event.gameName)},"TimeBasedDropAvailableHighlight"),v=Object(a.d)("{channelName} has enabled Drops for the community! Watch for {minimumWatchTime} and claim the reward.{progressLabel}",{channelName:e.event.channelName,minimumWatchTime:Object(s.b)(60*I.requiredMinutesWatched,s.a.Humanized),progressLabel:j},"TimeBasedDropAvailableHighlight")}else f=Object(a.d)("Get rewards by watching {channelName} play {gameName}!",{channelName:e.event.channelName,gameName:r.createElement(b.a,{bold:!0,type:b.e.Span},e.event.gameName)},"TimeBasedDropAvailableHighlight"),v=Object(a.d)("{channelName} has enabled Drops for the community! Watch the stream and claim the rewards.{progressLabel}",{channelName:e.event.channelName,progressLabel:j},"TimeBasedDropAvailableHighlight");return r.createElement(E,{headerContent:f,event:e.event,removeHighlight:e.removeHighlight,visible:e.visible,onClick:e.onClick,toggleExpanded:e.toggleExpanded,expanded:e.expanded,isUserLoggedIn:e.isUserLoggedIn},r.createElement(b.a,{color:h.f.Alt2},v))},D=function(e){var t,n,i,o=e.event.drops,c=(t=[]).concat.apply(t,o.map((function(e){return e.benefits})));if(c.length<1)return null;if(1===c.length){var l=o[0],u=c[0].benefit;n=Object(a.d)("Get {dropName} by watching {channelName} complete the Drop mission {questName}!",{dropName:r.createElement(b.a,{bold:!0,type:b.e.Span},u.name),channelName:e.event.channelName,questName:r.createElement(b.a,{bold:!0,type:b.e.Span},l.questName)},"EventDropAvailableHighlight");var d=l.claimDurationSeconds<60?l.claimDurationSeconds:l.claimDurationSeconds-l.claimDurationSeconds%60,m=Object(s.b)(d,s.a.Humanized);i=Object(a.d)("Stay alert! When {channelName} completes the mission, the reward has to be claimed within {duration}.",{channelName:e.event.channelName,duration:r.createElement(b.a,{type:b.e.Span,bold:!0},m)},"EventDropAvailableHighlight")}else{d=(l=o[0]).claimDurationSeconds<60?l.claimDurationSeconds:l.claimDurationSeconds-l.claimDurationSeconds%60,m=Object(s.b)(d,s.a.Humanized);n=Object(a.d)("Get rewards by watching {channelName} complete the Drop missions!",{channelName:e.event.channelName},"EventDropAvailableHighlight"),i=Object(a.d)("Stay alert! When {channelName} completes a mission, the reward has to be claimed within {duration}.",{channelName:e.event.channelName,duration:r.createElement(b.a,{type:b.e.Span,bold:!0},m)},"EventDropAvailableHighlight")}return r.createElement(E,{headerContent:n,event:e.event,removeHighlight:e.removeHighlight,visible:e.visible,onClick:e.onClick,toggleExpanded:e.toggleExpanded,expanded:e.expanded,isUserLoggedIn:e.isUserLoggedIn},r.createElement(b.a,{color:h.f.Alt2},i))},P=n("ANjH"),_=n("yR8l"),T=n("DMoW"),N=n("ilvU"),w=n("bGTo"),j=n("8jAs"),I=n("E1Lb"),x=n("Ix37"),R=n("LNol");n("QYyK");!function(e){e.ClaimButton="drops-claim-highlight-claim-button",e.HeaderSubtitle="drops-claim-highlight-header-subtitle",e.BodyText="drops-claim-highlight-body-text",e.ConnectAccountsMessage="drops-claim-highlight-connect-account-message",e.ConnectBodyButton="drops-claim-highlight-connect-body-button",e.SuccessFooter="drops-claim-highlight-success-footer",e.ErrorFooter="drops-claim-highlight-error-footer",e.DismissButton="drops-claim-highlight-dismiss-button",e.HighlightCard="drops-claim-highlight-card"}(S||(S={}));var A=Object(P.d)(Object(_.a)(j,{name:"claimDropRewards"}))((function(e){var t=r.useContext(N.c),n=r.useState(!1),i=n[0],o=n[1],s=e.removeHighlight,c=e.claimDropRewards,l=e.toggleExpanded,u=e.event.status===T.kc.DROP_INSTANCE_ALREADY_CLAIMED,E=e.event.status===T.kc.ENTITLEMENT_LIMIT_REACHED,C=e.event.status===T.kc.EXPIRED||e.event.status===T.kc.UNKNOWN,O=e.event.error||C,D=r.useCallback((function(n){if(n.stopPropagation(),o(!0),!(e.event.loading||u||E)){Object(m.f)(e.event.channelName,e.event,c,t,(function(t){t===T.kc.ENTITLEMENT_LIMIT_REACHED&&Object(p.i)({location:p.d.NoNewDrops,action:p.c.Render,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,dropInstanceID:e.event.dropInstanceID,calloutType:e.event.type}),Object(p.i)({location:p.d.DropsClaimable,action:p.c.ClickCTA,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,CTADetail:p.b.Claim,dropInstanceID:e.event.dropInstanceID,calloutType:e.event.type})})).catch((function(){o(!1),Object(p.i)({location:p.d.ClaimFailed,action:p.c.Render,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,CTADetail:p.b.Claim,dropInstanceID:e.event.dropInstanceID,calloutType:e.event.type})}))}}),[e.event,u,E,c,t]),P=r.useCallback((function(t){t.stopPropagation();var n=i?p.d.DropsClaimed:p.d.DropsClaimable;O&&i&&(n=p.d.ClaimFailed),E&&(n=p.d.NoNewDrops),Object(p.i)({location:n,action:p.c.Dismiss,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,dropInstanceID:e.event.dropInstanceID,calloutType:e.event.type}),(u||E||C)&&Object(w.c)(e.event.channelName,e.event.dropInstanceID),s()}),[i,O,u,E,C,e.event.channelID,e.event.channelName,e.event.dropInstanceID,e.event.userID,e.event.campaignID,e.event.type,s]),_=r.useCallback((function(t){t.stopPropagation(),Object(p.i)({location:i?p.d.DropsClaimed:p.d.DropsClaimable,action:p.c.ClickCTA,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,CTADetail:p.b.ConnectAccounts,dropInstanceID:e.event.dropInstanceID,calloutType:e.event.type})}),[i,e.event.channelID,e.event.dropInstanceID,e.event.userID,e.event.campaignID,e.event.type]),j=e.event.drop.iconURL?r.createElement(v.a,{aspect:g.c.Aspect1x1,size:v.b.Size4,src:e.event.drop.iconURL,alt:Object(a.d)("drop icon","DropClaimHighlight")}):r.createElement(I.a,{asset:x.a.Drops}),A=r.useCallback((function(){return u?null:!i||E||e.event.loading?(Object(p.h)({channelID:e.event.channelID,dropID:e.event.drop.dropID,campaignID:e.event.campaignID,uiContext:p.a.Chat}),r.createElement(y.a,{disabled:E,type:y.d.Primary,state:e.event.loading?y.c.Loading:y.c.Default,onClick:D,"data-test-selector":S.ClaimButton},Object(a.d)("Claim","DropClaimHighlight"))):null}),[D,i,u,E,e.event.loading,e.event.campaignID,e.event.drop.dropID,e.event.channelID]),M=r.useCallback((function(){return!i||E||u||C||e.event.error?C&&!e.event.error?null:u?r.createElement(b.a,{fontSize:h.k.Size8,color:h.f.Alt2,"data-test-selector":S.HeaderSubtitle},Object(a.d)("Reward claimed","DropClaimHighlight")):E?r.createElement(b.a,{fontSize:h.k.Size8,color:h.f.Alt2,"data-test-selector":S.HeaderSubtitle},Object(a.d)("No more drops to claim","DropClaimHighlight")):r.createElement(b.a,{fontSize:h.k.Size5,"data-test-selector":S.HeaderSubtitle,ellipsis:!e.expanded},Object(a.d)("Claim the reward now.","DropClaimHighlight")):null}),[i,u,E,C,e.event.error,e.expanded]),F=r.createElement(f.a,{display:h.h.Flex},r.createElement(f.a,{flexGrow:1,overflow:h.n.Hidden,display:h.h.Flex,flexDirection:h.i.Column,justifyContent:h.m.Center},r.createElement(b.a,{fontSize:h.k.Size5},Object(a.d)("Drop mission completed!","DropClaimHighlight")),M()),r.createElement(f.a,{margin:{left:.5},display:h.h.Flex,alignItems:h.b.Center,flexGrow:0,flexShrink:0},r.createElement(f.a,{borderRadius:h.e.Rounded,overflow:h.n.Hidden},i&&!e.event.loading?j:null)),r.createElement(f.a,{margin:{top:.5,left:.5,right:.5},display:h.h.Flex,flexGrow:0,flexShrink:0},A())),L=r.useCallback((function(){if(E)return Object(a.d)("{channelName} has completed the Drop mission {questName}.",{channelName:e.event.channelName,questName:r.createElement(b.a,{type:b.e.Span,bold:!0},e.event.drop.questName)},"DropClaimHighlight");if(C&&!e.event.error)return null;var t=Object(a.d)("{channelName} has completed the Drop mission {questName}. The Community gets to claim {rewardName}.",{channelName:e.event.channelName,questName:r.createElement(b.a,{type:b.e.Span,bold:!0},e.event.drop.questName),rewardName:r.createElement(b.a,{type:b.e.Span,bold:!0},e.event.drop.benefits[0].benefit.name)},"DropClaimHighlight"),n=Object(a.d)("{channelName} has completed the Drop mission {questName}. The Community gets to claim the rewards.",{channelName:e.event.channelName,questName:r.createElement(b.a,{type:b.e.Span,bold:!0},e.event.drop.questName)},"DropClaimHighlight");return 1===e.event.drop.benefits.length?t:n}),[E,C,e.event.error,e.event.drop.benefits,e.event.drop.questName,e.event.channelName]),B=r.createElement(f.a,{padding:{bottom:1},margin:{top:.5}},r.createElement(f.a,{padding:{bottom:.5}},r.createElement(f.a,null,r.createElement(b.a,{color:h.f.Alt2,"data-test-selector":S.BodyText},L())),!e.event.isUserAccountConnected&&u?r.createElement(f.a,{margin:{top:1}},r.createElement(b.a,{color:h.f.Alt2,"data-test-selector":S.ConnectAccountsMessage},Object(a.d)("Connect accounts to receive it.","DropClaimHighlight"))):null,r.createElement(f.a,{display:h.h.Flex,flexWrap:h.j.Wrap},!e.event.isUserAccountConnected&&u?r.createElement(f.a,{margin:{right:1,top:1}},r.createElement(y.a,{size:y.b.Small,type:y.d.Primary,linkTo:e.event.accountLinkURL,"data-test-selector":S.ConnectBodyButton,targetBlank:!0,onClick:_},Object(a.d)("Connect","DropClaimHighlight"))):null,r.createElement(f.a,{margin:{right:1,top:1}},r.createElement(y.a,{size:y.b.Small,type:y.d.Secondary,onClick:P,"data-test-selector":S.DismissButton},Object(a.d)("Dismiss This Message","DropClaimHighlight")))))),U=r.createElement(f.a,{className:"claim-success",borderRadius:{bottomLeft:h.e.Large,bottomRight:h.e.Large},display:h.h.Flex,color:h.f.Overlay,padding:{x:1,y:.5},"data-test-selector":S.SuccessFooter},r.createElement(f.a,null,r.createElement(f.a,{display:h.h.Flex,margin:{right:.5,y:.5},borderRadius:h.e.Rounded,className:"badge-color-success"},r.createElement(R.a,{asset:x.a.Check,width:18,height:18}))),r.createElement(f.a,{display:h.h.Flex,margin:{y:.5}},r.createElement(f.a,{display:h.h.Inline,margin:{right:1}},r.createElement(b.a,{bold:!0,className:"claim-text-dark"},Object(a.d)("Claimed","DropClaimHighlight"))),r.createElement(f.a,{display:h.h.Inline},e.event.isUserAccountConnected?null:r.createElement(b.a,{className:"claim-text-dark"},Object(a.d)("<x:link>Connect accounts</x:link> to receive it.",{"x:link":function(t){return r.createElement(k.a,{underline:!0,linkTo:e.event.accountLinkURL,className:"claim-link-dark",targetBlank:!0,onClick:_},t)}},"DropClaimHighlight"))))),V=r.useCallback((function(){return C||e.event.error||!E?C&&!e.event.error?Object(a.d)("Error occurred. Drop was not claimed.","DropClaimHighlight"):Object(a.d)("Error occurred. Please try again.","DropClaimHighlight"):Object(a.d)("Sorry, there are no more drops to claim.","DropClaimHighlight")}),[e.event.error,E,C]),z=r.createElement(f.a,{display:h.h.Flex,className:"claim-error",color:h.f.Overlay,borderRadius:{bottomLeft:h.e.Large,bottomRight:h.e.Large},padding:{x:1,y:.5},"data-test-selector":S.ErrorFooter},r.createElement(f.a,null,r.createElement(f.a,{display:h.h.InlineFlex,margin:{right:.5,y:.5},className:"claim-error-text"},r.createElement(R.a,{asset:x.a.NotificationError,width:18,height:18}))),r.createElement(f.a,{margin:{y:.5}},r.createElement(b.a,{className:"claim-error-text"},V()))),G=r.useCallback((function(){Object(w.c)(e.event.channelName,e.event.dropInstanceID),s()}),[e.event.channelName,e.event.dropInstanceID,s]),H=r.useCallback((function(){if(l){var t=i?p.d.DropsClaimed:p.d.DropsClaimable;E&&(t=p.d.NoNewDrops),Object(p.i)({location:t,action:e.expanded?p.c.Minimize:p.c.Expand,channelID:e.event.channelID,userID:e.event.userID,campaignID:e.event.campaignID,dropInstanceID:e.event.dropInstanceID,calloutType:e.event.type}),l()}}),[i,E,e.event.channelID,e.event.dropInstanceID,e.event.userID,e.event.campaignID,e.event.type,e.expanded,l]);return r.createElement(d.a,{expandable:!0,visible:e.visible,onClick:e.onClick,progressBar:{duration:e.event.drop.claimDurationSeconds,onDurationEnd:G},expanded:e.expanded,toggleExpanded:H,header:F,footer:e.listAllView||e.event.loading?void 0:O||E&&i?z:i?U:void 0,"data-test-selector":S.HighlightCard},B)}))},"ll/k":function(e,t,n){"use strict";function i(e,t){if(void 0===t&&(t=0),t>e){var n=t;t=e,e=n}return t+Math.floor(Math.random()*(e-t+1))}function r(e){return e[i(e.length-1)]}function a(e,t){for(var n=0,i=[];n<e;)i.push(t(n)),n+=1;return i}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}))},m0uL:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DropsHighlightService_VerifyEligibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dropInstanceID"},value:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropInstanceID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimSecondsRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accountLinkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefitEdges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageAssetURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EventBasedDrop"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"missionName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:350}};n.loc.source={body:"query DropsHighlightService_VerifyEligibility($dropInstanceID: ID!) {\ndropEligibility(dropInstanceID: $dropInstanceID) {\ndropInstanceID\nstatus\nclaimSecondsRemaining\ndropType {\nid\nname\ncampaign {\nid\nimageURL\naccountLinkURL\ndetailsURL\n}\nbenefitEdges {\nbenefit {\nid\nimageAssetURL\nname\n}\n}\n... on EventBasedDrop {\nmissionName\nclaimDurationSeconds\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.DropsHighlightService_VerifyEligibility=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"DropsHighlightService_VerifyEligibility")},m3Rs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i,r=n("/7QA");!function(e){e.EMBED_UPSELL_REMAINING_DURATIONS_BY_CHANNEL="embedUpsellRemainingDurations",e.PLAYBACK_RATE="playback-rate",e.BITRATE="quality-bitrate",e.VOLUME="volume",e.LOW_LATENCY_MODE="lowLatencyModeEnabled",e.PERSISTENCE_ENABLED="persistenceEnabled",e.VOD_RESUME_TIMES="vodResumeTimes",e.LIVE_RESUME_TIMES="livestreamResumeTimes"}(i||(i={}));var a={get:function(e,t){var n=r.p.storage.getOptional(e);return null===n?t:n},set:function(e,t){r.p.storage.set(e,t)}}},m618:function(e,t,n){},mHjF:function(e,t,n){e.exports=n.p+"assets/prime-gaming-black-a2794e96bd9fd9158cbd.svg"},nO9i:function(e,t,n){},nTAV:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return k}));var i=n("mrSG"),r=n("/7QA"),a=n("geRD"),o=n("ll/k"),s=n("1/iK"),c=n("y5D0"),l=n("DMoW"),u=n("kRBY"),d=n("uGUt"),m=n("BmOg"),p=n("bGTo"),f=function(e,t,n,r,o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var s,c,u,m,f;return Object(i.__generator)(this,(function(h){switch(h.label){case 0:r(Object(d.e)(Object(i.__assign)(Object(i.__assign)({},t),{loading:!0}),t.dropInstanceID)),s=Object(a.a)({dropInstanceID:t.dropInstanceID}),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n(s)];case 2:return c=h.sent(),Object(p.c)(e,t.dropInstanceID),u=Object(i.__assign)(Object(i.__assign)({},t),{loading:!1,status:(null===(m=c.data.claimDropRewards)||void 0===m?void 0:m.status)||l.kc.UNKNOWN,isUserAccountConnected:(null===(f=c.data.claimDropRewards)||void 0===f?void 0:f.isUserAccountConnected)||!1}),r(Object(d.e)(u,t.dropInstanceID)),o&&o(u.status),[2,c];case 3:return h.sent(),r(Object(d.e)(Object(i.__assign)(Object(i.__assign)({},t),{loading:!1,error:!0}),t.dropInstanceID)),[2,{data:null}];case 4:return[2]}}))}))},h=function(e,t,n,i,r){var a,o,s,c,u,d,p,f,h,v,g,b,y,k,S,E,C,O=i.dropEligibility,D={type:m.d.E2,questName:(null===(a=null==O?void 0:O.dropType)||void 0===a?void 0:a.missionName)||"",iconURL:(null===(s=null===(o=null==O?void 0:O.dropType)||void 0===o?void 0:o.campaign)||void 0===s?void 0:s.imageURL)||(null===(p=null===(d=null===(u=null===(c=null==O?void 0:O.dropType)||void 0===c?void 0:c.benefitEdges)||void 0===u?void 0:u[0])||void 0===d?void 0:d.benefit)||void 0===p?void 0:p.imageAssetURL)||"",dropName:(null===(f=null==O?void 0:O.dropType)||void 0===f?void 0:f.name)||"",dropID:(null===(h=null==O?void 0:O.dropType)||void 0===h?void 0:h.id)||"",benefits:(null===(v=null==O?void 0:O.dropType)||void 0===v?void 0:v.benefitEdges)||[],claimDurationSeconds:(null===(g=null==O?void 0:O.dropType)||void 0===g?void 0:g.claimDurationSeconds)||0};return{type:m.c.DropClaim,drop:D,status:(null==O?void 0:O.status)||l.kc.UNKNOWN,accountLinkURL:(null===(y=null===(b=null==O?void 0:O.dropType)||void 0===b?void 0:b.campaign)||void 0===y?void 0:y.accountLinkURL)||"",loading:!1,isUserAccountConnected:!1,error:r,dropInstanceID:(null==O?void 0:O.dropInstanceID)||"",channelName:n,channelID:t,userID:e,detailsURL:(null===(S=null===(k=null==O?void 0:O.dropType)||void 0===k?void 0:k.campaign)||void 0===S?void 0:S.detailsURL)||"",campaignID:(null===(C=null===(E=null==O?void 0:O.dropType)||void 0===E?void 0:E.campaign)||void 0===C?void 0:C.id)||""}},v=function(e){var t={targetChannel:void 0,showContext:!0,onComplete:e};return Object(c.e)(s.a.Drops20LoginButton,t)},g=function(){var e=Object(u.e)(r.p.store.getState()),t=(null==e?void 0:e.login)||"",n=r.b.get("drops_2_ui_enabled",!1),i=r.b.get("drops_2_user_whitelist",[]).some((function(e){return e===t}));return n||i},b={max:15,min:5};function y(){var e=Object(o.a)(b.max,b.min);return new Promise((function(t){return setTimeout(t,1e3*e)}))}function k(e,t){return!e.benefitEdges||e.benefitEdges.every((function(e){return t.some((function(t){return!!t&&(t.id===e.benefit.id&&t.totalCount>=e.entitlementLimit)}))}))}},nqb9:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return O}));var i=n("mrSG"),r=n("q1tI"),a=n("ANjH"),o=n("eWfW"),s=n("7AWC"),c=n("Bnzf"),l=n("m3Rs"),u=n("69Mc"),d=n("Q3S8"),m=n("TzpY"),p=n("c7f0"),f=n("wNtA"),h=n("Av26"),v=n("Fn4s"),g=n("UtoE"),b={playSessionId:""},y={isPlaying:!0,play:function(){return null},pause:function(){return null},seek:function(){return null},setMuted:function(){return null},setVolume:function(){return null},setQuality:function(){return null},getPlayerMetadata:function(){return b}},k=Object(h.a)("VideoPlaybackContext",y,(function(e){return{videoPlaybackContext:e}})),S=k.withMemoContext,E=k.context,C=function(e){function t(t){var n=e.call(this,t)||this;n.preRestrictionMuted=void 0,n.play=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.videoAd;if(i)return n.setState((function(e){return e.isPlaying?null:{isPlaying:!0}})),void i.play();t&&(n.setState((function(e){return e.isPlaying?null:{isPlaying:!0}})),t.play())},n.pause=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.videoAd;if(i)return n.setState({isPlaying:!1}),void i.pause();t&&(n.setState({isPlaying:!1}),t.pause())},n.seek=function(e){var t=n.props,i=t.mediaPlayerInstance,r=t.isAdShowing,a=t.contentIsLive;!r&&!a&&isFinite(Object(u.a)(n.props))&&!n.props.playerIdle&&i&&i.seekTo(e)},n.setVolume=function(e,t){var i=n.props,r=i.videoAd,a=i.mediaPlayerInstance,o=i.audioBlocked,s=i.updateContext,c=i.updateAdVolume,u=i.disableUserPreferencePersistence,d=i.userEverUnmuted,m=t&&t.persist,p=t&&t.userTriggered;p&&e>0&&!d&&s({userEverUnmuted:!0}),r?(c(e,!!p),r.setVolume(e)):null==a||a.setVolume(e),m&&!u&&l.b.set(l.a.VOLUME,e),o&&!r&&p&&s({audioBlocked:!1})},n.setMuted=function(e,t){var i=n.props,r=i.videoAd,a=i.isAdShowing,o=i.mediaPlayerInstance,s=i.audioBlocked,l=i.updateContext,u=i.updateAdMuted,d=i.disableUserPreferencePersistence,m=i.playerType,p=i.userEverUnmuted,f=t&&t.persist,h=t&&t.userTriggered;(!h||e||p||l({userEverUnmuted:!0}),h||!s)&&(r&&(r.setMuted(e),u(e,!!h)),r&&!(r&&!a)||null==o||o.setMuted(e),f&&!d&&c.b.set(c.a.MUTED,m,e),s&&l({audioBlocked:!1}))},n.setQuality=function(e){if(n.props.mediaPlayerInstance){var t=n.props.availableQualities.find((function(t){return t.group.includes(e)}));t&&(n.props.updateContext({quality:t.group,qualityBitrate:t.bitrate}),t.group===o.a?n.props.mediaPlayerInstance.setAutoQualityMode(!0):n.props.mediaPlayerInstance.setQuality(t))}},n.getPlayerMetadata=function(){var e=n.props,t=e.mediaPlayerInstance;return{playSessionId:e.playSessionId,latencyToBroadcaster:t?1e3*t.getLiveLatency():void 0}},n.getCombinedPlaybackState=function(e){return{muted:n.getMuted(e),volume:n.getVolume(e)}},n.isCurrentlyPlaying=function(e){var t=e.playerPlaying,n=e.playerBuffering,i=e.isAdShowing,r=e.videoAd,a=e.adPlaying;return i&&r?a:t||n},n.getVolume=function(e){var t=e.isAdShowing,n=e.videoAd,i=e.adVolume,r=e.playerVolume;return t&&n?i:r},n.getMuted=function(e){var t=e.isAdShowing,n=e.videoAd,i=e.adMuted,r=e.playerMuted;return t&&n?i:r},n.areStatesEqual=function(e,t){return Object.keys(t).every((function(n){return t[n]===e[n]}))},n.setNextPlayingState=function(e){var t=n.state.isPlaying;e.isPlayerCoreLoading&&n.props.isPlayerCoreLoading&&e.autoplay!==n.props.autoplay&&(t=!!n.props.autoplay);var r=!e.isOffline&&n.props.isOffline,a=!e.playerEnded&&n.props.playerEnded,o=!e.playerIdle&&n.props.playerIdle;!n.props.videoAd&&(r||a||o)&&(t=!1);var s=n.isCurrentlyPlaying(e),c=n.isCurrentlyPlaying(n.props);s!==c&&(t=c),n.props.manualResetRequested&&(t=!0);var l=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},n.state),n.getCombinedPlaybackState(n.props)),{isPlaying:t});n.areStatesEqual(n.state,l)||n.setState(l)},n.updateRestrictedPlayback=function(e){var t=e.hasPlaybackRestriction,i=n.props.hasPlaybackRestriction;t&&!i&&(n.play(),n.preRestrictionMuted||n.setMuted(!1)),!t&&i&&(n.preRestrictionMuted=n.state.muted,n.pause(),n.setMuted(!0))};var r=!(!t.autoplay||t.isOffline||t.playerEnded);return n.state=Object(i.__assign)(Object(i.__assign)({},n.getCombinedPlaybackState(t)),{isPlaying:n.isCurrentlyPlaying(t)||r,play:n.play,pause:n.pause,seek:n.seek,setMuted:n.setMuted,setVolume:n.setVolume,setQuality:n.setQuality,getPlayerMetadata:n.getPlayerMetadata}),n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.setNextPlayingState(e),this.updateRestrictedPlayback(e)},t.prototype.render=function(){return r.createElement(E.Provider,{value:this.state},this.props.children||null)},t}(r.PureComponent),O=Object(a.d)(Object(g.c)((function(e){var t=Object(p.a)({playerPublicPropsContext:e});return{disableAudio:!!t.disableAudio,disableUserPreferencePersistence:!!t.disableUserPreferencePersistence,playerType:e.type,contentIsLive:Object(d.s)(e.content)}})),Object(v.c)((function(e){return{availableQualities:e.availableQualities,playerVolume:e.volume,playerPlaying:Object(m.j)(e),playerMuted:e.muted,playerEnded:Object(m.g)(e),playerIdle:Object(m.h)(e),playerBuffering:Object(m.f)(e),playSessionId:e.playSessionId,autoplay:e.autoplay,isOffline:e.isOffline,isPlayerCoreLoading:e.isPlayerCoreLoading,audioBlocked:e.audioBlocked,hasPlaybackRestriction:Object(m.d)(e),updateContext:e.updateContext,manualResetRequested:e.manualResetRequested,mediaPlayerInstance:e.mediaPlayerInstance,userEverUnmuted:e.userEverUnmuted}})),Object(f.c)((function(e){return{videoAd:Object(s.a)({adContext:e}),adPlaying:e.isPlaying,adMuted:e.muted,adVolume:e.volume,isAdShowing:Object(s.d)(e.videoAdMetadata),updateAdMuted:e.updateAdMuted,updateAdVolume:e.updateAdVolume,videoAdMetadata:e.videoAdMetadata}})))(C)},oAT0:function(e,t,n){},oKCn:function(e,t,n){"use strict";var i;n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.Auto="auto",e.HighHighFPS="1080p60",e.High="1080p30",e.MediumHighFPS="720p60",e.Medium="720p30",e.Low="360p30",e.VeryLow="160p30"}(i||(i={}));var r,a,o={group:"auto",width:1e5,height:1e5},s={group:"720p60",width:1280,height:720},c={group:"360p30",width:640,height:360};!function(e){e.Delete="delete",e.DeleteAll="deleteAll",e.ReportUser="report"}(r||(r={})),function(e){e.PlayAndPauseAtCurrentEditingSegmentEnd="playAndPauseAtCurrentEditingSegmentEnd",e.PlayAndPauseAtLastEditingSegmentEnd="playAndPauseAtLastEditingSegmentEnd",e.PlayAndReplayAtCurrentEditingSegmentEnd="playAndReplayAtCurrentEditingSegmentEnd"}(a||(a={}))},oMhb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidNotification_Channels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:289}};n.loc.source={body:"query RaidNotification_Channels($sourceChannelID: ID! $targetChannelID: ID!) {\nsourceChannel: user(id: $sourceChannelID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\n}\ntargetChannel: user(id: $targetChannelID) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 70)\nself {\nisModerator\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RaidNotification_Channels=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"RaidNotification_Channels")},oQBz:function(e,t,n){e.exports=n.p+"assets/xsolla_1x-920aa1ba72411e5fe0aa.png"},oe2Q:function(e,t,n){e.exports=n.p+"assets/KR-47cf2c6216f4f5f24125.png"},p0fo:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainConductorReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainConductorReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainReward"},directives:[]}]}}]}}],loc:{start:0,end:177}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-reward.gql"\nfragment hypeTrainConductorReward on HypeTrainConductorReward {\nsource\ntype\nrewards {\n...hypeTrainReward\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("iotB").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},p8oj:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CountrySelector_CountryCode"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:65}};n.loc.source={body:"query CountrySelector_CountryCode {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CountrySelector_CountryCode=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CountrySelector_CountryCode")},p9bs:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i,r=n("q1tI"),a=n("/7QA"),o=n("i5+p"),s=n("Yegi"),c=n("OCDW"),l=n("uq9l");!function(e){e.Header="header"}(i||(i={}));var u=function(e){var t=s.f.Alt2;e.overlay&&(t=s.f.OverlayAlt);var n=s.f.Base;return e.overlay&&(n=s.f.Overlay),r.createElement(c.a,null,r.createElement(l.a,{"data-test-selector":i.Header,fontSize:s.k.Size6,color:t},Object(o.e)(e.status)?Object(a.d)("Poll Ended","Polls--PollHeader"):Object(a.d)("Current Poll","Polls--PollHeader")),r.createElement(l.a,{lineHeight:l.b.Heading,bold:!0,color:n,fontSize:s.k.Size4,wordBreak:l.g.BreakWord,ellipsis:e.truncated},e.title))}},pGjf:function(e,t,n){},pXzP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PurchaseOfferMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchaseOfferInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"mutation PurchaseOfferMutation($input: PurchaseOfferInput!) {\npurchaseOffer(input: $input) {\npurchaseOrder {\nid\nactionTokenID\nstate\n}\nerror\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PurchaseOfferMutation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"PurchaseOfferMutation")},peTa:function(e,t,n){},q0CL:function(e,t,n){"use strict";n.r(t),n.d(t,"TEST_SELECTOR",(function(){return h})),n.d(t,"ReportUserModalComponent",(function(){return v})),n.d(t,"ReportUserModal",(function(){return g}));var i=n("q1tI"),r=n("/MKj"),a=n("cZKs"),o=n("ZDlU"),s=n("1/iK"),c=n("XDCx"),l=n("y5D0"),u=n("kRBY"),d=n("GnwI"),m=n("dAHa"),p=n("OCDW"),f=n("Yegi"),h=(n("Oy4H"),{ERROR:"report-modal-error",REPORT_MODAL:"report-modal-content"}),v=function(e){var t=Object(r.e)(u.f),n=Object(r.d)();if(!t)return n(Object(l.e)(s.a.ReportModal)),i.createElement(o.PageError,{"data-test-selector":h.ERROR});return i.createElement(p.a,{className:"reporting-modal__container",background:f.d.Base,padding:{x:2,y:3},"data-a-target":h.REPORT_MODAL},i.createElement(m.b,{"data-test-selector":h.REPORT_MODAL,onClose:function(t,i){var r;n(Object(c.d)()),null===(r=e.onClose)||void 0===r||r.call(e,t,i)},reportContext:e.reportContext,title:e.title,defaultDescription:e.defaultDescription}),i.createElement(a.a,null))},g=Object(d.withLatencyTracking)("ReportUserModal")(v)},q8H6:function(e,t,n){e.exports=n.p+"assets/paypal_dark_2x-74742ec8600998675dc5.png"},"qG/w":function(e,t,n){},qhDs:function(e,t,n){},qyxT:function(e,t,n){"use strict";function i(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}n.d(t,"a",(function(){return i}))},rACw:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("/7QA"),r=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);function a(e){return!!e&&r.test(e)}function o(e){if(!a(e))return Object(i.d)("Please enter a valid email.","EmailValidator")}},rO5f:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),r=n("q1tI"),a=n("lVPZ"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={remainingSeconds:t.props.from},t.handleIntervalUpdate=function(){if(t.state.remainingSeconds<=0)return t.props.onCountdownEnd&&t.props.onCountdownEnd(),t.countdownTimer.stop();t.setState((function(e){return{remainingSeconds:e.remainingSeconds-1}}),(function(){t.props.onSecondsUpdate(t.state.remainingSeconds)}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.countdownTimer=new a.a({onInterval:this.handleIntervalUpdate,intervalMillis:1e3}),this.countdownTimer.start()},t.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},t.prototype.render=function(){return null},t}(r.Component)},"s+pF":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return m}));var i,r=n("pVnL"),a=n.n(r),o=n("VbXa"),s=n.n(o),c=n("q1tI"),l=n("SWse"),u=n("P+FS"),d=n("HQtB");!function(e){e.First="col-order--first",e.Last="col-order--last"}(i||(i={}));var m=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.render=function(){var e=this.getColumnSizeClasses(this.props.cols),t=this.props.offset?this.getColumnOffsetClasses(this.props.offset):"",n=this.props.order?this.getColumnOrderClasses(this.props.order):"";return c.createElement("div",a()({className:Object(l.a)([e,t,n])},Object(d.a)(this.props),Object(u.a)(this.props)),this.props.children)},n.getColumnSizeClasses=function(e){if("number"==typeof e)return"tw-col-"+e;var t=["tw-col-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-"+e.xxl),t},n.getColumnOffsetClasses=function(e){if("number"==typeof e)return"tw-col-offset-"+e;var t=["tw-col-offset-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-offset-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-offset-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-offset-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-offset-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-offset-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-offset-"+e.xxl),t},n.getColumnOrderClasses=function(e){if("string"==typeof e)return"tw-"+e;if("object"==typeof e){var t=[];return"string"==typeof e.default&&t.push("tw-"+e.default),"string"==typeof e.xs&&t.push("tw-xs-"+e.xs),"string"==typeof e.sm&&t.push("tw-sm-"+e.sm),"string"==typeof e.md&&t.push("tw-md-"+e.md),"string"==typeof e.lg&&t.push("tw-lg-"+e.lg),"string"==typeof e.xl&&t.push("tw-xl-"+e.xl),"string"==typeof e.xxl&&t.push("tw-xxl-"+e.xxl),t}return!1},t}(c.Component);m.displayName="Column"},s0i4:function(e,t,n){e.exports=n.p+"assets/expanded-emote-c25caeb5218f4c4775f3.png"},s7pO:function(e,t,n){},s8Ou:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReportUserModal_ReportUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReportContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};n.loc.source={body:"mutation ReportUserModal_ReportUser($input: ReportContentInput!) {\nreportContent(input: $input) {\ncontentID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportUser")},"sAl/":function(e,t,n){},sDuP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n("q1tI").createRef()},si9w:function(e,t,n){},sqAG:function(e,t,n){e.exports=n.p+"assets/green-gem-5e6e942a04394ef59ee9.png"},"t/uW":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("fvsf"),s=n("TbBp"),c=n("BBJN"),l=n("s+pF"),u=n("OCDW"),d=n("afq6"),m=n("TwdJ"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryChange=function(e){t.props.onChange({countryCode:e.currentTarget.value,zipCode:""})},t.onZipChange=function(e){t.props.onChange({countryCode:t.props.countryCode,zipCode:e.currentTarget.value})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.hidePriceVaries?"":Object(a.d)("Price may vary","CountryOfResidenceSelector");return r.createElement(c.a,{gutterSize:c.b.Medium},r.createElement(l.a,{cols:{default:12,sm:6}},r.createElement(u.a,{margin:{bottom:1},"data-a-target":"country-of-residence"},r.createElement(d.a,{label:Object(a.d)("Country of Residence","CountryOfResidenceSelector"),labelOptional:e},r.createElement(o.a,{countryCode:this.props.countryCode,countryCodeList:s.a,onChange:this.onCountryChange})))),this.zipCodeRequired&&r.createElement(l.a,{cols:6},r.createElement(u.a,{margin:{bottom:1},"data-a-target":"country-of-residence-postal-code"},r.createElement(d.a,{label:Object(a.d)("Postal Code","CountryOfResidenceSelector")},r.createElement(m.a,{type:m.c.Text,placeholder:this.placeholderText,value:this.props.zipCode||"",error:this.props.zipCodeError,onChange:this.onZipChange,maxLength:this.zipCodeMaxLength,autoComplete:"postal-code"})))))},Object.defineProperty(t.prototype,"zipCodeRequired",{get:function(){return["US","CA"].includes(this.props.countryCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholderText",{get:function(){switch(this.props.countryCode){case"US":return"12345";case"CA":return"M5J 0A1";default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zipCodeMaxLength",{get:function(){switch(this.props.countryCode){case"US":return 5;case"CA":return 7;default:return}},enumerable:!0,configurable:!0}),t}(r.PureComponent)},t5Mr:function(e,t,n){e.exports=n.p+"assets/bacs_dark-c915995c17630491b205.png"},uReR:function(e,t,n){e.exports=n.p+"assets/amex-0e89bed815722eb64119.svg"},ulmk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"JoinRaid"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"JoinRaidInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"joinRaid"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raidID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:80}};n.loc.source={body:"mutation JoinRaid($input: JoinRaidInput!) {\njoinRaid(input: $input) {\nraidID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.JoinRaid=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"JoinRaid")},v30r:function(e,t,n){},vCMj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),r=n("q1tI"),a=n("/7QA"),o=n("wUQP"),s=function(e){var t=e.category,n=e.feature,i=e.gqlErrors,s=e.availability,c=e.skip,l=r.useState(Object(o.c)("client_availability_reporting"))[0];return Object(r.useEffect)((function(){!c&&l&&a.o.trackAvailability({category:t,feature:n,availability:s,gql_errors:i})}),[s,t,c,l,n,i]),null};function c(e){var t=e.category,n=e.feature,a=e.gqlErrors,o=e.available,c=e.skip;return function(e){return function(l){return s({category:t,feature:"function"==typeof n?n(l):n,availability:o(l),gqlErrors:null==a?void 0:a(l),skip:null==c?void 0:c(l)}),r.createElement(e,Object(i.__assign)({},l))}}}},"vE+g":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_1x-27fb4921a874a8f4d84b.png"},vIXB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CelebrationsProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:89}};n.loc.source={body:"query CelebrationsProductDescription($id: ID!) {\nuser(id: $id) {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CelebrationsProductDescription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"CelebrationsProductDescription")},"vK6+":function(e,t,n){},vLiP:function(e,t,n){},vYXc:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainExecution"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainExecution"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"conductors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConductor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"participations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainParticipation"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"hypeTrainConfig"},directives:[]}]}}]}}],loc:{start:0,end:538}};i.loc.source={body:'#import "twilight/features/hype-train/queries/hype-train-conductor.gql"\n#import "twilight/features/hype-train/queries/hype-train-config.gql"\n#import "twilight/features/hype-train/queries/hype-train-participation.gql"\n#import "twilight/features/hype-train/queries/hype-train-progress.gql"\nfragment hypeTrainExecution on HypeTrainExecution {\nid\nstartedAt\nexpiresAt\nupdatedAt\nendedAt\nendReason\nprogress {\n...hypeTrainProgress\n}\nconductors {\n...hypeTrainConductor\n}\nparticipations {\n...hypeTrainParticipation\n}\nconfig {\n...hypeTrainConfig\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(a(n("XnJk").definitions)),i.definitions=i.definitions.concat(a(n("KAhE").definitions)),i.definitions=i.definitions.concat(a(n("e0KT").definitions)),i.definitions=i.definitions.concat(a(n("LKES").definitions)),e.exports=i},vZNl:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmCountryOfResidence"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query ConfirmCountryOfResidence {\ncurrentUser {\nid\nresidence {\ncountryCode\npostalCode\n}\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ConfirmCountryOfResidence=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ConfirmCountryOfResidence")},vcVl:function(e,t,n){},vwei:function(e,t,n){e.exports=n.p+"assets/sepa-cd4d85e5a38f3d66d787.png"},w1PT:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var i=n("/7QA"),r=n("ZS2+"),a=n("SDEh"),o=n("1/eP"),s=n("XDCx"),c=n("IZXT"),l=n("8EUQ"),u="core.ui.CHECKOUT_SHOWN";function d(e){return function(t){t(Object(s.e)(r.a,{component:"CheckoutSuccessModal",loader:function(){return Promise.all([n.e(0),n.e(87)]).then(n.bind(null,"jBvQ"))},componentProps:e}))}}function m(e){if(Object(a.d)()||Object(o.a)()){try{l.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var t=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?t.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount?t.searchParams.append("gift_count",e.mysteryGiftCount.toString()):e.multiMonthGiftAmount&&t.searchParams.append("months",e.multiMonthGiftAmount.toString());e.isAnonymous&&t.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&t.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(t.toString(),"_blank")}(e)}catch(e){Object(c.d)()?i.k.warn("Failed to open subscription checkout externally"):i.k.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:u})}}return function(t){t(Object(s.e)(r.a,{component:"CheckoutModal",loader:function(){return Promise.all([n.e(0),n.e(86)]).then(n.bind(null,"KJv/"))},componentProps:e}))}}},w4pw:function(e,t,n){},wNtA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n("mrSG"),r=n("Eh0y"),a=n("Av26"),o={adPodStats:[],isPlaying:!1,userManuallyAdjustedVolumeDuringAd:!1,radToken:null,adPollVisible:!1,adPollDrift:r.b},s=Object(i.__assign)(Object(i.__assign)({},o),{emitClickEvent:function(){return null},addClickListener:function(){return null},removeClickListener:function(){return null},fillClientSideAd:function(){return null},processAdRequest:function(){return null},requestAd:function(){return null},reset:function(){return null},resetForNewPlayerContent:function(){return null},setRadToken:function(){return null},setRunningAdPoll:function(){return null},setAdPollDrift:function(){return null},setAdPollVisible:function(){return null},startClientSideAd:function(){return null},startStitchedAd:function(){return null},updateAdElement:function(){return null},updateAdMuted:function(){return null},updateAdPlaying:function(){return null},updateAdStats:function(){return null},updateAdVolume:function(){return null}}),c=Object(a.a)("AdContext",s,(function(e){return{adContext:e}})),l=c.withMemoContext,u=c.context},wOiE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n("/7QA"),r=n("wUQP");function a(){return Object(r.c)("amazon_pay_enabled",{defaultThreshold:1})}function o(){return Object(r.c)("paypal_enabled",{defaultThreshold:1})}function s(){return Object(r.c)("recurly_enabled",{defaultThreshold:1})}function c(){return Object(r.c)("xsolla_enabled",{defaultThreshold:1})}function l(e){return i.b.get("recurly_cc_disabled_countries",[]).includes(e)}},"wQB+":function(e,t,n){},wfkB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation UpdateUser($input: UpdateUserInput!) {\nupdateUser(input: $input) {\nerror {\ncode\n}\nuser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UpdateUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UpdateUser")},x9xf:function(e,t,n){e.exports=n.p+"assets/extended-broadcaster-053b497cd16b10d9e6ba.png"},xRFA:function(e,t,n){},xTkt:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamerAccentColor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:90}};n.loc.source={body:"query StreamerAccentColor($channelID: ID!) {\nuser(id: $channelID) {\nid\nprimaryColorHex\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.StreamerAccentColor=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"StreamerAccentColor")},xWvT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"KRExtraLegalDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:60}};n.loc.source={body:"query KRExtraLegalDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.KRExtraLegalDisclaimer=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"KRExtraLegalDisclaimer")},yAI6:function(e,t,n){},yMEX:function(e,t,n){"use strict";var i=n("gvGA");n.d(t,"a",(function(){return i.a}))},yWUM:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i="0h0m1s";function r(e){if(0===e)return i;if(!e||e<0)return"";var t=e,n=Math.floor(t/3600);return t%=3600,n+"h"+Math.floor(t/60)+"m"+(t%=60)+"s"}},yq66:function(e,t,n){},yrda:function(e,t,n){e.exports=n.p+"assets/amazon_pay_2x-914335e3401a72109a8a.png"},z8ZU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userResidenceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResidence"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment userResidenceFragment on UserResidence {\ncountryCode\npostalCode\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},zB5j:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"hypeTrainNotificationThreshold"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HypeTrainNotificationThreshold"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:97}};n.loc.source={body:"fragment hypeTrainNotificationThreshold on HypeTrainNotificationThreshold {\naction\nsource\nvalue\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},zbfc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetUserResidenceMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetUserResidenceInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setUserResidence"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation SetUserResidenceMutation($input: SetUserResidenceInput!) {\nsetUserResidence(input: $input) {\nuser {\nid\nresidence {\ncountryCode\npostalCode\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.SetUserResidenceMutation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"SetUserResidenceMutation")},zeiz:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MWDropAvailableHighlight"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropCurrentSession"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dropID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentMinutesWatched"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredMinutesWatched"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:155}};n.loc.source={body:"query MWDropAvailableHighlight {\ncurrentUser {\nid\ndropCurrentSession {\nchannel {\nid\ndisplayName\n}\ndropID\ncurrentMinutesWatched\nrequiredMinutesWatched\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MWDropAvailableHighlight=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"MWDropAvailableHighlight")},zixI:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnblockUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnblockUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unblockUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"targetUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"mutation UnblockUser($input: UnblockUserInput!) {\nunblockUser(input: $input) {\ntargetUser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UnblockUser=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UnblockUser")},zwNz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("OCDW"),a=n("Yegi"),o=n("cwzQ"),s=function(e){var t=e.seconds;return i.createElement(r.a,{display:a.h.Flex,alignItems:a.b.Center,justifyContent:a.m.Center,color:a.f.Overlay},i.createElement(o.a,{size:o.b.Large,delay:0,inheritColor:!0}),i.createElement(r.a,{position:a.o.Absolute,color:a.f.Base},t))}},zwzf:function(e,t,n){}}]);