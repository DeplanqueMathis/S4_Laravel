(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{"+20K":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DropsPrivateCallout_Claim"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimDropRewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"dropInstanceID"},value:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropInstanceID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserAccountConnected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accountLinkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:198}};n.loc.source={body:"mutation DropsPrivateCallout_Claim($dropInstanceID: ID!) {\nclaimDropRewards(input: { dropInstanceID: $dropInstanceID }) {\ndropInstanceID\nisUserAccountConnected\nrewards {\nid\naccountLinkURL\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.DropsPrivateCallout_Claim=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"DropsPrivateCallout_Claim")},"+H2+":function(e,t,n){e.exports=n.p+"assets/bacs_light-a464b95fb42885b041f6.png"},"//su":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegalDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:53}};n.loc.source={body:"query LegalDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.LegalDisclaimer=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"LegalDisclaimer")},"/Z6v":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_2x-c98151cef856bab0e62c.png"},"09Cy":function(e,t,n){},"0E6Y":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelSubGiftSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"giftRecipient"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:355}};n.loc.source={body:"query ChannelSubGiftSuccessScreen($productName: String! $giftRecipientID: ID) {\ngiftRecipient: user(id: $giftRecipientID) {\nid\ndisplayName\n}\nsubscriptionProduct(productName: $productName) {\nid\ntier\nowner {\nid\ndisplayName\nself {\ndisplayBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\navailableBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ChannelSubGiftSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ChannelSubGiftSuccessScreen")},"0PSp":function(e,t,n){},"1AzW":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("q1tI"),i=n("/7QA"),a=n("ZDlU"),o=n("OCDW"),s=n("Yegi"),c=n("uq9l"),l=(n("YG3Y"),function(){return r.createElement(o.a,{className:"xsolla-down-notice__container",background:s.d.Base,border:!0,display:s.h.Flex,justifyContent:s.m.Center},r.createElement(o.a,{margin:{top:5},fullWidth:!0,textAlign:s.q.Center},r.createElement(c.a,{type:c.e.H4},r.createElement(a.PageError,{message:Object(i.d)("Sorry, this payment option is not available at the moment.","XsollaDownNotice")}))))})},"1Fpl":function(e,t,n){e.exports=n.p+"assets/prime-gaming-purple-c14b20e495295c7c06cd.svg"},"1Hre":function(e,t,n){},"1ZQW":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelSubSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:367}};n.loc.source={body:"query ChannelSubSuccessScreen($productName: String!) {\nsubscriptionProduct(productName: $productName) {\nid\ntier\nhasAdFree\nowner {\nid\ndisplayName\nself {\ndisplayBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\navailableBadges {\nid\ntitle\nimageURL(size: QUADRUPLE)\nsetID\n}\n}\nsubscriptionProducts {\nid\ntier\nemotes {\nid\ntoken\nsetID\n}\nemoteModifiers {\ncode\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ChannelSubSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ChannelSubSuccessScreen")},"1ZY8":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsProductDescription"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"query BitsProductDescription {\ncurrentUser {\nid\nbitsOffers {\nid\nbits\n... on BitsBundleOffer {\nasin\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.BitsProductDescription=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"BitsProductDescription")},"2DIU":function(e,t,n){e.exports=n.p+"assets/amazon_pay_1x-4f76ba5fbbaca5a76d41.png"},"2ORI":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_2x-302cb9125ccffd2d356d.png"},"2xEe":function(e,t,n){e.exports=n.p+"assets/paypal_dark_1x-29d0a02f9cc67088594b.png"},"3Qp8":function(e,t,n){e.exports=n.p+"assets/red-gem-fc715055c3b78e71b335.png"},"4/vz":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_ShareResub_UseResubToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UseChatNotificationTokenInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"useChatNotificationToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuccess"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:136}};n.loc.source={body:"mutation Chat_ShareResub_UseResubToken($input: UseChatNotificationTokenInput!) {\nuseChatNotificationToken(input: $input) {\nisSuccess\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.Chat_ShareResub_UseResubToken=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"Chat_ShareResub_UseResubToken")},"4wQG":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r,i=n("pVnL"),a=n.n(i),o=n("q1tI"),s=n("SWse"),c=n("P+FS"),l=n("HQtB"),u=n("swlv"),d=n("g8gE"),p=n("OCDW"),m=n("Yegi"),h=n("NBHn"),f=n("iF2L"),b=n("E1Lb"),y=n("Ix37"),v=n("WeGZ"),g=((r={})[v.a.Error]=y.a.NotificationError,r[v.a.Info]=y.a.NotificationInfo,r[v.a.Success]=y.a.NotificationSuccess,r[v.a.Warning]=y.a.NotificationWarning,r),k=function(e){return o.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?o.createElement(f.a,a()({size:30},e.avatar)):o.createElement(b.a,{asset:g[e.type]}))};k.displayName="NotificationFigure",k.displayName="NotificationFigure";var S=n("p9DJ"),C=n("uq9l"),E=function(e){return o.createElement(p.a,{display:m.h.Flex,flexDirection:e.inline?m.i.Row:m.i.Column,alignItems:e.inline?m.b.Baseline:void 0},o.createElement(p.a,{margin:{right:e.inline?.5:0}},o.createElement(C.a,{fontSize:m.k.Size5,fontWeight:m.l.SemiBold},e.title)),e.description&&o.createElement(p.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},o.createElement(C.a,{color:m.f.Alt},e.description)),e.link&&o.createElement(p.a,{margin:{bottom:e.inline?void 0:.5}},o.createElement(S.a,e.link)))};E.displayName="NotificationMessage",E.displayName="NotificationMessage";var O=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return o.createElement(p.a,a()({},Object(l.a)(e),Object(c.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:m.e.Medium,color:m.f.Base,position:m.o.Relative}),o.createElement(p.a,{borderRadius:m.e.Medium,background:e.background},o.createElement(p.a,{display:m.h.Flex},o.createElement(p.a,{display:m.h.Flex,fullWidth:!0},o.createElement(p.a,{padding:1,className:Object(s.a)(t)},o.createElement(k,{type:e.type,avatar:e.avatar})),o.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Center,fullWidth:!0},e.children,e.message&&o.createElement(p.a,{padding:{y:1,right:1},fullWidth:!0},o.createElement(E,e.message)))),e.closeButton&&o.createElement(p.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},o.createElement(d.a,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:u.b.Small,type:u.c.Secondary}))),e.actions&&o.createElement(p.a,{padding:{x:1,bottom:1}},o.createElement(h.a,e.actions))))};O.displayName="InFeatureNotification",O.defaultProps={background:m.d.Base},O.displayName="InFeatureNotification"},"5RPz":function(e,t,n){},"5TAx":function(e,t,n){},"5yce":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("wUQP"),i=n("Mb07"),a="first_paid_gift_offer_feature_flag";function o(){return Object(r.c)(a)}function s(e){var t,n,r;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===i.a.FirstPaidGiftOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===i.a.FirstPaidSingleGiftOffer||(null===(r=null==e?void 0:e.promotion)||void 0===r?void 0:r.name)===i.a.FirstPaidMulitMonthOffer}function c(e){var t,n,r;if(o()){var a=null===(r=null===(n=null===(t=e.gifting)||void 0===t?void 0:t.community)||void 0===n?void 0:n.find((function(e){return s(e.offer)})))||void 0===r?void 0:r.offer;if(a&&Object(i.e)(a)){var c=Object(i.d)(a).discountPercent;if(c)return{offer:a,discountPercent:c}}}}},"6+Z+":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("/7QA");function i(e){switch(e.toUpperCase()){case"AL":return Object(r.d)("Alabama","format-usa-state");case"AK":return Object(r.d)("Alaska","format-usa-state");case"AZ":return Object(r.d)("Arizona","format-usa-state");case"AR":return Object(r.d)("Arkansas","format-usa-state");case"AA":return Object(r.d)("Armed Forces Americas","format-usa-state");case"AE":return Object(r.d)("Armed Forces Europe/Middle East/Canada","format-usa-state");case"AP":return Object(r.d)("Armed Forces Pacific","format-usa-state");case"CA":return Object(r.d)("California","format-usa-state");case"CO":return Object(r.d)("Colorado","format-usa-state");case"CT":return Object(r.d)("Connecticut","format-usa-state");case"DE":return Object(r.d)("Delaware","format-usa-state");case"DC":return Object(r.d)("District of Columbia","format-usa-state");case"FL":return Object(r.d)("Florida","format-usa-state");case"GA":return Object(r.d)("Georgia","format-usa-state");case"HI":return Object(r.d)("Hawaii","format-usa-state");case"ID":return Object(r.d)("Idaho","format-usa-state");case"IL":return Object(r.d)("Illinois","format-usa-state");case"IN":return Object(r.d)("Indiana","format-usa-state");case"IA":return Object(r.d)("Iowa","format-usa-state");case"KS":return Object(r.d)("Kansas","format-usa-state");case"KY":return Object(r.d)("Kentucky","format-usa-state");case"LA":return Object(r.d)("Louisiana","format-usa-state");case"ME":return Object(r.d)("Maine","format-usa-state");case"MD":return Object(r.d)("Maryland","format-usa-state");case"MA":return Object(r.d)("Massachusetts","format-usa-state");case"MI":return Object(r.d)("Michigan","format-usa-state");case"MN":return Object(r.d)("Minnesota","format-usa-state");case"MS":return Object(r.d)("Mississippi","format-usa-state");case"MO":return Object(r.d)("Missouri","format-usa-state");case"MT":return Object(r.d)("Montana","format-usa-state");case"NE":return Object(r.d)("Nebraska","format-usa-state");case"NV":return Object(r.d)("Nevada","format-usa-state");case"NH":return Object(r.d)("New Hampshire","format-usa-state");case"NJ":return Object(r.d)("New Jersey","format-usa-state");case"NM":return Object(r.d)("New Mexico","format-usa-state");case"NY":return Object(r.d)("New York","format-usa-state");case"NC":return Object(r.d)("North Carolina","format-usa-state");case"ND":return Object(r.d)("North Dakota","format-usa-state");case"OH":return Object(r.d)("Ohio","format-usa-state");case"OK":return Object(r.d)("Oklahoma","format-usa-state");case"OR":return Object(r.d)("Oregon","format-usa-state");case"PA":return Object(r.d)("Pennsylvania","format-usa-state");case"RI":return Object(r.d)("Rhode Island","format-usa-state");case"SC":return Object(r.d)("South Carolina","format-usa-state");case"SD":return Object(r.d)("South Dakota","format-usa-state");case"TN":return Object(r.d)("Tennessee","format-usa-state");case"TX":return Object(r.d)("Texas","format-usa-state");case"UT":return Object(r.d)("Utah","format-usa-state");case"VT":return Object(r.d)("Vermont","format-usa-state");case"VA":return Object(r.d)("Virginia","format-usa-state");case"WA":return Object(r.d)("Washington","format-usa-state");case"WV":return Object(r.d)("West Virginia","format-usa-state");case"WI":return Object(r.d)("Wisconsin","format-usa-state");case"WY":return Object(r.d)("Wyoming","format-usa-state");default:return e}}var a=["AL","AK","AZ","AR","AA","AE","AP","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},"6/xl":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("q1tI"),i=n("f00E"),a=n("OCDW"),o=n("JjwZ"),s="komodohype",c=81273,l="notlikethis",u=58765,d=function(e){var t=e.emoteID,n=e.emoteToken,s=e.quantity,c=r.useMemo((function(){return new Array(s).fill(0).map((function(){return r.createElement(a.a,{padding:{x:.5},key:Object(i.b)()},r.createElement(o.a,{alt:n,src:"https://static-cdn.jtvnw.net/emoticons/v2/"+t+"/default/light/1.0"}))}))}),[t,n,s]);return r.createElement(r.Fragment,null,c)}},"6fcp":function(e,t,n){"use strict";var r,i;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e.NotConfigured="not-configured",e.MissingPublicKey="missing-public-key",e.InvalidPublicKey="invalid-public-key",e.AlreadyConfigured="already-configured",e.MissingHostedFieldTarget="missing-hosted-field-target",e.Validation="validation",e.InvalidParameter="invalid-parameter",e.APIError="api-error",e.PayPalNotConfigured="paypal-not-configured",e.PayPalCanceled="paypal-canceled",e.PayPalError="paypal-error",e.InvalidRoutingNumber="invalid-routing-number",e.NotFound="not-found",e.MissingPlan="missing-plan",e.InvalidAddon="invalid-addon",e.InvalidCurrency="invalid-currency",e.GiftCardCurrencyMisMatch="gift-card-currency-mismatch"}(r||(r={})),function(e){e.FirstName="first_name",e.LastName="last_name",e.Country="country",e.StreetAddress="address1",e.City="city",e.StateOrProvince="state",e.PostalCode="postal_code",e.CreditCardNumber="number",e.ExpMonth="month",e.ExpYear="year",e.CVV="cvv",e.Token="token"}(i||(i={}))},"7DAU":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormReviewScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"purchaseOrderID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeOrder"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"failureReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query CheckoutFormReviewScreen($purchaseOrderID: ID! $includeOrder: Boolean!) {\ncurrentUser {\nid\npurchaseOrder(id: $purchaseOrderID) @include(if: $includeOrder) {\nid\nactionTokenID\nfailureReason\nstate\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CheckoutFormReviewScreen=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CheckoutFormReviewScreen")},"7SjK":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mrSG"),i=n("q1tI"),a=n("b5vT"),o=n("zb36"),s=n("VYPy"),c=n("YQhk"),l=n("mDIl"),u=n("4Nlk"),d=n("OCDW"),p=n("Yegi"),m=(n("WTcl"),function(e){var t=e.emote,n=e.index,r=e.context,m=t.modifiers||[];if(!m.length)return null;var h=[t].concat(m.map((function(e){return Object(s.f)(t,e.code)}))),f=Math.min(6,h.length),b=50*(n%6+f>6?n%6+f-6:0),y=h.length<6?c.a.Auto:c.a.Medium;return i.createElement("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(l.a,{show:!0,direction:r===o.a.FrequentlyUsed?u.b.Bottom:u.b.Top,size:y,offsetX:"-"+b+"px"},i.createElement(d.a,{className:"emote-modifiers-balloon__modified-emotes",display:p.h.Flex,flexWrap:h.length>6?p.j.Wrap:void 0},h.map((function(t,n){return i.createElement(d.a,{key:"emote-button-mod-"+t.id+"--"+n,padding:{x:e.spaced?.5:0},position:p.o.Relative},i.createElement(a.b,{emote:t,isCriticalImage:0===n,onClick:t.isLocked?void 0:e.onClickEmote}))})))))}),h=(n("VrOd"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.hoverTimer=0,t.handleClickEmote=function(e){t.props.onClickEmote&&t.props.onClickEmote(e,t.props.context)},t.handleEmoteMouseEnter=function(e){t.setHoverTimer(e.id)},t.handleEmoteMouseLeave=function(){t.setHoverTimer()},t.resetHoverTimer=function(){t.hoverTimer&&(clearTimeout(t.hoverTimer),t.hoverTimer=0)},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimer&&clearTimeout(this.hoverTimer)},t.prototype.render=function(){var e=this,t=this.props.emotes.map((function(t,n){var r,o=((null===(r=t.modifiers)||void 0===r?void 0:r.length)||0)>0;return i.createElement(d.a,{key:"emote-button-padder-"+t.id+"--"+n,padding:{x:e.props.spaced?.5:0},position:p.o.Relative},i.createElement(a.b,{key:"emote-button-"+t.id+"--"+n,emote:t,isCriticalImage:0===n,onClick:e.handleClickEmote,showOptions:o,onMouseEnter:o?e.handleEmoteMouseEnter:void 0,onMouseLeave:o?e.handleEmoteMouseLeave:void 0}),e.state.selectedEmoteID===t.id&&i.createElement(m,{context:e.props.context,emote:t,index:n,onClickEmote:e.handleClickEmote,onMouseEnter:e.resetHoverTimer,onMouseLeave:e.handleEmoteMouseLeave}))}));return i.createElement(d.a,{display:p.h.Flex,flexWrap:p.j.Wrap},t)},t.prototype.setHoverTimer=function(e){var t=this;this.resetHoverTimer(),this.hoverTimer=setTimeout((function(){t.hoverTimer=0,t.setState({selectedEmoteID:e})}),300)},t}(i.PureComponent))},"7m5f":function(e,t,n){},"8EUQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return r}));var r={};n.r(r),n.d(r,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),n.d(r,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),n.d(r,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return c})),n.d(r,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return l})),n.d(r,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return u})),n.d(r,"SUB_CHECKOUT__MULTIMONTH_GIFT_KEY",(function(){return d})),n.d(r,"clearSubscriptionCheckoutKeys",(function(){return m})),n.d(r,"showLoginModalWithCheckoutDispatch",(function(){return h}));var i=n("/7QA"),a=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",c="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",l="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",u="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",d="SUB_CHECKOUT__MULTIMONTH_GIFT_MONTHS",p=[o,s,c,l,u,d];function m(){p.forEach((function(e){return i.n.remove(e)}))}function h(e){return function(){return Object(a.e)(e,{onClose:m})}}var f=function(e){var t=e.amount,n=e.exponent;return t/Math.pow(10,n)}},"8ggV":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("4rCz"),s=n("ER7f"),c=n("OCDW"),l=n("Yegi"),u=n("uq9l"),d=(n("yAI6"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showChallenge:!1,threeDSecure:null},t.onMutation=function(e,n){for(var r=0,i=e;r<i.length;r++){if("childList"===i[r].type)return n.disconnect(),t.setState({showChallenge:!0}),void(t.props.handleChallengeShown&&t.props.handleChallengeShown())}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.recurlyLoadFailed||(this.props.recurlyInstance&&this.setupConfigs(),this.props.threeDSecureActionTokenID&&!this.state.threeDSecure&&this.props.recurlyInstance&&this.initiate3DS2Check())},t.prototype.componentDidUpdate=function(e){this.props.recurlyLoadFailed||(this.props.recurlyInstance&&this.setupConfigs(),e.threeDSecureActionTokenID||!this.props.threeDSecureActionTokenID||this.state.threeDSecure||!this.props.recurlyInstance||this.props.recurlyLoadFailed||this.initiate3DS2Check(),e.threeDSecureActionTokenID&&!this.props.threeDSecureActionTokenID&&(this.setState({showChallenge:!1,threeDSecure:null}),this.cleanUp()))},t.prototype.componentWillUnmount=function(){this.cleanUp()},t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(c.a,{display:this.state.showChallenge?l.h.Hide:l.h.Block},this.props.children),i.createElement(c.a,{display:this.state.showChallenge?l.h.Block:l.h.Hide},i.createElement(c.a,{padding:{bottom:2}},i.createElement(u.a,{type:u.e.Strong},Object(o.d)("Additional authentication with your bank is required to complete this payment.","RecurlyStrongAuthProcessor"))),i.createElement(c.a,{className:"recurly-strong-auth"})))},t.prototype.setupConfigs=function(){this.props.recurlyInstance&&this.props.recurlyInstance.configure({publicKey:this.props.publicKey,fraud:{kount:{dataCollector:!0}}})},t.prototype.initiate3DS2Check=function(){var e=this;if(this.props.recurlyInstance&&this.props.threeDSecureActionTokenID){var t=this.props.recurlyInstance.Risk().ThreeDSecure({actionTokenId:this.props.threeDSecureActionTokenID}),n=document.querySelector(".recurly-strong-auth");if(n&&t)return t.on("error",(function(t){e.cleanUp(),e.props.handleError({message:t}),e.setState({showChallenge:!1,threeDSecure:null})})),t.on("token",(function(t){e.cleanUp(),e.setState({showChallenge:!1,threeDSecure:null}),e.props.handleSuccess(t.id)})),this.mutationObserver=this.mutationObserver||new MutationObserver(this.onMutation),this.mutationObserver.observe(n,{childList:!0,subtree:!0}),t.attach(n),void this.setState({threeDSecure:t});this.props.handleError({message:"Failed to initiate 3DS2 check"})}},t.prototype.cleanUp=function(){this.state.threeDSecure&&this.state.threeDSecure.remove(),this.mutationObserver&&this.mutationObserver.disconnect()},t}(i.Component)),p=Object(a.d)(Object(s.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(d)},"8sFf":function(e,t,n){},"9TPM":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserBalanceQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"walletType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"WalletType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"balances"},arguments:[{kind:"Argument",name:{kind:"Name",value:"walletType"},value:{kind:"Variable",name:{kind:"Name",value:"walletType"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query UserBalanceQuery($walletType: WalletType!) {\ncurrentUser {\nid\nbalances(walletType: $walletType) {\namount\ncurrency\nexponent\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.UserBalanceQuery=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UserBalanceQuery")},"9g6D":function(e,t,n){e.exports=n.p+"assets/interruption-free-viewing-4f9e3f5877a2ce0a92c6.png"},A1XS:function(e,t,n){},ABd2:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return r}));var r,i=n("mrSG"),a=n("/7QA"),o=n("DMoW"),s=n("2xye"),c=n("VURH");!function(e){e.Start="start",e.CheckoutActionCheck="checkout_action_check",e.LoadSuccess="load_success",e.Add2FaPrompt="add_2fa_prompt",e.Add2FaClick="add_2fa_click",e.Add2FaClose="add_2fa_close",e.AddEmailPrompt="add_email_prompt",e.AddEmailClickAttempt="add_email_click_attempt",e.AddEmailClickSuccess="add_email_click_success",e.AddEmailClickFailure="add_email_click_failure",e.AddPaymentMethodClick="add_payment_method_click",e.ThreeDS2Prompt="3ds2_prompt",e.ThreeDS2Success="3ds2_success",e.ThreeDS2Failure="3ds2_failure",e.DirectDebitUnavailableBannerLearnMoreClick="direct_debit_unavailable_banner_learn_more_click",e.DirectDebitUnavailableBannerLoad="direct_debit_unavailable_banner_load",e.CountryOfResidencePrompt="country_of_residence_prompt",e.CountryOfResidenceAttempt="country_of_residence_attempt",e.CountryOfResidenceSuccess="country_of_residence_success",e.CountryOfResidenceFailure="country_of_residence_failure",e.PaymentMethodUpdateInit="payment_method_update_init",e.PaymentMethodUpdateAPIAttempt="payment_method_update_api_attempt",e.PaymentMethodUpdateAPISuccess="payment_method_update_api_success",e.PaymentMethodUpdateAPIFailure="payment_method_update_api_failure",e.PurchaseSupportFAQClick="purchase_support_faq_click",e.SubscriptionManagementClick="subscriptions_management_click",e.ChangePaymentMethodClick="change_payment_method_click",e.UseExistingPaymentMethodClick="use_existing_payment_method_click",e.CompletePurchaseShown="complete_purchase_shown",e.CompletePurchaseClickAttempt="complete_purchase_click_attempt",e.CompletePurchaseClickSuccess="complete_purchase_click_success",e.CompletePurchaseClickFailure="complete_purchase_click_failure",e.VendorScriptFailure="vendor_script_failure",e.GQLError="gql_error",e.Error="error",e.Close="close",e.SetupAutoRefillPrompt="setup_auto_refill_prompt",e.SetupAutoRefillClick="setup_auto_refill_click",e.TermsOfSaleClick="terms_of_sale_click",e.PrivacyPolicyClick="privacy_policy_click",e.QuantityUpdated="quantity_updated",e.PurchaseSuccessScreenShown="purchase_success_screen_shown",e.SkipAddPaymentMethodClick="skip_add_payment_method_click",e.UpdateMonthQuantityClick="update_month_quantity_click",e.PriceChangeWarningShown="price_change_warning_shown",e.PriceChangeWarningDismiss="price_change_warning_dismiss"}(r||(r={}));var l=[r.Start,r.LoadSuccess],u=function(){function e(e){var t=this;this.subEventsFired={},this.getTenantTracking=function(){return t.tenantTracking},this.getCheckoutSessionID=function(){return t.checkoutSessionID},this.track=function(e){var n=e.subEventDetail||"",r=e.originID||"",o=e.extTransactionID||"";if(!l.includes(e.subEvent)||!t.subEventsFired[e.subEvent]){t.subEventsFired[e.subEvent]=!0;var c=Object(i.__assign)({checkout_session_id:t.checkoutSessionID,source:t.source,source_detail:t.sourceDetail||"",offer_id:t.offerID,subs_ticket_product_owner_id:t.subsTicketOwnerID||"",product_type:t.productType,product_id:t.productID,purchase_flow:t.purchaseFlow,quantity:t.quantity,currency:t.currency,saved_payment_method:t.savedPaymentMethod,saved_payment_provider:t.savedPaymentProvider,active_payment_method:t.activePaymentMethod||"",active_payment_provider:t.activePaymentProvider||"",is_taxes_known:t.isTaxesKnown,sub_event:e.subEvent,sub_event_detail:n,origin_id:r,ext_transaction_id:o},t.sanitizedTrackingProperties);void 0!==t._isSpmShownAtLoad&&(c.is_spm_shown_at_load=t._isSpmShownAtLoad),t.walletBalanceLocal&&(c.wallet_balance_local=t.walletBalanceLocal),void 0!==t.grossAmountLocal&&(c.gross_amount_local=t.grossAmountLocal),void 0!==t.grossAmountLocalNonWallet&&(c.gross_amount_local_non_wallet=t.grossAmountLocalNonWallet),void 0!==t.taxesLocal&&(c.taxes_local=t.taxesLocal),void 0!==t.isTaxInclusive&&(c.is_tax_inclusive=t.isTaxInclusive),void 0!==t.defaultGrossAmountLocal&&(c.default_gross_amount_local=t.defaultGrossAmountLocal),t.countryCode&&(c.residence_country_code=t.countryCode),void 0!==t.monthQuantity&&(c.month_quantity=t.monthQuantity),a.o.track(s.SpadeEventType.CheckoutSession,c)}},this.checkoutSessionID=e.checkoutSessionID,this.source=e.source,this.sourceDetail=e.sourceDetail,this.tenantTracking=e.tenantTracking,this.offerID=e.offerID,this.quantity=e.quantity,this.subsTicketOwnerID=e.subsTicketOwnerID,this.productType=e.productType,this.track({subEvent:r.Start})}return Object.defineProperty(e.prototype,"isSpmShownAtLoad",{set:function(e){void 0===this._isSpmShownAtLoad&&(this._isSpmShownAtLoad=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"productID",{get:function(){var e,t;return(null===(t=null===(e=this.tagBindings)||void 0===e?void 0:e.find((function(e){return"product_id"===e.key})))||void 0===t?void 0:t.value)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"purchaseFlow",{get:function(){switch(this.tplr){case c.b.BitsBundle:case c.b.ChannelSub:case c.b.ChannelSubCustom:case c.b.Turbo:return"personal";case c.b.ChannelSubStandardGift:return"gift";case c.b.ChannelSubCommunityGift:return"community_gift";default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taxesLocal",{get:function(){var e,t,n;if(this.paymentProvider===o.td.RECURLY)return(null===(t=null===(e=this.checkoutPrice)||void 0===e?void 0:e.discount)||void 0===t?void 0:t.tax)||(null===(n=this.checkoutPrice)||void 0===n?void 0:n.tax)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTaxInclusive",{get:function(){return this.checkoutPrice?this.checkoutPrice.isTaxInclusive:this.previewPrice?this.previewPrice.isTaxInclusive:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTaxesKnown",{get:function(){return!!this.checkoutPrice&&this.paymentProvider===o.td.RECURLY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultGrossAmountLocal",{get:function(){return this.checkoutPrice?this.checkoutPrice.total:this.previewPrice?this.previewPrice.price*this.quantity:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grossAmountLocal",{get:function(){var e,t;return(null===(e=this.checkoutPrice)||void 0===e?void 0:e.discount)?this.checkoutPrice.discount.total:(null===(t=this.previewPrice)||void 0===t?void 0:t.discount)?this.previewPrice.discount.price*this.quantity:this.defaultGrossAmountLocal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grossAmountLocalNonWallet",{get:function(){var e=this.grossAmountLocal;if(e){if(!this.walletBalanceLocal||this.activePaymentProvider!==o.td.RECURLY.toLowerCase())return e;var t=e-this.walletBalanceLocal;return t<0?0:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currency",{get:function(){var e,t;return(null===(e=this.checkoutPrice)||void 0===e?void 0:e.currency)||(null===(t=this.previewPrice)||void 0===t?void 0:t.currency)||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"savedPaymentMethod",{get:function(){var e;switch(null===(e=this.savedPaymentInstrumentType)||void 0===e?void 0:e.toUpperCase()){case o.rd.CREDIT_CARD:return"credit_card";case o.rd.PAYPAL:return"paypal";case o.rd.AMAZON:return"amazon_pay";default:return""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"savedPaymentProvider",{get:function(){return this.savedPaymentMethod?"recurly":""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sanitizedTrackingProperties",{get:function(){try{var e=this.tenantTracking?JSON.parse(this.tenantTracking):null;return{bits_checkout_id:e.bits_checkout_id||"",sub_session_id:e.sub_session_id||"",tracking_id:e.tracking_id||""}}catch(e){return{}}},enumerable:!0,configurable:!0}),e}()},ANDu:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n("mrSG"),i=n("OpME"),a=function(e){var t={};e.forEach((function(e){var n;e.owner&&e.owner.id&&(t[e.owner.id]?(n=t[e.owner.id].emotes).push.apply(n,e.emotes):t[e.owner.id]=Object(r.__assign)(Object(r.__assign)({},e),{emotes:e.emotes.slice()}))}));var n=Object.keys(t),i=[];return n.forEach((function(e){i.push(t[e])})),i},o=function(e,t){return t.reduce((function(t,n){var a;if(null===n.emotes||null===n.emoteSetID)return t;var o=Object(i.c)(n.emotes),s=e.get(n.emoteSetID),c={};return null===(a=null==s?void 0:s.emotes)||void 0===a||a.forEach((function(e){(null==e?void 0:e.id)&&(c[e.id]=e)})),t.concat(o.map((function(e){var t;return Object(r.__assign)(Object(r.__assign)({},e),{isLocked:!s,modifiers:(null===(t=c[e.id])||void 0===t?void 0:t.modifiers)||[]})})))}),[])},s=function(e){return e.tier&&!isNaN(parseInt(e.tier,10))?parseInt(e.tier,10)/1e3:1}},AR1T:function(e,t,n){e.exports=n.p+"assets/apple_dark_1x-796e0d031174dc971968.svg"},BBJN:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return d}));var r,i=n("pVnL"),a=n.n(i),o=n("q1tI"),s=n("SWse"),c=n("P+FS"),l=n("HQtB"),u=n("OCDW");!function(e){e.Default="",e.Small="tw-grid--gutter-sm",e.Medium="tw-grid--gutter-md",e.Large="tw-grid--gutter-lg",e.None="tw-grid--gutter-none"}(r||(r={}));var d=function(e){var t={"tw-grid":!0};return e.gutterSize&&(t[e.gutterSize]=!0),o.createElement(u.a,a()({alignItems:e.alignItems,fullHeight:e.fullHeight,justifyContent:e.justifyContent,breakpointExtraSmall:e.breakpointExtraSmall,breakpointSmall:e.breakpointSmall,breakpointMedium:e.breakpointMedium,breakpointLarge:e.breakpointLarge,breakpointExtraLarge:e.breakpointExtraLarge,breakpointExtraExtraLarge:e.breakpointExtraExtraLarge,className:Object(s.a)(t)},Object(l.a)(e),Object(c.a)(e)),e.children)};d.displayName="Grid",d.displayName="Grid"},BLPV:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r,i=n("mrSG"),a=n("q1tI"),o=n("/7QA"),s=n("5e0Q");!function(e){e[e.NoChanges=0]="NoChanges",e[e.DirtyChanges=1]="DirtyChanges",e[e.Working=2]="Working",e[e.Success=3]="Success",e[e.Error=4]="Error",e[e.Default=5]="Default"}(r||(r={}));var c=function(e){var t=e.status,n=e.children,c=Object(i.__rest)(e,["status","children"]),l=s.c.Default,u=s.d.Primary,d=!1;return t===r.Working?l=s.c.Loading:t===r.Success?l=s.c.Success:t===r.Error?u=s.d.Alert:t===r.NoChanges&&(d=!0),n||(n=t===r.Error?Object(o.d)("Error","Save Button"):Object(o.d)("Save","Save Button")),a.createElement(s.a,Object(i.__assign)({disabled:d,state:l,type:u},c),n)}},Bgni:function(e,t,n){},BmOg:function(e,t,n){"use strict";var r,i,a,o,s;n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.E2DropAvailable="e2-drop-available",e.MWDropAvailable="mw-drop-available",e.DropClaim="drop-claim",e.Raid="raid",e.Megacheer="megacheer",e.ChannelPoll="poll",e.MysterySubGift="community_sub_gift",e.HypeTrain="hype_train",e.Celebrations="celebration",e.CommunityBoost="community_boost",e.CommunityChallenge="community_challenge",e.CommunityPrediction="prediction"}(r||(r={})),function(e){e.MW="mw-drop-rule",e.E2="e2-drop-rule"}(i||(i={})),function(e){e.Started="started",e.Quarter="25_percent",e.Half="50_percent",e.ThreeQuarter="75_percent",e.NinetyFive="95_percent",e.Ended="100_percent"}(a||(a={})),function(e){e.Started="started",e.Quarter="25_percent",e.Half="50_percent",e.ThreeQuarter="75_percent",e.Ended="100_percent"}(o||(o={})),function(e){e.Started="prediction_started",e.Result="prediction_result"}(s||(s={}))},CD86:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};n.loc.source={body:"query ProductDescription($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ProductDescription=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ProductDescription")},CSwz:function(e,t,n){e.exports=n.p+"assets/party-popper-0bd0fa401db64309ce4d.svg"},CuSU:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var r=n("mrSG"),i=n("q1tI"),a=n("/MKj"),o=n("/7QA"),s=n("2DIU"),c=n.n(s),l=n("TSpM"),u=n.n(l),d=n("vE+g"),p=n.n(d),m=n("/Z6v"),h=n.n(m),f=n("WJ6U"),b=n.n(f),y=n("QCvd"),v=n.n(y),g=n("AR1T"),k=n.n(g),S=n("t5Mr"),C=n.n(S),E=n("+H2+"),O=n.n(E),P=n("uReR"),D=n.n(P),j=n("SPyc"),N=n.n(j),T=n("bOWA"),I=n.n(T),_=n("KL9a"),w=n.n(_),A=n("iSjI"),x=n.n(A),R=n("bQeB"),M=n.n(R),F=n("HvcU"),B=n.n(F),L=n("GA+j"),U=n.n(L),G=n("FBRg"),z=n.n(G),q=n("2xEe"),V=n.n(q),W=n("q8H6"),H=n.n(W),Q=n("vwei"),Y=n.n(Q),K=n("TjQE"),Z=n.n(K),X=n("oQBz"),J=n.n(X),$=n("PwAB"),ee=n.n($),te=n("/0dD"),ne=n("DMoW"),re=n("XDQu"),ie=n("G59e"),ae=n("uq9l"),oe=n("OCDW"),se=n("LNol"),ce=n("Ix37"),le=n("JjwZ"),ue=(n("HO8p"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.textOnly?i.createElement(ae.a,{type:ae.e.Span},this.getCreditText()):this.props.paymentProvider===ne.td.PRIME?i.createElement(ie.b,{color:ie.a.Purple,width:100,height:30}):this.props.paymentInstrumentType===ne.rd.WALLET?i.createElement(oe.a,{className:"payment-method-image"},i.createElement(se.a,{asset:ce.a.NavBackpack,width:26,height:26,type:se.b.Brand})):i.createElement(oe.a,{className:"payment-method-image"},i.createElement(le.a,Object(r.__assign)({},this.imageSource)))},t.prototype.getCreditText=function(){var e=Object(o.d)("credit card","PaymentMethodImage");switch(this.props.paymentProvider){case ne.td.XSOLLA_V3:return Object(o.d)("Xsolla icon","PaymentMethodImage");case ne.td.GOOGLE_IAB:return Object(o.d)("Android icon","PaymentMethodImage");case ne.td.APPLE_IAP:return Object(o.d)("Apple icon","PaymentMethodImage");case ne.td.SUB_TOKEN:return Object(o.d)("Subtoken icon","PaymentMethodImage")}switch(this.props.paymentInstrumentType){case ne.rd.CREDIT_CARD:switch(this.props.cardType){case ne.qd.AMERICAN_EXPRESS:return Object(o.d)("American Express","PaymentMethodImage");case ne.qd.DISCOVER:return Object(o.d)("Discover","PaymentMethodImage");case ne.qd.MASTERCARD:return Object(o.d)("Mastercard","PaymentMethodImage");case ne.qd.VISA:return Object(o.d)("Visa","PaymentMethodImage");default:return e}case ne.rd.AMAZON:return Object(o.d)("Amazon Pay","PaymentMethodImage");case ne.rd.PAYPAL:return Object(o.d)("Paypal","PaymentMethodImage");case ne.rd.DIRECT_DEBIT:switch(this.props.paymentScheme){case ne.ud.BACS:return Object(o.d)("Direct Debit","PaymentMethodImage");case ne.ud.SEPA:return Object(o.d)("Sepa","PaymentMethodImage");default:return e}default:return e}},Object.defineProperty(t.prototype,"imageSource",{get:function(){var e=this.getCreditText(),t={src:M.a,srcSet:{"1x":M.a,"2x":B.a},alt:e};switch(this.props.paymentProvider){case ne.td.XSOLLA_V3:return{src:J.a,srcSet:{"1x":J.a,"2x":ee.a},alt:e};case ne.td.GOOGLE_IAB:return{src:b.a,alt:e};case ne.td.APPLE_IAP:return{src:this.props.darkModeEnabled?k.a:v.a,alt:e};case ne.td.SUB_TOKEN:return{src:Z.a,alt:e}}switch(this.props.paymentInstrumentType){case ne.rd.CREDIT_CARD:switch(this.props.cardType){case ne.qd.AMERICAN_EXPRESS:return{src:D.a,alt:e};case ne.qd.DISCOVER:return{src:N.a,alt:e};case ne.qd.MASTERCARD:return{src:this.props.darkModeEnabled?w.a:I.a,alt:e};case ne.qd.VISA:return{src:x.a,alt:e};default:return{src:M.a,srcSet:{"1x":M.a,"2x":B.a},alt:e}}case ne.rd.AMAZON:return{src:this.props.darkModeEnabled?p.a:c.a,srcSet:this.props.darkModeEnabled?{"1x":p.a,"2x":h.a}:{"1x":c.a,"2x":u.a},alt:e};case ne.rd.PAYPAL:return{src:this.props.darkModeEnabled?V.a:U.a,srcSet:this.props.darkModeEnabled?{"1x":V.a,"2x":H.a}:{"1x":U.a,"2x":z.a},alt:e};case ne.rd.DIRECT_DEBIT:switch(this.props.paymentScheme){case ne.ud.BACS:return{src:this.props.darkModeEnabled?C.a:O.a,alt:e,className:"direct-debit-image"};case ne.ud.SEPA:return{src:Y.a,alt:e,className:"direct-debit-image"};default:return t}default:return t}},enumerable:!0,configurable:!0}),t}(i.Component));var de=Object(a.b)((function(e){return{darkModeEnabled:Object(re.a)(e)===te.a.Dark}}))(ue)},D8NC:function(e,t,n){e.exports=n.p+"assets/amazon_pay_1x-94c97f413ee6005ab1a1.png"},DFKC:function(e,t,n){},DYZf:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i=n("mrSG"),a=n("NAv5"),o=n("q1tI"),s=n("/7QA"),c=n("OCDW"),l=n("Yegi"),u=n("uq9l"),d=n("CuSU");n("GDu8");!function(e){e.LastFour="payment-method-display__last-four"}(r||(r={}));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return o.createElement(c.a,{className:this.isExpired?"payment-method-display--expired":"",display:l.h.Flex,justifyContent:this.props.justifyContent||l.m.Between,flexWrap:l.j.Wrap,fullWidth:!0,"data-a-target":"saved-payment-method"},o.createElement(c.a,{alignItems:l.b.Center,display:l.h.Flex,margin:{right:1}},o.createElement(d.a,{paymentInstrumentType:this.props.paymentType,cardType:this.props.cardType||void 0,paymentProvider:this.props.provider,paymentScheme:this.props.paymentScheme||null}),this.renderLastFour()),o.createElement(c.a,{display:l.h.Flex,justifyContent:l.m.Center,flexDirection:l.i.Column},this.renderBillingEmail(),this.renderExpirationDate()))},t.prototype.renderLastFour=function(){return this.props.lastFour?o.createElement(c.a,{"data-test-selector":r.LastFour,display:l.h.Flex,margin:{x:2}},o.createElement(u.a,{bold:!0},Object(s.d)("Ending in {lastFour}",{lastFour:this.props.lastFour},"PaymentMethodDisplay"))):null},t.prototype.renderExpirationDate=function(){var e=this.zeroIndexedMonth,t=this.props.expirationYear;if(void 0===e||!t)return null;var n=new Date(t,e),r="";return r=this.isExpired?Object(s.d)("Expired {expirationDate}",{expirationDate:Object(s.c)(n,{month:"2-digit",year:"numeric"})},"PaymentMethodDisplay"):Object(s.d)("Expires {expirationDate}",{expirationDate:Object(s.c)(n,{month:"2-digit",year:"numeric"})},"PaymentMethodDisplay"),o.createElement(c.a,{alignItems:l.b.Center,display:l.h.Flex,justifyContent:l.m.End},o.createElement(u.a,{ellipsis:!0,color:l.f.Alt2,bold:this.isExpired},r))},t.prototype.renderBillingEmail=function(){return this.props.billingEmail?o.createElement(c.a,{alignItems:l.b.Center,display:l.h.Flex,justifyContent:l.m.End},o.createElement(u.a,{ellipsis:!0,color:l.f.Alt2},this.props.billingEmail)):null},Object.defineProperty(t.prototype,"isExpired",{get:function(){var e=this.zeroIndexedMonth,t=this.props.expirationYear;if(void 0===e||!t)return!1;var n=Object(a.startOfMonth)(new Date),r=new Date(t,e,1);return!!Object(a.isBefore)(r,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zeroIndexedMonth",{get:function(){if(this.props.expirationMonth)return this.props.expirationMonth-1},enumerable:!0,configurable:!0}),t}(o.PureComponent)},"Dj+a":function(e,t,n){},DnOo:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r,i=n("mrSG"),a=n("q1tI"),o=n("ANjH"),s=n("/7QA"),c=n("SDEh"),l=n("8EUQ"),u=n("GnwI");!function(e){e[e.One=1]="One",e[e.Three=3]="Three",e[e.Six=6]="Six"}(r||(r={}));var d=n("br9A"),p=n("Ncpm"),m=n("Ix37"),h=n("HQtB"),f=n("5e0Q"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e;t.openCheckout(),t.props.handleSubAction({action:t.props.overrideSubEventAction?t.props.overrideSubEventAction:d.a.ClickCheckout,checkoutButtonTier:null===(e=t.props.product)||void 0===e?void 0:e.tier,chargeInterval:t.props.chargeInterval||r.One,offerID:t.props.offerID,multiMonthOffers:t.props.multiMonthOffers})},t.openCheckout=function(){t.props.isMobileCheckout||s.n.set(l.a.SUB_CHECKOUT__PRODUCT_KEY,t.props.productName)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n=this.props.subscriptionBenefit;if(this.props.isSubbedToTier){if((null===(e=null==n?void 0:n.gift)||void 0===e?void 0:e.isGift)||(null==n?void 0:n.purchasedWithPrime)||n&&!n.renewsAt)return a.createElement(p.a,Object(i.__assign)({icon:m.a.Star,onClick:this.handleClick,price:this.props.tierPrice},Object(h.a)(this.props)),Object(s.d)("Continue Sub","SubTierButton"));var r=Object(s.d)("Subscribed","SubTierButton");return a.createElement(f.a,{"aria-label":r,"data-test-selector":"subscribe-button__subscribe-tier-button",disabled:!0,icon:m.a.Star},r)}var o=this.props.multiMonthOffers&&this.props.multiMonthOffers.length>1,l={"aria-label":(t=this.props.customSubscribeNowMessage?this.props.customSubscribeNowMessage:o?Object(s.d)("Subscribe from {price}",{price:this.props.tierPrice},"SubTierButton"):Object(s.d)("Subscribe","SubTierButton"))+" "+this.props.tierPrice,"data-test-selector":"subscribe-button__subscribe-tier-button",icon:this.props.icon,linkTo:this.props.isMobileCheckout?this.props.url:void 0,onClick:this.handleClick,fullWidth:this.props.fullWidth,targetBlank:!!Object(c.d)()||void 0,disabled:!1===this.props.isEligible,children:t},u=o?void 0:this.props.tierPrice;return u?a.createElement(p.a,Object(i.__assign)({},l,{price:u},Object(h.a)(this.props))):a.createElement(f.a,Object(i.__assign)({},l,Object(h.a)(this.props)))},t}(a.Component),y=Object(o.d)(Object(u.withLatencyTracking)("SubTierButton",{autoReportInteractive:!0}))(b)},DsWU:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var r=n("wUQP"),i=n("Mb07"),a="active_gift_promo_offer_feature_flag";function o(){return Object(r.c)(a)}function s(e){var t,n,r;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===i.a.ActiveSubCommunityGiftPromoOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===i.a.ActiveSubSixMultiMonthGiftPromoOffer||(null===(r=null==e?void 0:e.promotion)||void 0===r?void 0:r.name)===i.a.ActiveSubTwelveMultiMonthGiftPromoOffer}function c(e){var t,n,r;if(o()){var a=null===(r=null===(n=null===(t=e.gifting)||void 0===t?void 0:t.community)||void 0===n?void 0:n.find((function(e){return s(e.offer)})))||void 0===r?void 0:r.offer;if(a&&Object(i.e)(a)){var c=Object(i.d)(a).discountPercent;if(c)return{offer:a,discountPercent:c}}}}},EEET:function(e,t,n){},EMHe:function(e,t,n){"use strict";var r=n("BLPV");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},ER7f:function(e,t,n){"use strict";var r=n("eMuj");n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}))},FBRg:function(e,t,n){e.exports=n.p+"assets/paypal_2x-bddabc156344e695fa56.png"},FT7T:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("/7QA");function i(e){switch(e){case 1:return Object(r.d)("The transaction was declined. Please use a different card or contact your bank.","TransactionErrorCode");case 2:return Object(r.d)("Your card number is invalid. Please try another card or contact your bank.","TransactionErrorCode");case 3:return Object(r.d)("Your payment cannot be completed at this time. Please try a different card.","TransactionErrorCode");case 4:return Object(r.d)("The security code you entered does not match. Please update the CVV and try again.","TransactionErrorCode");case 5:return Object(r.d)("The transaction was declined due to insufficient funds in your account. Please use a different card or contact your bank.","TransactionErrorCode");default:return Object(r.d)("Your request could not be processed. Please try again later.","TransactionErrorCode")}}},G0EU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EligiblePaymentMethod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]}]}}],loc:{start:0,end:91}};n.loc.source={body:"fragment eligiblePaymentMethodFragment on EligiblePaymentMethod {\nname\navailabilityStatus\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},G59e:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var r,i=n("q1tI"),a=n("/7QA"),o=n("TMob");!function(e){e[e.Black=0]="Black",e[e.Purple=1]="Purple",e[e.White=2]="White"}(r||(r={}));var s=function(e){var t=e.width||"145",n=e.height||"39";return i.createElement("img",{alt:Object(a.d)("Prime Gaming Logo","PrimeGamingLogo"),"data-test-selector":"prime-gaming-logo",height:n,width:t,src:function(e){switch(e){case r.Black:return o.d;case r.Purple:return o.e;case r.White:return o.f;default:return o.e}}(e.color)})}},"GA+j":function(e,t,n){e.exports=n.p+"assets/paypal_1x-a2a2f7d96b4384f9f1d7.png"},GDu8:function(e,t,n){},GGWn:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("/7QA");function i(e){switch(e.toUpperCase()){case"AB":return Object(r.d)("Alberta","format-canada-state");case"BC":return Object(r.d)("British Columbia","format-canada-state");case"MB":return Object(r.d)("Manitoba","format-canada-state");case"NB":return Object(r.d)("New Brunswick","format-canada-state");case"NL":return Object(r.d)("Newfoundland and Labrador","format-canada-state");case"NT":return Object(r.d)("Northwest Territories","format-canada-state");case"NS":return Object(r.d)("Nova Scotia","format-canada-state");case"NU":return Object(r.d)("Nunavut","format-canada-state");case"ON":return Object(r.d)("Ontario","format-canada-state");case"PE":return Object(r.d)("Prince Edward Island","format-canada-state");case"QC":return Object(r.d)("Quebec","format-canada-state");case"SK":return Object(r.d)("Saskatchewan","format-canada-state");case"YT":return Object(r.d)("Yukon","format-canada-state");default:return e}}var a=["AB","BC","MB","NB","NL","NT","NS","NU","ON","PE","QC","SK","YT"]},GLn2:function(e,t,n){},GOKC:function(e,t,n){},HDgp:function(e,t,n){e.exports=n.p+"assets/AmazonGames_White-7157ce49229a50e530af.svg"},HO8p:function(e,t,n){},HTDB:function(e,t,n){e.exports=n.p+"assets/AmazonGames_Black-10a61283b8668bda4d56.svg"},"Hl/S":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r=n("mrSG"),i=n("q1tI"),a=n("/7QA"),o=n("D8NC"),s=n.n(o),c=n("yrda"),l=n.n(c),u=n("csmi"),d=n.n(u),p=n("2ORI"),m=n.n(p),h=n("ZDlU"),f=n("x1M1"),b=n("OCDW"),y=n("Yegi"),v=n("uq9l"),g=n("p9DJ"),k=function(e){return i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Between,padding:{x:.5}},i.createElement(v.a,{type:v.e.H5},e.firstName?Object(a.d)("Hi, {name}",{name:e.firstName},"Greeting"):Object(a.d)("Hi!","Greeting")),i.createElement(g.a,{onClick:e.handleWrongGreeting,"data-a-target":"not-you-link"},Object(a.d)("Not you?","Greeting")))},S=n("GnwI"),C=n("cwzQ"),E=n("5e0Q"),O=(n("oAT0"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scriptError:!1,amazonPayReady:!1,paymentMethodSelected:!1,walletLoaded:!1,amazonProfileName:null,billingAgreementId:null},t.logger=a.p.logger.withCategory("recurly-amazon-pay-processor"),t.amazonPayScriptSelector="recurly-amazon-pay-processor__script",t.amazonPayButtonSelector="amazon-pay__button",t.amazonPayButtonWalletSelector="recurly-amazon-pay-processor__wallet",t.configureAmazonPay=function(){window.onAmazonLoginReady=function(){try{window.amazon.Login.setClientId(t.props.clientID)}catch(e){t.catchAmazonPayRuntimeError(e,"amazon.Login.setClientId runtime error: "+e.message)}},window.onAmazonPaymentsReady=function(){t.setState({amazonPayReady:!0},(function(){t.props.latencyTracking.reportInteractive(),t.props.autoLogin?t.openAmazonPayLoginManually():t.configureAmazonPayButton()}))};var e=document.querySelector("#"+t.amazonPayScriptSelector);e&&document.body.removeChild(e);var n=document.createElement("script");n.type="text/javascript",n.id=t.amazonPayScriptSelector,n.src="https://static-na.payments-amazon.com/OffAmazonPayments/us"+(t.props.isProduction?"":"/sandbox")+"/js/Widgets.js?sellerId="+t.props.sellerID,n.async=!0,document.body.appendChild(n),n.addEventListener("error",t.handleScriptLoadError)},t.openAmazonPayLoginManually=function(){t.handleAmazonPayAuthorization()},t.configureAmazonPayButton=function(){try{window.OffAmazonPayments.Button(t.amazonPayButtonSelector,t.props.sellerID,{type:"PwA",color:"DarkGray",useAmazonAddressBook:!1,agreementType:"BillingAgreement",authorization:t.handleAmazonPayAuthorization,onError:t.handleOffAmazonPaymentsButtonError}),t.state.amazonPayReady&&t.props.onAmazonPayReady&&t.props.onAmazonPayReady()}catch(e){t.catchAmazonPayRuntimeError(e,"OffAmazonPayments.Button runtime error: "+e.message)}},t.handleScriptLoadError=function(e){var n="AmazonPay script failed to load: "+e.message;t.catchAmazonPayRuntimeError(new Error(n),n)},t.handleAmazonPayAuthorization=function(){try{window.amazon.Login.authorize({scope:"profile payments:widget payments:autopay_consent payments:billing_address",popup:!0},(function(e){e&&e.access_token&&window.amazon.Login.retrieveProfile(e.access_token,(function(e){e&&e.profile&&e.profile.Name&&t.setState({amazonProfileName:e.profile.Name})})),t.configureWallet()}))}catch(e){t.catchAmazonPayRuntimeError(e,"amazon.Login.authorize runtime error: "+e.message)}},t.configureWallet=function(){try{new window.OffAmazonPayments.Widgets.Wallet({agreementType:"BillingAgreement",onReady:function(e){t.setState({billingAgreementId:e.getAmazonBillingAgreementId()})},sellerId:t.props.sellerID,design:{designMode:"responsive"},onPaymentSelect:function(){return t.setState({paymentMethodSelected:!0})},onError:t.handleOffAmazonPaymentsWidgetsWalletError}).bind(t.amazonPayButtonWalletSelector),t.setState({walletLoaded:!0})}catch(e){t.catchAmazonPayRuntimeError(e,"OffAmazonPayments.Widgets.Wallet runtime error: "+e.message)}},t.handleOffAmazonPaymentsButtonError=function(e){t.onErrorAmazonPayHandler("OffAmazonPayments.Button",e)},t.handleOffAmazonPaymentsWidgetsWalletError=function(e){t.onErrorAmazonPayHandler("OffAmazonPayments.Widgets.Wallet",e)},t.onErrorAmazonPayHandler=function(e,n){var r="source: "+e+", errorCode: "+n.getErrorCode()+", errorMessage: "+n.getErrorMessage();t.logger.errorAndReport(new Error("AmazonPay onError callback"),r),t.props.handleAmazonPayScriptError&&t.props.handleAmazonPayScriptError(r),"BuyerSessionExpired"===n.getErrorCode()&&t.logoutAmazonPaySession()},t.handleClick=function(){t.state.billingAgreementId&&t.props.handleBillingAgreementID(t.state.billingAgreementId)},t.handleNotYouClick=function(){t.logoutAmazonPaySession()},t.logoutAmazonPaySession=function(){try{window.amazon.Login.logout()}catch(e){}t.setState({amazonProfileName:null,billingAgreementId:null,paymentMethodSelected:!1,walletLoaded:!1})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.configureAmazonPay()},t.prototype.componentWillUnmount=function(){var e=document.getElementById(this.amazonPayScriptSelector);e&&e.removeEventListener("error",this.handleScriptLoadError)},t.prototype.render=function(){return this.state.scriptError?i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center},i.createElement(h.PageError,null)):this.state.amazonPayReady?i.createElement(b.a,{fullWidth:!0},i.createElement(b.a,{display:this.state.walletLoaded?y.h.Hide:y.h.Block},!this.props.autoLogin&&i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center},i.createElement("div",{id:this.amazonPayButtonSelector})),this.props.autoLogin&&i.createElement(i.Fragment,null,i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center,margin:{bottom:1}},i.createElement(f.a,{sources:{themed:!0,dark:{"1x":d.a,"2x":m.a},light:{"1x":s.a,"2x":l.a}}})),i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center,margin:{bottom:2}},i.createElement(v.a,null,Object(a.d)("Please confirm your Amazon Pay details in the pop-up window","RecurlyAmazonPayProcessor"))),i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center},i.createElement(E.a,{onClick:this.openAmazonPayLoginManually},Object(a.d)("Open Amazon Pay","RecurlyAmazonPayProcessor"))))),i.createElement(b.a,{display:this.state.walletLoaded?y.h.Block:y.h.Hide},i.createElement(k,{firstName:this.state.amazonProfileName,handleWrongGreeting:this.handleNotYouClick}),i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center,padding:{top:1}},i.createElement("div",{id:this.amazonPayButtonWalletSelector,className:this.amazonPayButtonWalletSelector})),i.createElement(b.a,{padding:{top:1},display:y.h.Flex,justifyContent:y.m.Center},i.createElement(E.a,{onClick:this.handleClick,state:this.props.forceLoadingState?E.c.Loading:E.c.Default,disabled:this.buttonDisabled,"data-a-target":"amazon-pay-complete-purchase-button"},this.props.callToActionButtonLabel)))):i.createElement(b.a,{display:y.h.Flex,justifyContent:y.m.Center},i.createElement(C.a,null))},t.prototype.catchAmazonPayRuntimeError=function(e,t){this.logger.errorAndReport(e,t),this.setState({scriptError:!0,amazonPayReady:!1}),this.props.latencyTracking.reportInteractive(),this.props.handleAmazonPayScriptError&&this.props.handleAmazonPayScriptError(t)},Object.defineProperty(t.prototype,"buttonDisabled",{get:function(){return!(this.state.paymentMethodSelected&&this.state.billingAgreementId&&!this.props.forceLoadingState)},enumerable:!0,configurable:!0}),t}(i.Component)),P=Object(S.withLatencyTracking)("RecurlyAmazonPayProcessor")(O)},HvcU:function(e,t,n){e.exports=n.p+"assets/generic_credit_card_2x-9e855c7d5c5359ac9208.png"},IVzh:function(e,t,n){},JDoF:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("wOiE"),c=n("GnwI"),l=n("RGzP"),u=n("OCDW"),d=n("Yegi"),p=n("1AzW"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={xsollaLoaded:!1},t.xsollaEnabled=Object(s.e)(),t.messageOriginWhitelist=["https://secure.xsolla.com","https://sandbox-secure.xsolla.com"],t.firstInteractFired=!1,t.onIframeLoad=function(){t.props.latencyTracking.reportInteractive(),t.props.onLoad&&t.props.onLoad(),t.setState({xsollaLoaded:!0})},t.handleXsollaEvent=function(e){var n,r,i;if((!e.origin||t.messageOriginWhitelist.includes(e.origin))&&e.data)try{var a=JSON.parse(e.data),o=a.data,s=a.command;if(t.props.onFirstInteraction&&!t.firstInteractFired&&((null===(n=null==o?void 0:o.action)||void 0===n?void 0:n.includes("click-"))||"open-payment"===(null==o?void 0:o.action))&&(t.firstInteractFired=!0,t.props.onFirstInteraction()),"open-payment"===(null==o?void 0:o.action)&&t.props.onCompletePurchaseShown&&t.props.onCompletePurchaseShown(),"status"===s&&(null==o?void 0:o.paymentInfo))switch(null===(r=null==o?void 0:o.paymentInfo)||void 0===r?void 0:r.status){case"troubled":t.props.onFail&&t.props.onFail();break;case"done":t.props.onSuccess&&t.props.onSuccess(null===(i=null==o?void 0:o.paymentInfo)||void 0===i?void 0:i.invoice)}}catch(e){}},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("message",this.handleXsollaEvent)},t.prototype.componentDidUpdate=function(e){e.xsollaToken!==this.props.xsollaToken&&this.setState({xsollaLoaded:!1}),this.state.xsollaLoaded&&this.props.latencyTracking.reportInteractive()},t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleXsollaEvent)},t.prototype.render=function(){if(!this.xsollaEnabled)return i.createElement(p.a,null);var e=this.state.xsollaLoaded&&!this.props.refreshingIframe;return i.createElement(i.Fragment,null,!e&&i.createElement(l.a,{lineCount:(this.props.height||650)/20}),i.createElement(u.a,{fullWidth:!0,display:e?d.h.Inline:d.h.Hide},i.createElement("iframe",{title:Object(o.d)("Xsolla Paystation","XsollaIframe"),onLoad:this.onIframeLoad,id:"xsolla",src:this.xsollaIframeURL,width:"100%",height:(this.props.height||650)+"px"})))},Object.defineProperty(t.prototype,"xsollaIframeURL",{get:function(){return this.props.xsollaToken?this.props.isSandbox?"https://sandbox-secure.xsolla.com/paystation2?access_token="+this.props.xsollaToken:"https://secure.xsolla.com/paystation2?access_token="+this.props.xsollaToken:""},enumerable:!0,configurable:!0}),t}(i.Component),h=Object(a.d)(Object(c.withLatencyTracking)("XsollaIframe"))(m)},JGCS:function(e,t,n){},Jgup:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("/7QA");function i(e){switch(e.toUpperCase()){case"A1":return Object(r.d)("Anonymous Proxy","format-country");case"A2":return Object(r.d)("Satellite Provider","format-country");case"AD":return Object(r.d)("Andorra","format-country");case"AE":return Object(r.d)("United Arab Emirates","format-country");case"AF":return Object(r.d)("Afghanistan","format-country");case"AG":return Object(r.d)("Antigua and Barbuda","format-country");case"AI":return Object(r.d)("Anguilla","format-country");case"AL":return Object(r.d)("Albania","format-country");case"AM":return Object(r.d)("Armenia","format-country");case"AO":return Object(r.d)("Angola","format-country");case"AP":return Object(r.d)("Asia/Pacific Region","format-country");case"AQ":return Object(r.d)("Antarctica","format-country");case"AR":return Object(r.d)("Argentina","format-country");case"AS":return Object(r.d)("American Samoa","format-country");case"AT":return Object(r.d)("Austria","format-country");case"AU":return Object(r.d)("Australia","format-country");case"AW":return Object(r.d)("Aruba","format-country");case"AX":return Object(r.d)("Aland Islands","format-country");case"AZ":return Object(r.d)("Azerbaijan","format-country");case"BA":return Object(r.d)("Bosnia and Herzegovina","format-country");case"BB":return Object(r.d)("Barbados","format-country");case"BD":return Object(r.d)("Bangladesh","format-country");case"BE":return Object(r.d)("Belgium","format-country");case"BF":return Object(r.d)("Burkina Faso","format-country");case"BG":return Object(r.d)("Bulgaria","format-country");case"BH":return Object(r.d)("Bahrain","format-country");case"BI":return Object(r.d)("Burundi","format-country");case"BJ":return Object(r.d)("Benin","format-country");case"BL":return Object(r.d)("Saint Bartelemey","format-country");case"BM":return Object(r.d)("Bermuda","format-country");case"BN":return Object(r.d)("Brunei","format-country");case"BO":return Object(r.d)("Bolivia","format-country");case"BQ":return Object(r.d)("Bonaire, Saint Eustatius, and Saba","format-country");case"BR":return Object(r.d)("Brazil","format-country");case"BS":return Object(r.d)("Bahamas","format-country");case"BT":return Object(r.d)("Bhutan","format-country");case"BV":return Object(r.d)("Bouvet Island","format-country");case"BW":return Object(r.d)("Botswana","format-country");case"BY":return Object(r.d)("Belarus","format-country");case"BZ":return Object(r.d)("Belize","format-country");case"CA":return Object(r.d)("Canada","format-country");case"CC":return Object(r.d)("Cocos (Keeling) Islands","format-country");case"CD":return Object(r.d)("Congo, The Democratic Republic of the","format-country");case"CF":return Object(r.d)("Central African Republic","format-country");case"CG":return Object(r.d)("Congo","format-country");case"CH":return Object(r.d)("Switzerland","format-country");case"CI":return Object(r.d)("Ivory Coast","format-country");case"CK":return Object(r.d)("Cook Islands","format-country");case"CL":return Object(r.d)("Chile","format-country");case"CM":return Object(r.d)("Cameroon","format-country");case"CN":return Object(r.d)("China","format-country");case"CO":return Object(r.d)("Colombia","format-country");case"CR":return Object(r.d)("Costa Rica","format-country");case"CU":return Object(r.d)("Cuba","format-country");case"CV":return Object(r.d)("Cape Verde","format-country");case"CW":return Object(r.d)("Curacao","format-country");case"CX":return Object(r.d)("Christmas Island","format-country");case"CY":return Object(r.d)("Cyprus","format-country");case"CZ":return Object(r.d)("Czech Republic","format-country");case"DE":return Object(r.d)("Germany","format-country");case"DJ":return Object(r.d)("Djibouti","format-country");case"DK":return Object(r.d)("Denmark","format-country");case"DM":return Object(r.d)("Dominica","format-country");case"DO":return Object(r.d)("Dominican Republic","format-country");case"DZ":return Object(r.d)("Algeria","format-country");case"EC":return Object(r.d)("Ecuador","format-country");case"EE":return Object(r.d)("Estonia","format-country");case"EG":return Object(r.d)("Egypt","format-country");case"EH":return Object(r.d)("Western Sahara","format-country");case"ER":return Object(r.d)("Eritrea","format-country");case"ES":return Object(r.d)("Spain","format-country");case"ET":return Object(r.d)("Ethiopia","format-country");case"EU":return Object(r.d)("Europe","format-country");case"FI":return Object(r.d)("Finland","format-country");case"FJ":return Object(r.d)("Fiji","format-country");case"FK":return Object(r.d)("Falkland Islands (Malvinas)","format-country");case"FM":return Object(r.d)("Micronesia","format-country");case"FO":return Object(r.d)("Faroe Islands","format-country");case"FR":return Object(r.d)("France","format-country");case"GA":return Object(r.d)("Gabon","format-country");case"GB":return Object(r.d)("United Kingdom","format-country");case"GD":return Object(r.d)("Grenada","format-country");case"GE":return Object(r.d)("Georgia","format-country");case"GF":return Object(r.d)("French Guiana","format-country");case"GG":return Object(r.d)("Guernsey","format-country");case"GH":return Object(r.d)("Ghana","format-country");case"GI":return Object(r.d)("Gibraltar","format-country");case"GL":return Object(r.d)("Greenland","format-country");case"GM":return Object(r.d)("Gambia","format-country");case"GN":return Object(r.d)("Guinea","format-country");case"GP":return Object(r.d)("Guadeloupe","format-country");case"GQ":return Object(r.d)("Equatorial Guinea","format-country");case"GR":return Object(r.d)("Greece","format-country");case"GS":return Object(r.d)("South Georgia and the South Sandwich Islands","format-country");case"GT":return Object(r.d)("Guatemala","format-country");case"GU":return Object(r.d)("Guam","format-country");case"GW":return Object(r.d)("Guinea-Bissau","format-country");case"GY":return Object(r.d)("Guyana","format-country");case"HK":return Object(r.d)("Hong Kong","format-country");case"HM":return Object(r.d)("Heard Island and McDonald Islands","format-country");case"HN":return Object(r.d)("Honduras","format-country");case"HR":return Object(r.d)("Croatia","format-country");case"HT":return Object(r.d)("Haiti","format-country");case"HU":return Object(r.d)("Hungary","format-country");case"ID":return Object(r.d)("Indonesia","format-country");case"IE":return Object(r.d)("Ireland","format-country");case"IL":return Object(r.d)("Israel","format-country");case"IM":return Object(r.d)("Isle of Man","format-country");case"IN":return Object(r.d)("India","format-country");case"IO":return Object(r.d)("British Indian Ocean Territory","format-country");case"IQ":return Object(r.d)("Iraq","format-country");case"IR":return Object(r.d)("Iran","format-country");case"IS":return Object(r.d)("Iceland","format-country");case"IT":return Object(r.d)("Italy","format-country");case"JE":return Object(r.d)("Jersey","format-country");case"JM":return Object(r.d)("Jamaica","format-country");case"JO":return Object(r.d)("Jordan","format-country");case"JP":return Object(r.d)("Japan","format-country");case"KE":return Object(r.d)("Kenya","format-country");case"KG":return Object(r.d)("Kyrgyzstan","format-country");case"KH":return Object(r.d)("Cambodia","format-country");case"KI":return Object(r.d)("Kiribati","format-country");case"KM":return Object(r.d)("Comoros","format-country");case"KN":return Object(r.d)("Saint Kitts and Nevis","format-country");case"KP":return Object(r.d)("North Korea","format-country");case"KR":return Object(r.d)("South Korea","format-country");case"KW":return Object(r.d)("Kuwait","format-country");case"KY":return Object(r.d)("Cayman Islands","format-country");case"KZ":return Object(r.d)("Kazakhstan","format-country");case"LA":return Object(r.d)("Laos","format-country");case"LB":return Object(r.d)("Lebanon","format-country");case"LC":return Object(r.d)("Saint Lucia","format-country");case"LI":return Object(r.d)("Liechtenstein","format-country");case"LK":return Object(r.d)("Sri Lanka","format-country");case"LR":return Object(r.d)("Liberia","format-country");case"LS":return Object(r.d)("Lesotho","format-country");case"LT":return Object(r.d)("Lithuania","format-country");case"LU":return Object(r.d)("Luxembourg","format-country");case"LV":return Object(r.d)("Latvia","format-country");case"LY":return Object(r.d)("Libya","format-country");case"MA":return Object(r.d)("Morocco","format-country");case"MC":return Object(r.d)("Monaco","format-country");case"MD":return Object(r.d)("Moldova","format-country");case"ME":return Object(r.d)("Montenegro","format-country");case"MF":return Object(r.d)("Saint Martin","format-country");case"MG":return Object(r.d)("Madagascar","format-country");case"MH":return Object(r.d)("Marshall Islands","format-country");case"MK":return Object(r.d)("Macedonia","format-country");case"ML":return Object(r.d)("Mali","format-country");case"MM":return Object(r.d)("Myanmar","format-country");case"MN":return Object(r.d)("Mongolia","format-country");case"MO":return Object(r.d)("Macao","format-country");case"MP":return Object(r.d)("Northern Mariana Islands","format-country");case"MQ":return Object(r.d)("Martinique","format-country");case"MR":return Object(r.d)("Mauritania","format-country");case"MS":return Object(r.d)("Montserrat","format-country");case"MT":return Object(r.d)("Malta","format-country");case"MU":return Object(r.d)("Mauritius","format-country");case"MV":return Object(r.d)("Maldives","format-country");case"MW":return Object(r.d)("Malawi","format-country");case"MX":return Object(r.d)("Mexico","format-country");case"MY":return Object(r.d)("Malaysia","format-country");case"MZ":return Object(r.d)("Mozambique","format-country");case"NA":return Object(r.d)("Namibia","format-country");case"NC":return Object(r.d)("New Caledonia","format-country");case"NE":return Object(r.d)("Niger","format-country");case"NF":return Object(r.d)("Norfolk Island","format-country");case"NG":return Object(r.d)("Nigeria","format-country");case"NI":return Object(r.d)("Nicaragua","format-country");case"NL":return Object(r.d)("Netherlands","format-country");case"NO":return Object(r.d)("Norway","format-country");case"NP":return Object(r.d)("Nepal","format-country");case"NR":return Object(r.d)("Nauru","format-country");case"NU":return Object(r.d)("Niue","format-country");case"NZ":return Object(r.d)("New Zealand","format-country");case"O1":return Object(r.d)("Other Country","format-country");case"OM":return Object(r.d)("Oman","format-country");case"PA":return Object(r.d)("Panama","format-country");case"PE":return Object(r.d)("Peru","format-country");case"PF":return Object(r.d)("French Polynesia","format-country");case"PG":return Object(r.d)("Papua New Guinea","format-country");case"PH":return Object(r.d)("Philippines","format-country");case"PK":return Object(r.d)("Pakistan","format-country");case"PL":return Object(r.d)("Poland","format-country");case"PM":return Object(r.d)("Saint Pierre and Miquelon","format-country");case"PN":return Object(r.d)("Pitcairn","format-country");case"PR":return Object(r.d)("Puerto Rico","format-country");case"PS":return Object(r.d)("Palestine","format-country");case"PT":return Object(r.d)("Portugal","format-country");case"PW":return Object(r.d)("Palau","format-country");case"PY":return Object(r.d)("Paraguay","format-country");case"QA":return Object(r.d)("Qatar","format-country");case"RE":return Object(r.d)("Reunion","format-country");case"RO":return Object(r.d)("Romania","format-country");case"RS":return Object(r.d)("Serbia","format-country");case"RU":return Object(r.d)("Russia","format-country");case"RW":return Object(r.d)("Rwanda","format-country");case"SA":return Object(r.d)("Saudi Arabia","format-country");case"SB":return Object(r.d)("Solomon Islands","format-country");case"SC":return Object(r.d)("Seychelles","format-country");case"SD":return Object(r.d)("Sudan","format-country");case"SE":return Object(r.d)("Sweden","format-country");case"SG":return Object(r.d)("Singapore","format-country");case"SH":return Object(r.d)("Saint Helena","format-country");case"SI":return Object(r.d)("Slovenia","format-country");case"SJ":return Object(r.d)("Svalbard and Jan Mayen","format-country");case"SK":return Object(r.d)("Slovakia","format-country");case"SL":return Object(r.d)("Sierra Leone","format-country");case"SM":return Object(r.d)("San Marino","format-country");case"SN":return Object(r.d)("Senegal","format-country");case"SO":return Object(r.d)("Somalia","format-country");case"SR":return Object(r.d)("Suriname","format-country");case"SS":return Object(r.d)("South Sudan","format-country");case"ST":return Object(r.d)("Sao Tome and Principe","format-country");case"SV":return Object(r.d)("El Salvador","format-country");case"SX":return Object(r.d)("Sint Maarten","format-country");case"SY":return Object(r.d)("Syria","format-country");case"SZ":return Object(r.d)("Swaziland","format-country");case"TC":return Object(r.d)("Turks and Caicos Islands","format-country");case"TD":return Object(r.d)("Chad","format-country");case"TF":return Object(r.d)("French Southern Territories","format-country");case"TG":return Object(r.d)("Togo","format-country");case"TH":return Object(r.d)("Thailand","format-country");case"TJ":return Object(r.d)("Tajikistan","format-country");case"TK":return Object(r.d)("Tokelau","format-country");case"TL":return Object(r.d)("East Timor","format-country");case"TM":return Object(r.d)("Turkmenistan","format-country");case"TN":return Object(r.d)("Tunisia","format-country");case"TO":return Object(r.d)("Tonga","format-country");case"TR":return Object(r.d)("Turkey","format-country");case"TT":return Object(r.d)("Trinidad and Tobago","format-country");case"TV":return Object(r.d)("Tuvalu","format-country");case"TW":return Object(r.d)("Taiwan","format-country");case"TZ":return Object(r.d)("Tanzania","format-country");case"UA":return Object(r.d)("Ukraine","format-country");case"UG":return Object(r.d)("Uganda","format-country");case"UM":return Object(r.d)("United States Minor Outlying Islands","format-country");case"US":return Object(r.d)("United States","format-country");case"UY":return Object(r.d)("Uruguay","format-country");case"UZ":return Object(r.d)("Uzbekistan","format-country");case"VA":return Object(r.d)("Vatican City","format-country");case"VC":return Object(r.d)("Saint Vincent and the Grenadines","format-country");case"VE":return Object(r.d)("Venezuela","format-country");case"VG":return Object(r.d)("British Virgin Islands","format-country");case"VI":return Object(r.d)("U.S. Virgin Islands","format-country");case"VN":return Object(r.d)("Vietnam","format-country");case"VU":return Object(r.d)("Vanuatu","format-country");case"WF":return Object(r.d)("Wallis and Futuna","format-country");case"WS":return Object(r.d)("Samoa","format-country");case"YE":return Object(r.d)("Yemen","format-country");case"YT":return Object(r.d)("Mayotte","format-country");case"ZA":return Object(r.d)("South Africa","format-country");case"ZM":return Object(r.d)("Zambia","format-country");case"ZW":return Object(r.d)("Zimbabwe","format-country");default:return e}}var a=["US","CA","AF","AX","AL","DZ","AS","AD","AO","AI","A1","AQ","AG","AR","AM","AW","AP","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","VG","BN","BG","BF","BI","KH","CM","CV","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","HR","CU","CW","CY","CZ","DK","DJ","DM","DO","TL","EC","EG","SV","GQ","ER","EE","ET","EU","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","GR","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","CI","JM","JP","JE","JO","KZ","KE","KI","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","KP","MP","NO","OM","O1","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","A2","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","KR","SS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TG","TK","TO","TT","TN","TR","TM","TC","TV","VI","UG","UA","AE","GB","UM","UY","UZ","VU","VA","VE","VN","WF","EH","YE","ZM","ZW"]},Jhy1:function(e,t,n){},KL9a:function(e,t,n){e.exports=n.p+"assets/mastercard_dark-a85ba185886a8899fef1.svg"},KOxZ:function(e,t,n){},KZQ4:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("GA+j"),c=n.n(s),l=n("FBRg"),u=n.n(l),d=n("2xEe"),p=n.n(d),m=n("q8H6"),h=n.n(m),f=n("x1M1"),b=n("ER7f"),y=n("GnwI"),v=n("cwzQ"),g=n("OCDW"),k=n("Yegi"),S=n("uq9l"),C=n("5e0Q"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={paypalConfigured:!1,processing:!1},t.openPayPalLogin=function(){t.setState({processing:!0}),t.paypalInstance.start()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkRecurlyInstance(this.props)},t.prototype.componentDidUpdate=function(e){(!e.recurlyInstance&&this.props.recurlyInstance||this.props.recurlyLoadFailed)&&this.checkRecurlyInstance(this.props)},t.prototype.render=function(){return this.state.paypalConfigured?i.createElement(i.Fragment,null,this.props.autoLogin&&i.createElement(i.Fragment,null,i.createElement(g.a,{display:k.h.Flex,justifyContent:k.m.Center,margin:{bottom:1}},i.createElement(f.a,{sources:{themed:!0,dark:{"1x":p.a,"2x":h.a},light:{"1x":c.a,"2x":u.a}}})),i.createElement(g.a,{display:k.h.Flex,justifyContent:k.m.Center,margin:{bottom:2}},i.createElement(S.a,null,Object(o.d)("Please confirm your PayPal details in the pop-up window","RecurlyPayPalProcessor")))),i.createElement(g.a,{display:k.h.Flex,justifyContent:k.m.Center},i.createElement(C.a,{"data-a-target":"recurly-paypal__button",onClick:this.openPayPalLogin,state:this.state.processing||this.props.forceLoadingState?C.c.Loading:C.c.Default,disabled:this.state.processing||this.props.forceLoadingState||this.props.disableCallToActionButton},this.props.autoLogin?Object(o.d)("Open PayPal","RecurlyPayPalProcessor"):this.props.callToActionButtonLabel))):i.createElement(v.a,{fillContent:!0})},t.prototype.checkRecurlyInstance=function(e){var t=e.recurlyInstance,n=e.recurlyLoadFailed;t&&!this.recurlyInstance?(this.props.latencyTracking.reportInteractive(),this.recurlyInstance=t,this.setupConfigs(this.recurlyInstance)):n&&this.props.latencyTracking.reportInteractive()},t.prototype.setupConfigs=function(e){var t=this;e.configure(this.props.publicKey),this.paypalInstance=e.PayPal({braintree:{clientAuthorization:this.props.braintreeClientAuthorization}}),this.paypalInstance.on("token",(function(e){t.setState({processing:!1}),t.props.handleTokenResponse(e)})),this.paypalInstance.on("error",(function(e){t.props.handleTokenError&&t.props.handleTokenError(e),t.setState({processing:!1})})),this.paypalInstance.on("cancel",(function(){t.setState({processing:!1})})),this.paypalInstance.on("ready",(function(){t.setState({paypalConfigured:!0},(function(){t.props.onPayPalReady&&t.props.onPayPalReady(),t.props.autoLogin&&t.openPayPalLogin()}))}))},t}(i.Component),O=Object(a.d)(Object(y.withLatencyTracking)("RecurlyPayPalProcessor"),Object(b.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(E)},KhHV:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return v}));var r,i,a,o,s,c,l,u,d=n("2xye"),p=n("4rCz"),m=n("BmOg");!function(e){e.DropsInfo="drops_info",e.DropsClaimable="drops_claimable",e.DropsClaimed="drops_claimed",e.ClaimFailed="claim_failed",e.NoNewDrops="no_new_drops"}(i||(i={})),function(e){e.Render="render",e.Expand="expand",e.Minimize="minimize",e.Dismiss="dismiss",e.ClickCTA="click_cta"}(a||(a={})),function(e){e.Chat="chat",e.Inventory="inventory_page",e.Details="reward_details"}(o||(o={})),function(e){e.ViewDetails="view_details",e.Claim="claim",e.Login="login",e.ConnectAccounts="connect_accounts"}(s||(s={})),function(e){e.EventBased="event_based",e.TimeBased="time_based"}(c||(c={})),function(e){e.Claimed="claimed",e.InProgress="in_progress",e.Claimable="claimable",e.Blocked="blocked"}(l||(l={})),function(e){e.Render="render",e.ConnectAccounts="connect_account",e.Claim="claim"}(u||(u={}));var h=((r={})[m.c.E2DropAvailable]=c.EventBased,r[m.c.DropClaim]=c.EventBased,r[m.c.MWDropAvailable]=c.TimeBased,r),f=function(e){var t={time:new Date,location:e.location,action:e.action,channel_id:e.channelID,drop_instance_id:e.dropInstanceID||null,cta_detail:e.CTADetail||null,user_id:e.userID||null,campaign_id:e.campaignID||null,drop_type:h[e.calloutType]||null};p.p.track(d.SpadeEventType.DropsCommunityCalloutActions,t)},b=function(e){var t={time:new Date,user_id:e.userID,platform:"client_app",drop_id:e.dropID||"",reward_id:e.rewardID||"",claim_status:e.claimStatus||"",account_linked:e.accountLinked,action:e.action,campaign_id:e.campaignID};p.p.track(d.SpadeEventType.DropsInventoryRewardActions,t)},y=function(e){var t={time:new Date,user_id:e.userID,platform:"client_app",account_linked:e.accountLinked,action:e.action,campaign_id:e.campaignID};p.p.track(d.SpadeEventType.DropsAvailableActions,t)},v=function(e){var t={channel_id:e.channelID||null,drop_id:e.dropID,campaign_id:e.campaignID,ui_context:e.uiContext};p.p.track(d.SpadeEventType.DropsClientClaimableImpression,t)}},KnXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("p46w"),i=n("cr+I"),a=n("dlQn");function o(){return i.parse(window.location.search).countryCode||r.get(a.a)}},LKxS:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n("mrSG"),i=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("/0dD"),l=n("XDQu"),u=n("ER7f"),d=n("6fcp"),p=n("GnwI"),m=n("OCDW"),h=n("Yegi"),f=n("RGzP"),b=n("TSYQ"),y=n("fvsf"),v=n("KnXG"),g=n("GGWn"),k=n("6+Z+"),S=n("UfC+"),C=n("bO8+"),E=n("TbBp"),O=n("4wQG"),P=n("WeGZ"),D=n("uq9l"),j=n("5e0Q"),N=n("BBJN"),T=n("s+pF"),I=n("TwdJ"),_=(n("Bgni"),function(){return{cvv:!1,first_name:!1,last_name:!1,month:!1,number:!1,year:!1,country:!1,address1:!1,city:!1,postal_code:!1}}),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={errorState:_(),processing:!1,firstName:"",lastName:"",countryCode:Object(v.a)()||"US",streetAddress:"",city:"",stateOrProvince:"",postalCode:""},t.firstInteractFired=!1,t.onFirstNameChange=function(e){t.setState({firstName:e.target.value})},t.onLastNameChange=function(e){t.setState({lastName:e.target.value})},t.onCountryChange=function(e){var n=e.currentTarget.value,r="";"US"===n?r=k.a[0]:"CA"===n&&(r=g.a[0]),t.setState({countryCode:n,stateOrProvince:r,postalCode:""})},t.onPostalCodeChange=function(e){t.setState({postalCode:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var n=_(),r=!1;("CA"===t.state.countryCode||"US"===t.state.countryCode)&&!t.validPostalCode&&(n.postal_code=!0,r=!0),""===t.state.firstName&&(n.first_name=!0,r=!0),""===t.state.lastName&&(n.last_name=!0,r=!0),r?t.setState({errorMessage:t.invalidCredentialsError,errorState:n}):(t.setState({processing:!0,errorMessage:void 0,errorState:_()}),t.props.recurlyInstance?t.props.recurlyInstance.token(t.form,(function(e,n){e?(t.handleValidationError(e),t.props.handleTokenError&&t.props.handleTokenError(e)):(t.setState({processing:!1}),t.props.handleTokenResponse(n))})):(t.props.handleTokenError&&t.props.handleTokenError(),t.setState({processing:!1,errorMessage:{title:Object(s.d)("Unexpected Error Occurred","RecurlyCreditCardForm"),description:Object(s.d)("Our credit card processor is not working at the moment. Please try again later.","RecurlyCreditCardForm")}})))},t.handleValidationError=function(e){var n=_();e&&(e.code!==d.b.Validation&&e.code!==d.b.InvalidParameter||e.fields&&e.fields.forEach((function(e){n[e]=!0}))),t.setState({processing:!1,errorMessage:t.invalidCredentialsError,errorState:n})},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){!this.props.onFirstFormInteraction||this.firstInteractFired||t.firstName===this.state.firstName&&t.lastName===this.state.lastName&&t.countryCode===this.state.countryCode&&t.streetAddress===this.state.streetAddress&&t.city===this.state.city&&t.stateOrProvince===this.state.stateOrProvince&&t.postalCode===this.state.postalCode||(this.firstInteractFired=!0,this.props.onFirstFormInteraction())},t.prototype.render=function(){var e=this;return i.createElement(m.a,{className:"recurly-credit-card-form"},this.state.errorMessage&&i.createElement(m.a,{margin:{y:1}},i.createElement(O.a,{type:P.a.Error,message:this.state.errorMessage})),i.createElement("form",{ref:function(t){return e.form=t}},i.createElement(m.a,{margin:{y:1}},i.createElement(D.a,{bold:!0,transform:D.d.Uppercase},Object(s.d)("Billing Information","RecurlyCreditCardForm"))),this.renderNameFields(),i.createElement(m.a,{margin:{y:1}},i.createElement(D.a,{bold:!0,transform:D.d.Uppercase},Object(s.d)("Credit Card Information","RecurlyCreditCardForm"))),this.renderCreditCardFields(),i.createElement(m.a,{margin:{top:2},display:h.h.Flex,alignItems:h.b.Center,justifyContent:h.m.Between},i.createElement(m.a,{display:h.h.Flex,alignItems:h.b.Start},Object(C.a)()&&i.createElement(S.a,null)),i.createElement(m.a,{display:h.h.Flex,alignItems:h.b.End},i.createElement(j.a,{onClick:this.handleSubmit,state:this.state.processing||this.props.forceLoadingState?j.c.Loading:j.c.Default,disabled:this.state.processing||this.props.disableCallToActionButton||this.props.forceLoadingState,"data-a-target":"continue-button"},this.props.callToActionButtonLabel)))))},Object.defineProperty(t.prototype,"firstNameText",{get:function(){return Object(s.d)("First Name","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNameText",{get:function(){return Object(s.d)("Last Name","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),t.prototype.renderNameFields=function(){var e="CA"===this.state.countryCode||"US"===this.state.countryCode;return i.createElement(N.a,{gutterSize:N.b.Medium},i.createElement(T.a,{cols:{sm:e?3:4,default:6}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},this.firstNameText)),i.createElement(I.a,{type:I.c.Text,placeholder:this.firstNameText,value:this.state.firstName,onChange:this.onFirstNameChange,error:this.state.errorState[d.a.FirstName],"data-a-target":"first-name",autoComplete:"given-name"}),i.createElement("input",{type:"hidden","data-recurly":d.a.FirstName,value:this.state.firstName}))),i.createElement(T.a,{cols:{sm:e?3:4,default:6}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},this.lastNameText)),i.createElement(I.a,{type:I.c.Text,placeholder:this.lastNameText,value:this.state.lastName,onChange:this.onLastNameChange,error:this.state.errorState[d.a.LastName],"data-a-target":"last-name",autoComplete:"family-name"}),i.createElement("input",{type:"hidden","data-recurly":d.a.LastName,value:this.state.lastName}))),i.createElement(T.a,{cols:{sm:e?3:4,default:6}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},Object(s.d)("Country","RecurlyCreditCardForm"))),i.createElement(y.a,{countryCode:this.state.countryCode,countryCodeList:E.a,onChange:this.onCountryChange,error:this.state.errorState[d.a.Country],"data-a-target":"country"}),i.createElement("input",{type:"hidden","data-recurly":d.a.Country,value:this.state.countryCode}))),e&&i.createElement(T.a,{cols:{sm:3,default:6}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},this.postalCodeText)),i.createElement(I.a,{type:I.c.Text,placeholder:this.postalCodeText,value:this.state.postalCode,onChange:this.onPostalCodeChange,error:this.state.errorState[d.a.PostalCode],maxLength:this.postalCodeMaxLength,"data-a-target":"postal-code",autoComplete:"postal-code"}),i.createElement("input",{type:"hidden","data-recurly":d.a.PostalCode,value:this.state.postalCode}))))},Object.defineProperty(t.prototype,"postalCodeText",{get:function(){return Object(s.d)("Postal Code","RecurlyCreditCardForm")},enumerable:!0,configurable:!0}),t.prototype.renderCreditCardFields=function(){var e=b({"recurly-error":this.state.errorState[d.a.ExpMonth],"recurly-dark-theme":this.props.darkModeEnabled}),t=b({"recurly-error":this.state.errorState[d.a.ExpMonth],"recurly-dark-theme":this.props.darkModeEnabled}),n=b({"recurly-error":this.state.errorState[d.a.CreditCardNumber],"secure-lock":!0,"recurly-dark-theme":this.props.darkModeEnabled}),r=b({"recurly-error":this.state.errorState[d.a.CVV],"secure-lock":!0,"recurly-dark-theme":this.props.darkModeEnabled});return i.createElement(N.a,{gutterSize:N.b.Medium},i.createElement(T.a,{cols:{default:12,sm:4}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},Object(s.d)("Credit Card Number","RecurlyCreditCardForm"))),i.createElement("div",{id:"recurly-number","data-recurly":d.a.CreditCardNumber,className:n}))),i.createElement(T.a,{cols:{default:12,sm:4}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},Object(s.d)("Expiry Date","RecurlyCreditCardForm"))),i.createElement(N.a,{gutterSize:N.b.Medium},i.createElement(T.a,{cols:6},i.createElement("div",{id:"recurly-month","data-recurly":d.a.ExpMonth,className:e})),i.createElement(T.a,{cols:6},i.createElement("div",{id:"recurly-year","data-recurly":d.a.ExpYear,className:t}))))),i.createElement(T.a,{cols:{default:12,sm:4}},i.createElement(m.a,{margin:{y:1},breakpointExtraSmall:{margin:{y:.5}}},i.createElement(m.a,{margin:{bottom:.5}},i.createElement(D.a,{bold:!0},Object(s.d)("CVV","RecurlyCreditCardForm"))),i.createElement("div",{id:"recurly-cvv","data-recurly":d.a.CVV,className:r}))),i.createElement("input",{type:"hidden","data-recurly":d.a.Token}))},Object.defineProperty(t.prototype,"postalCodeMaxLength",{get:function(){switch(this.state.countryCode){case"US":return 5;case"CA":return 7;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidCredentialsError",{get:function(){return{title:Object(s.d)("Valid Credentials Required","RecurlyCreditCardForm"),description:Object(s.d)("Please enter valid credentials in the highlighted areas and try again.","RecurlyCreditCardForm")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validPostalCode",{get:function(){switch(this.state.countryCode){case"US":case"CA":return 0!==this.state.postalCode.length;default:return!0}},enumerable:!0,configurable:!0}),t}(i.Component),A={light:"#000",dark:"#fff"},x={light:"#53535f",dark:"#c4c4c5"},R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recurlyReady:!1},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.checkRecurlyInstance()},t.prototype.componentDidUpdate=function(e){!e.recurlyInstance&&this.props.recurlyInstance||this.props.recurlyLoadFailed?this.checkRecurlyInstance():this.props.recurlyInstance&&this.props.darkModeEnabled!==e.darkModeEnabled&&this.setupConfigs()},t.prototype.componentWillUnmount=function(){window.clearInterval(this.hostedFieldPollId)},t.prototype.render=function(){return this.props.recurlyLoadFailed?null:i.createElement(i.Fragment,null,i.createElement(m.a,{display:this.state.recurlyReady?h.h.Hide:h.h.Block,padding:{y:1}},i.createElement(f.a,{lineCount:12})),i.createElement(m.a,{display:this.state.recurlyReady?h.h.Block:h.h.Hide},i.createElement(w,{onFirstFormInteraction:this.props.onFirstFormInteraction,callToActionButtonLabel:this.props.callToActionButtonLabel,darkModeEnabled:this.props.darkModeEnabled,disableCallToActionButton:this.props.disableCallToActionButton,forceLoadingState:this.props.forceLoadingState,handleTokenResponse:this.props.handleTokenResponse,handleTokenError:this.props.handleTokenError,recurlyInstance:this.props.recurlyInstance})))},t.prototype.checkRecurlyInstance=function(){this.props.recurlyInstance?(this.props.latencyTracking.reportInteractive(),this.setupConfigs(),this.pollForHostedField()):this.props.recurlyLoadFailed&&this.props.latencyTracking.reportInteractive()},t.prototype.pollForHostedField=function(){var e=this;this.hostedFieldPollId=window.setInterval((function(){document.querySelector(".recurly-hosted-field > iframe")&&(e.setState({recurlyReady:!0}),e.props.onRecurlyReady&&e.props.onRecurlyReady(),window.clearInterval(e.hostedFieldPollId))}),500)},t.prototype.setupConfigs=function(){if(this.props.recurlyInstance){var e=[d.a.CVV,d.a.Country];this.props.recurlyInstance.configure({publicKey:this.props.publicKey,fraud:{kount:{dataCollector:!0}},required:e,fields:{all:{style:{height:"auto",fontSize:"12px",fontColor:this.props.darkModeEnabled?A.dark:A.light,placeholder:{color:this.props.darkModeEnabled?x.dark:x.light}}},number:{selector:"#recurly-number",style:{placeholder:{content:Object(s.d)("Card Number","RecurlyCreditCardProcessor")}}},month:{selector:"#recurly-month",inputType:"select",style:{placeholder:{content:Object(s.d)("Month","RecurlyCreditCardProcessor")}}},year:{selector:"#recurly-year",inputType:"select",style:{placeholder:{content:Object(s.d)("Year","RecurlyCreditCardProcessor")}}},cvv:{selector:"#recurly-cvv",style:{placeholder:{content:Object(s.d)("CVV","RecurlyCreditCardProcessor")}}}}})}},t}(i.Component);var M=Object(o.d)(Object(p.withLatencyTracking)("RecurlyCreditCardProcessor"),Object(a.b)((function(e){return{darkModeEnabled:Object(l.a)(e)===c.a.Dark}})),Object(u.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(R)},Lqow:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("mrSG"),i=n("W1jp");function a(e,t,n){if(void 0===t&&(t=!0),t&&(e=e.filter((function(e){return e.isEnabled}))),n){var i=e.filter((function(e){return n.has(e.id)})),a=e.filter((function(e){return!n.has(e.id)}));return Object(r.__spreadArrays)(i.sort(o),a.sort(o))}return e.sort(o)}function o(e,t){var n=Object(i.c)(e),r=Object(i.c)(t);return n!==r?n-r:e.id<t.id?-1:e.id>t.id?1:0}},M9G0:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SubsProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeGiftRecipientQuery"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"giftRecipient"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeGiftRecipientQuery"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefitsStartAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchaseType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:527}};n.loc.source={body:"query SubsProductDescription(\n$productName: String!\n$giftRecipientID: ID\n$includeGiftRecipientQuery: Boolean!\n$params: PurchasableOfferParams!\n) {\nsubscriptionProduct(productName: $productName) {\nid\ntier\nowner {\nid\nlogin\ndisplayName\nprofileImageURL(width: 150)\n}\n}\ngiftRecipient: user(id: $giftRecipientID)\n@include(if: $includeGiftRecipientQuery) {\nid\ndisplayName\n}\npurchasableOffer(params: $params) {\nid\ngiftType\neligibility {\nbenefitsStartAt\npurchaseType\n}\nlisting {\nchargeModel {\ninternal {\nplan {\nrenewalPolicy\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.SubsProductDescription=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"SubsProductDescription")},MWAM:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ShareBitsBadgeTier_AvailableBadges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:233}};r.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery Chat_ShareBitsBadgeTier_AvailableBadges($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nself {\navailableBadges {\n...badge\n}\nselectedBadge {\n...badge\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};r.definitions=r.definitions.concat(n("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=r,e.exports.Chat_ShareBitsBadgeTier_AvailableBadges=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,i=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var r=o(e,t);r&&n.definitions.push(r)})),n}(r,"Chat_ShareBitsBadgeTier_AvailableBadges")},Mb07:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return u}));var r,i=n("DsWU"),a=n("5yce"),o=n("a5fV");function s(e,t){return null==t?void 0:t.find((function(t){var n;return(null===(n=t.promotion)||void 0===n?void 0:n.name)===e}))}function c(e,t){return l(e,t)?u(e):{}}function l(e,t){return!!e&&(!(Object(a.c)(e)&&!Object(a.b)())&&(!(Object(i.c)(e)&&!Object(i.b)())&&(!!e.eligibility.isEligible&&(!t||!!e.quantity&&e.quantity.min<=t&&t<=e.quantity.max))))}function u(e){var t,n,r,i,a,s,c,l,u=null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.promoDisplay.discountPercent,d=null===(r=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===r?void 0:r.previewPrice,p=null===(c=null===(s=null===(a=null===(i=null==e?void 0:e.listing)||void 0===i?void 0:i.chargeModel.internal)||void 0===a?void 0:a.previewPrice)||void 0===s?void 0:s.discount)||void 0===c?void 0:c.price;return d&&(l=Object(o.a)(Object(o.b)(d.total,d.exponent),d.currency)),{discountPercent:u,discountPrice:p,price:l}}!function(e){e.FirstPaidSubOffer="first_paid_sub_offer_20_perc_off",e.FirstPaidGiftOffer="first_paid_gift_offer_20_perc_off",e.FirstPaidSingleGiftOffer="single_paid_gift_offer_20_perc_off",e.FirstPaidMulitMonthOffer="single_paid_multi_month_gift_offer_20_perc_off",e.MultiMonthIntroOffer="multimonth_intro",e.ActiveSubCommunityGiftPromoOffer="active_sub_community_gifting_discount_10_perc_off",e.ActiveSubSixMultiMonthGiftPromoOffer="active_sub_6_multi_month_gifting_discount_10_perc_off",e.ActiveSubTwelveMultiMonthGiftPromoOffer="active_sub_12_multi_month_gifting_discount_10_perc_off"}(r||(r={}))},N3Wk:function(e,t,n){},NBHn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("5e0Q"),s=n("OCDW"),c=n("Yegi"),l=function(e){return a.createElement(s.a,{display:c.h.Flex,justifyContent:c.m.Start,flexDirection:c.i.RowReverse},a.createElement("div",null,a.createElement(o.a,i()({size:o.b.Small,type:e.primaryButton.type||o.d.Primary},e.primaryButton))),e.secondaryButton&&a.createElement(s.a,{margin:{right:1}},a.createElement(o.a,i()({size:o.b.Small,type:e.secondaryButton.type||o.d.Secondary},e.secondaryButton))))};l.displayName="NotificationActions",l.displayName="NotificationActions"},NK7l:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateBitsBadgeTierNotification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateBitsBadgeTierNotificationInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBitsBadgeTierNotification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"mutation UpdateBitsBadgeTierNotification($input:UpdateBitsBadgeTierNotificationInput!) {\nupdateBitsBadgeTierNotification(input:$input) {\nuser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.UpdateBitsBadgeTierNotification=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UpdateBitsBadgeTierNotification")},NYFu:function(e,t,n){e.exports=n.p+"assets/sub-only-chat-432211050c885b3070f1.png"},Ncpm:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("q1tI"),c=n("vOnD"),l=n("2vum"),u=n("9HGd"),d=n("zDSx"),p=n("vsSX"),m=n("ijbd"),h=c.b.div.withConfig({displayName:"ScPurchaseButtonPrice",componentId:"sc-4a7b1v-0"})([""," "," "," display:flex;align-items:center;align-self:stretch;"],(function(e){return e.disabled?"":Object(l.a)("background-color","color-background-button-purchase")}),Object(u.a)("padding-left","button-padding-x"),Object(u.a)("padding-right","button-padding-x")),f=function(e,t){var n=e.children,r=e.icon,a=e.price,c=e.priceTestSelectors,l=o()(e,["children","icon","price","priceTestSelectors"]);return s.createElement(p.a,i()({type:p.d.Primary},l,{ref:t,className:"tw-purchase-button"}),s.createElement(m.a,{icon:r,size:l.size,fullWidth:l.fullWidth},n),s.createElement(h,i()({"data-a-target":d.a.ButtonNumBlock},c,{disabled:l.disabled}),a))};f.displayName="PurchaseButton",f.displayName="PurchaseButton";var b=s.forwardRef(f)},NoAt:function(e,t,n){e.exports=n.p+"assets/custom-username-9977ae65e403e35e9f17.png"},OoH1:function(e,t,n){e.exports=n.p+"assets/prime-gaming-white-d6ba45600d204db0ed23.svg"},PZ6D:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"k",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return y}));var r=n("DMoW"),i=n("VURH"),a=n("Mb07");function o(e,t){if((null==e?void 0:e.offers)&&0!==e.offers.length)return 1===e.offers.length?e.offers[0]:s(e.offers,t)}function s(e,t){return null==e?void 0:e.slice().sort((function(e,n){var r,i,o,s,c,l,u,d,p=null===(o=null===(i=null===(r=e.listing)||void 0===r?void 0:r.chargeModel)||void 0===i?void 0:i.internal)||void 0===o?void 0:o.previewPrice,m=null===(l=null===(c=null===(s=n.listing)||void 0===s?void 0:s.chargeModel)||void 0===c?void 0:c.internal)||void 0===l?void 0:l.previewPrice;return p?m?!Object(a.e)(e,t)&&Object(a.e)(n,t)?1:Object(a.e)(e,t)&&!Object(a.e)(n,t)?-1:((null===(u=null==p?void 0:p.discount)||void 0===u?void 0:u.total)||(null==p?void 0:p.total))-((null===(d=null==m?void 0:m.discount)||void 0===d?void 0:d.total)||(null==m?void 0:m.total)):-1:1}))[0]}function c(e){if((null==e?void 0:e.offers)&&0!==e.offers.length)return function(e){var t=[];if(!e)return t;var n=s(l(e,1,r.Q.MONTHS));n&&t.push(n);var i=s(l(e,3,r.Q.MONTHS));i&&t.push(i);var a=s(l(e,6,r.Q.MONTHS));a&&t.push(a);return t}(e.offers)}function l(e,t,n){return e.filter((function(e){var r,i,a,o,s=null===(o=null===(a=null===(i=null===(r=e.listing)||void 0===r?void 0:r.chargeModel)||void 0===i?void 0:i.internal)||void 0===a?void 0:a.plan)||void 0===o?void 0:o.interval;return(null==s?void 0:s.duration)===t&&(null==s?void 0:s.unit)===n}))}function u(e,t){var n;return(null===(n=d(e,t))||void 0===n?void 0:n.id)||""}function d(e,t){var n,o=null===(n=null==e?void 0:e.community)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){return(null==e?void 0:e.platform)===r.hd.WEB&&(null==e?void 0:e.tplr)===i.b.ChannelSubCommunityGift})),c=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidGiftOffer}));if(Object(a.e)(c,t))return c||void 0;var l=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.ActiveSubCommunityGiftPromoOffer}));return Object(a.e)(l,t)?l||void 0:s(o,t)}function p(e){var t;return(null===(t=m(e))||void 0===t?void 0:t.id)||""}function m(e){var t,n,o=null===(n=null===(t=null==e?void 0:e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){var t,n,a;return(null==e?void 0:e.platform)===r.hd.WEB&&(null==e?void 0:e.tplr)===i.b.ChannelSubStandardGift&&1===(null===(a=null===(n=null===(t=null==e?void 0:e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===n?void 0:n.plan)||void 0===a?void 0:a.interval.duration)})),c=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidSingleGiftOffer}));return Object(a.e)(c)?c||void 0:s(o)}function h(e){var t,n,o=null===(n=null===(t=null==e?void 0:e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){return(null==e?void 0:e.platform)===r.hd.WEB&&(null==e?void 0:e.tplr)===i.b.ChannelSubStandardGift})),s=null==o?void 0:o.find((function(e){var t;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.FirstPaidSingleGiftOffer}));if(Object(a.e)(s))return s||void 0;var c=null==o?void 0:o.find((function(e){var t,n;return(null===(t=null==e?void 0:e.promotion)||void 0===t?void 0:t.name)===a.a.ActiveSubSixMultiMonthGiftPromoOffer||(null===(n=null==e?void 0:e.promotion)||void 0===n?void 0:n.name)===a.a.ActiveSubTwelveMultiMonthGiftPromoOffer}));return Object(a.e)(c)&&c||void 0}function f(e,t){if(t)return e.map((function(e){return y(e,t)}))}function b(e){var t,n;return null===(n=null===(t=e.gifting)||void 0===t?void 0:t.standard)||void 0===n?void 0:n.map((function(e){return e.offer})).filter((function(e){var t,n,a,o,s,c,l;if(!e)return!1;var u=null===(a=null===(n=null===(t=e.listing)||void 0===t?void 0:t.chargeModel.internal)||void 0===n?void 0:n.plan)||void 0===a?void 0:a.interval,d=1===(null==u?void 0:u.duration)||3===(null==u?void 0:u.duration)||6===(null==u?void 0:u.duration)||12===(null==u?void 0:u.duration);return e.platform===r.hd.WEB&&e.tplr===i.b.ChannelSubStandardGift&&(null===(l=null===(c=null===(s=null===(o=e.listing)||void 0===o?void 0:o.chargeModel.internal)||void 0===s?void 0:s.plan)||void 0===c?void 0:c.interval)||void 0===l?void 0:l.unit)===r.Q.MONTHS&&d}))}function y(e,t){var n=!1,r=null==t?void 0:t.filter((function(t){var r,i,o;if(!t)return!1;Object(a.e)(t)&&(n=!0);var s=null===(o=null===(i=null===(r=t.listing)||void 0===r?void 0:r.chargeModel.internal)||void 0===i?void 0:i.plan)||void 0===o?void 0:o.interval;return(null==s?void 0:s.duration)===e}));return n?null==r?void 0:r.slice().sort((function(e,t){var n,r,i,o,s,c,l,u;if(!Object(a.e)(e)&&Object(a.e)(t))return 1;if(Object(a.e)(e)&&!Object(a.e)(t))return-1;var d=null===(i=null===(r=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel)||void 0===r?void 0:r.internal)||void 0===i?void 0:i.previewPrice,p=null===(c=null===(s=null===(o=null==t?void 0:t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.previewPrice;return d&&p?((null===(l=null==d?void 0:d.discount)||void 0===l?void 0:l.total)||(null==d?void 0:d.total))-((null===(u=null==p?void 0:p.discount)||void 0===u?void 0:u.total)||(null==p?void 0:p.total)):0}))[0]:null==r?void 0:r.slice().sort((function(e,t){var n,r,i,o,s,c,l,u;if(!Object(a.e)(e)&&Object(a.e)(t))return 1;if(Object(a.e)(e)&&!Object(a.e)(t))return-1;var d=null===(i=null===(r=null===(n=null==e?void 0:e.listing)||void 0===n?void 0:n.chargeModel)||void 0===r?void 0:r.internal)||void 0===i?void 0:i.previewPrice,p=null===(c=null===(s=null===(o=null==t?void 0:t.listing)||void 0===o?void 0:o.chargeModel)||void 0===s?void 0:s.internal)||void 0===c?void 0:c.previewPrice;return d&&p?((null===(l=null==p?void 0:p.discount)||void 0===l?void 0:l.total)||(null==p?void 0:p.total))-((null===(u=null==d?void 0:d.discount)||void 0===u?void 0:u.total)||(null==d?void 0:d.total)):0}))[0]}},PwAB:function(e,t,n){e.exports=n.p+"assets/xsolla_2x-b8ef30f34626976fddc4.png"},Q7xm:function(e,t,n){e.exports=n.p+"assets/blue-gem-3d8ce5988f1af3a9da13.png"},QCvd:function(e,t,n){e.exports=n.p+"assets/apple_1x-37e2db56c962df2a5704.svg"},Qyjw:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return N}));var r,i=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("/7QA"),l=n("yR8l"),u=n("y5D0"),d=n("DMoW"),p=n("4uwt"),m=n("D/1V"),h=n("rACw"),f=n("EMHe");!function(e){e.Bio="Description specified is too long",e.DisplayNameCasing="You may not change your display name, only the capitalization of it.",e.DisplayNameCJK="You may not change your display name again.",e.DisplayNameInvalidChars="name you selected contains invalid characters",e.DisplayNameLong="name you selected is too long",e.DisplayNameNotAvailable="display name you selected is not available",e.DisplayNameShort="name you selected is too short",e.EmailAdminDomainRequired="Admins must use their work email",e.EmailDomainNotAllowed="Email address uses an invalid domain",e.EmailNotAllowed="Email disabled for reuse",e.EmailNotUpdateable="You are not allowed to change your email more than once every",e.EmailNotValid="Email address is not valid",e.SudoTokenInvalid="invalid sudo token",e.SudoTokenMissing="missing sudo token"}(r||(r={}));var b,y=n("wfkB"),v=n("aw6k"),g=n("OCDW"),k=n("uq9l"),S=n("afq6"),C=n("TwdJ"),E=n("p9DJ"),O=n("4wQG"),P=n("WeGZ");!function(e){e.AddEmailButton="add-email-form__add-email-button"}(b||(b={}));var D,j,N;!function(e){e[e.AddressNotAllowed=1]="AddressNotAllowed",e[e.DomainNotAllowed=2]="DomainNotAllowed",e[e.DomainNotAllowedForAdmins=3]="DomainNotAllowedForAdmins",e[e.InvalidAddress=4]="InvalidAddress",e[e.UnknownError=5]="UnknownError"}(D||(D={})),function(e){e[e.EnterEmail=0]="EnterEmail",e[e.VerifyPassword=1]="VerifyPassword"}(j||(j={})),function(e){e[e.Modal=0]="Modal",e[e.Inline=1]="Inline"}(N||(N={}));var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:"",saveStatus:f.b.NoChanges,formStep:j.EnterEmail},t.logger=c.k.withCategory("add-email-form"),t.onChange=function(e){var n=f.b.DirtyChanges;Object(h.b)(e.currentTarget.value)||(n=f.b.NoChanges),t.setState({saveStatus:n,value:e.currentTarget.value})},t.saveForm=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a,o,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return this.props.currentUserID?(this.setState({saveStatus:f.b.Working,submitError:void 0}),e=f.b.Error,t=j.EnterEmail,n=void 0,[4,Object(v.b)(this.props.updateEmail,this.state.value,this.props.currentUserID,!1)]):[2];case 1:if(a=i.sent(),o=null===(c=null==a?void 0:a.error)||void 0===c?void 0:c.code,n=D.UnknownError,s="",o){switch(o){case d.wf.INVALID_EMAIL:s=r.EmailNotValid,n=D.InvalidAddress;break;case d.wf.WORK_EMAIL_REQUIRED:s=r.EmailAdminDomainRequired,n=D.DomainNotAllowedForAdmins;break;case d.wf.INVALID_EMAIL_DOMAIN:s=r.EmailDomainNotAllowed,n=D.DomainNotAllowed;break;case d.wf.EMAIL_DISABLED_FOR_REUSE:s=r.EmailNotAllowed,n=D.AddressNotAllowed;break;case d.wf.REAUTH_NEEDED:s=r.SudoTokenInvalid,this.props.verificationType===N.Inline?t=j.VerifyPassword:this.props.verifyPassword(this.props.passportActionSource,{onComplete:this.saveForm});break;default:Object(v.a)(this.props.currentUserID,this.logger,o)}this.props.onSaveError&&this.props.onSaveError(s)}else e=f.b.Success,this.props.onSaveSuccess();return this.setState({saveStatus:e,submitError:n,formStep:t}),[2]}}))}))},t.handleNotificationClose=function(){t.setState({submitError:void 0})},t.onPasswordVerificationComplete=function(){return t.setState({formStep:j.EnterEmail}),t.saveForm(),Promise.resolve()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.state.formStep===j.VerifyPassword&&this.props.verificationType===N.Inline)return a.createElement(p.a,{flow:m.a.PasswordVerification,action:this.props.passportActionSource,onAuthenticated:this.onPasswordVerificationComplete});var e=this.state.submitError;return a.createElement(a.Fragment,null,e&&a.createElement(g.a,{margin:{bottom:1}},this.renderErrorNotification(e)),a.createElement(g.a,{margin:{bottom:1}},a.createElement(k.a,null,this.props.descriptionText)),a.createElement(S.a,{label:Object(c.d)("Email Address","AddEmailForm"),error:!!e},a.createElement(g.a,{margin:{y:1}},a.createElement(C.a,{id:"add-email-form__email-input",onChange:this.onChange,type:C.c.Email,value:this.state.value,placeholder:Object(c.d)("pog@champ.com","AddEmailForm")})),a.createElement(f.a,{status:this.state.saveStatus,onClick:this.saveForm,"data-a-target":"add-email-to-account-button"},this.state.saveStatus===f.b.Error?Object(c.d)("Failed to add email. Try again.","AddEmailForm"):Object(c.d)("Add Email to Account","AddEmailForm"))))},t.prototype.renderErrorNotification=function(e){var t,n=Object(c.d)("Error adding email","AddEmailForm");switch(e){case D.AddressNotAllowed:n=Object(c.d)("Email not allowed","AddEmailForm"),t=Object(c.d)("Unable to change email address - Please use a different email address.","AddEmailForm");break;case D.InvalidAddress:t=Object(c.d)("Please provide a valid email address.","AddEmailForm");break;case D.DomainNotAllowed:t=Object(c.d)("Emails using that domain are not allowed - Please use a different email address.","AddEmailForm");break;case D.DomainNotAllowedForAdmins:t=Object(c.d)("Admins must use their work email address.","AddEmailForm");break;default:n=Object(c.d)("An unexpected error occurred","AddEmailForm"),t=Object(c.d)("Your email could not be added at this time. Please try again. If the problem persists, <x:link>contact support</x:link>.",{"x:link":function(e){return a.createElement(E.a,{linkTo:"https://help.twitch.tv/customer/portal/emails/new",targetBlank:!0},e)}},"AddEmailForm")}return a.createElement(O.a,{type:P.a.Error,message:{title:n,description:t},closeButton:{"aria-label":Object(c.d)("Close notification","AddEmailForm"),onClick:this.handleNotificationClose}})},t}(a.Component);var I=Object(s.d)(Object(l.a)(y,{name:"updateEmail"}),Object(o.b)((function(e){return{currentUserID:e.session.user&&e.session.user.id||null}}),(function(e){return Object(s.b)({verifyPassword:function(e,t){return Object(u.h)(e,t)}},e)})))(T)},RVth:function(e,t,n){},SPyc:function(e,t,n){e.exports=n.p+"assets/discover-d67f6b00db816208999c.svg"},SXhr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsBundleSuccessScreen"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsOffers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BitsBundleOffer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asin"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query BitsBundleSuccessScreen {\ncurrentUser {\nid\nbitsBalance\nbitsOffers {\nid\nbits\n... on BitsBundleOffer {\nasin\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.BitsBundleSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"BitsBundleSuccessScreen")},TMob:function(e,t,n){"use strict";var r=n("HTDB"),i=n.n(r);n.d(t,"a",(function(){return i.a}));var a=n("HDgp"),o=n.n(a);n.d(t,"b",(function(){return o.a}));var s=n("CSwz"),c=n.n(s);n.d(t,"c",(function(){return c.a}));var l=n("mHjF"),u=n.n(l);n.d(t,"d",(function(){return u.a}));var d=n("1Fpl"),p=n.n(d);n.d(t,"e",(function(){return p.a}));var m=n("OoH1"),h=n.n(m);n.d(t,"f",(function(){return h.a}))},TSpM:function(e,t,n){e.exports=n.p+"assets/amazon_pay_2x-2eccd73373faaefa6764.png"},TUXZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return X}));var r,i,a=n("mrSG"),o=n("q1tI"),s=n("/7QA"),c=n("8/mp"),l=n("2xye"),u=n("dGMd"),d=n("OCDW"),p=n("Yegi"),m=n("5e0Q"),h=n("Ix37"),f=n("JjwZ"),b=n("uq9l"),y=function(e){var t=e.bitsBalance,n=e.bitsBadgeTier,r=e.channelDisplayName,i=e.channelID,a=e.onClickToken,c=e.numBitsToUnlock,u=e.clickedEmote,y=e.onBackClick,v=o.useCallback((function(){var e="cheer";Math.random()>.999998&&(e="doodlecheer"),a(e+c);var n=u,r={action:"cheer_bits",additional_bits_needed:n.bitsLeftToUnlock,bits_balance:t,bits_tier:n.bitsThreshold,channel_id:i,emote_id:n.id,emoticon_set_id:n.setID};s.o.track(l.SpadeEventType.EmotePickerBitsPreviewClick,r)}),[u,t,i,a,c]),g=o.useCallback((function(){return Object(s.d)("{channelDisplayName} - {bitsTierNumber} Bits Badge Reward",{bitsTierNumber:Object(s.g)(n,{maximumFractionDigits:2}),channelDisplayName:r},"EmotePickerCardBitsEmoteUpsell")}),[n,r]),k=o.useCallback((function(){return Object(s.d)("Use {numBits} more Bits in {channelDisplayName}'s channel to permanently unlock this emote reward.",{numBits:Object(s.f)(c),channelDisplayName:r},"EmotePickerCardBitsEmoteUpsell")}),[r,c]),S=o.useCallback((function(e){var t=e.split(" ");return 6===t.length?t[2]:t[0]}),[]);return o.createElement(d.a,{display:p.h.Flex,flexDirection:p.i.Column},o.createElement(d.a,{padding:{top:.5}},o.createElement(m.a,{type:m.d.Text,icon:h.a.AngleLeft,onClick:y,size:m.b.Small},Object(s.d)("Back","EmotePickerCardBitsEmoteUpsell"))),o.createElement(d.a,{display:p.h.Flex,padding:{x:2,bottom:1}},o.createElement(d.a,{flexShrink:0,padding:{top:.5}},o.createElement(f.a,{src:S(u.srcSet),alt:u.displayName||u.token})),o.createElement(d.a,{padding:{left:1}},o.createElement(b.a,{bold:!0},g()),o.createElement(b.a,null,k()))),o.createElement(d.a,{display:p.h.Flex,padding:{top:.5,bottom:1},justifyContent:p.m.Center},o.createElement(m.a,{type:m.d.Primary,onClick:v,size:m.b.Small},Object(s.d)("Cheer Bits","EmotePickerCardBitsEmoteUpsell"))))},v=n("b5vT"),g=n("7SjK"),k=function(e){var t=null;return e.img&&(t=o.createElement(o.Fragment,null,e.img,o.createElement(d.a,{padding:{right:.5}}))),o.createElement(d.a,{position:p.o.Relative,padding:{x:1,top:.5,bottom:1}},o.createElement(d.a,{alignItems:p.b.Center,display:p.h.Flex,padding:{x:1,y:.5},className:"emote-grid-section__header-title"},t,o.createElement(b.a,{align:p.r.Middle,bold:!0,color:p.f.Alt},e.label)),o.createElement(g.a,{context:e.context,emotes:e.emotes,onClickEmote:e.onClickEmote,spaced:!0}))},S=n("4VQm"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkVisible=function(e,n){t.props.checkVisible(e,n)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister()},t.prototype.render=function(){return o.createElement(o.Fragment,null,this.props.children)},t}(o.Component),E=Object(S.d)((function(e){return{registerReceiver:e.registerReceiver}}))(C),O=n("p8fB"),P=n("LNol"),D=function(e){return o.createElement(d.a,{position:p.o.Relative},o.createElement(O.a,{"data-a-target":e.label,onClick:e.onClick,selected:e.isActive},o.createElement(d.a,{padding:1,display:p.h.InlineFlex},o.createElement(P.a,{asset:e.icon}))))},j=n("ANjH"),N=n("yR8l"),T=n("OMdY"),I=n("GnwI"),_=n("ANDu"),w=n("PZ6D"),A=n("DnOo"),x=n("a5fV"),R=n("YUew"),M=(n("GLn2"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.channelSubEmotes,r=t.channelSubscriptionProducts,i=t.subUpsellClickedEmote,l=r.find((function(e){return e.emoteSetID===i.setID}));if(l||(l=r.find((function(e){var t;return!!(null===(t=e.emotes)||void 0===t?void 0:t.some((function(e){return e&&e.id===i.id})))}))),!l)return null;var u={};n.forEach((function(e){if(e.isLocked&&null!==e.setID&&void 0!==e.setID){var t=r.find((function(t){return t.emoteSetID===e.setID}));t&&(u[t.emoteSetID]=t)}}));var y=Object(_.b)(l),v=Object(s.d)("Subscribe at Tier {tierNumber}",{tierNumber:y},"EmotePickerCard"),k=[],S=[];n.forEach((function(e){var t=u[e.setID];t&&(Object(_.b)(t)<=y?S.push(Object(a.__assign)(Object(a.__assign)({},e),{isLocked:!1})):k.push(e))})),k.sort((function(e,t){var n=u[e.setID],r=u[t.setID],i=Object(_.b)(n);return Object(_.b)(r)-i}));var C=k.concat(S),E=S.length>1?Object(s.d)("{numUnlocked} Emotes Included",{numUnlocked:S.length},"EmotePickerCard"):Object(s.d)("1 Emote Included","EmotePickerCard"),O=Object(w.h)(l),P=null==O?void 0:O[0],D=Object(x.c)(P)||l.price;return o.createElement(d.a,{className:"emote-sub-upsell"},o.createElement(d.a,{padding:{top:.5}},o.createElement(m.a,{type:m.d.Text,icon:h.a.AngleLeft,onClick:this.props.onBackClick,size:m.b.Small},Object(s.d)("Back","EmotePickerCard"))),o.createElement(d.a,{display:p.h.Flex,padding:{x:2,bottom:1}},o.createElement(d.a,{flexGrow:0,flexShrink:0,padding:{top:.5}},o.createElement(f.a,{src:this.getBigImageSrc(i.srcSet),alt:i.displayName||""})),o.createElement(d.a,{flexGrow:1,flexShrink:1,padding:{left:1}},o.createElement(b.a,{bold:!0},this.renderCopyHeader(y.toString())),o.createElement(b.a,null,this.renderCopyBody(y.toString(),S.length)))),o.createElement(d.a,{display:p.h.Flex,alignItems:p.b.Center,justifyContent:p.m.Center,padding:{x:2}},o.createElement(A.a,{customSubscribeNowMessage:v,isSubbedToTier:!1,fullWidth:!0,tierPrice:D,handleSubAction:this.props.handleSubAction,productName:l.name,url:l.url,offerID:null==P?void 0:P.id,isEligible:null===(e=null==P?void 0:P.eligibility)||void 0===e?void 0:e.isEligible,multiMonthOffers:O})),o.createElement(R.a,null,o.createElement("hr",{className:"emote-sub-upsell__divider"})),o.createElement(c.b,{className:"emote-sub-upsell__content"},o.createElement(d.a,null,o.createElement(d.a,{padding:{x:2}},o.createElement(b.a,{bold:!0},E)),o.createElement(d.a,{padding:{x:1,top:.5,bottom:3}},o.createElement(g.a,{emotes:C,spaced:!0,onClickEmote:this.props.onClickEmote})))))},t.prototype.renderCopyHeader=function(e){return Object(s.d)("{channelDisplayName} - Tier {tierNumber} Subscription",{tierNumber:e,channelDisplayName:this.props.channelDisplayName},"EmotePickerCard")},t.prototype.renderCopyBody=function(e,t){return 1===t?Object(s.d)("To unlock 1 emote and more subscriber benefits, subscribe at Tier {tierNumber}",{tierNumber:e},"EmotePickerCard"):Object(s.d)("To unlock {numEmotes} emotes and more subscriber benefits, subscribe at Tier {tierNumber}.",{tierNumber:e,numEmotes:t},"EmotePickercard")},t.prototype.getBigImageSrc=function(e){var t=e.split(" ");return 6===t.length?t[2]:t[0]},t}(o.Component)),F=n("XQnt"),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.props.data&&(!this.props.data.loading||this.props.data.error)&&e.data&&e.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return o.createElement(M,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelSubscriptionProducts:this.subscriptionProducts,handleSubAction:this.props.handleSubAction,onBackClick:this.props.onBackClick,onClickEmote:this.props.onClickEmote,subUpsellClickedEmote:this.props.subUpsellClickedEmote})},Object.defineProperty(t.prototype,"subscriptionProducts",{get:function(){return this.props.data&&this.props.data.user&&this.props.data.user.subscriptionProducts?Object(T.b)(this.props.data.user.subscriptionProducts):[]},enumerable:!0,configurable:!0}),t}(o.Component),L=Object(j.d)(Object(N.a)(F,{options:function(e){return{variables:{channelID:e.channelID}}}}),Object(I.withLatencyTracking)("EmoteSubUpsell"))(B),U=n("zb36"),G=n("GzyO"),z=n("OpME"),q=n("iF2L"),V=n("mDIl"),W=n("4Nlk"),H=n("YQhk"),Q=n("swlv"),Y=n("rZpj"),K=n("cwzQ"),Z=n("RGzP");n("JGCS");!function(e){e.FrequentlyUsedEmotes="FREQUENTLY_USED_EMOTES",e.ChannelEmotes="CHANNEL_EMOTES",e.AllEmotes="ALL_EMOTES"}(r||(r={})),function(e){e.FrequentlyUsed="FREQUENTLY_USED",e.ChannelUnlocked="CHANNEL_UNLOCKED",e.Channel="CHANNEL",e.HypeTrain="HYPE_TRAIN",e.Unlocked="UNLOCKED",e.Global="GLOBAL"}(i||(i={}));var X=function(e){function t(t){var n,a=e.call(this,t)||this;return a.renderTriggerAndGridForChannelUnlockedEmotes=function(){var e=a.getUnlockedEmotes();return e&&null!==a.props.channelDisplayName?o.createElement(d.a,{refDelegate:a.saveChannelUnlockedEmotesRef},a.renderTriggerAndGridForEmoteSet(i.ChannelUnlocked,e.emotes.length,a.getCurrentChannelUnlockedEmoteGrid)):null},a.renderTriggerAndGridForChannelEmotes=function(){return o.createElement(d.a,{className:a.props.isLoggedIn?"emote-picker__content-block":void 0,refDelegate:a.saveChannelEmotesRef},a.renderTriggerAndGridForEmoteSet(i.Channel,a.props.sortedChannelEmotes.length,a.getCurrentChannelEmoteGrid))},a.renderTriggerAndGridForUnlockedEmotes=function(){return o.createElement(d.a,{refDelegate:a.saveUnlockedEmotesRef},a.renderTriggerAndGridForEmoteSet(i.Unlocked,a.props.unlockedEmotes.length,a.getUnlockedEmotesGrid))},a.renderTriggerAndGridForGlobalEmotes=function(){return o.createElement(d.a,{refDelegate:a.saveGlobalEmotesRef},a.renderTriggerAndGridForEmoteSet(i.Global,a.props.globalEmotes.length,a.getGlobalEmotesGrid))},a.renderTriggerAndGridForHypeTrainEmotes=function(){return a.props.isLoggedIn?o.createElement(d.a,{key:"emote-grid--hype-train-emotes",className:"emote-picker__content-block",refDelegate:a.saveHypeTrainEmotesRef},a.props.hypeTrainEmoteSets.filter((function(e){return e.owner&&e.owner.displayName&&e.emotes.length>0})).map((function(e){return a.renderTriggerAndGridForEmoteSet(i.HypeTrain,e.emotes.length,(function(){return a.getHypeTrainEmoteGrid(e)}))}))):null},a.renderTriggerAndGridForSubsEmotes=function(){return a.props.isLoggedIn?a.props.otherChannelEmoteSets.filter((function(e){return e.owner&&e.owner.displayName&&e.emotes.length>0})).map((function(e){return a.renderTriggerAndGridForEmoteSet(e.owner.displayName,e.emotes.length,(function(){return a.getOtherSubEmoteGrid(e)}))})):null},a.getFrequentlyUsedEmoteGrid=function(){return 0===a.props.frequentlyUsedEmotes.length?null:o.createElement(d.a,{className:"emote-picker__content-block",refDelegate:a.saveFrequentlyUsedEmotesRef},o.createElement(k,{context:U.a.FrequentlyUsed,emotes:a.props.frequentlyUsedEmotes,label:Object(s.d)("Frequently Used","EmotePickerCard"),onClickEmote:a.onClickEmote}))},a.getCurrentChannelEmoteGrid=function(){return 0===a.props.sortedChannelEmotes.length||null===a.props.channelDisplayName?null:o.createElement(k,{context:U.a.CurrentChannel,emotes:a.props.sortedChannelEmotes,img:o.createElement(q.a,{src:a.props.channelProfileImageURL,size:30,alt:a.props.channelDisplayName,userLogin:a.props.channelLogin}),label:a.props.channelDisplayName,onClickEmote:a.onClickEmote})},a.getCurrentChannelUnlockedEmoteGrid=function(){var e=a.getUnlockedEmotes();return e&&null!==a.props.channelDisplayName?o.createElement(d.a,{className:a.props.isLoggedIn?"emote-picker__content-block":void 0},o.createElement(k,{context:U.a.CurrentChannel,emotes:e.emotes,label:Object(s.d)("Unlocked with Channel Points","EmotePickerCard"),onClickEmote:a.onClickEmote})):null},a.getOtherSubEmoteGrid=function(e){return e.owner&&e.owner.displayName&&e.emotes.length>0?o.createElement(d.a,{key:"emote-grid--"+e.id+"-emotes",className:"emote-picker__content-block"},o.createElement(k,{context:U.a.OtherChannel,emotes:e.emotes,img:o.createElement(q.a,{src:e.owner.profileImageURL,size:30,alt:e.owner.displayName,userLogin:e.owner.login}),label:e.owner.displayName,onClickEmote:a.onClickEmote})):null},a.getHypeTrainEmoteGrid=function(e){return e.owner&&e.owner.displayName&&e.emotes.length>0?o.createElement(k,{key:"emote-grid--hype-train-emotes--"+e.id,context:U.a.OtherChannel,emotes:e.emotes,img:o.createElement(q.a,{src:e.owner.profileImageURL,size:30,alt:e.owner.displayName,userLogin:e.owner.login}),label:e.owner.displayName,onClickEmote:a.onClickEmote}):null},a.getUnlockedEmotesGrid=function(){return a.props.isLoggedIn&&0!==a.props.unlockedEmotes.length?o.createElement(d.a,{key:"emote-grid--unlocked-emotes",className:"emote-picker__content-block"},o.createElement(k,{context:U.a.Unlocked,emotes:a.props.unlockedEmotes,label:Object(s.d)("Unlocked","EmotePickerCard"),onClickEmote:a.onClickEmote})):null},a.getGlobalEmotesGrid=function(){return a.props.isLoggedIn&&0!==a.props.globalEmotes.length?o.createElement(d.a,{key:"emote-grid--global-emotes",className:"emote-picker__content-block"},o.createElement(k,{context:U.a.Global,emotes:a.props.globalEmotes,label:Object(s.d)("Global","EmotePickerCard"),onClickEmote:a.onClickEmote})):null},a.getUnlockedEmotes=function(){return a.props.allEmoteSets.find((function(e){return e.id===u.a}))},a.onTabNavClick=function(e){if(e.currentTarget.getAttribute("data-a-target")){var t=e.currentTarget.getAttribute("data-a-target");a.selectNavTab(t)}},a.selectNavTab=function(e){a.setState({selectedNavTab:e}),a.scrollTo(a.getRefForTab(e))},a.getRefForTab=function(e){switch(e){case r.FrequentlyUsedEmotes:if(a.frequentlyUsedEmotesRef)return a.frequentlyUsedEmotesRef;break;case r.ChannelEmotes:if(a.channelEmotesRef)return a.channelEmotesRef;break;case r.AllEmotes:if(a.unlockedEmotesRef)return a.unlockedEmotesRef}return null},a.selectGrid=function(e){a.scrollTo(a.getRefForGrid(e))},a.getRefForGrid=function(e){switch(e){case i.FrequentlyUsed:if(a.frequentlyUsedEmotesRef)return a.frequentlyUsedEmotesRef;break;case i.ChannelUnlocked:if(a.channelUnlockedEmotesRef)return a.channelUnlockedEmotesRef;break;case i.Channel:if(a.channelEmotesRef)return a.channelEmotesRef;break;case i.Unlocked:if(a.unlockedEmotesRef)return a.unlockedEmotesRef;break;case i.Global:if(a.globalEmotesRef)return a.globalEmotesRef;break;case i.HypeTrain:if(a.hypeTrainEmotesRef)return a.hypeTrainEmotesRef}return null},a.scrollTo=function(e){var t;e&&(null===(t=a.scroll)||void 0===t?void 0:t.scrollContent)&&(a.scroll.scrollContent.scrollTop=e.offsetTop)},a.onClickEmote=function(e,t){if(a.props.onClickToken&&!e.isLocked){a.props.onClickToken(e.displayName||e.token,e.id);var n={channel_id:a.props.channelID||void 0,chatroom_id:a.props.roomID,context:t,emote_picker_sid:a.props.emotePickerSessionID,emote_id:e.id,emoticon_set_id:e.setID,generated_by:a.props.emotePickerSource};s.o.track(l.SpadeEventType.EmotePickerClickthrough,n)}else e.isLocked&&(e.isBitsTierEmote?a.onClickBitsLockedEmote(e):a.props.areSubsDisabled||a.onClickLockedEmote(e))},a.collectDataScience=function(e){var t=U.b.EmotePicker;null!==a.state.bitsUpsellClickedEmote?t=U.b.EmotePickerBitsPreview:null!==a.state.subUpsellClickedEmote&&(t=U.b.EmotePickerSubscriptionPreview);var n={channel_id:a.props.channelID||null,emote_id:e.id,emote_picker_sid:a.props.emotePickerSessionID,emoticon_set_id:e.setID?e.setID:null,location:t,is_subscriber:!!a.props.subscriberTier&&a.props.subscriberTier>0,user_subscription_tier:a.props.subscriberTier?a.props.subscriberTier:null,bits_balance:a.props.bitsBalance};if(e.isBitsTierEmote){var r=e;n.bits_tier=r.bitsThreshold,n.additional_bits_needed=r.bitsLeftToUnlock}else{var i=a.props.channelSubscriptionProducts.find((function(t){if(t.emoteSetID&&t.emoteSetID===e.setID)return t}));i&&(n.emote_subscription_tier=Number(i.tier))}return n},a.saveSearchRef=function(e){return a.search=e},a.saveScrollRef=function(e){return a.scroll=e},a.saveFrequentlyUsedEmotesRef=function(e){return a.frequentlyUsedEmotesRef=e},a.saveChannelUnlockedEmotesRef=function(e){return a.channelUnlockedEmotesRef=e},a.saveChannelEmotesRef=function(e){return a.channelEmotesRef=e},a.saveUnlockedEmotesRef=function(e){return a.unlockedEmotesRef=e},a.saveGlobalEmotesRef=function(e){return a.globalEmotesRef=e},a.saveHypeTrainEmotesRef=function(e){return a.hypeTrainEmotesRef=e},a.checkVisible=function(e,t){if(t){a.state.hasUserInteracted||a.setState({hasUserInteracted:!0});var n=a.state.selectedNavTab,i=a.frequentlyUsedEmotesRef&&t.offset>=a.frequentlyUsedEmotesRef.offsetTop,o=a.channelEmotesRef&&t.offset>=a.channelEmotesRef.offsetTop,s=a.unlockedEmotesRef&&t.offset>=a.unlockedEmotesRef.offsetTop;i&&(n=r.FrequentlyUsedEmotes),o&&(n=r.ChannelEmotes),s&&(n=r.AllEmotes),a.state.selectedNavTab!==n&&a.setState({selectedNavTab:n})}},a.onClickLockedEmote=function(e){var t=a.collectDataScience(e);a.setState({subUpsellClickedEmote:e}),s.o.track(l.SpadeEventType.EmotePickerPreviewClick,t)},a.onClickBitsLockedEmote=function(e){var t=a.collectDataScience(e);a.setState({bitsUpsellClickedEmote:e}),s.o.track(l.SpadeEventType.EmotePickerPreviewClick,t)},a.onBackClick=function(){a.setState({subUpsellClickedEmote:null,bitsUpsellClickedEmote:null,selectedNavTab:r.FrequentlyUsedEmotes})},a.handleFilterChange=function(e){var t=e.target.value,n=t.toLowerCase();a.setState({filter:n,inputValue:t,filteredEmotes:a.filterEmoteSets(a.props.allEmoteSets,n),selectedNavTab:r.FrequentlyUsedEmotes})},a.filterEmoteSets=function(e,t){var n=[];e.forEach((function(e){e.emotes.filter((function(e){return!(!e.displayName||!e.displayName.toLowerCase().includes(t))||e.token.toLowerCase().includes(t)})).forEach((function(t){t.setID=e.id,n.push(t)}))}));var r=Object(G.e)(),i=0===Object.keys(r).length?void 0:r,a=Object(z.f)(n,t,i);return Object(z.e)(a)},a.state={filter:"",filteredEmotes:[],hasUserInteracted:!1,inputValue:"",selectedNavTab:r.FrequentlyUsedEmotes,subUpsellClickedEmote:null,bitsUpsellClickedEmote:null,visibleGrids:(n={},n[i.FrequentlyUsed]=!0,n)},a}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.emotePickerSessionID&&this.props.channelID){var e={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};s.o.track(l.SpadeEventType.ViewedEmotePicker,e)}},t.prototype.componentDidUpdate=function(e){var t;if(this.props.channelID&&this.props.emotePickerSessionID&&!e.emotePickerSessionID){var n={channel_id:this.props.channelID,emote_picker_sid:this.props.emotePickerSessionID,generated_by:this.props.emotePickerSource,chatroom_id:this.props.roomID};s.o.track(l.SpadeEventType.ViewedEmotePicker,n)}if(this.props.showSectionRequest&&(this.requestedShowSection=this.props.showSectionRequest,this.props.resetSectionRequest&&this.props.resetSectionRequest()),this.requestedShowSection){var r=this.requestedShowSection;this.selectGrid(r),this.isEmoteGridVisible(r)&&(this.requestedShowSection=void 0)}!e.visible&&this.props.visible&&(this.setState({inputValue:"",filter:"",subUpsellClickedEmote:null,bitsUpsellClickedEmote:null}),null===(t=this.search)||void 0===t||t.focus())},t.prototype.render=function(){return o.createElement(V.a,{"data-a-target":"emote-picker",direction:this.props.direction?this.props.direction:W.b.TopRight,size:this.props.size?this.props.size:H.a.Medium,show:this.props.visible,offsetX:this.props.offsetX},o.createElement(d.a,{className:"emote-picker"},this.renderView()))},t.prototype.renderView=function(){var e=null;null===this.state.subUpsellClickedEmote&&null===this.state.bitsUpsellClickedEmote&&(e=o.createElement(o.Fragment,null,this.renderTopContent(),this.renderTabContent()));var t=null;null!==this.props.channelDisplayName&&null!==this.props.channelID&&null!==this.state.subUpsellClickedEmote&&(t=o.createElement(L,{channelDisplayName:this.props.channelDisplayName,channelSubEmotes:this.props.channelSubEmotes,channelID:this.props.channelID,handleSubAction:this.props.handleSubAction,onBackClick:this.onBackClick,onClickEmote:this.onClickLockedEmote,subUpsellClickedEmote:this.state.subUpsellClickedEmote}));var n=null;if(null!==this.props.channelDisplayName&&null!==this.state.bitsUpsellClickedEmote){var r=this.state.bitsUpsellClickedEmote;n=o.createElement(y,{bitsBalance:this.props.bitsBalance,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,clickedEmote:r,bitsBadgeTier:r.bitsThreshold,numBitsToUnlock:r.bitsLeftToUnlock,onBackClick:this.onBackClick,onClickToken:this.props.onClickToken})}return o.createElement(o.Fragment,null,n,t,e)},t.prototype.renderTopContent=function(){return o.createElement(d.a,{padding:{top:3,x:2}},o.createElement(d.a,{position:p.o.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0},o.createElement(Q.a,{"aria-label":Object(s.d)("Close emote picker","EmotePickerClose"),"data-test-selector":"emote-picker-close",icon:h.a.Close,onClick:this.props.onClickClose,size:Q.b.Small,type:Q.c.Secondary})),o.createElement(Y.a,{autoFocus:!0,onChange:this.handleFilterChange,placeholder:Object(s.d)("Search for Emotes","EmotePickerCard"),refDelegate:this.saveSearchRef,value:this.state.inputValue}))},t.prototype.renderTabContent=function(){return this.props.gqlError?o.createElement(d.a,null,o.createElement(b.a,{"data-test-selector":"emote-picker-menu-error-text",color:p.f.Error},Object(s.d)("Unable to load available emotes.","EmotePickerCard"))):this.props.loading?o.createElement(d.a,{alignItems:p.b.Center,display:p.h.Flex,fullHeight:!0,fullWidth:!0,justifyContent:p.m.Center,padding:1},o.createElement(K.a,null)):""!==this.state.filter?this.renderSearchContent():o.createElement(o.Fragment,null,o.createElement(c.b,{scrollRef:this.saveScrollRef,className:"emote-picker__tab-content",contentClassName:"emote-picker__scroll-container"},o.createElement(d.a,{padding:{bottom:5}},o.createElement(E,{checkVisible:this.checkVisible},this.getFrequentlyUsedEmoteGrid(),this.renderTriggerAndGridForChannelUnlockedEmotes(),this.renderTriggerAndGridForChannelEmotes(),this.renderTriggerAndGridForSubsEmotes(),this.renderTriggerAndGridForHypeTrainEmotes(),this.renderTriggerAndGridForUnlockedEmotes(),this.renderTriggerAndGridForGlobalEmotes()))),this.renderTabNav())},t.prototype.renderTriggerAndGridForEmoteSet=function(e,t,n){var r,i,a=this;if(this.isEmoteGridVisible(e))return n();var s=function(){a.showEmoteGrid(e)},l=6,u=38,d=38,p=document.getElementsByClassName(v.a)[0];p&&(u=p.clientHeight,d=p.clientWidth),(null===(i=null===(r=this.scroll)||void 0===r?void 0:r.root)||void 0===i?void 0:i.offsetWidth)&&(l=this.scroll.root.offsetWidth/u);var m=d*Math.max(t/l,1);return o.createElement(o.Fragment,{key:e},o.createElement(c.c,{pixelThreshold:20,visible:s}),o.createElement(Z.a,{height:m,lineCount:1}),o.createElement(c.c,{pixelThreshold:20,visible:s}))},t.prototype.showEmoteGrid=function(e){this.setState((function(t){var n;return{visibleGrids:Object(a.__assign)(Object(a.__assign)({},t.visibleGrids),(n={},n[e]=!0,n))}}))},t.prototype.isEmoteGridVisible=function(e){return this.state.visibleGrids[e]},t.prototype.renderSearchContent=function(){var e=Object(s.d)('No Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard");return this.state.filteredEmotes.length>0&&(e=Object(s.d)('Search Results for "{inputValue}"',{inputValue:this.state.inputValue},"EmotePickerCard")),o.createElement(c.b,{className:"emote-picker__tab-content"},o.createElement(d.a,{position:p.o.Relative,padding:{x:1,top:1,bottom:3},className:"emote-picker__content-block"},o.createElement(d.a,{padding:{x:1}},o.createElement(b.a,{bold:!0,ellipsis:!0},e)),o.createElement(g.a,{emotes:this.state.filteredEmotes,onClickEmote:this.onClickEmote,spaced:!0})))},t.prototype.renderTabNav=function(){var e=null;this.props.sortedChannelEmotes.length>0&&(e=o.createElement(D,{isActive:this.state.selectedNavTab===r.ChannelEmotes,label:r.ChannelEmotes,icon:h.a.NavChannels,onClick:this.onTabNavClick}));var t=null;return this.props.isLoggedIn&&(t=o.createElement(D,{isActive:this.state.selectedNavTab===r.AllEmotes,label:r.AllEmotes,icon:h.a.EmoticonsAll,onClick:this.onTabNavClick})),e||t?o.createElement(d.a,{display:p.h.Flex,background:p.d.Alt,borderRadius:{bottomLeft:p.e.Medium,bottomRight:p.e.Medium},fullWidth:!0},o.createElement(D,{isActive:this.state.selectedNavTab===r.FrequentlyUsedEmotes,label:r.FrequentlyUsedEmotes,icon:h.a.GlyphLength,onClick:this.onTabNavClick}),e,t):null},t}(o.PureComponent)},TbBp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Jgup"),i=new Set(["A1","A2","AP","AQ","CU","EU","IR","KP","MM","O1","SD","SS","SY","TL"]),a=r.a.filter((function(e){return!i.has(e)}))},TjQE:function(e,t,n){e.exports=n.p+"assets/sub_token-d2a8ccd2958eaf734587.svg"},"UfC+":function(e,t,n){"use strict";var r=n("kBDA");n.d(t,"a",(function(){return r.a}))},UhDg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"DropsPrivateCallout"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropEligibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dropInstanceID"},value:{kind:"Variable",name:{kind:"Name",value:"dropInstanceID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TimeBasedDrop"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefitEdges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageAssetURL"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:283}};n.loc.source={body:"query DropsPrivateCallout($dropInstanceID: ID! $channelID: ID!) {\ndropEligibility(dropInstanceID: $dropInstanceID) {\ndropType {\nid\n... on TimeBasedDrop {\nid\nname\ncampaign {\nid\nimageURL\n}\nbenefitEdges {\nbenefit {\nid\nimageAssetURL\n}\n}\n}\n}\n}\nchannel(id: $channelID) {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.DropsPrivateCallout=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"DropsPrivateCallout")},Uolz:function(e,t,n){},"UxA+":function(e,t,n){e.exports=n.p+"assets/turbo-avatar-9ecb4d9e242f8782bad6.png"},"V/nq":function(e,t,n){"use strict";n.d(t,"a",(function(){return te}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("VURH"),l=n("ABd2"),u=n("GnwI"),d=n("OCDW"),p=n("uq9l"),m=n("Yegi"),h=n("p9DJ"),f=n("vsSX"),b=n("ijbd"),y=n("Ty5D"),v=n("E1Lb"),g=n("Ix37"),k=(n("V0gd"),function(){return i.createElement(d.a,{className:"checkmark-icon",color:m.f.Overlay,margin:{right:1},borderRadius:m.e.Rounded},i.createElement(v.a,{asset:g.a.Check}))}),S=n("LNol"),C=n("cwzQ"),E=n("SXhr"),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSetupClick=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.SetupAutoRefillClick}),t.props.checkoutSessionTracker.track({subEvent:l.b.Close,subEventDetail:JSON.stringify({close_button:"setup_auto_refill"})}),t.props.history.push("/payments?tab=bits-auto-refill")},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive(),this.props.checkoutSessionTracker.track({subEvent:l.b.SetupAutoRefillPrompt})},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return i.createElement(d.a,{"data-a-target":"bits-bundle-success-screen"},!!this.totalBitsAdded&&i.createElement(d.a,{margin:{bottom:2},display:m.h.Flex,justifyContent:m.m.Center,alignItems:m.b.Center},i.createElement(k,null),i.createElement(d.a,null,i.createElement(p.a,{fontSize:m.k.Size5},Object(o.d)("<x:strong>{totalBitsAdded, number} Bits</x:strong> have been added to your balance.",{totalBitsAdded:this.totalBitsAdded,"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"BitsBundleSuccessScreen")))),i.createElement(d.a,{margin:{bottom:2},display:m.h.Flex,justifyContent:m.m.Center,alignItems:m.b.Center},i.createElement(d.a,{padding:{top:.5}},i.createElement(S.a,{asset:g.a.Bits,height:50})),i.createElement(d.a,null,i.createElement(p.a,{fontSize:m.k.Size5},Object(o.d)("Total Bits:","BitsBundleSuccessScreen"))),i.createElement(d.a,{margin:{left:.5}},this.newBitsBalance?i.createElement(p.a,{bold:!0,fontSize:m.k.Size4},Object(o.f)(this.newBitsBalance)):i.createElement(C.a,null))),i.createElement(d.a,{margin:{top:3},padding:2,border:!0,borderRadius:m.e.Large},i.createElement(d.a,{margin:{bottom:1}},i.createElement(p.a,{bold:!0,fontSize:m.k.Size5},Object(o.d)("Never run out of Bits again!","BitsBundleSuccessScreen"))),i.createElement(d.a,{margin:{bottom:1}},i.createElement(p.a,{fontSize:m.k.Size5},Object(o.d)("You can now automatically refill your Bits when you have less than a specified amount. This can be cancelled at any time.","BitsBundleSuccessScreen"))),i.createElement(d.a,null,i.createElement(p.a,{fontSize:m.k.Size5,bold:!0},i.createElement(h.a,{onClick:this.handleSetupClick},Object(o.d)("Setup Auto-Refill","BitsBundleSuccessScreen"))))))},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalBitsAdded",{get:function(){var e=this,t=this.props.data.currentUser;if(!t||!t.bitsOffers)return null;var n=t.bitsOffers.find((function(t){return!(!t||"BitsBundleOffer"!==t.__typename||t.asin!==e.props.productID)}));return n?n.bits*this.props.finalQuantity:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newBitsBalance",{get:function(){var e;return null===(e=this.props.data.currentUser)||void 0===e?void 0:e.bitsBalance},enumerable:!0,configurable:!0}),t}(i.Component),P=Object(a.d)(Object(u.withLatencyTracking)("BitsBundleSuccessScreen"),Object(s.a)(E,{options:function(){return{fetchPolicy:"network-only"}}}),y.l)(O),D=n("JjwZ"),j=(n("Dj+a"),function(e){var t=e.benefits;return i.createElement(d.a,{display:m.h.Flex,justifyContent:m.m.Center,alignItems:m.b.Start,flexWrap:m.j.Wrap,margin:{top:3},breakpointExtraSmall:{margin:{top:5}}},t.map((function(e,t){var n=e.imageSrc,r=e.imageSrcSet,a=e.imageAlt,o=e.description;return i.createElement(d.a,{key:"benefits-container__benefit-"+t,className:"benefits-container__benefit-container",display:m.h.Inline,margin:2},i.createElement(d.a,{className:"benefits-container__image-container",display:m.h.Flex,background:m.d.Alt,borderRadius:m.e.Rounded,padding:1,justifyContent:m.m.Center,alignItems:m.b.Center,margin:{bottom:1,x:"auto"}},i.createElement(D.a,{className:"benefits-container__image",src:n,srcSet:r,alt:a})),i.createElement(d.a,{className:"benefits-container__description-container",textAlign:m.q.Center},i.createElement(p.a,{color:m.f.Alt2,fontSize:m.k.Size5},o)))})))}),N=n("0E6Y"),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?i.createElement(d.a,{"data-a-target":"channel-sub-gift-success-screen"},i.createElement(d.a,{display:m.h.Flex,justifyContent:m.m.Center,alignItems:m.b.Center},i.createElement(k,null),i.createElement(p.a,{fontSize:m.k.Size5},this.giftText)),this.subGifterBadgeAssetURL&&i.createElement(j,{benefits:[{imageSrc:this.subGifterBadgeAssetURL,imageAlt:this.subGifterBadgeTitle,description:Object(o.d)("Sub Gifter Badge","ChannelSubGiftSuccessScreen")}]})):null},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftText",{get:function(){var e,t,n,r,a,s;if(this.props.tplr===c.b.ChannelSubStandardGift)if(this.props.giftMonths>1)if(this.props.isAnonymous)switch(null===(e=this.props.data.subscriptionProduct)||void 0===e?void 0:e.tier){case"1000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{giftMonths, plural, one {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.} other {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else switch(null===(t=this.props.data.subscriptionProduct)||void 0===t?void 0:t.tier){case"1000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{giftMonths, plural, one {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{giftMonths, plural, one {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong>.} other {You gifted a # month Subscription to <x:strong>{giftRecipientName}</x:strong>.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftMonths:this.props.giftMonths,giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else if(this.props.isAnonymous)switch(null===(n=this.props.data.subscriptionProduct)||void 0===n?void 0:n.tier){case"1000":return Object(o.d)("You gifted a Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("You gifted a Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("You gifted a Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("You gifted a Subscription to <x:strong>{giftRecipientName}</x:strong> anonymously.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else switch(null===(r=this.props.data.subscriptionProduct)||void 0===r?void 0:r.tier){case"1000":return Object(o.d)("You gifted a Tier 1 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("You gifted a Tier 2 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("You gifted a Tier 3 Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("You gifted a Subscription to <x:strong>{giftRecipientName}</x:strong>.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},giftRecipientName:this.giftRecipientName},"ChannelSubGiftSuccessScreen")}else{if(this.props.tplr!==c.b.ChannelSubCommunityGift)return null;if(this.props.isAnonymous)switch(null===(a=this.props.data.subscriptionProduct)||void 0===a?void 0:a.tier){case"1000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 1 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 1 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 2 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 2 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 3 Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Tier 3 Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Subscription to <x:strong>{channelName}'s</x:strong> community anonymously.} other {You gifted # Subscriptions to <x:strong>{channelName}'s</x:strong> community anonymously.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen")}else switch(null===(s=this.props.data.subscriptionProduct)||void 0===s?void 0:s.tier){case"1000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 1 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 1 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"2000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 2 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 2 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");case"3000":return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Tier 3 Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Tier 3 Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen");default:return Object(o.d)("{numOfCommunityGifts, plural, one {You gifted a Subscription to <x:strong>{channelName}'s</x:strong> community.} other {You gifted # Subscriptions to <x:strong>{channelName}'s</x:strong> community.}}",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},numOfCommunityGifts:this.props.finalQuantity,channelName:this.channelName},"ChannelSubGiftSuccessScreen")}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftRecipientName",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.giftRecipient)||void 0===t?void 0:t.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadge",{get:function(){var e,t,n,r,i,a,o,s,c,l;return(null===(i=null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.self)||void 0===r?void 0:r.availableBadges)||void 0===i?void 0:i.find((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})))||(null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.subscriptionProduct)||void 0===o?void 0:o.owner)||void 0===s?void 0:s.self)||void 0===c?void 0:c.displayBadges)||void 0===l?void 0:l.find((function(e){return"sub-gifter"===(null==e?void 0:e.setID)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadgeAssetURL",{get:function(){var e;return(null===(e=this.subGifterBadge)||void 0===e?void 0:e.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subGifterBadgeTitle",{get:function(){var e;return(null===(e=this.subGifterBadge)||void 0===e?void 0:e.title)||""},enumerable:!0,configurable:!0}),t}(i.Component),I=Object(a.d)(Object(u.withLatencyTracking)("ChannelSubGiftSuccessScreen"),Object(s.a)(N,{options:function(e){return{variables:{productName:e.productName||"",giftRecipientID:e.giftRecipientIDs&&e.giftRecipientIDs[0]}}}}))(T),_=n("/MKj"),w=n("9g6D"),A=n.n(w),x=n("NYFu"),R=n.n(x),M=n("XDQu"),F=n("nAiT"),B=n("OpME"),L=n("VYPy"),U=n("1ZQW"),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?i.createElement(d.a,{"data-a-target":"channel-sub-success-screen"},i.createElement(d.a,{display:m.h.Flex,justifyContent:m.m.Center,alignItems:m.b.Center},i.createElement(k,null),i.createElement(p.a,{fontSize:m.k.Size5},this.benefitsMessage)),this.benefitsContainer):null},Object.defineProperty(t.prototype,"benefitsMessage",{get:function(){return Object(o.d)("You're now subscribed to <x:strong>{channelDisplayName}</x:strong>. Enjoy your subscriber benefits.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)},channelDisplayName:this.channelDisplayName},"ChannelSubSuccessScreen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefitsContainer",{get:function(){return i.createElement(j,{benefits:this.benefits})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelDisplayName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadge",{get:function(){var e,t,n,r,i,a,o,s,c,l;return(null===(i=null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.self)||void 0===r?void 0:r.availableBadges)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.setID)&&["subscriber","founder"].includes(e.setID)})))||(null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.subscriptionProduct)||void 0===o?void 0:o.owner)||void 0===s?void 0:s.self)||void 0===c?void 0:c.displayBadges)||void 0===l?void 0:l.find((function(e){return(null==e?void 0:e.setID)&&["subscriber","founder"].includes(e.setID)})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadgeAssetURL",{get:function(){var e;return(null===(e=this.subscriberBadge)||void 0===e?void 0:e.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriberBadgeAssetTitle",{get:function(){var e;return(null===(e=this.subscriberBadge)||void 0===e?void 0:e.title)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emotes",{get:function(){var e=[],t=this.props.data.subscriptionProduct;return t&&t.owner&&t.owner.subscriptionProducts&&t.owner.subscriptionProducts.forEach((function(n){n&&n.emotes&&n.tier<=t.tier&&n.emotes.forEach((function(t){t&&t.id&&t.token&&e.push({id:t.id,token:t.token,setID:t.setID||""})}))})),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteCount",{get:function(){return this.emotes.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteSrcSet",{get:function(){if(!this.emoteCount)return"";var e=this.emotes[0];return Object(B.c)([e])[0].srcSet},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteToken",{get:function(){return this.emoteCount?this.emotes[0].token:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteSrc",{get:function(){var e=this.emoteSrcSet.split(" ");return e[2]||e[0]||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiers",{get:function(){var e,t,n=[],r=this.props.data.subscriptionProduct;return null===(t=null===(e=null==r?void 0:r.owner)||void 0===e?void 0:e.subscriptionProducts)||void 0===t||t.forEach((function(e){e&&e.emoteModifiers&&e.tier<=r.tier&&e.emoteModifiers.forEach((function(e){n.push(e)}))})),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiersSrc",{get:function(){var e=this.emoteModifiers,t=e[e.length-1];return Object(L.d)(t,this.props.theme)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emoteModifiersAlt",{get:function(){var e=this.emoteModifiers,t=e[e.length-1];return Object(F.h)(Object(L.c)(t.name))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAdfree",{get:function(){var e,t;return!!(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.hasAdFree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefits",{get:function(){var e=[];if(this.subscriberBadgeAssetURL&&e.push({imageSrc:this.subscriberBadgeAssetURL,imageAlt:this.subscriberBadgeAssetTitle,description:Object(o.d)("Subscriber Badge","ChannelSubSuccessScreen")}),this.emoteModifiers.length>0&&e.push({imageSrc:this.emoteModifiersSrc["1x"],imageSrcSet:this.emoteModifiersSrc,imageAlt:this.emoteModifiersAlt,description:Object(o.d)("{numberOfEmoteModifiers, plural, one {# Emote Modifier} other {# Emote Modifiers}}",{numberOfEmoteModifiers:this.emoteModifiers.length},"ChannelSubSuccessScreen")}),this.emoteSrc&&this.emoteSrcSet&&this.emoteCount>0&&e.push({imageSrc:this.emoteSrc,imageAlt:this.emoteToken,description:Object(o.d)("{numberOfEmotes, plural, one {# Emote} other {# Emotes}}",{numberOfEmotes:this.emoteCount},"ChannelSubSuccessScreen")}),this.hasAdfree){var t=Object(o.d)("Ad-Free Viewing","ChannelSubSuccessScreen");e.push({imageSrc:A.a,imageAlt:t,description:t})}var n=Object(o.d)("Sub-Only Chat","ChannelSubSuccessScreen");return e.push({imageSrc:R.a,imageAlt:n,description:n}),e},enumerable:!0,configurable:!0}),t}(i.Component);var z,q=Object(a.d)(Object(_.b)((function(e){return{theme:Object(M.a)(e)}})),Object(u.withLatencyTracking)("ChannelSubSuccessScreen"),Object(s.a)(U,{options:function(e){return{variables:{productName:e.productName||""}}}}))(G),V=n("NoAt"),W=n.n(V),H=n("s0i4"),Q=n.n(H),Y=n("x9xf"),K=n.n(Y),Z=n("VRha"),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.turboSubscriberBadgeText=Object(o.d)("Turbo Subscriber Badge","TurboSuccessScreen"),t.expandedEmoteSetText=Object(o.d)("Expanded Emote Set","TurboSuccessScreen"),t.customUsernameColorText=Object(o.d)("Custom Username Color","TurboSuccessScreen"),t.adFreeViewingText=Object(o.d)("Ad-Free Viewing","TurboSuccessScreen"),t.extendedBroadcasterStorageText=Object(o.d)("Extended Broadcaster Storage","TurboSuccessScreen"),t.defaultBenefits=[{imageSrc:Q.a,imageAlt:t.expandedEmoteSetText,description:t.expandedEmoteSetText},{imageSrc:W.a,imageAlt:t.customUsernameColorText,description:t.customUsernameColorText},{imageSrc:A.a,imageAlt:t.adFreeViewingText,description:t.adFreeViewingText},{imageSrc:K.a,imageAlt:t.extendedBroadcasterStorageText,description:t.extendedBroadcasterStorageText}],t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?i.createElement(d.a,null,i.createElement(d.a,{display:m.h.Flex,justifyContent:m.m.Center,alignItems:m.b.Center},i.createElement(k,null),i.createElement(p.a,{fontSize:m.k.Size5},Object(o.d)("You're now subscribed to <x:strong>Twitch Turbo</x:strong>. Enjoy your subscriber benefits.",{"x:strong":function(e){return i.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"ChannelSubSuccessScreen"))),i.createElement(j,{benefits:this.benefits})):null},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"turboBadgeAssetURL",{get:function(){var e,t,n,r;return(null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.availableBadges)||void 0===n?void 0:n.find((function(e){return"turbo"===(null==e?void 0:e.setID)})))||void 0===r?void 0:r.imageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefits",{get:function(){return this.turboBadgeAssetURL?Object(r.__spreadArrays)([{imageSrc:this.turboBadgeAssetURL,imageAlt:this.turboSubscriberBadgeText,description:this.turboSubscriberBadgeText}],this.defaultBenefits):this.defaultBenefits},enumerable:!0,configurable:!0}),t}(i.Component),J=Object(a.d)(Object(u.withLatencyTracking)("TurboSuccessScreen"),Object(s.a)(Z))(X),$=n("bFOZ");!function(e){e[e.Subscription=1]="Subscription",e[e.GiftSubscription=2]="GiftSubscription"}(z||(z={}));var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPurchaseSupportClick=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.PurchaseSupportFAQClick}),window.open("https://help.twitch.tv/s/article/one-click-checkout")},t.onSubscriptionsClick=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.SubscriptionManagementClick}),window.open("https://www.twitch.tv/subscriptions")},t.closeModal=function(){t.props.checkoutSessionTracker.track({subEvent:l.b.Close,subEventDetail:JSON.stringify({close_button:"close_button"})}),t.props.closeModal&&t.props.closeModal()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive(),this.props.checkoutSessionTracker.track({subEvent:l.b.PurchaseSuccessScreenShown})},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(d.a,{padding:2,breakpointExtraSmall:{padding:{x:3}},"data-a-target":"checkout-form-success-screen"},i.createElement(d.a,{margin:{bottom:2},breakpointExtraSmall:{margin:{bottom:5}}},i.createElement(p.a,{bold:!0,fontSize:m.k.Size2},Object(o.d)("Purchase Successful","CheckoutFormSuccessScreen"))),this.body,this.actions),this.orderHelp)},Object.defineProperty(t.prototype,"orderHelp",{get:function(){var e=this;if(this.props.orderHelpType)return i.createElement(d.a,{background:m.d.Alt2,padding:{x:3,y:2}},i.createElement(d.a,{padding:{bottom:1}},i.createElement(p.a,{fontWeight:m.l.Bold,fontSize:m.k.Size5},Object(o.d)("Help with Your Order","CheckoutFormSuccessScreen"))),i.createElement(p.a,null,this.props.orderHelpType===z.Subscription?Object(o.d)("You can use the <x:subscriptions>Subscriptions</x:subscriptions> page to manage your order. If you need additional support check out our <x:purchaseSupport>Purchase Support FAQ</x:purchaseSupport> for guidance on next steps.",{"x:subscriptions":function(t){return i.createElement(h.a,{onClick:e.onSubscriptionsClick},t)},"x:purchaseSupport":function(t){return i.createElement(h.a,{onClick:e.onPurchaseSupportClick},t)}},"CheckoutFormSuccessScreenSubHelp"):Object(o.d)("If you need support related to your purchase check out our <x:purchaseSupport>Purchase Support FAQ</x:purchaseSupport> for guidance on next steps.",{"x:purchaseSupport":function(t){return i.createElement(h.a,{onClick:e.onPurchaseSupportClick},t)}},"CheckoutFormSuccessScreenSubGiftHelp")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return i.createElement(d.a,{margin:{top:2},display:m.h.Flex,justifyContent:m.m.End},this.props.closeModal&&i.createElement(f.a,{type:f.d.Secondary,onClick:this.closeModal},i.createElement(b.a,null,Object(o.d)("Close","CheckoutFormSuccessScreen"))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){var e,t,n=this;if(!this.dataReady)return null;switch(this.tplr){case c.b.BitsBundle:return i.createElement(P,{productID:this.productID,finalQuantity:this.props.finalQuantity,checkoutSessionTracker:this.props.checkoutSessionTracker});case c.b.ChannelSub:case c.b.ChannelSubCustom:return i.createElement(q,{productName:this.props.productName});case c.b.ChannelSubStandardGift:case c.b.ChannelSubCommunityGift:var r=null===(t=null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.find((function(e){return e.offerID===n.props.finalOfferID})))||void 0===t?void 0:t.months;return i.createElement(I,{productName:this.props.productName,tplr:this.tplr,isAnonymous:this.props.isAnonymous,giftRecipientIDs:this.props.giftRecipientIDs,finalQuantity:this.props.finalQuantity,giftMonths:r||1});case c.b.Turbo:return i.createElement(J,null);default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tagBindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productID",{get:function(){if(this.tplr===c.b.BitsBundle&&this.tagBindings){var e=this.tagBindings.find((function(e){return"product_id"===e.key}));return e&&e.value||""}return""},enumerable:!0,configurable:!0}),t}(i.Component),te=Object(a.d)(Object(u.withLatencyTracking)("CheckoutFormSuccessScreen"),Object(s.a)($,{options:function(e){return{variables:{params:{offerID:e.finalOfferID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}}}))(ee)},V0gd:function(e,t,n){},V7AV:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.AllPaidTiers=0]="AllPaidTiers",e[e.CurrentSubscription=1]="CurrentSubscription",e[e.GiftSelect=2]="GiftSelect",e[e.UnsubbedTop=3]="UnsubbedTop",e[e.CommunityGiftSelect=4]="CommunityGiftSelect"}(r||(r={}))},VRha:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TurboSuccessScreen"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query TurboSuccessScreen {\ncurrentUser {\nid\navailableBadges {\nid\nimageURL(size: QUADRUPLE)\nsetID\ntitle\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.TurboSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"TurboSuccessScreen")},VURH:function(e,t,n){"use strict";n.d(t,"a",(function(){return zr})),n.d(t,"b",(function(){return ne}));var r,i=n("mrSG"),a=n("q1tI"),o=n("/MKj"),s=n("ANjH"),c=n("1/iK"),l=n("f00E"),u=n("y5D0"),d=n("kRBY"),p=n("4rCz"),m=n("GnwI"),h=n("OCDW"),f=n("1rIY"),b=n("KriR"),y=Object(f.a)("CheckoutFormContext",{offerID:"",quantity:0,tagBindings:[],trackingContext:{source:b.a.Direct},giftRecipientIDs:[],isAnonymous:!1,paymentSession:{},onPurchaseSuccess:function(){},checkoutSessionTracker:{}}),v=y.context,g=y.withContext,k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(v.Provider,{value:this.contextValue},this.props.children)},Object.defineProperty(t.prototype,"contextValue",{get:function(){return{offerID:this.props.offerID,quantity:this.props.quantity,tagBindings:this.props.tagBindings,trackingContext:this.props.trackingContext,giftRecipientIDs:this.props.giftRecipientIDs,isAnonymous:this.props.isAnonymous,paymentSession:this.props.paymentSession,productName:this.props.productName,onPurchaseSuccess:this.props.onPurchaseSuccess,closeModal:this.props.closeModal,checkoutSessionTracker:this.props.checkoutSessionTracker,chargeInterval:this.props.chargeInterval,reportCustomLatency:this.props.reportCustomLatency,multimonthGiftOffers:this.props.multimonthGiftOffers,offerQuantityOverrides:this.props.offerQuantityOverrides,multiMonthOffers:this.props.multiMonthOffers,initialPurchaseOfferErrorCode:this.props.initialPurchaseOfferErrorCode,initialPurchaseOrderFailureReason:this.props.initialPurchaseOrderFailureReason}},enumerable:!0,configurable:!0}),t}(a.Component),S=Object(m.withLatencyTracking)("CheckoutFormContextManager",{autoReportInteractive:!0})(k),C=n("dMq0"),E=n("/7QA"),O=n("cZKs"),P=n("yR8l"),D=n("/0dD"),j=n("KnXG"),N=n("DMoW"),T=n("XDQu"),I=n("pr4f"),_=n("ABd2"),w=n("Qyjw"),A=n("uq9l"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEmailSaveSuccess=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.AddEmailClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:_.b.AddEmailClickSuccess}),t.props.onEmailSaveSuccess()},t.onEmailSaveError=function(e){t.props.checkoutSessionTracker.track({subEvent:_.b.AddEmailClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:_.b.AddEmailClickFailure,subEventDetail:JSON.stringify({error:e})})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track({subEvent:_.b.AddEmailPrompt})},t.prototype.render=function(){return a.createElement(h.a,null,a.createElement(h.a,{margin:{bottom:1}},a.createElement(A.a,{type:A.e.H4},Object(E.d)("Add Email Address","CheckoutFormEmailScreen"))),a.createElement(w.a,{descriptionText:Object(E.d)("An email address is required to manage your purchases and payments. Enter a valid email address to be used with this account going forward and continue with your purchase.","CheckoutFormEmailScreen"),passportActionSource:c.a.SubsCheckoutPage,onSaveSuccess:this.onEmailSaveSuccess,onSaveError:this.onEmailSaveError,verificationType:w.b.Inline}))},t}(a.Component),R=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormEmailScreen",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(x),M=n("ZDlU"),F=n("Yegi"),B=n("5e0Q"),L=(n("5RPz"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeModal=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.Close,subEventDetail:JSON.stringify({close_button:"close_button"})}),t.props.closeModal&&t.props.closeModal()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(h.a,{className:"checkout-form-error__content-container",display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center,margin:{x:"auto"},padding:{y:5}},a.createElement(M.PageError,{inline:!0}),a.createElement(h.a,{display:F.h.Inline},a.createElement(A.a,{fontSize:F.k.Size5},Object(E.d)("Sorry, Something seems to have gone wrong. Please try again later.","CheckoutFormError")),!!this.props.closeModal&&a.createElement(h.a,{margin:{y:2}},a.createElement(B.a,{onClick:this.closeModal},Object(E.d)("Close","CheckoutFormError")))))},t}(a.PureComponent)),U=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormError",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(L),G=n("4wQG"),z=n("WeGZ"),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(G.a,{type:z.a.Error,message:{title:Object(E.d)("You are not eligible to make this purchase.","CheckoutFormIneligibleScreen"),description:""}})},t}(a.Component),V=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormIneligibleScreen",{autoReportInteractive:!0}))(q);function W(e,t){E.n.set("price_change_warning_"+e,t)}function H(e){return E.n.get("price_change_warning_"+e,!1)}!function(e){e.UserResidence="user_residence",e.BillingCountry="billing_country"}(r||(r={}));var Q,Y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeWarning=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PriceChangeWarningDismiss}),t.props.onClose()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track({subEvent:_.b.PriceChangeWarningShown,subEventDetail:this.props.updatePriceReason||""})},t.prototype.render=function(){return a.createElement(h.a,{margin:{bottom:1}},a.createElement(G.a,{type:z.a.Warning,message:{title:Object(E.d)("The total price has changed.  Please review your checkout information before proceeding.","PriceChangeWarning")},closeButton:{"aria-label":"close",onClick:this.closeWarning}}))},t}(a.PureComponent),K=Object(s.d)(g((function(e){return Object(i.__assign)({},e)})))(Y),Z=n("geRD"),X=n("fgOK"),J=n("RGzP"),$=n("vZNl");!function(e){e.PhoneBillingMismatch="phone_billing_mismatch",e.GiftCardBalanceUsage="gc_balance_usage"}(Q||(Q={}));var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSetResidenceSuccess=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.CountryOfResidenceAttempt,subEventDetail:t.props.details}),t.props.checkoutSessionTracker.track({subEvent:_.b.CountryOfResidenceSuccess,subEventDetail:t.props.details}),t.props.onSetResidenceSuccess()},t.onSetResidenceFailure=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.CountryOfResidenceAttempt,subEventDetail:t.props.details}),t.props.checkoutSessionTracker.track({subEvent:_.b.CountryOfResidenceFailure,subEventDetail:t.props.details})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.checkoutSessionTracker.track({subEvent:_.b.CountryOfResidencePrompt,subEventDetail:this.props.details})},t.prototype.render=function(){return this.dataReady&&this.props.data.currentUser?a.createElement(h.a,null,a.createElement(A.a,{type:A.e.H4},Object(E.d)("Confirm Country of Residence","ConfirmCountryOfResidence")),a.createElement(h.a,{margin:{top:2}},a.createElement(X.a,{userID:this.props.data.currentUser.id,defaultCountryCode:this.defaultCountryCode,defaultPostalCode:this.defaultPostalCode,onSetResidenceSuccess:this.onSetResidenceSuccess,onSetResidenceFailure:this.onSetResidenceFailure}))):a.createElement(J.a,{lineCount:8})},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultCountryCode",{get:function(){var e,t,n;return(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.residence)||void 0===t?void 0:t.countryCode)||(null===(n=this.props.data.requestInfo)||void 0===n?void 0:n.countryCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPostalCode",{get:function(){var e,t;return(null===(t=null===(e=this.props.data.currentUser)||void 0===e?void 0:e.residence)||void 0===t?void 0:t.postalCode)||""},enumerable:!0,configurable:!0}),t}(a.Component),te=Object(s.d)(Object(m.withLatencyTracking)("ConfirmCountryOfResidence",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})),Object(P.a)($))(ee);te.defaultProps={details:Q.PhoneBillingMismatch};var ne,re=n("p9DJ"),ie=n("IyK4"),ae=n("hNTM"),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"chargeStatementCopy",{get:function(){return Object(E.d)("Actual amount to be charged may vary depending on the exchange rate. Conversion fees and other incidental costs may be additionally included.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refundStatementCopy",{get:function(){return Object(E.d)("Your subscription will start immediately after payment. You may cancel the subscription within seven days from the date of subscription, provided that the charges for the period already used are not refundable. Purchases made by a minor may be cancelled by the minor or the minor’s parent or legal guardian in case the parent or legal representative does not consent to the purchase made by the minor.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renewalStatementCopy",{get:function(){return Object(E.d)("You may choose not to renew your Subscription at any time by selecting “Do Not Renew” on your <x:subs>subscriptions page</x:subs>. Your cancellation is effective at the end of the current subscription term.",{"x:subs":function(e){return a.createElement(re.a,{targetBlank:!0,linkTo:"https://twitch.tv/subscriptions"},e)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"termsOfSaleCopy",{get:function(){var e=this;return Object(E.d)("Please refer to the <x:tos>Terms of Sale</x:tos> for additional details.",{"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"twitchCopy",{get:function(){return Object(E.d)("Twitch Interactive, Inc.","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"representativeCopy",{get:function(){return Object(E.d)("Name of Representative: Emmett Shear, CEO","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addressCopy",{get:function(){return Object(E.d)("Address: 350 Bush Street, 2nd Floor, San Francisco, California 94104, USA","CheckoutDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"termsAndConditionsCopy",{get:function(){var e=this;return Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments.',{"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"CheckoutDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?a.createElement(h.a,{padding:{y:2}},a.createElement(ie.a,{padding:{bottom:1}},a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.termsAndConditionsCopy)),a.createElement(ie.a,{padding:{bottom:1}},a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.chargeStatementCopy)),a.createElement(ie.a,{padding:{bottom:1}},a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.refundStatementCopy)),a.createElement(ie.a,{padding:{bottom:1}},a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.renewalStatementCopy)),a.createElement(ie.a,{padding:{bottom:1}},a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.termsOfSaleCopy)),a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.twitchCopy),a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.representativeCopy),a.createElement(A.a,{type:A.e.P,fontSize:F.k.Size7},this.addressCopy)):a.createElement(h.a,{padding:{y:2}},a.createElement(A.a,{fontSize:F.k.Size7},this.termsAndConditionsCopy)):a.createElement(J.a,{lineCount:3,width:400})},t}(a.Component),se=Object(s.d)(Object(P.a)(ae))(oe),ce=n("fI+N"),le=n("//su"),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"legalDisclaimerCopyKR",{get:function(){var e=this;return Object(E.d)("By clicking Complete Purchase, you agree to the <x:use>Twitch Bits Acceptable Use Policy</x:use>, <x:tos>Terms of Sale</x:tos>, and <x:privacy>Privacy Policy</x:privacy> and that we may start to deliver this order. Your payment method will be saved for future purchases, and any future payments for recurring subscriptions will also be updated.",{"x:use":function(e){return a.createElement(re.a,{linkTo:"https://twitch.tv/p/legal/bits-acceptable-use/"},e)},"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legalDisclaimerCopyNonKR",{get:function(){var e=this;return Object(E.d)("By clicking Complete Purchase, you agree to the <x:use>Twitch Bits Acceptable Use Policy</x:use>, <x:tos>Terms of Sale</x:tos>, and <x:privacy>Privacy Policy</x:privacy> and that we may start to deliver this order. You cannot cancel your order once delivery has started. Your payment method will be saved for future purchases, and any future payments for recurring subscriptions will also be updated.",{"x:use":function(e){return a.createElement(re.a,{linkTo:"https://twitch.tv/p/legal/bits-acceptable-use/"},e)},"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)}},"LegalDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?a.createElement(A.a,{fontSize:F.k.Size7},this.legalDisclaimerCopyKR):a.createElement(A.a,{fontSize:F.k.Size7},this.legalDisclaimerCopyNonKR):a.createElement(J.a,{lineCount:3,width:400})},t}(a.Component),de=Object(s.d)(Object(P.a)(le))(ue),pe=n("VUyg"),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onTermsOfSaleLinkClick=function(){t.props.onTermsOfSaleLinkClick&&t.props.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},t.onPrivacyPolicyLinkClick=function(){t.props.onPrivacyPolicyLinkClick&&t.props.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e,t,n=this;if(!this.dataReady)return null;if("KR"!==(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.requestInfo)||void 0===t?void 0:t.countryCode))return a.createElement(h.a,{margin:{y:2}},a.createElement(A.a,null,Object(E.d)('By clicking "Complete Purchase", you agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Policy</x:privacy> applies. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(e){return a.createElement(re.a,{onClick:n.onTermsOfSaleLinkClick},e)},"x:privacy":function(e){return a.createElement(re.a,{onClick:n.onPrivacyPolicyLinkClick},e)}},"CompletePurchaseDisclaimer")));switch(this.tplr){case ne.BitsBundle:return a.createElement(h.a,{margin:{y:2}},a.createElement(de,{onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick}),a.createElement(ce.a,null));case ne.Turbo:case ne.ChannelSub:case ne.ChannelSubCommunityGift:case ne.ChannelSubStandardGift:case ne.ChannelSubCustom:return a.createElement(se,{onTermsOfSaleLinkClick:this.props.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.props.onPrivacyPolicyLinkClick});default:return null}},Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){return!(this.props.data.loading&&!this.props.data.error&&!this.props.data.purchasableOffer)},enumerable:!0,configurable:!0}),t}(a.Component),he=Object(s.d)(Object(m.withLatencyTracking)("CompletePurchaseDisclaimer"),g((function(e){return Object(i.__assign)({},e)})),Object(P.a)(pe,{options:function(e){return{variables:{params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}}}))(me),fe=function(){window.open("https://gocardless.com/privacy")},be=function(){window.open("https://www.twitch.tv/p/legal/direct-debit-guarantee/")},ye=function(){window.open("https://www.twitch.tv/p/legal/sepa-direct-debit-mandate/")},ve=function(e){var t=e.hasWalletBalance?function(e){return Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:sepa>SEPA Direct Debit Mandate</x:sepa>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>. We will notify you at least 3 working days in advance of any changes to your payment date, frequency, or amount.',{"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:sepa":function(e){return a.createElement(re.a,{onClick:ye},e)},"x:gocardless":function(e){return a.createElement(re.a,{onClick:fe},e)}},"DirectDebitPurchaseDisclaimer")}(e):function(e){return Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:sepa>SEPA Direct Debit Mandate</x:sepa>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>. We will notify you at least 3 working days in advance of any changes to your payment date, frequency, or amount.',{"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:sepa":function(e){return a.createElement(re.a,{onClick:ye},e)},"x:gocardless":function(e){return a.createElement(re.a,{onClick:fe},e)}},"DirectDebitPurchaseDisclaimer")}(e);return a.createElement(h.a,{margin:{y:2}},a.createElement(A.a,null,t))},ge=function(e){var t=e.hasWalletBalance?function(e){return Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:bacs>Direct Debit Guarantee</x:bacs>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>.',{"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:bacs":function(e){return a.createElement(re.a,{onClick:be},e)},"x:gocardless":function(e){return a.createElement(re.a,{onClick:fe},e)}},"DirectDebitPurchaseDisclaimer")}(e):function(e){return Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and <x:privacy>Privacy Policy</x:privacy>. Your payment method will be saved for future purchases, and, if applicable, recurring subscription payments. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun. Your payments are protected by the <x:bacs>Direct Debit Guarantee</x:bacs>. This payment is processed by GoCardless. Read the <x:gocardless>GoCardless privacy notice</x:gocardless>.',{"x:tos":function(t){return a.createElement(re.a,{onClick:e.onTermsOfSaleLinkClick},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:e.onPrivacyPolicyLinkClick},t)},"x:bacs":function(e){return a.createElement(re.a,{onClick:be},e)},"x:gocardless":function(e){return a.createElement(re.a,{onClick:fe},e)}},"DirectDebitPurchaseDisclaimer")}(e);return a.createElement(h.a,{margin:{y:2}},a.createElement(A.a,null,t))},ke=function(e){var t=function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")},n=function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")};return e.paymentScheme===N.ud.SEPA?a.createElement(ve,{hasWalletBalance:e.hasWalletBalance,onTermsOfSaleLinkClick:t,onPrivacyPolicyLinkClick:n}):a.createElement(ge,{hasWalletBalance:e.hasWalletBalance,onTermsOfSaleLinkClick:t,onPrivacyPolicyLinkClick:n})},Se=function(e){return a.createElement(A.a,null,Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Notice</x:privacy> applies. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Recurring subscriptions will expire if the amount owed exceeds your gift card balance. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(t){return a.createElement(re.a,{onClick:function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")}},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")}},t)}},"WalletPurchaseDisclaimer"))},Ce=function(e){return a.createElement(A.a,null,Object(E.d)('By clicking "Complete Purchase", you hereby agree to Twitch\'s <x:tos>Terms of Sale</x:tos> and acknowledge our <x:privacy>Privacy Notice</x:privacy> applies. Your gift card balance will apply to this purchase and subsequent charges related to this recurring subscription until your balance reaches zero. Thereafter, Twitch will charge your saved payment method for the recurring subscription. If you purchase Bits, you agree that we may start to deliver the order and cannot cancel your order once delivery has begun.',{"x:tos":function(t){return a.createElement(re.a,{onClick:function(){e.onTermsOfSaleLinkClick(),window.open("https://www.twitch.tv/p/legal/terms-of-sale/")}},t)},"x:privacy":function(t){return a.createElement(re.a,{onClick:function(){e.onPrivacyPolicyLinkClick(),window.open("https://www.twitch.tv/p/legal/privacy-notice")}},t)}},"WalletPurchaseDisclaimer"))},Ee=function(e){var t=e.hasSPM?a.createElement(Ce,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):a.createElement(Se,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick});return a.createElement(h.a,{margin:{top:1,bottom:2},padding:{top:e.hasSPM?1:0}},t)},Oe=function(e){return e.isWalletPurchase&&e.paymentScheme!==N.ud.SEPA&&e.paymentScheme!==N.ud.BACS?a.createElement(Ee,{hasSPM:e.hasSPM,onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):e.paymentScheme===N.ud.BACS||e.paymentScheme===N.ud.SEPA?a.createElement(ke,{hasWalletBalance:e.isWalletPurchase,paymentScheme:e.paymentScheme,onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick}):a.createElement(he,{onTermsOfSaleLinkClick:e.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:e.onPrivacyPolicyLinkClick})},Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(h.a,null,this.errorMessage)},Object.defineProperty(t.prototype,"hasPurchaseError",{get:function(){return!!this.props.productPurchaseErrorCode||!!this.props.purchaseOfferErrorCode||!!this.props.purchaseOrderFailureReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorMessage",{get:function(){if(this.hasPurchaseError){var e=Object(E.d)("Purchase Not Complete","ReviewPurchaseDisplay"),t=Object(E.d)("An unexpected error occurred. Please try again later.","ReviewPurchaseDisplay"),n=Object(E.d)("You are not eligible to make this purchase.","ReviewPurchaseDisplay"),r=Object(E.d)("Invalid Payment Method","ReviewPurchaseDisplay"),i=Object(E.d)("Please update your payment details by clicking on Change Payment Method.","ReviewPurchaseDisplay");if(this.props.productPurchaseErrorCode)e=r,t=Object(E.d)("This payment method is not available for your purchase at this time. Please continue checkout using another payment method.","ReviewPurchaseDisplay");else if(this.props.purchaseOfferErrorCode)switch(this.props.purchaseOfferErrorCode){case N.Qd.INELIGIBLE:e=n,t="";break;case N.Qd.INVALID_PAYMENT_METHOD:e=r,t=i}else if(this.props.purchaseOrderFailureReason)switch(this.props.purchaseOrderFailureReason){case N.Rd.BANK_DECLINED:e=Object(E.d)("Purchase Declined","ReviewPurchaseDisplay"),t=Object(E.d)("Please contact your bank or click on Change Payment Method to pay another way.","ReviewPurchaseDisplay");break;case N.Rd.INELIGIBLE:e=n,t="";break;case N.Rd.INVALID_PAYMENT_METHOD:e=r,t=i}return a.createElement(h.a,{margin:{bottom:2}},a.createElement(G.a,{type:z.a.Error,message:{title:e,description:t}}))}return null},enumerable:!0,configurable:!0}),t}(a.Component),De=Object(s.d)(Object(m.withLatencyTracking)("PurchaseErrorMessage",{autoReportInteractive:!0}))(Pe),je=function(){return a.createElement(h.a,{padding:{y:3}},a.createElement(G.a,{type:z.a.Warning,message:{title:Object(E.d)("Payment Method Unavailable","PaymentMethodUnavailableMessage"),description:Object(E.d)("The payment method you selected is temporarily unavailable. Please use a different payment method or try again later.","PaymentMethodUnavailableMessage")}}))};!function(e){e.BitsBundle="bits_bundle",e.ChannelSub="channel_sub",e.ChannelSubCustom="channel_sub_custom",e.ChannelSubCommunityGift="channel_sub_community_gift",e.ChannelSubStandardGift="channel_sub_standard_gift",e.Turbo="turbo",e.Celebrations="celebration"}(ne||(ne={}));var Ne,Te=n("ER7f"),Ie='[data-recurly="fraud_session_id"]',_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fraudSessionIDReady=function(){var e=document.querySelector(Ie);e&&e.value?t.props.handleRecurlyFraudSessionIDReady(e.value):t.props.handleError({message:"Recurly failed to attach the fraud_session_id"})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.recurlyInstance&&!this.props.recurlyLoadFailed&&this.setupConfigs()},t.prototype.componentDidUpdate=function(e){e.recurlyInstance||!this.props.recurlyInstance||this.props.recurlyLoadFailed||this.setupConfigs()},t.prototype.render=function(){return a.createElement(h.a,{display:F.h.Hide},a.createElement("form",null,a.createElement("input",{type:"text","data-recurly":"first_name"}),a.createElement("input",{type:"text","data-recurly":"last_name"}),a.createElement("div",{"data-recurly":"number"}),a.createElement("div",{"data-recurly":"month"}),a.createElement("div",{"data-recurly":"year"}),a.createElement("div",{"data-recurly":"cvv"}),a.createElement("input",{type:"hidden",name:"recurly-token","data-recurly":"token"})))},t.prototype.setupConfigs=function(){this.props.recurlyInstance&&(this.props.recurlyInstance.configure({publicKey:this.props.recurlyPublicKey,fraud:{kount:{dataCollector:!0}}}),this.props.recurlyInstance.fraud?(this.props.recurlyInstance.fraud.on("ready",this.fraudSessionIDReady),this.props.recurlyInstance.fraud.on("error",this.props.handleError)):this.props.handleError({message:"Recurly failed to create the Fraud class"}))},t}(a.Component),we=Object(s.d)(Object(Te.b)((function(e){return{recurlyInstance:e.recurlyInstance,recurlyLoadFailed:e.recurlyLoadFailed}})))(_e),Ae=n("8ggV"),xe=n("kBDA"),Re=n("bO8+"),Me=n("DYZf"),Fe="review-purchase-almost-done-text",Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={closedPriceChangeWarning:!1},t.hidePriceChangedWarning=function(){W(t.props.checkoutSessionTracker.getCheckoutSessionID(),!0),t.setState({closedPriceChangeWarning:!0})},t.toggleUseSavedPaymentMethod=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.ChangePaymentMethodClick}),t.props.toggleUseSavedPaymentMethod()},t.toggleAddPaymentMethodClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.AddPaymentMethodClick}),t.props.toggleUseSavedPaymentMethod()},t.handleRecurlyFraudProcessorError=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.Error,subEventDetail:"failed to attach fraud session ID"})},t.handleThreeDSecureChallengeShown=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.ThreeDS2Prompt})},t.onTermsOfSaleLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.TermsOfSaleClick})},t.onPrivacyPolicyLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PrivacyPolicyClick})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){e.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseShown}),e.props.productPurchaseErrorCode&&e.props.checkoutSessionTracker.track({subEvent:_.b.Error,subEventDetail:JSON.stringify({checkout_price_error_code:e.props.productPurchaseErrorCode})})}),1e3)},t.prototype.render=function(){var e,t,n,r,i,o,s,c,l,u,d;return a.createElement(h.a,null,a.createElement(De,{productPurchaseErrorCode:this.props.productPurchaseErrorCode,purchaseOfferErrorCode:this.props.purchaseOfferErrorCode,purchaseOrderFailureReason:this.props.purchaseOrderFailureReason}),this.props.eligibleSPM&&a.createElement(h.a,{margin:{bottom:2},breakpointSmall:{display:F.h.Flex,justifyContent:F.m.Between}},a.createElement(A.a,{type:A.e.H4,bold:!0},Object(E.d)("Saved Payment Method","ReviewPurchaseDisplay")),a.createElement(h.a,{margin:{top:.5},breakpointSmall:{display:F.h.Flex,alignItems:F.b.End,margin:0}},a.createElement(re.a,{onClick:this.toggleUseSavedPaymentMethod,disabled:this.props.purchasing,"data-a-target":"change-payment-method"},Object(E.d)("Change Payment Method","ReviewPurchaseDisplay")))),this.shouldShowPriceChangeWarning&&a.createElement(K,{updatePriceReason:this.props.priceChangeNotice.reason,onClose:this.hidePriceChangedWarning}),(null===(e=this.props.paymentMethodAvailabilityStatus)||void 0===e?void 0:e.availabilityStatus)!==N.sd.AVAILABLE?a.createElement(je,null):a.createElement(Te.a,null,(null===(t=this.props.eligibleSPM)||void 0===t?void 0:t.paymentType)===N.rd.CREDIT_CARD&&this.props.recurlyPublicKey&&a.createElement(we,{recurlyPublicKey:this.props.recurlyPublicKey,handleRecurlyFraudSessionIDReady:this.props.handleRecurlyFraudSessionIDReady,handleError:this.handleRecurlyFraudProcessorError}),this.props.recurlyPublicKey&&a.createElement(Ae.a,{publicKey:this.props.recurlyPublicKey,handleSuccess:this.props.handleThreeDSecureSuccess,handleError:this.props.handleThreeDSecureError,handleChallengeShown:this.handleThreeDSecureChallengeShown,threeDSecureActionTokenID:this.props.threeDSecureActionTokenID},!!this.props.eligibleSPM&&a.createElement(h.a,{background:F.d.Alt,border:!0,borderRadius:F.e.Small,padding:2},a.createElement(Me.a,{paymentType:null===(n=this.props.eligibleSPM)||void 0===n?void 0:n.paymentType,cardType:null===(r=this.props.eligibleSPM)||void 0===r?void 0:r.cardType,provider:null===(i=this.props.eligibleSPM)||void 0===i?void 0:i.provider,lastFour:null===(o=this.props.eligibleSPM)||void 0===o?void 0:o.lastFour,expirationYear:null===(s=this.props.eligibleSPM)||void 0===s?void 0:s.expirationYear,billingEmail:null===(c=this.props.eligibleSPM)||void 0===c?void 0:c.billingEmail,expirationMonth:null===(l=this.props.eligibleSPM)||void 0===l?void 0:l.expirationMonth,paymentScheme:(null===(u=this.props.eligibleSPM)||void 0===u?void 0:u.paymentScheme)||void 0})),a.createElement(Oe,{hasSPM:!!this.props.eligibleSPM,paymentScheme:(null===(d=this.props.eligibleSPM)||void 0===d?void 0:d.paymentScheme)||null,isWalletPurchase:this.props.isWalletPurchase,onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick}),a.createElement(h.a,{margin:{y:1},display:F.h.Flex,alignItems:F.b.Center,justifyContent:Object(Re.a)()?F.m.Between:F.m.End},this.props.purchasing&&a.createElement(h.a,{margin:{right:1}},a.createElement(A.a,{"data-test-selector":Fe},this.props.tplr===ne.Celebrations?Object(E.d)("Almost done! Celebrations will launch soon after completing the purchase.","ReviewPurchaseDisplay"):Object(E.d)("Almost done! Your order will be completed soon.","ReviewPurchaseDisplay"))),a.createElement(h.a,{display:F.h.Flex,justifyContent:Object(Re.a)()?F.m.Start:F.m.End},a.createElement(xe.a,{margin:{right:2}})),a.createElement(h.a,{margin:{y:1},display:F.h.Flex,alignItems:F.b.Center,justifyContent:F.m.End},!this.props.eligibleSPM&&a.createElement(h.a,{padding:{right:1}},a.createElement(B.a,{type:B.d.Secondary,onClick:this.toggleAddPaymentMethodClick,disabled:this.props.purchasing,"data-a-target":"change-payment-method"},Object(E.d)("Add a Payment Method","ReviewPurchaseDisplay"))),a.createElement(B.a,{state:this.props.purchasing?B.c.Loading:B.c.Default,onClick:this.props.handleCompletePurchaseClick,disabled:this.completePurchaseDisabled,"data-a-target":"spm-complete-purchase-button"},Object(E.d)("Complete Purchase","ReviewPurchaseDisplay")))))))},Object.defineProperty(t.prototype,"shouldShowPriceChangeWarning",{get:function(){return this.props.priceChangeNotice.show&&!this.state.closedPriceChangeWarning&&!H(this.props.checkoutSessionTracker.getCheckoutSessionID())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completePurchaseDisabled",{get:function(){return this.props.purchasing||!!this.props.productPurchaseErrorCode||this.props.purchaseOrderFailureReason===N.Rd.INELIGIBLE||this.props.purchaseOfferErrorCode===N.Qd.INELIGIBLE},enumerable:!0,configurable:!0}),t}(a.Component),Le=Object(s.d)(Object(m.withLatencyTracking)("ReviewPurchaseDisplay",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(Be),Ue=n("pXzP"),Ge=n("7DAU"),ze=[N.Sd.PAYMENT_PENDING,N.Sd.SUCCESS],qe=[N.Sd.BENEFITS_CANCELLED,N.Sd.CANCEL_BENEFITS_INITIATED,N.Sd.FAILED,N.Sd.REFUND_APPLIED,N.Sd.REFUND_FAILED,N.Sd.REFUND_INITIATED],Ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={updatedResidenceThisSession:!1,purchasing:!1,purchaseError:!!t.props.purchaseOfferErrorCode||!!t.props.purchaseOrderFailureReason,purchaseOfferErrorCode:t.props.purchaseOfferErrorCode,purchaseOrderFailureReason:t.props.purchaseOrderFailureReason},t.handleCompletePurchaseClick=function(){t.completePurchase()},t.initiate3DS2Challenge=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:try{t=JSON.parse(e).three_d_secure_action_token_id}catch(n){t=e}return this.stopPolling(),[4,this.props.data.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return n.sent(),this.setState({threeDSecureActionTokenID:t}),[2]}}))}))},t.handleRecurlyFraudSessionIDReady=function(e){t.recurlyFraudSessionID=e},t.handleThreeDSecureSuccess=function(e){t.setState({threeDSecureActionTokenID:void 0},(function(){t.completePurchase(e)}))},t.handleThreeDSecureError=function(e){t.props.checkoutSessionTracker.track({subEvent:_.b.ThreeDS2Failure,subEventDetail:JSON.stringify(e)}),t.handlePurchaseFailure(JSON.stringify(e))},t.onSetResidenceSuccess=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.refetchCheckoutFormScreenManagerData()];case 1:return e.sent(),this.setState({updatedResidenceThisSession:!0}),[2]}}))}))},t.completePurchase=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,n,r,a,o,s,c,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!this.props.data.currentUser)return[2];this.setState({purchasing:!0,purchaseError:!1,purchaseOfferErrorCode:void 0,purchaseOrderFailureReason:void 0,threeDSecureActionTokenID:void 0}),e||this.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickAttempt}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.props.purchaseOfferMutation(Object(Z.a)({billingAuthInfo:{recurlyFraudSessionID:this.recurlyFraudSessionID,threeDSecureActionResultTokenID:e},giftRecipientUserIDs:this.props.giftRecipientIDs,offerID:this.props.selectedOfferID,paymentSession:this.props.paymentSession,purchasingUserID:this.props.data.currentUser.id,quantity:this.props.selectedQuantity,tagBindings:this.props.tagBindings,tenantTracking:this.props.trackingContext.tenantTracking?JSON.stringify(this.props.trackingContext.tenantTracking):""}))];case 2:return t=i.sent(),n=t.data,r=t.errors,a=null===(c=null===(s=n.purchaseOffer)||void 0===s?void 0:s.purchaseOrder)||void 0===c?void 0:c.id,r?(this.handlePurchaseFailure(JSON.stringify(r)),[2]):(null===(l=n.purchaseOffer)||void 0===l?void 0:l.error)?(this.handlePurchaseFailure(JSON.stringify({purchase_offer_error:n.purchaseOffer.error}),n.purchaseOffer.error),[2]):a?(this.startPolling(a),[3,4]):(this.handlePurchaseFailure("missing purchase order ID"),[2]);case 3:return o=i.sent(),this.handlePurchaseFailure(null==o?void 0:o.message),[3,4];case 4:return[2]}}))}))},t.handlePurchaseFailure=function(e,n,r){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickFailure,subEventDetail:e}),this.setState({purchasing:!1,purchaseError:!0,purchaseOfferErrorCode:n,purchaseOrderFailureReason:r}),this.stopPolling(),[4,this.props.data.refetch({purchaseOrderID:"",includeOrder:!1})];case 1:return t.sent(),[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.props.handlePaymentProviderUpdate(N.td.RECURLY),this.props.isWalletPurchase&&!this.props.isSplitTender)this.props.checkoutSessionTracker.activePaymentMethod="wallet";else if(this.props.eligibleSPM)switch(this.props.eligibleSPM.paymentType.toUpperCase()){case N.rd.CREDIT_CARD:this.props.checkoutSessionTracker.activePaymentMethod="credit_card";break;case N.rd.PAYPAL:this.props.checkoutSessionTracker.activePaymentMethod="paypal";break;case N.rd.AMAZON:this.props.checkoutSessionTracker.activePaymentMethod="amazon_pay"}this.props.checkoutSessionTracker.activePaymentProvider="recurly"},t.prototype.componentDidUpdate=function(e,t){var n,r,i,a,o,s,c,l,u,d,p,m,h,f,b;(null===(i=null===(r=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===r?void 0:r.purchaseOrder)||void 0===i?void 0:i.state)&&ze.includes(this.props.data.currentUser.purchaseOrder.state)&&(this.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickSuccess,originID:this.props.data.currentUser.purchaseOrder.id}),this.props.handlePurchaseSuccess()),(null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.currentUser)||void 0===o?void 0:o.purchaseOrder)||void 0===s?void 0:s.state)===N.Sd.THREE_D_SECURE_CHALLENGE_REQUIRED&&(null===(u=null===(l=null===(c=this.props.data)||void 0===c?void 0:c.currentUser)||void 0===l?void 0:l.purchaseOrder)||void 0===u?void 0:u.actionTokenID)&&!this.state.threeDSecureActionTokenID&&this.initiate3DS2Challenge(this.props.data.currentUser.purchaseOrder.actionTokenID),(null===(m=null===(p=null===(d=this.props.data)||void 0===d?void 0:d.currentUser)||void 0===p?void 0:p.purchaseOrder)||void 0===m?void 0:m.state)&&qe.includes(this.props.data.currentUser.purchaseOrder.state)&&!t.purchaseError&&t.purchasing&&(null===(b=null===(f=null===(h=e.data)||void 0===h?void 0:h.currentUser)||void 0===f?void 0:f.purchaseOrder)||void 0===b?void 0:b.state)!==this.props.data.currentUser.purchaseOrder.state&&this.handlePurchaseFailure(JSON.stringify({purchase_order_error:this.props.data.currentUser.purchaseOrder.failureReason}),void 0,this.props.data.currentUser.purchaseOrder.failureReason)},t.prototype.componentWillUnmount=function(){this.stopPolling()},t.prototype.render=function(){return this.askForResidence&&this.props.data.currentUser?a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):a.createElement(h.a,null,a.createElement(Le,{recurlyPublicKey:this.props.recurlyPublicKey,purchasing:this.state.purchasing,productPurchaseErrorCode:this.props.productPurchaseErrorCode,purchaseOrderFailureReason:this.state.purchaseOrderFailureReason,purchaseOfferErrorCode:this.state.purchaseOfferErrorCode,toggleUseSavedPaymentMethod:this.props.toggleUseSavedPaymentMethod,eligibleSPM:this.props.eligibleSPM,paymentMethodAvailabilityStatus:this.props.paymentMethodAvailabilityStatus,handleCompletePurchaseClick:this.handleCompletePurchaseClick,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID,handleThreeDSecureSuccess:this.handleThreeDSecureSuccess,handleThreeDSecureError:this.handleThreeDSecureError,handleRecurlyFraudSessionIDReady:this.handleRecurlyFraudSessionIDReady,isWalletPurchase:this.props.isWalletPurchase,tplr:this.props.tplr,priceChangeNotice:this.props.priceChangeNotice}))},Object.defineProperty(t.prototype,"askForResidence",{get:function(){return!this.state.updatedResidenceThisSession&&(this.props.productPurchaseErrorCode===N.Od.UNKNOWN_USER_RESIDENCE||!!this.props.eligibleSPM&&this.props.requestInfoCountryCode!==this.props.eligibleSPM.billingCountry)},enumerable:!0,configurable:!0}),t.prototype.startPolling=function(e){var t=this;this.props.data.refetch({purchaseOrderID:e,includeOrder:!0}),this.pollingID=setInterval((function(){t.props.data.refetch({purchaseOrderID:e,includeOrder:!0})}),1e3),this.props.handlePollingOrder(!0),this.timeoutID=setTimeout((function(){t.stopPolling(),t.handlePurchaseFailure("polling timeout")}),6e4)},t.prototype.stopPolling=function(){clearInterval(this.pollingID),clearTimeout(this.timeoutID),this.props.handlePollingOrder(!1)},t}(a.Component),We=Object(s.d)(Object(m.withLatencyTracking)("CheckoutReviewPurchaseScreen",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})),Object(P.a)(Ge,{options:function(){return{variables:{purchaseOrderID:"",includeOrder:!1}}}}),Object(P.a)(Ue,{name:"purchaseOfferMutation"}))(Ve),He=n("Hl/S"),Qe=n("eMuj"),Ye=n("LKxS"),Ke=n("cwzQ"),Ze=n("6fcp"),Xe=n("BBJN"),Je=n("s+pF"),$e=n("afq6"),et=n("TwdJ"),tt=n("F+KF"),nt=function(e){var t=Object(a.useState)(""),n=t[0],r=t[1],o=Object(a.useState)(""),s=o[0],c=o[1],l=Object(a.useState)(!1),u=l[0],d=l[1],p=Object(a.useState)(!1),m=p[0],f=p[1],b=Object(a.useState)(!1),y=b[0],v=b[1],g=Object(a.useState)(!1),k=g[0],S=g[1],C=Object(a.useState)({confirmed:!1,error:!1}),O=C[0],P=C[1],D=null;return u||m?D={title:Object(E.d)("Valid Credentials Required","SepaBankAccountProcessor"),description:Object(E.d)("Please enter valid credentials in the highlighted areas and try again","SepaBankAccountProcessor")}:y&&(D={title:Object(E.d)("Unexpected Error Occurred","SepaBankAccountProcessor"),description:Object(E.d)("Our credit card processor is not working at the moment. Please try again later.","SepaBankAccountProcessor")}),a.createElement(a.Fragment,null,D&&a.createElement(G.a,{type:z.a.Error,message:D}),a.createElement(Xe.a,null,a.createElement(Je.a,{cols:6},a.createElement($e.a,{label:Object(E.d)("Holder Name","SepaBankAccountProcessor")},a.createElement(et.a,{type:et.c.Text,placeholder:Object(E.d)("J. Smith","SepaBankAccountProcessor"),value:s,error:m,onChange:function(e){var t=e.currentTarget.value;c(t),f(!1)}}))),a.createElement(Je.a,{cols:6},a.createElement($e.a,{label:Object(E.d)("International Bank Account Number (IBAN)","SepaBankAccountProcessor")},a.createElement(et.a,{type:et.c.Text,placeholder:Object(E.d)("DE 12 ABCD 890111 11167800","SepaBankAccountProcessor"),error:u,value:n,onChange:function(e){var t=e.currentTarget.value;r(t),d(!1)}})))),a.createElement(h.a,{margin:{top:2},display:F.h.Flex,flexDirection:F.i.RowReverse,alignItems:F.b.Center},a.createElement(B.a,{disabled:k||e.disableCallToAction,state:k||e.forceLoadingState?B.c.Loading:B.c.Default,onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,r,a;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return O.confirmed?(t=!1,r="",v(!1),n.length<14?(d(!0),t=!0):(r=n.length>2?n.substring(0,2):"",it.has(r)||(d(!0),t=!0)),""===s&&(f(!0),t=!0),t?[2]:(a={country:r,iban:n,name_on_account:s},[4,S(!0)])):(P(Object(i.__assign)(Object(i.__assign)({},O),{error:!0})),[2]);case 1:return o.sent(),e.recurly.bankAccount.token(a,(function(t,a){var o;(null==t?void 0:t.code)===Ze.b.InvalidParameter?(null===(o=t.fields)||void 0===o?void 0:o.some((function(e){return"iban"===e})))&&d(!0):null!==t&&v(!0),e.onSubmit(t,Object(i.__assign)(Object(i.__assign)({},a),{billing_info:{cc_bin_country:r},lastFour:n.substring(n.length-4)}))})),S(!1),[2]}}))}))}},e.callToActionButtonLabel),a.createElement(h.a,{padding:{right:1}},a.createElement(tt.a,{label:Object(E.d)("I verify that my account information is correct","SepaBankAccountProcessor"),checked:O.confirmed,error:O.error,onChange:function(){var e=!O.confirmed,t=!e&&O.error;P({error:t,confirmed:e})}}))))},rt=function(e){var t=Object(a.useState)(""),n=t[0],r=t[1],o=Object(a.useState)(""),s=o[0],c=o[1],l=Object(a.useState)(""),u=l[0],d=l[1],p=Object(a.useState)(""),m=p[0],f=p[1],b=Object(a.useState)(""),y=b[0],v=b[1],g=Object(a.useState)(""),k=g[0],S=g[1],C=Object(a.useState)(!1),O=C[0],P=C[1],D=Object(a.useState)(!1),j=D[0],N=D[1],T=Object(a.useState)(!1),I=T[0],_=T[1],w=Object(a.useState)({}),x=w[0],R=w[1],M=null;return Object.values(x).some((function(e){return!0===e}))?M={title:Object(E.d)("Valid Credentials Required","BacsProcessor"),description:Object(E.d)("Please enter valid credentials in the highlighted areas and try again","BacsProcessor")}:I&&(M={title:Object(E.d)("Unexpected Error Occurred","BacsProcessor"),description:Object(E.d)("Our payment processor is not working at the moment. Please try again later.","BacsProcessor")}),a.createElement(a.Fragment,null,M&&a.createElement(G.a,{type:z.a.Error,message:M}),a.createElement(h.a,{margin:{bottom:1}},a.createElement(A.a,{type:A.e.H5,bold:!0},Object(E.d)("ACCOUNT INFORMATION","BacsProcessor"))),a.createElement(Xe.a,null,a.createElement(Je.a,{cols:4},a.createElement($e.a,{label:Object(E.d)("Account Holder Name","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"name",type:et.c.Text,value:u,error:x.name_on_account,placeholder:Object(E.d)("J. Smith","BacsProcessor"),onChange:function(e){var t=e.currentTarget.value;d(t),R(Object(i.__assign)(Object(i.__assign)({},x),{name_on_account:void 0}))}}))),a.createElement(Je.a,{cols:4},a.createElement($e.a,{label:Object(E.d)("Sort Code","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"sort_code",type:et.c.Text,value:n,placeholder:Object(E.d)("12-34-56","BacsProcessor"),error:x.sort_code,onChange:function(e){var t=e.currentTarget.value;r(t),R(Object(i.__assign)(Object(i.__assign)({},x),{sort_code:void 0}))}}))),a.createElement(Je.a,{cols:4},a.createElement($e.a,{label:Object(E.d)("Account Number","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"account",type:et.c.Text,error:x.account_number,value:s,placeholder:Object(E.d)("12345678","BacsProcessor"),onChange:function(e){var t=e.currentTarget.value;c(t),R(Object(i.__assign)(Object(i.__assign)({},x),{account_number:void 0}))}})))),a.createElement(h.a,{margin:{bottom:1,top:2}},a.createElement(A.a,{type:A.e.H5,bold:!0},Object(E.d)("BILLING INFORMATION","BacsProcessor"))),a.createElement(Xe.a,null,a.createElement(Je.a,{cols:4},a.createElement($e.a,{label:Object(E.d)("Address","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"address",type:et.c.Text,value:y,error:x.address1,placeholder:Object(E.d)("Address","BacsProcessorPlaceholder"),onChange:function(e){var t=e.currentTarget.value;v(t),R(Object(i.__assign)(Object(i.__assign)({},x),{address1:void 0}))}}))),a.createElement(Je.a,{cols:4},a.createElement($e.a,{label:Object(E.d)("Town/City","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"city",type:et.c.Text,value:m,error:x.city,placeholder:Object(E.d)("Town/City","BacsProcessorPlaceholder"),onChange:function(e){var t=e.currentTarget.value;f(t),R(Object(i.__assign)(Object(i.__assign)({},x),{city:void 0}))}}))),a.createElement(Je.a,{cols:4},a.createElement($e.a,{label:Object(E.d)("Post Code","BacsProcessor")},a.createElement(et.a,{"data-test-selector":"bacs-input-field",name:"postal_code",type:et.c.Text,value:k,error:x.postal_code,placeholder:Object(E.d)("Post Code","BacsProcessorPlaceholder"),onChange:function(e){var t=e.currentTarget.value;S(t),R(Object(i.__assign)(Object(i.__assign)({},x),{postal_code:void 0}))}})))),a.createElement(h.a,{margin:{top:3},display:F.h.Flex,flexDirection:F.i.RowReverse,alignItems:F.b.Center},a.createElement(B.a,{disabled:j||e.disableCallToAction,state:e.forceLoadingState||j?B.c.Loading:B.c.Default,onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,r,a;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:return O?(R(Object(i.__assign)(Object(i.__assign)({},x),{confirmation:void 0})),t={name_on_account:u,account_number:s,account_number_confirmation:s,sort_code:n,country:"GB",address1:y,city:m,postal_code:k,type:"bacs"},_(!1),r=!1,a={},Object.keys(t).forEach((function(e){""===t[e]&&"account_number_confirmation"!==e&&(r=!0,a[e]=!0)})),r?(R(a),[2]):[4,N(!0)]):(R(Object(i.__assign)(Object(i.__assign)({},x),{confirmation:!0})),[2]);case 1:return o.sent(),e.recurly.bankAccount.token(t,(function(t,n){var r;if(null===t){R({});var a=Object(i.__assign)(Object(i.__assign)({},n),{lastFour:s.substring(s.length-4)});e.onSubmit(t,a)}else{if(t.code===Ze.b.InvalidParameter){var o={};return null===(r=t.fields)||void 0===r||r.forEach((function(e){o[e]=!0})),void R(o)}_(!0)}})),N(!1),[2]}}))}))}},e.callToActionButtonLabel),a.createElement(h.a,{padding:{right:1}},a.createElement(tt.a,{label:Object(E.d)("I verify that my account information is correct","BacsProcessor"),checked:O,error:x.confirmation,onChange:function(){var e=!O;e&&R(Object(i.__assign)(Object(i.__assign)({},x),{confirmation:void 0})),P(e)}}))))},it=new Set(["AT","BE","BG","HR","CY","CZ","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES"]),at=new Set(["GB"]),ot=Object(s.d)(Object(m.withLatencyTracking)("RecurlyBankAccountProcessor"),Object(Te.b)((function(e){return Object(i.__assign)({},e)})))((function(e){var t=Object(a.useState)(!1),n=t[0],r=t[1];if(Object(a.useEffect)((function(){!e.recurlyLoadFailed&&e.recurlyInstance&&(e.recurlyInstance.configure(e.recurlyPublicKey),r(!0))}),[e.recurlyLoadFailed,e.recurlyInstance,e.recurlyPublicKey]),!n)return a.createElement(Ke.a,null);var i=function(t,n){t&&e.handleTokenError&&e.handleTokenError(t),t||e.handleTokenResponse(n)};return it.has(e.userCountry)?a.createElement(nt,{recurly:e.recurlyInstance,onSubmit:i,disableCallToAction:e.disableCallToActionButton,callToActionButtonLabel:e.callToActionButtonLabel}):at.has(e.userCountry)?a.createElement(rt,{recurly:e.recurlyInstance,onSubmit:i,callToActionButtonLabel:e.callToActionButtonLabel,disableCallToAction:e.disableCallToActionButton}):a.createElement(a.Fragment,null)})),st=n("KZQ4"),ct=n("gn2N"),lt="eu_direct_debit",ut=function(e){var t=new Set(E.b.get("eu_direct_debit_valid_schemes",[])),n=at.has(e)&&t.has(N.ud.BACS),r=it.has(e)&&t.has(N.ud.SEPA);return n||r},dt=n("FT7T"),pt=function(e){return e.paymentMethodAvailable!==N.sd.AVAILABLE?a.createElement(je,null):a.createElement(a.Fragment,null,e.children)},mt=n("Jgup"),ht=n("UfC+"),ft=n("JDoF"),bt=n("1AzW"),yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showCountrySelector:!1,purchaseSuccessful:!1,closedPriceChangeWarning:!1},t.hidePriceChangedWarning=function(){W(t.props.checkoutSessionTracker.getCheckoutSessionID(),!0),t.setState({closedPriceChangeWarning:!0})},t.reportInteractive=function(){t.props.latencyTracking.reportInteractive(),t.props.xsollaEnabled&&t.props.xsollaEnabled.availabilityStatus===N.sd.AVAILABLE?t.props.xsollaToken||t.props.productPurchaseErrorCode===N.Od.UNKNOWN_USER_RESIDENCE||t.props.productPurchaseErrorCode===N.Od.BILLING_INFO_NOT_FOUND?t.props.checkoutSessionTracker.track({subEvent:_.b.LoadSuccess}):t.props.checkoutSessionTracker.track({subEvent:_.b.Error,subEventDetail:"missing xsolla iframe token"}):t.props.checkoutSessionTracker.track({subEvent:_.b.Error,subEventDetail:"xsolla disabled"})},t.onChangePaymentMethodClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.ChangePaymentMethodClick}),t.props.onChangePaymentMethodClick()},t.onCompletePurchaseShown=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseShown})},t.onXsollaPurchaseSuccess=function(e){t.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickSuccess,extTransactionID:e||""}),t.props.handlePurchaseSuccess(N.td.XSOLLA_V3),t.setState({purchaseSuccessful:!0})},t.onXsollaPurchaseFail=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickAttempt}),t.props.checkoutSessionTracker.track({subEvent:_.b.CompletePurchaseClickFailure})},t.onFirstInteraction=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_provider:"xsolla"})})},t.toggleCountrySelector=function(){t.setState((function(e){return{showCountrySelector:!e.showCountrySelector}}))},t.onSetResidenceSuccess=function(){t.props.refetchCheckoutFormScreenManagerData(),t.setState({showCountrySelector:!1})},t.onTermsOfSaleLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.TermsOfSaleClick})},t.onPrivacyPolicyLinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PrivacyPolicyClick})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.handlePaymentProviderUpdate(N.td.XSOLLA_V3),this.reportInteractive()},t.prototype.render=function(){return this.state.showCountrySelector?a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):this.props.xsollaEnabled&&this.props.xsollaEnabled.availabilityStatus===N.sd.AVAILABLE?this.props.productPurchaseErrorCode===N.Od.UNKNOWN_USER_RESIDENCE?a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):this.props.xsollaToken?this.billingCountry||this.userResidence?a.createElement(a.Fragment,null,this.header,this.shouldShowPriceChangeWarning&&a.createElement(K,{updatePriceReason:this.props.priceChangeNotice.reason,onClose:this.hidePriceChangedWarning}),a.createElement(ft.a,{xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,onCompletePurchaseShown:this.onCompletePurchaseShown,onSuccess:this.onXsollaPurchaseSuccess,onFail:this.onXsollaPurchaseFail,onFirstInteraction:this.onFirstInteraction}),a.createElement(he,{onTermsOfSaleLinkClick:this.onTermsOfSaleLinkClick,onPrivacyPolicyLinkClick:this.onPrivacyPolicyLinkClick}),Object(Re.a)()&&a.createElement(ht.a,null)):a.createElement(te,{onSetResidenceSuccess:this.onSetResidenceSuccess}):a.createElement(a.Fragment,null,this.header,a.createElement(h.a,{margin:{top:2}},a.createElement(M.PageError,null))):a.createElement(h.a,null,this.header,a.createElement(bt.a,null))},Object.defineProperty(t.prototype,"header",{get:function(){var e=this;return a.createElement(h.a,{display:F.h.Flex,alignItems:F.b.Center,flexDirection:F.i.Row,justifyContent:F.m.Between,margin:{bottom:1}},a.createElement(h.a,{display:F.h.Flex,alignItems:F.b.Center},a.createElement(h.a,{display:F.h.InlineBlock,alignItems:F.b.Center,margin:{right:Object(Re.a)()?0:1}},a.createElement(A.a,{type:A.e.H4},Object(E.d)("Checkout","CheckoutWithXsolla"))),!Object(Re.a)()&&a.createElement(ht.a,null),a.createElement(h.a,{display:F.h.InlineBlock,alignItems:F.b.Center,margin:{left:1}},a.createElement(A.a,{fontSize:F.k.Size6},Object(E.d)("Country • <x:link></x:link>",{"x:link":function(){return a.createElement(re.a,{"data-a-target":"select-country-of-residence-link",onClick:e.toggleCountrySelector},Object(mt.b)(e.country))}},"CheckoutWithXsolla")))),this.showChangePaymentMethodButton&&a.createElement(re.a,{onClick:this.onChangePaymentMethodClick,"data-a-target":"change-payment-method"},Object(E.d)("Change Payment Method","CheckoutWithXsolla")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowPriceChangeWarning",{get:function(){return this.props.priceChangeNotice.show&&!this.state.closedPriceChangeWarning&&!H(this.props.checkoutSessionTracker.getCheckoutSessionID())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showChangePaymentMethodButton",{get:function(){return!(this.props.chargeInterval&&this.props.chargeInterval>1)&&(this.props.recurlyEnabled&&!this.state.purchaseSuccessful)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"savedPaymentMethod",{get:function(){var e;return null===(e=this.props.paymentMethods)||void 0===e?void 0:e.find((function(e){return e.provider===N.td.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingCountry",{get:function(){var e;return null===(e=this.savedPaymentMethod)||void 0===e?void 0:e.billingCountry},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userResidence",{get:function(){return this.props.userResidence},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"country",{get:function(){var e;return(null===(e=this.userResidence)||void 0===e?void 0:e.countryCode)||this.props.requestInfoCountryCode||"US"},enumerable:!0,configurable:!0}),t}(a.Component),vt=Object(s.d)(Object(m.withLatencyTracking)("CheckoutWithXsolla"),g((function(e){return Object(i.__assign)({},e)})))(yt),gt=function(e){var t=Object(a.useState)(!1),n=t[0],r=t[1];if(!n&&e.onLoad&&(e.onLoad(),r(!0)),!ut(e.bestGuessCountry))return null;var i=it.has(e.bestGuessCountry)?Object(E.d)("Your saved SEPA payment method isn’t available for Bits or Gift purchases.","DirectDebitAlertBanner"):Object(E.d)("Your saved BACS payment method isn’t available for Bits or Gift purchases.","DirectDebitAlertBanner");return a.createElement(h.a,{padding:{bottom:2}},a.createElement(G.a,{type:z.a.Info,message:{title:Object(E.d)("Direct Debit unavailable.","DirectDebitAlertBanner"),description:i},closeButton:{"aria-label":Object(E.d)("Dismiss","DirectDebitAlertBanner"),onClick:e.onDismiss}}))},kt=function(e){return a.createElement(h.a,{margin:{y:1}},a.createElement(G.a,{type:z.a.Error,message:{title:Object(E.d)("Payment not processed","CheckoutFormSelectScreen"),description:e.children}}))},St=function(){return a.createElement(h.a,{margin:{y:1}},a.createElement(G.a,{type:z.a.Error,message:{title:Object(E.d)("Verification Failed","CheckoutFormSelectScreen"),description:Object(E.d)("We had a problem verifying this payment method with your bank. Please try again or use a different payment method.","CheckoutFormSelectScreen")}}))},Ct=(n("0PSp"),function(){var e=a.createElement(h.a,{flexGrow:1,position:F.o.Relative},a.createElement(h.a,{borderTop:!0,className:"pay-with-credit-card-line__line",fullWidth:!0,position:F.o.Absolute}));return a.createElement(a.Fragment,null,a.createElement(h.a,{display:F.h.Flex,textAlign:F.q.Center,margin:{y:1}},e,a.createElement(h.a,{flexGrow:0,padding:{x:1}},a.createElement(h.a,{display:F.h.Flex},a.createElement(h.a,{alignSelf:F.c.Center,margin:{right:.5}},a.createElement(A.a,{type:A.e.Span,transform:A.d.Uppercase,color:F.f.Alt2},Object(E.d)("Or","PayWithCreditCardLine"))))),e))}),Et=n("2DIU"),Ot=n.n(Et),Pt=n("TSpM"),Dt=n.n(Pt),jt=n("pVnL"),Nt=n.n(jt),Tt=n("8OQS"),It=n.n(Tt),_t=n("SWse"),wt=n("vsSX");!function(e){e.Xsolla="tw-payment-button--xsolla",e.AmazonPay="tw-payment-button--amazon-pay",e.PaypalBlue="tw-payment-button--paypal-blue",e.PaypalYellow="tw-payment-button--paypal-yellow"}(Ne||(Ne={}));var At=function(e,t){var n=e.children,r=e.type,i=It()(e,["children","type"]),o={"tw-payment-button":!0,"tw-payment-button--disabled":i.disabled};return r&&(o[r]=!0),a.createElement(wt.a,Nt()({},i,{ref:t,className:Object(_t.a)(o),type:r===Ne.Xsolla?wt.d.Secondary:void 0}),a.createElement(h.a,{className:"tw-payment-button__layout",position:F.o.Relative,display:F.h.Flex,alignItems:F.b.Center,padding:{x:1},color:r===Ne.PaypalBlue?F.f.Overlay:void 0},n))};At.displayName="PaymentButton",At.displayName="PaymentButton";var xt,Rt=a.forwardRef(At),Mt=n("JjwZ"),Ft=(n("k/qa"),function(e){return a.createElement(Rt,{type:Ne.AmazonPay,onClick:e.onClick,size:wt.c.Large,fullWidth:!0},a.createElement(h.a,{className:"select-amazon-pay-button__container",display:F.h.Flex,flexDirection:F.i.Column,justifyContent:F.m.Center,padding:{top:.5}},a.createElement(Mt.a,{src:Ot.a,alt:Object(E.d)("Amazon Pay","PaymentMethodSelector"),srcSet:{"1x":Ot.a,"2x":Dt.a}})))}),Bt=n("uReR"),Lt=n.n(Bt),Ut=n("SPyc"),Gt=n.n(Ut),zt=n("bOWA"),qt=n.n(zt),Vt=n("iSjI"),Wt=n.n(Vt),Ht=(n("ami3"),function(e){return a.createElement(Rt,{type:Ne.Xsolla,onClick:e.onClick,size:wt.c.Large,fullWidth:!0},a.createElement(h.a,{className:"select-credit-card-button__container",padding:{y:.5},display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Wt.a,alt:Object(E.d)("Visa","SelectCreditCardButton")}),a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:qt.a,alt:Object(E.d)("Master Card","SelectCreditCardButton")}),a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Lt.a,alt:Object(E.d)("American Express","SelectCreditCardButton")}),a.createElement(Mt.a,{className:"select-credit-card-button__credit-card-icon",src:Gt.a,alt:Object(E.d)("Discover","SelectCreditCardButton")})))}),Qt=n("t5Mr"),Yt=n.n(Qt),Kt=n("+H2+"),Zt=n.n(Kt),Xt=n("vwei"),Jt=n.n(Xt),$t=(n("lGkd"),function(e){return a.createElement(h.a,{display:F.h.Flex,flexDirection:F.i.Row,alignItems:F.b.Center},a.createElement(Mt.a,{src:e.imgSrc,alt:e.alt,className:"direct-debit-button-img"}),a.createElement(h.a,{padding:{left:1}},a.createElement(A.a,null,e.buttonText)))}),en=Object(o.b)((function(e){return{darkModeEnabled:Object(T.a)(e)===D.a.Dark}}))((function(e){var t=void 0,n=Object(E.d)("Direct Debit","DirectDebitButton");switch(e.scheme){case N.ud.BACS:var r=e.darkModeEnabled?Yt.a:Zt.a;t=a.createElement($t,{imgSrc:r,alt:n,buttonText:n});break;case N.ud.SEPA:var i=Object(E.d)("SEPA Direct Debit","DirectDebitButton");t=a.createElement($t,{imgSrc:Jt.a,alt:i,buttonText:i});break;default:t=n}return a.createElement(Rt,{type:Ne.Xsolla,onClick:e.onClick,size:wt.c.Large,fullWidth:!0},t)})),tn=n("2xEe"),nn=n.n(tn),rn=n("q8H6"),an=n.n(rn),on=(n("YaM9"),function(e){return a.createElement(Rt,{type:Ne.PaypalBlue,onClick:e.onClick,size:wt.c.Large,fullWidth:!0},a.createElement(h.a,{className:"select-paypal-button__container",display:F.h.Flex,flexDirection:F.i.Column,justifyContent:F.m.Center},a.createElement(Mt.a,{src:nn.a,alt:Object(E.d)("PayPal","SelectPaypalButton"),srcSet:{"1x":nn.a,"2x":an.a}})))}),sn=(n("8sFf"),n("oe2Q")),cn=new Map([["KR",n.n(sn).a]]);function ln(){var e=Object(j.a)()||"";return cn.get(e)||""}!function(e){e[e.MoreMethods=0]="MoreMethods",e[e.CreditCardPlusMore=1]="CreditCardPlusMore"}(xt||(xt={}));var un,dn=function(e){var t,n=Object(E.d)("+ More","SelectXsollaButton"),r=e.type===xt.MoreMethods?a.createElement(A.a,null,Object(E.d)("See More Methods","SelectXsollaButton")):a.createElement(h.a,{display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Wt.a,alt:Object(E.d)("Visa","SelectXsollaButton")}),a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:qt.a,alt:Object(E.d)("Master Card","SelectXsollaButton")}),a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Lt.a,alt:Object(E.d)("American Express","SelectXsollaButton")}),a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-icon",src:Gt.a,alt:Object(E.d)("Discover","SelectXsollaButton")}),a.createElement(A.a,{type:A.e.Span,transform:A.d.Uppercase},n));return t=Object(j.a)()||"",cn.has(t.toUpperCase())&&(r=a.createElement(h.a,{display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(Mt.a,{className:"select-xsolla-button__credit-card-new-icon",src:ln(),alt:Object(E.d)("Options","SelectXsollaButton")}),a.createElement(A.a,{type:A.e.Span},n))),a.createElement(Rt,{"data-a-target":"xsolla-payment-method-button",type:Ne.Xsolla,onClick:e.onClick,size:wt.c.Large,fullWidth:!0},r)},pn=n("KL9a"),mn=n.n(pn),hn=function(e){return a.createElement(h.a,{margin:{bottom:1},display:F.h.Flex,flexDirection:F.i.Row},a.createElement(A.a,{type:A.e.H4},e.children),a.createElement(h.a,{margin:{left:1},display:F.h.Flex,justifyContent:F.m.Center,alignItems:F.b.Center},a.createElement(h.a,{display:F.h.Flex,flexDirection:F.i.Row},a.createElement(h.a,{className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:Wt.a,alt:Object(E.d)("Visa","PayWithCreditCardLine")})),a.createElement(h.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:mn.a,alt:Object(E.d)("Master Card","PayWithCreditCardLine")})),a.createElement(h.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:Lt.a,alt:Object(E.d)("American Express","PayWithCreditCardLine")})),a.createElement(h.a,{margin:{left:1},className:"pay-with-credit-card-line__credit-card-image"},a.createElement(Mt.a,{src:Gt.a,alt:Object(E.d)("Discover","PayWithCreditCardLine")})))))},fn=Object(o.b)((function(e){return{darkModeEnabled:Object(T.a)(e)===D.a.Dark}}))((function(e){var t,n,r;switch(e.scheme){case N.ud.SEPA:t=Object(E.d)("Pay with SEPA Direct Debit","DirectDebitHeader"),n=Jt.a,r=Object(E.d)("SEPA","DirectDebitHeader");break;case N.ud.BACS:t=Object(E.d)("Pay with Direct Debit","DirectDebitHeader"),n=e.darkModeEnabled?Yt.a:Zt.a,r=Object(E.d)("Direct Debit","DirectDebitHeader");break;default:return a.createElement(A.a,{type:A.e.H4},Object(E.d)("Pay with Direct Debit","DirectDebitHeaderComponent"))}return a.createElement(h.a,{margin:{bottom:1},display:F.h.Flex,flexDirection:F.i.Row,alignItems:F.b.Center},a.createElement(A.a,{type:A.e.H4},t),a.createElement(h.a,{margin:{left:1}},a.createElement(Mt.a,{src:n,className:"direct-debit-image",alt:r})))})),bn=function(e){var t;switch(e.selectedPaymentMethod){case un.RecurlyDirectDebit:t=a.createElement(fn,{scheme:e.paymentScheme});break;case un.RecurlyAmazonPay:t=a.createElement(A.a,{type:A.e.H4},Object(E.d)("Checkout with Amazon Pay","PaymentMethodSelector"));break;case un.RecurlyPayPal:t=a.createElement(A.a,{type:A.e.H4},Object(E.d)("Checkout with PayPal","PaymentMethodSelector"));break;case un.RecurlyCreditCard:t=a.createElement(hn,null,Object(E.d)("Pay with Credit Card","PayWithCreditCardLine"));break;default:t=void 0}return t?a.createElement(h.a,{display:F.h.Flex,alignItems:F.b.Center,flexDirection:F.i.Row,justifyContent:F.m.Between},t,e.onChangePaymentMethod&&a.createElement(re.a,{onClick:e.onChangePaymentMethod},Object(E.d)("Change Payment Method","PaymentMethodSelector"))):null};!function(e){e[e.AllPaymentMethods=0]="AllPaymentMethods",e[e.RecurlyCreditCard=1]="RecurlyCreditCard",e[e.RecurlyPayPal=2]="RecurlyPayPal",e[e.RecurlyAmazonPay=3]="RecurlyAmazonPay",e[e.RecurlyDirectDebit=4]="RecurlyDirectDebit",e[e.Xsolla=5]="Xsolla"}(un||(un={}));var yn,vn=new Set([un.Xsolla,un.RecurlyPayPal,un.RecurlyAmazonPay,un.RecurlyDirectDebit,un.RecurlyCreditCard]);!function(e){e[e.Default=0]="Default",e[e.PaypalFirst=1]="PaypalFirst"}(yn||(yn={}));var gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChangePaymentMethodClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.ChangePaymentMethodClick}),t.props.onPaymentMethodChange(un.AllPaymentMethods)},t.useExistingPaymentMethod=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.UseExistingPaymentMethodClick}),t.props.showReviewPurchaseScreen()},t.showCCButton=function(){return!!t.props.recurlyCreditCardEnabled&&(t.props.paymentMethodLayout===yn.PaypalFirst||!!t.props.recurlyDirectDebitEnabled&&"t2"===E.p.experiments.getAndTrackAssignment(lt))},t.showDDButton=function(){return!!t.props.recurlyDirectDebitEnabled&&"t1"===E.p.experiments.getAndTrackAssignment(lt)},t.onPayPalClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"paypal",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyPayPal)},t.onDirectDebitClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"direct_debit",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyDirectDebit)},t.onCreditCardClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"credit_card",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyCreditCard)},t.onAmazonPayClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"amazon_pay",payment_provider:"recurly"})}),t.props.onPaymentMethodChange(un.RecurlyAmazonPay)},t.onXsollaClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_provider:"xsolla"})}),t.props.onPaymentMethodChange(un.Xsolla)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(vn.has(this.props.selectedPaymentMethod))return a.createElement(bn,{selectedPaymentMethod:this.props.selectedPaymentMethod,onChangePaymentMethod:this.onChangePaymentMethodClick,paymentScheme:this.props.paymentScheme});var e,t,n=a.createElement(a.Fragment,null,this.props.formHeader?this.props.formHeader:(e=this.props.hasEligibleSPM,t=this.useExistingPaymentMethod,a.createElement(h.a,{display:F.h.Flex,alignItems:F.b.Center,flexDirection:F.i.Row,justifyContent:F.m.Between,margin:{bottom:2}},a.createElement(h.a,{display:F.h.InlineFlex},a.createElement(A.a,{type:A.e.H4},Object(E.d)("Pay with","PaymentMethodSelector")),!Object(Re.a)()&&e&&a.createElement(xe.a,{margin:{left:1}})),e&&a.createElement(re.a,{onClick:t},Object(E.d)("Use Existing Payment Method","PaymentMethodSelector")),!Object(Re.a)()&&!e&&a.createElement(xe.a,null))),a.createElement(h.a,{"data-a-target":"payment-method-selector"},a.createElement(Xe.a,{gutterSize:Xe.b.Small},this.props.recurlyPayPalEnabled&&a.createElement(Je.a,{cols:{default:12,sm:this.colWidth}},a.createElement(h.a,{margin:{bottom:1},"data-a-target":"recurly-paypal-button"},a.createElement(on,{onClick:this.onPayPalClick}))),this.showCCButton()&&a.createElement(Je.a,{cols:{default:12,sm:this.colWidth}},a.createElement(h.a,{margin:{bottom:1}},a.createElement(Ht,{onClick:this.onCreditCardClick}))),this.showDDButton()&&a.createElement(Je.a,{cols:{default:12,sm:this.colWidth}},a.createElement(h.a,{margin:{bottom:1}},a.createElement(en,{onClick:this.onDirectDebitClick,scheme:this.props.paymentScheme}))),this.props.recurlyAmazonPayEnabled&&a.createElement(Je.a,{cols:{default:12,sm:this.colWidth}},a.createElement(h.a,{margin:{bottom:1},"data-a-target":"recurly-amazon-pay-button"},a.createElement(Ft,{onClick:this.onAmazonPayClick}))),this.props.xsollaEnabled&&a.createElement(Je.a,{cols:{default:12,sm:this.colWidth}},a.createElement(h.a,{margin:{bottom:1}},a.createElement(dn,{type:this.props.recurlyCreditCardEnabled?xt.MoreMethods:xt.CreditCardPlusMore,onClick:this.onXsollaClick}))))));return this.props.recurlyDirectDebitEnabled&&this.props.paymentMethodLayout===yn.Default&&"t2"===E.p.experiments.getAndTrackAssignment(lt)?a.createElement(a.Fragment,null,n,a.createElement(Ct,null),a.createElement(bn,{selectedPaymentMethod:un.RecurlyDirectDebit,paymentScheme:this.props.paymentScheme})):this.props.recurlyCreditCardEnabled&&this.props.paymentMethodLayout===yn.Default?a.createElement(a.Fragment,null,n,a.createElement(Ct,null),a.createElement(bn,{selectedPaymentMethod:un.RecurlyCreditCard})):n},Object.defineProperty(t.prototype,"colWidth",{get:function(){return this.props.paymentMethodLayout===yn.PaypalFirst&&this.props.recurlyCreditCardEnabled&&this.props.recurlyPayPalEnabled&&this.props.recurlyAmazonPayEnabled&&this.props.xsollaEnabled?3:4},enumerable:!0,configurable:!0}),t}(a.Component),kn=Object(s.d)(Object(m.withLatencyTracking)("PaymentMethodSelector",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(gn),Sn=["AD","AL","AT","AX","BA","BE","BG","BY","CH","CH","CY","CZ","DE","DK","EE","ES","EU","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","NO","PL","PT","RO","RS","SE","SI","SJ","SK","SM","UA","VA"];var Cn="dismissed_direct_debit_alert",En=function(e){function t(){var t,n=null!==e&&e.apply(this,arguments)||this;return n.state={selectedPaymentMethod:n.initialPaymentMethod,updatingPaymentMethodViaAPI:!1,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureChallengeFailed:!1,directDebitAlertDismissed:E.m.get(Cn,!1)},n.inPrioritizePayPalEUExperiment=(t=Object(j.a)()||"",Sn.includes(t.toUpperCase())&&"variant"===E.p.experiments.getAndTrackAssignment("prioritize_paypal_eu")),n.updateEventTrackingProperties=function(){switch(n.state.selectedPaymentMethod){case un.AllPaymentMethods:return void(n.recurlyCreditCardEnabled&&n.paymentMethodLayout!==yn.PaypalFirst?n.directDebitExperimentEnabled?(n.props.checkoutSessionTracker.activePaymentMethod="direct_debit",n.props.checkoutSessionTracker.activePaymentProvider="recurly"):(n.props.checkoutSessionTracker.activePaymentMethod="credit_card",n.props.checkoutSessionTracker.activePaymentProvider="recurly"):(n.props.checkoutSessionTracker.activePaymentMethod=void 0,n.props.checkoutSessionTracker.activePaymentProvider=void 0));case un.RecurlyPayPal:return n.props.checkoutSessionTracker.activePaymentMethod="paypal",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.RecurlyCreditCard:return n.props.checkoutSessionTracker.activePaymentMethod="credit_card",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.RecurlyAmazonPay:return n.props.checkoutSessionTracker.activePaymentMethod="amazon_pay",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.RecurlyDirectDebit:return n.props.checkoutSessionTracker.activePaymentMethod="direct_debit",void(n.props.checkoutSessionTracker.activePaymentProvider="recurly");case un.Xsolla:return n.props.checkoutSessionTracker.activePaymentMethod=void 0,void(n.props.checkoutSessionTracker.activePaymentProvider="xsolla");default:return}},n.onPaymentMethodChange=function(e){switch(e){case un.AllPaymentMethods:case un.RecurlyPayPal:case un.RecurlyAmazonPay:n.props.handlePaymentProviderUpdate(N.td.RECURLY)}n.setState({selectedPaymentMethod:e,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureChallengeFailed:!1})},n.onChangePaymentMethodClick=function(){n.props.handlePaymentProviderUpdate(N.td.RECURLY),n.setState({selectedPaymentMethod:un.AllPaymentMethods})},n.handleStrongAuthSuccess=function(e){n.threeDSecureUpdatePaymentMethodArgs.billingAuthInfo={threeDSecureActionResultTokenID:e},n.state.updatingPaymentMethodViaAPI&&(n.props.checkoutSessionTracker.track({subEvent:_.b.ThreeDS2Success}),n.updatePaymentMethod(n.threeDSecureUpdatePaymentMethodArgs))},n.handleStrongAuthError=function(e){n.props.checkoutSessionTracker.track({subEvent:_.b.ThreeDS2Failure,subEventDetail:JSON.stringify(e)}),n.setState({threeDSecureChallengeFailed:!0,updatingPaymentMethodViaAPI:!1})},n.handleStrongAuthShown=function(){n.props.checkoutSessionTracker.track({subEvent:_.b.ThreeDS2Prompt})},n.handleRecurlyDirectDebitToken=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return t=(null===(n=e.billing_info)||void 0===n?void 0:n.cc_bin_country)||this.props.bestGuessCountry,[4,this.updatePaymentMethod({paymentMethod:ct.b.DirectDebit,token:e.id,cardBINCountry:t,lastFour:e.lastFour})];case 1:return r.sent(),[2]}}))}))},n.handleRecurlyCreditCardToken=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:ct.b.CreditCard,token:e.id,cardBINCountry:null===(t=null==e?void 0:e.billing_info)||void 0===t?void 0:t.cc_bin_country})];case 1:return n.sent(),[2]}}))}))},n.handleCreditCardFormInteraction=function(){n.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateInit,subEventDetail:JSON.stringify({payment_method:"credit_card",payment_provider:"recurly"})})},n.handleRecurlyPayPalToken=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:ct.b.PayPal,token:e.id})];case 1:return t.sent(),[2]}}))}))},n.handleAmazonPayResponse=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.updatePaymentMethod({paymentMethod:ct.b.AmazonPay,token:e})];case 1:return t.sent(),[2]}}))}))},n.handleAmazonPayScriptError=function(e){n.props.checkoutSessionTracker.track({subEvent:_.b.VendorScriptFailure,subEventDetail:JSON.stringify({error:e})})},n.updatePaymentMethod=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n,r,a,o,s,c,l,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.paymentMethod,n=e.token,r=e.cardBINCountry,a=e.billingAuthInfo,o=e.lastFour,this.threeDSecureUpdatePaymentMethodArgs=e,this.setState({updatingPaymentMethodViaAPI:!0,updatePaymentMethodAPIError:!1,updatePaymentMethodAPIErrorCode:void 0,threeDSecureActionTokenID:void 0,threeDSecureChallengeFailed:!1}),this.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateAPIAttempt}),[4,ct.a.updatePaymentMethod({userID:this.props.currentUserID,paymentMethod:t,token:n,cardBINCountry:r,lastFour:o,billingAuthInfo:{threeDSecureActionResultTokenID:null==a?void 0:a.threeDSecureActionResultTokenID},paymentSession:this.props.paymentSession})];case 1:if(s=i.sent().error){if(l=null===(u=null==(c=s)?void 0:c.error_details)||void 0===u?void 0:u.three_d_secure_action_token_id,this.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateAPIFailure,subEventDetail:JSON.stringify(c)}),l)return this.setState({threeDSecureActionTokenID:l}),[2];this.setState({updatePaymentMethodAPIError:!0,updatePaymentMethodAPIErrorCode:null==c?void 0:c.error_code}),this.setState({updatingPaymentMethodViaAPI:!1})}else this.props.checkoutSessionTracker.track({subEvent:_.b.PaymentMethodUpdateAPISuccess}),this.props.onUpdatePaymentMethodSuccess();return[2]}}))}))},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateEventTrackingProperties()},t.prototype.componentDidUpdate=function(){this.updateEventTrackingProperties()},t.prototype.render=function(){if(!this.recurlyEnabled)return a.createElement(h.a,{className:"checkout-form-select-screen"},a.createElement(vt,{selectedQuantity:this.props.selectedQuantity,handlePaymentProviderUpdate:this.props.handlePaymentProviderUpdate,onChangePaymentMethodClick:this.onChangePaymentMethodClick,recurlyEnabled:this.recurlyEnabled,refetchCheckoutFormScreenManagerData:this.props.refetchCheckoutFormScreenManagerData,xsollaEnabled:this.xsollaEnabled,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,productPurchaseErrorCode:this.props.productPurchaseErrorCode,handlePurchaseSuccess:this.props.handlePurchaseSuccess,priceChangeNotice:this.props.priceChangeNotice}));var e=void 0;return this.isDirectDebitCountry&&(at.has(this.props.bestGuessCountry)?e=N.ud.BACS:it.has(this.props.bestGuessCountry)&&(e=N.ud.SEPA)),a.createElement(h.a,{className:"checkout-form-select-screen"},this.directDebitAlertBanner,a.createElement(kn,{selectedPaymentMethod:this.state.selectedPaymentMethod,paymentMethodLayout:this.paymentMethodLayout,onPaymentMethodChange:this.onPaymentMethodChange,showReviewPurchaseScreen:this.props.showReviewPurchaseScreen,hasEligibleSPM:this.props.hasEligibleSPM,recurlyCreditCardEnabled:!!this.recurlyCreditCardEnabled,recurlyPayPalEnabled:!!this.recurlyPayPalEnabled,recurlyAmazonPayEnabled:!!this.recurlyAmazonPayEnabled,recurlyDirectDebitEnabled:!!this.recurlyDirectDebitEnabled,xsollaEnabled:!!this.xsollaEnabled,formHeader:this.props.formHeader,paymentScheme:e}),this.anyErrorMessage,a.createElement(Qe.a,null,this.paymentMethodProcessor))},Object.defineProperty(t.prototype,"directDebitAlertBanner",{get:function(){var e=this;if(null!==this.props.paymentMethods&&!this.props.paymentMethods.every((function(e){return e.paymentType!==N.rd.DIRECT_DEBIT}))&&(this.isDirectDebitCountry&&"c"!==E.p.experiments.getAndTrackAssignment(lt)))return this.props.tplr===ne.ChannelSub||this.state.directDebitAlertDismissed?void 0:a.createElement(gt,{bestGuessCountry:this.props.bestGuessCountry,onDismiss:function(){E.m.set(Cn,!0),e.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{directDebitAlertDismissed:!0})}))},onLoad:function(){e.props.checkoutSessionTracker.tplr=e.props.tplr,e.props.checkoutSessionTracker.track({subEvent:_.b.DirectDebitUnavailableBannerLoad})}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialPaymentMethod",{get:function(){return"variant"===E.p.experiments.getAndTrackAssignment("prioritize_xsolla")&&this.props.checkoutActions.includes(N.U.PRIORITIZE_XSOLLA)?un.Xsolla:this.recurlyEnabled?un.AllPaymentMethods:un.Xsolla},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodLayout",{get:function(){return this.inPrioritizePayPalEUExperiment?yn.PaypalFirst:yn.Default},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDirectDebitCountry",{get:function(){return!!this.props.bestGuessCountry&&ut(this.props.bestGuessCountry)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyDirectDebitEnabled",{get:function(){return this.isDirectDebitCountry?ne.ChannelSub!==this.props.tplr?null:this.props.checkoutActions.includes(N.U.DISABLE_NEW_DIRECT_DEBIT)?null:this.eligiblePaymentMethod(N.mc.DIRECT_DEBIT):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyCreditCardEnabled",{get:function(){return this.props.checkoutActions.includes(N.U.DISABLE_NEW_CREDIT_CARD)?null:this.eligiblePaymentMethod(N.mc.CREDIT_CARD)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyPayPalEnabled",{get:function(){return this.eligiblePaymentMethod(N.mc.PAYPAL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyAmazonPayEnabled",{get:function(){return this.eligiblePaymentMethod(N.mc.AMAZON_PAY)},enumerable:!0,configurable:!0}),t.prototype.eligiblePaymentMethod=function(e){return this.props.eligiblePaymentMethods.find((function(t){return t.name===e}))||null},Object.defineProperty(t.prototype,"recurlyEnabled",{get:function(){return!!(this.recurlyCreditCardEnabled||this.recurlyPayPalEnabled||this.recurlyAmazonPayEnabled||this.recurlyDirectDebitEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xsollaEnabled",{get:function(){return this.props.eligiblePaymentMethods.find((function(e){return e.name===N.mc.XSOLLA}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"directDebitExperimentEnabled",{get:function(){var e;return(null===(e=this.recurlyDirectDebitEnabled)||void 0===e?void 0:e.availabilityStatus)===N.sd.AVAILABLE&&"t2"===E.p.experiments.getAndTrackAssignment(lt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reviewPurchaseText",{get:function(){return Object(E.d)("Review Purchase","CheckoutFormSelectScreen")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anyErrorMessage",{get:function(){return this.state.updatePaymentMethodAPIError?a.createElement(kt,null,Object(dt.a)(this.state.updatePaymentMethodAPIErrorCode)):this.state.threeDSecureChallengeFailed?a.createElement(St,null):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodProcessor",{get:function(){var e,t,n,r,i,o;switch(this.state.selectedPaymentMethod){case un.AllPaymentMethods:if(!this.recurlyCreditCardEnabled||this.inPrioritizePayPalEUExperiment)return null;var s=a.createElement(pt,{paymentMethodAvailable:null===(e=this.recurlyCreditCardEnabled)||void 0===e?void 0:e.availabilityStatus},a.createElement(h.a,null,a.createElement(Ae.a,{publicKey:this.props.recurlyConfigs.publicKey,handleSuccess:this.handleStrongAuthSuccess,handleError:this.handleStrongAuthError,handleChallengeShown:this.handleStrongAuthShown,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID},a.createElement(Ye.a,{publicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyCreditCardToken,onFirstFormInteraction:this.handleCreditCardFormInteraction}))));return this.directDebitExperimentEnabled?a.createElement(pt,{paymentMethodAvailable:null===(t=this.recurlyDirectDebitEnabled)||void 0===t?void 0:t.availabilityStatus},a.createElement(h.a,{padding:{top:1}},a.createElement(ot,{userCountry:this.props.bestGuessCountry,recurlyPublicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,handleTokenResponse:this.handleRecurlyDirectDebitToken,forceLoadingState:this.state.updatingPaymentMethodViaAPI}))):s;case un.RecurlyDirectDebit:return a.createElement(pt,{paymentMethodAvailable:null===(n=this.recurlyDirectDebitEnabled)||void 0===n?void 0:n.availabilityStatus},a.createElement(h.a,{padding:{top:1}},a.createElement(ot,{userCountry:this.props.bestGuessCountry,recurlyPublicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,handleTokenResponse:this.handleRecurlyDirectDebitToken,forceLoadingState:this.state.updatingPaymentMethodViaAPI})));case un.RecurlyPayPal:return a.createElement(pt,{paymentMethodAvailable:null===(r=this.recurlyPayPalEnabled)||void 0===r?void 0:r.availabilityStatus},a.createElement(h.a,{padding:{y:3}},a.createElement(st.a,{publicKey:this.props.recurlyConfigs.publicKey,braintreeClientAuthorization:this.props.recurlyConfigs.braintreeClientAuthorization,callToActionButtonLabel:"",forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyPayPalToken,autoLogin:!0})));case un.RecurlyCreditCard:return a.createElement(pt,{paymentMethodAvailable:null===(i=this.recurlyCreditCardEnabled)||void 0===i?void 0:i.availabilityStatus},a.createElement(h.a,null,a.createElement(Ae.a,{publicKey:this.props.recurlyConfigs.publicKey,handleSuccess:this.handleStrongAuthSuccess,handleError:this.handleStrongAuthError,handleChallengeShown:this.handleStrongAuthShown,threeDSecureActionTokenID:this.state.threeDSecureActionTokenID},a.createElement(Ye.a,{publicKey:this.props.recurlyConfigs.publicKey,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleTokenResponse:this.handleRecurlyCreditCardToken,onFirstFormInteraction:this.handleCreditCardFormInteraction}))));case un.RecurlyAmazonPay:return a.createElement(pt,{paymentMethodAvailable:null===(o=this.recurlyAmazonPayEnabled)||void 0===o?void 0:o.availabilityStatus},a.createElement(h.a,{padding:{y:3}},a.createElement(He.a,{clientID:this.props.recurlyConfigs.payWithAmazonConfigs.clientID,isProduction:this.props.recurlyConfigs.payWithAmazonConfigs.isProduction,sellerID:this.props.recurlyConfigs.payWithAmazonConfigs.sellerID,callToActionButtonLabel:this.reviewPurchaseText,forceLoadingState:this.state.updatingPaymentMethodViaAPI,handleBillingAgreementID:this.handleAmazonPayResponse,handleAmazonPayScriptError:this.handleAmazonPayScriptError,autoLogin:!0})));case un.Xsolla:return a.createElement(vt,{selectedQuantity:this.props.selectedQuantity,handlePaymentProviderUpdate:this.props.handlePaymentProviderUpdate,onChangePaymentMethodClick:this.onChangePaymentMethodClick,recurlyEnabled:this.recurlyEnabled,refetchCheckoutFormScreenManagerData:this.props.refetchCheckoutFormScreenManagerData,xsollaEnabled:this.xsollaEnabled,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,productPurchaseErrorCode:this.props.productPurchaseErrorCode,handlePurchaseSuccess:this.props.handlePurchaseSuccess,priceChangeNotice:this.props.priceChangeNotice});default:return null}},enumerable:!0,configurable:!0}),t}(a.Component),On=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormSelectScreen",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(En),Pn=n("V/nq"),Dn=n("8EUQ"),jn=n("Mb07"),Nn=n("CoFg"),Tn=(n("vLiP"),function(e){function t(){var t,n=e.apply(this,arguments)||this;return n.sortedOffers=null===(t=n.props.multimonthGiftOffers)||void 0===t?void 0:t.sort((function(e,t){return e.months-t.months})),n.handleMultimonthSelect=function(e){var t=e.target.value;n.props.handleMultimonthSelect({selectedOfferID:t})},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;return a.createElement(h.a,{className:"month-selector"},a.createElement(Nn.a,{onChange:this.handleMultimonthSelect,value:""+this.props.selectedOfferID,"data-a-target":"checkout-month-selector"},null===(e=this.sortedOffers)||void 0===e?void 0:e.map((function(e){var t=e.offerID,n=e.months;return a.createElement("option",{key:t,value:t,"data-months":n},Object(E.d)("{months, plural, one {{months} month} other {{months} months}}",{months:n},"MonthSelector"))}))))},t}(a.Component)),In=(n("vK6+"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inputString:t.props.quantity.toString()},t.handleSelectChange=function(e){var n=e.target.value;t.props.handleQuantitySelect(Number(n))},t.handleInputChange=function(e){if(""===e.target.value)return t.props.handleQuantitySelect(t.props.min),void t.setState({inputString:""});var n=parseInt(e.target.value,10);isNaN(n)||(n<t.props.min?n=t.props.min:n>t.props.max&&(n=t.props.max),t.setState({inputString:n.toString()}),t.props.handleQuantitySelect(n))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.max-this.props.min<=9?this.quantityDropdownSelector:this.customQuantitySelector},Object.defineProperty(t.prototype,"quantityDropdownSelector",{get:function(){var e=[];if(this.props.min&&this.props.max)for(var t=this.props.min;t<=this.props.max;t++)e.push(a.createElement("option",{key:t,value:t},Object(E.f)(t)));return a.createElement(h.a,{className:"quantity-selector"},a.createElement(Nn.a,{onChange:this.handleSelectChange,value:""+this.props.quantity,"data-a-target":"checkout-quantity-selector"},e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customQuantitySelector",{get:function(){return a.createElement(h.a,{className:"quantity-selector",margin:{bottom:1},display:F.h.Flex,breakpointSmall:{margin:{y:1}}},a.createElement(h.a,{margin:{right:1},display:F.h.Flex,alignItems:F.b.Center},a.createElement(A.a,{color:F.f.Alt2,fontSize:F.k.Size8},Object(E.d)("(max {limit, number})",{limit:this.props.max},"QuantitySelector"))),a.createElement(et.a,{max:this.props.max,min:this.props.min,onChange:this.handleInputChange,type:et.c.Number,value:this.state.inputString}))},enumerable:!0,configurable:!0}),t}(a.Component)),_n=n("a5fV"),wn=n("cBvd"),An=n("eUaf"),xn=n("7Py2"),Rn=(n("Jhy1"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCard=function(e,n){var r,i,o,s,c,l,u=e.id===t.props.selectedOfferID,d=Object(p.d)("Renews monthly","MultiMonthOfferSelector"),m=null===(c=null===(s=null===(o=null===(i=null===(r=e.listing)||void 0===r?void 0:r.chargeModel)||void 0===i?void 0:i.internal)||void 0===o?void 0:o.plan)||void 0===s?void 0:s.interval)||void 0===c?void 0:c.duration;m&&(d=Object(p.d)("{duration, plural, one {Renews monthly} other {Renews every # months}}",{duration:m},"MultiMonthOfferSelector"));var f,b,y=Object(_n.c)(e,1,!0),v=null===(l=e.promotion)||void 0===l?void 0:l.promoDisplay.discountPercent;return v&&m&&(b=Object(_n.c)(e),f=Object(p.d)("{duration, plural, one {{percent}% off 1st month} other {{percent}% off 1st # months}}",{duration:m,percent:v},"MultiMonthOfferSelector")),a.createElement(h.a,{margin:.5,flexGrow:1,fullWidth:!0},a.createElement(wn.a,{type:wn.b.Checkbox,onChange:function(){return!u&&t.handleSelect(e.id)},key:n,disabled:t.props.disabled,borderRadius:F.e.Medium,checked:u},a.createElement(h.a,{padding:1,background:u?F.d.Base:F.d.Alt2,className:"multi-month-offer-selector",display:F.h.Flex,flexDirection:F.i.Column,justifyContent:F.m.Between},a.createElement(ie.a,{padding:{bottom:1},"data-a-target":"multi-month-offer-selector"},a.createElement(A.a,{fontSize:F.k.Size5,bold:!0},d)),a.createElement(h.a,{justifyContent:F.m.Between},b&&a.createElement(A.a,{decoration:A.c.Strikethrough,color:F.f.Alt2,type:A.e.Span},y),a.createElement(ie.a,{padding:.5},a.createElement(A.a,{color:F.f.Alt,type:A.e.Span},b||y)),f&&a.createElement(ie.a,{padding:.5},a.createElement(An.a,{label:f,type:An.b.Success}))))))},t.handleSelect=function(e){t.props.handleSelect({selectedOfferID:e})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(h.a,{margin:{y:2}},a.createElement(ie.a,{padding:{bottom:1}},a.createElement(xn.a,{type:A.e.H2,size:xn.b.ExtraSmall},Object(p.d)("Select Renewal Period","MultiMonthOfferSelector"))),a.createElement(h.a,{display:F.h.Flex,flexWrap:F.j.NoWrap},this.props.multiMonthOffers.map((function(t,n){return e.renderCard(t,n)}))))},t}(a.Component));function Mn(e,t){var n,r,i,a,o=null==t?void 0:t.find((function(t){return t.id===e})),s=null===(a=null===(i=null===(r=null===(n=null==o?void 0:o.listing)||void 0===n?void 0:n.chargeModel)||void 0===r?void 0:r.internal)||void 0===i?void 0:i.plan)||void 0===a?void 0:a.interval;return(null==s?void 0:s.unit)===N.Q.MONTHS?null==s?void 0:s.duration:void 0}var Fn,Bn=n("Q7xm"),Ln=n.n(Bn),Un=n("sqAG"),Gn=n.n(Un),zn=n("b92r"),qn=n.n(zn),Vn=n("3Qp8"),Wn=n.n(Vn),Hn=function(e){return a.createElement(h.a,{display:F.h.Flex},a.createElement(h.a,{flexGrow:0,flexShrink:0,verticalAlign:F.r.Top,margin:{right:1},padding:{top:.5}},e.leftColumn),a.createElement(h.a,{verticalAlign:F.r.Top,flexGrow:1,flexShrink:1},e.rightColumn))},Qn=n("LNol"),Yn=n("Ix37"),Kn=function(){return a.createElement(Hn,{leftColumn:a.createElement(Qn.a,{asset:Yn.a.DeadGlitch,height:30,width:30}),rightColumn:a.createElement(J.a,{lineCount:2})})},Zn=function(){return a.createElement(Hn,{leftColumn:a.createElement(J.a,{height:30,width:30}),rightColumn:a.createElement(J.a,{lineCount:2})})},Xn=n("1ZY8"),Jn=(n("DFKC"),{100:qn.a,500:qn.a,1500:Gn.a,5e3:Ln.a,1e4:Wn.a,25e3:Wn.a}),$n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?this.props.data.error?a.createElement(Kn,null):a.createElement(Hn,{leftColumn:a.createElement(Mt.a,{className:"bits-product-description__bits-image",src:this.bitsImgSrc,alt:this.formattedBitsBundleText}),rightColumn:a.createElement(h.a,null,a.createElement(A.a,{bold:!0,"data-a-target":"bits-product-text"},this.formattedBitsBundleText),a.createElement(A.a,{color:F.f.Alt2},Object(E.d)("One-time charge on {date}.",{date:Object(E.c)(new Date(Date.now()),"medium")},"BitsProductDescription")))}):a.createElement(Zn,null)},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitsAmount",{get:function(){var e=this,t=this.props.data.currentUser;if(!t||!t.bitsOffers)return null;var n=t.bitsOffers.find((function(t){return!(!t||"BitsBundleOffer"!==t.__typename||t.asin!==e.props.productID)}));return n?n.bits:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitsImgSrc",{get:function(){return this.bitsAmount&&Jn[this.bitsAmount]?Jn[this.bitsAmount]:qn.a},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBitsBundleText",{get:function(){return this.bitsAmount?Object(E.d)("{bitsAmount, number} Bits Bundle",{bitsAmount:this.bitsAmount},"BitsProductDescription"):Object(E.d)("Bits Bundle","BitsProductDescription")},enumerable:!0,configurable:!0}),t}(a.Component),er=Object(s.d)(Object(m.withLatencyTracking)("BitsProductDescription"),Object(P.a)(Xn))($n),tr=n("eirU"),nr=n("QVaV"),rr=n("E1Lb");!function(e){e.ProductText="celebrations-product-text"}(Fn||(Fn={}));var ir=function(e){var t=e.channelLogin,n=e.channelDisplayName;return a.createElement(Hn,{leftColumn:a.createElement(rr.a,{asset:Yn.a.Celebration}),rightColumn:a.createElement(h.a,null,a.createElement(A.a,{bold:!0,"data-test-selector":Fn.ProductText},Object(E.d)("Celebration on {channel}",{channel:Object(nr.a)(t,n)},"CelebrationsProductDescription")),a.createElement(A.a,{color:F.f.Alt2},Object(E.d)("One-time charge on {date}.",{date:Object(E.c)(new Date(Date.now()),"medium")},"CelebrationsProductDescription")))})},ar=n("vIXB"),or=function(e){var t=e.tagBindings,n=a.useMemo((function(){var e=t.find((function(e){return"channel_id"===e.key}));return null==e?void 0:e.value}),[t]),r=Object(tr.d)(ar,{variables:{id:n||""},skip:!n}),i=r.data,o=r.loading,s=r.error,c=a.useMemo((function(){var e;return!i||s||o?"":(null===(e=i.user)||void 0===e?void 0:e.login)||""}),[s,o,i]),l=a.useMemo((function(){var e;return!i||s||o?"":(null===(e=i.user)||void 0===e?void 0:e.displayName)||""}),[s,o,i]);return!i||s||o?null:a.createElement(ir,{channelLogin:c,channelDisplayName:l})},sr=n("HGFl"),cr=n("iF2L"),lr=n("ku6+"),ur=(n("IVzh"),function(e){var t=e.channelName;return a.createElement(lr.a,{padding:{left:1,right:1,top:.5,bottom:.5},message:a.createElement(h.a,{display:F.h.Flex,flexDirection:F.i.Row,alignItems:F.b.Center,justifyContent:F.m.Start,borderRadius:F.e.Medium,className:"sub-benefit-callout"},a.createElement(h.a,{margin:{right:1}},a.createElement(Mt.a,{className:"sub-benefit-callout__image",src:"https://static-cdn.jtvnw.net/emoticons/v1/62835/3.0",alt:"bleedPurple",srcSet:{"1x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/1.0","2x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/2.0","3x":"https://static-cdn.jtvnw.net/emoticons/v1/62835/3.0"}})),a.createElement(A.a,null,Object(E.d)("This sub directly supports {channelName} and their stream",{channelName:t},"SubscriptionBenefitsCallout")))})}),dr=n("M9G0"),pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.dataReady?this.props.data.error?a.createElement(Kn,null):a.createElement(Hn,{leftColumn:a.createElement(cr.a,{alt:this.channelLogin,size:60,src:this.avatarSrc,userLogin:this.channelLogin}),rightColumn:a.createElement(h.a,null,a.createElement(A.a,{bold:!0},this.formattedProductName),this.upgradeRecurringSub&&a.createElement(A.a,{color:F.f.Alt2},this.upgradeWarningText),this.isGift&&a.createElement(A.a,{color:F.f.Alt2},this.giftText),a.createElement(A.a,{color:F.f.Alt2},this.formattedChargeDateText),(this.upgradeRecurringSub||this.isGift||this.recurring)&&a.createElement(h.a,{margin:{top:.5}},a.createElement(ur,{channelName:this.channelOwnerDisplayName})))}):a.createElement(Zn,null)},Object.defineProperty(t.prototype,"dataReady",{get:function(){return!this.props.data.loading||!!this.props.data.error||!!this.props.data.purchasableOffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upgradeWarningText",{get:function(){return Object(E.d)("You are upgrading your Subscription. You will be charged for your upgrade and will not be prorated for your previous Subscription.","SubsProductDescription")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"avatarSrc",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.profileImageURL)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelLogin",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.login)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"channelOwnerDisplayName",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.owner)||void 0===n?void 0:n.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tier",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.subscriptionProduct)||void 0===t?void 0:t.tier)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedProductName",{get:function(){switch(this.tier){case"1000":return Object(E.d)("Tier 1 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");case"2000":return Object(E.d)("Tier 2 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");case"3000":return Object(E.d)("Tier 3 Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription");default:return Object(E.d)("Subscription to {channelName}",{channelName:this.channelOwnerDisplayName},"SubsProductDescription")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"benefitsStartAt",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.benefitsStartAt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedFutureChargeDate",{get:function(){return this.benefitsStartAt?Object(E.c)(Object(sr.h)(this.benefitsStartAt),"medium"):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurring",{get:function(){var e,t,n,r,i,a;return(null===(a=null===(i=null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel)||void 0===r?void 0:r.internal)||void 0===i?void 0:i.plan)||void 0===a?void 0:a.renewalPolicy)===N.ee.AUTO_RENEW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"futureDated",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===N.id.FUTURE_PURCHASE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"upgradeRecurringSub",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.purchaseType)===N.id.UPGRADE_RECURRING_SUB_TIER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedChargeDateText",{get:function(){return this.futureDated?this.props.chargeInterval&&this.props.chargeInterval>1?Object(E.d)("{chargeInterval, plural, one {Charged every # month, starting when your current Subscription ends on {futureDate}. Cancel anytime on your Subscriptions page.} other {Charged every # months, starting when your current Subscription ends on {futureDate}. Cancel anytime on your Subscriptions page.}}",{chargeInterval:this.props.chargeInterval,futureDate:this.formattedFutureChargeDate},"SubsProductDescription"):Object(E.d)("Monthly recurring charge, starting when your current Subscription ends on {futureDate}. Cancel anytime on your Subscriptions page.",{futureDate:this.formattedFutureChargeDate},"SubsProductDescription"):this.recurring?this.props.chargeInterval&&this.props.chargeInterval>1?Object(E.d)("{chargeInterval, plural, one {Charged every # month starting {date}. Cancel anytime on your Subscriptions page.} other {Charged every # months starting {date}. Cancel anytime on your Subscriptions page.}}",{chargeInterval:this.props.chargeInterval,date:Object(E.c)(new Date(Date.now()),"medium")},"SubsProductDescription"):Object(E.d)("Monthly recurring charge, starting {date}. Cancel anytime on your Subscriptions page.",{date:Object(E.c)(new Date(Date.now()),"medium")},"SubsProductDescription"):Object(E.d)("One-time charge on {date}.",{date:Object(E.c)(new Date(Date.now()),"medium")},"SubsProductDescription")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleGift",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.giftType)===N.Gc.SINGLE_RECIPIENT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"communityGift",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.giftType)===N.Gc.COMMUNITY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGift",{get:function(){return this.singleGift||this.communityGift},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftRecipient",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.giftRecipient)||void 0===t?void 0:t.displayName)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"giftText",{get:function(){return this.singleGift?this.props.isAnonymous?Object(E.d)("You are anonymously gifting this to {giftRecipient}.",{giftRecipient:this.giftRecipient},"SubsProductDescription"):Object(E.d)("You are gifting this to {giftRecipient}.",{giftRecipient:this.giftRecipient},"SubsProductDescription"):this.communityGift?this.props.isAnonymous?Object(E.d)("You are anonymously gifting this to the community.","SubsProductDescription"):Object(E.d)("You are gifting this to the community.","SubsProductDescription"):""},enumerable:!0,configurable:!0}),t}(a.Component),mr=Object(s.d)(Object(m.withLatencyTracking)("SubsProductDescription"),Object(P.a)(dr,{options:function(e){var t="";return e.giftRecipientIDs&&(t=e.giftRecipientIDs[0]),{variables:{productName:e.productName||"",giftRecipientID:t,includeGiftRecipientQuery:!!t,params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}},fetchPolicy:"network-only"}}}))(pr),hr=n("UxA+"),fr=n.n(hr),br=(n("7m5f"),function(){var e=Object(E.d)("Twitch Turbo","TurboProductDescription");return a.createElement(Hn,{leftColumn:a.createElement(Mt.a,{className:"turbo-product-description__turbo-avatar-image",src:fr.a,alt:e}),rightColumn:a.createElement(a.Fragment,null,a.createElement(A.a,{bold:!0},e),a.createElement(A.a,{color:F.f.Alt2},Object(E.d)('Monthly recurring charge, starting {date}. Cancel anytime by selecting "Do Not Renew" on your Subscriptions page.',{date:Object(E.c)(new Date(Date.now()),"medium")},"TurboProductDescription")))})}),yr=n("CD86"),vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.dataReady&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e;if(!this.dataReady)return a.createElement(Zn,null);if(null===(e=this.props.data)||void 0===e?void 0:e.error)return a.createElement(Kn,null);switch(this.tplr){case ne.BitsBundle:return a.createElement(er,{productID:this.productID});case ne.ChannelSub:case ne.ChannelSubStandardGift:case ne.ChannelSubCommunityGift:case ne.ChannelSubCustom:return a.createElement(mr,{offerID:this.props.selectedOfferID,tplr:this.tplr,productName:this.props.productName,giftRecipientIDs:this.props.giftRecipientIDs,isAnonymous:this.props.isAnonymous,tagBindings:this.props.tagBindings,chargeInterval:Mn(this.props.selectedOfferID,this.props.multiMonthOffers)});case ne.Turbo:return a.createElement(br,null);case ne.Celebrations:return a.createElement(or,{tagBindings:this.props.tagBindings});default:return a.createElement(Kn,null)}},Object.defineProperty(t.prototype,"dataReady",{get:function(){var e,t;return!this.props.selectedOfferID||(!(null===(e=this.props.data)||void 0===e?void 0:e.loading)||!!(null===(t=this.props.data)||void 0===t?void 0:t.error)||!!this.props.data.purchasableOffer)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tplr",{get:function(){var e,t;return(null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tplr)||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.tagBindings},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productID",{get:function(){if(this.tplr===ne.BitsBundle&&this.tagBindings){var e=this.tagBindings.find((function(e){return"product_id"===e.key}));return e&&e.value||""}return""},enumerable:!0,configurable:!0}),t}(a.Component),gr=Object(s.d)(Object(m.withLatencyTracking)("ProductDescription"),g((function(e){return Object(i.__assign)({},e)})),Object(P.a)(yr,{options:function(e){return{variables:{params:{offerID:e.selectedOfferID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs}}}},skip:function(e){return!e.selectedOfferID}}))(vr),kr=(n("A1XS"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.selectorComponent?8:9,t=this.props.selectorComponent?4:3;return a.createElement(h.a,{className:"summary-layout",padding:2,breakpointSmall:{padding:{x:3}},borderBottom:!0},!!this.props.closeModal&&a.createElement(h.a,{margin:{bottom:2}},a.createElement(xn.a,{size:xn.b.Large,type:A.e.H1},Object(p.d)("Complete Purchase","SummaryLayout"))),this.props.multiMonthOffers&&this.props.multiMonthOffers.length>1&&a.createElement(Rn,{multiMonthOffers:this.props.multiMonthOffers,selectedOfferID:this.props.selectedOfferID,handleSelect:this.props.handleMultimonthSelect,disabled:this.props.purchaseComplete}),a.createElement(h.a,{borderBottom:!0,margin:{bottom:1},padding:{bottom:1}},a.createElement(Xe.a,null,a.createElement(Je.a,{cols:{default:12,sm:e}},a.createElement(h.a,{margin:{bottom:1}},a.createElement(xn.a,{type:A.e.H2,size:xn.b.ExtraSmall},Object(p.d)("Purchase Summary","SummaryLayout"))),a.createElement(h.a,{margin:{bottom:2},breakpointSmall:{margin:0}},a.createElement(gr,{selectedOfferID:this.props.selectedOfferID}))),a.createElement(Je.a,{cols:{default:12,sm:t}},a.createElement(Xe.a,null,this.props.selectorComponent,this.props.topContent)))),this.props.bottomContent)},t}(a.Component)),Sr=Object(s.d)(Object(m.withLatencyTracking)("SummaryLayout",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(kr),Cr=(n("sAl/"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleQuantitySelect=function(e){t.props.handleQuantitySelect(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(p.d)("Gift Card Balance: ({balanceString})",{balanceString:this.formattedBalance},"CheckoutFormSummary"),t=Object(p.d)("Have a Twitch Gift Card? <x:redeem>Redeem now</x:redeem>",{"x:redeem":function(e){return a.createElement(re.a,{onClick:function(){window.open("/redeem")}},e)}},"CheckoutFormSummary");if(this.inMultiMonthExperiment||this.props.paymentProvider===N.td.XSOLLA_V3&&!this.isTaxInclusive){var n=this.props.walletBalance?Object(p.d)("Your Gift Card Balance cannot be used with the selected payment provider. See below for total.","CheckoutFormSummary"):Object(p.d)("See below for total","CheckoutFormSummary");return a.createElement(Sr,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,topContent:this.subtotalDisplay,bottomContent:a.createElement(Xe.a,null,a.createElement(Je.a,{cols:{default:12,sm:6},offset:{default:0,sm:6}},a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,null,n)))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete})}return this.isTaxInclusive?a.createElement(Sr,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,bottomContent:a.createElement(Xe.a,null,a.createElement(Je.a,{cols:{default:12,sm:6}},this.balanceEnabled&&a.createElement(h.a,{display:F.h.Flex,alignItems:F.b.Center,margin:{top:1,bottom:1}},a.createElement(A.a,{fontSize:F.k.Size6},t))),a.createElement(Je.a,{cols:{default:9,sm:4}},this.discountPercent&&this.promotionLineItemDisplay,this.balanceEnabled&&a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,null,e)),a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,{type:A.e.Strong,fontSize:F.k.Size4},Object(p.d)("Total including VAT","CheckoutFormSummary")))),a.createElement(Je.a,{cols:{default:3,sm:2}},this.discountPrice&&this.formattedDiscountDisplay,this.balanceEnabled&&a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,null,this.formattedBalanceDeduction)),a.createElement(h.a,{textAlign:F.q.Right},this.props.updatingPrice?a.createElement(h.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(A.a,null,a.createElement(A.a,{type:A.e.Span,fontSize:F.k.Size4,bold:!0},this.formattedTotal),this.total&&!this.discountPrice&&!this.hasWalletBalance&&a.createElement(A.a,{type:A.e.Span},this.formattedInterval))))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete}):a.createElement(Sr,{selectedOfferID:this.props.selectedOfferID,selectorComponent:this.quantitySelector||this.monthSelector,topContent:this.subtotalDisplay,bottomContent:a.createElement(Xe.a,null,a.createElement(Je.a,{cols:{default:12,sm:6}},this.balanceEnabled&&a.createElement(h.a,{display:F.h.Flex,alignItems:F.b.Center,margin:{top:2,bottom:2}},a.createElement(A.a,{fontSize:F.k.Size6},t))),a.createElement(Je.a,{cols:{default:9,sm:4}},this.discountPercent&&this.promotionLineItemDisplay,a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,null,Object(p.d)("Tax","CheckoutFormSummary"))),this.balanceEnabled&&a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,null,e)),a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,{type:A.e.Strong,fontSize:F.k.Size4},Object(p.d)("Total","CheckoutFormSummary")))),a.createElement(Je.a,{cols:{default:3,sm:2}},this.discountPrice&&this.formattedDiscountDisplay,a.createElement(h.a,{textAlign:F.q.Right},this.props.updatingPrice?a.createElement(h.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(A.a,null,this.formattedTax)),this.balanceEnabled&&a.createElement(h.a,{textAlign:F.q.Right},a.createElement(A.a,{"data-a-target":"checkout-summary-balance-deduction"},this.formattedBalanceDeduction)),a.createElement(h.a,{textAlign:F.q.Right},this.props.updatingPrice?a.createElement(h.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(A.a,null,a.createElement(A.a,{type:A.e.Span,fontSize:F.k.Size4,bold:!0,"data-a-target":"checkout-summary-total"},this.formattedTotal),this.total&&!this.discountPrice&&!this.hasWalletBalance&&a.createElement(A.a,{type:A.e.Span},this.formattedInterval))))),handleMultimonthSelect:this.props.handleMultimonthSelect,purchaseComplete:this.props.purchaseComplete})},Object.defineProperty(t.prototype,"showQuantitySelector",{get:function(){return this.props.quantityMin<this.props.quantityMax&&!this.isRecurring},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthSelector",{get:function(){var e;return!!(null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRecurring",{get:function(){return this.props.plan.renewalPolicy===N.ee.AUTO_RENEW},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthSelector",{get:function(){var e;if(null===(e=this.props.multimonthGiftOffers)||void 0===e?void 0:e.length)return a.createElement(Je.a,{cols:{default:12,sm:8},offset:this.isTaxInclusive?{default:0,sm:4}:void 0},a.createElement(Xe.a,null,a.createElement(Je.a,{cols:{default:6,sm:12}},a.createElement(h.a,{margin:{bottom:1},textAlign:F.q.Left,breakpointSmall:{textAlign:F.q.Right}},a.createElement(A.a,null,Object(p.d)("Months","CheckoutFormSummary")))),a.createElement(Je.a,{cols:{default:6,sm:12}},a.createElement(Tn,{selectedOfferID:this.props.selectedOfferID,handleMultimonthSelect:this.props.handleMultimonthSelect,multimonthGiftOffers:this.props.multimonthGiftOffers}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantitySelector",{get:function(){if(this.showQuantitySelector)return a.createElement(Je.a,{cols:{default:12,sm:8},offset:this.isTaxInclusive?{default:0,sm:4}:void 0},a.createElement(Xe.a,null,a.createElement(Je.a,{cols:{default:6,sm:12}},a.createElement(h.a,{margin:{bottom:1},textAlign:F.q.Left,breakpointSmall:{textAlign:F.q.Right}},a.createElement(A.a,null,Object(p.d)("Quantity","CheckoutFormSummary")))),a.createElement(Je.a,{cols:{default:6,sm:12}},a.createElement(In,{min:this.props.quantityMin,max:this.props.quantityMax,quantity:this.props.selectedQuantity,handleQuantitySelect:this.handleQuantitySelect}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtotalDisplay",{get:function(){var e=this.showQuantitySelector||this.showMonthSelector?4:12;return a.createElement(Je.a,{cols:{default:12,sm:e}},a.createElement(Xe.a,{fullHeight:!0},a.createElement(Je.a,{cols:{default:6,sm:12}},a.createElement(h.a,{textAlign:F.q.Left,breakpointSmall:{textAlign:F.q.Right,margin:{bottom:1}}},a.createElement(A.a,null,Object(p.d)("Price","CheckoutFormSummary")))),a.createElement(Je.a,{cols:{default:6,sm:12}},a.createElement(h.a,{textAlign:F.q.Right,alignItems:F.b.Center,verticalAlign:F.r.TextTop},this.props.updatingPrice?a.createElement(h.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(A.a,{"data-a-target":"checkout-summary-subtotal"},this.formattedSubtotal)))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promotionLineItemDisplay",{get:function(){var e,t,n;if(!this.discountPercent)return null;if(null===(t=null===(e=this.props.promotion)||void 0===e?void 0:e.name)||void 0===t?void 0:t.includes(jn.a.MultiMonthIntroOffer))return this.multimonthOfferLineItemDisplay;switch(null===(n=this.props.promotion)||void 0===n?void 0:n.name){case jn.a.FirstPaidSubOffer:return this.firstPaidSubOfferLineItemDisplay;case jn.a.FirstPaidGiftOffer:case jn.a.FirstPaidSingleGiftOffer:case jn.a.FirstPaidMulitMonthOffer:return this.firstPaidGiftOfferLineItemDisplay;case jn.a.ActiveSubCommunityGiftPromoOffer:case jn.a.ActiveSubSixMultiMonthGiftPromoOffer:case jn.a.ActiveSubTwelveMultiMonthGiftPromoOffer:return this.asgoOfferrLineItemDisplay;default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multimonthOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(h.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(A.a,{className:"checkout-form-summary__discount"},Object(p.d)("First Time {percent}% off",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPaidSubOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(h.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(A.a,{className:"checkout-form-summary__discount"},Object(p.d)("First Sub, First Month: {percent}% off Promo",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstPaidGiftOfferLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(h.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(A.a,null,Object(p.d)("{giftCount, plural, one {{percent}% off first gift sub} other {{percent}% off first gift subs}}",{giftCount:this.props.selectedQuantity,percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asgoOfferrLineItemDisplay",{get:function(){return this.discountPercent?a.createElement(h.a,{textAlign:F.q.Right,margin:{bottom:.5}},a.createElement(A.a,null,Object(p.d)("{percent}% off as a subscriber",{percent:this.discountPercent},"CheckoutFormSummary"))):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedDiscountDisplay",{get:function(){return a.createElement(h.a,{margin:{bottom:.5},textAlign:F.q.Right},this.props.updatingPrice?a.createElement(h.a,{display:F.h.InlineBlock},a.createElement(Ke.a,null)):a.createElement(A.a,{className:"checkout-form-summary__discount"},this.formattedDiscount))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balanceEnabled",{get:function(){return!!this.props.walletBalance&&null!==this.props.checkoutPrice&&this.props.paymentProvider!==N.td.XSOLLA_V3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasWalletBalance",{get:function(){return void 0!==this.props.walletBalance&&this.props.walletBalance.amount>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"price",{get:function(){if(!this.inMultiMonthExperiment){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,r=e.selectedQuantity;return t?t.price:(null==n?void 0:n.price)?n.price*r:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPrice",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,r=e.selectedQuantity;return(null==t?void 0:t.discount)?t.discount.total:(null==n?void 0:n.discount)?n.discount.price*r:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"discountPercent",{get:function(){var e,t;return null===(t=null===(e=this.props.promotion)||void 0===e?void 0:e.promoDisplay)||void 0===t?void 0:t.discountPercent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currency",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice;return t?t.currency:(null==n?void 0:n.currency)?n.currency:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exponent",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice;return t?t.exponent:void 0!==(null==n?void 0:n.exponent)?n.exponent:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){var e=this.props,t=e.checkoutPrice,n=e.previewPrice,r=e.selectedQuantity;return this.discountPrice?this.discountPrice:t?t.total:(null==n?void 0:n.price)&&(null==n?void 0:n.isTaxInclusive)?n.price*r:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTaxInclusive",{get:function(){var e;return this.props.checkoutPrice?this.props.checkoutPrice.isTaxInclusive:null===(e=this.props.previewPrice)||void 0===e?void 0:e.isTaxInclusive},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedSubtotal",{get:function(){return this.price&&void 0!==this.exponent?""+Object(p.f)(this.price/Math.pow(10,this.exponent),{style:"currency",currency:this.currency})+this.formattedInterval:"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"balanceDeduction",{get:function(){if(this.total&&this.exponent&&this.props.walletBalance){var e=Object(Dn.b)({amount:this.total,exponent:this.exponent}),t=Object(Dn.b)(this.props.walletBalance);return e>t?t:e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBalanceDeduction",{get:function(){return this.balanceDeduction?"-"+Object(p.f)(this.balanceDeduction,{style:"currency",currency:this.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedBalance",{get:function(){return this.props.walletBalance?Object(p.f)(Object(Dn.b)(this.props.walletBalance),{style:"currency",currency:this.props.walletBalance.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedDiscount",{get:function(){var e,t,n=this.props,r=n.checkoutPrice,i=n.previewPrice,a=n.selectedQuantity;return(null==r?void 0:r.discount)?(t=r,e=r.isTaxInclusive?r.total-r.discount.total:r.price-r.discount.price):(null==i?void 0:i.discount)&&(t=i,e=(i.price-i.discount.price)*a),e&&t?"-"+Object(p.f)(e/Math.pow(10,t.exponent),{style:"currency",currency:t.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedTax",{get:function(){var e,t=this.props.checkoutPrice;return t?Object(p.f)(((null===(e=t.discount)||void 0===e?void 0:e.tax)||t.tax)/Math.pow(10,t.exponent),{style:"currency",currency:t.currency}):"--"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedTotal",{get:function(){if(!this.total||void 0===this.exponent)return"--";var e=Object(Dn.b)({exponent:this.exponent,amount:this.total});return this.balanceEnabled&&this.balanceDeduction&&(e-=this.balanceDeduction),Object(p.f)(e,{style:"currency",currency:this.currency})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedInterval",{get:function(){if(this.props.plan&&this.props.plan.renewalPolicy===N.ee.AUTO_RENEW&&this.props.plan.intervalUnit&&this.props.plan.intervalDuration&&this.props.paymentProvider===N.td.RECURLY){if(this.props.plan.intervalUnit===N.Q.DAYS)return" "+Object(p.d)("{intervalDuration, plural, one { /day} other { /# days}}",{intervalDuration:this.props.plan.intervalDuration},"CheckoutFormSummary");if(this.props.plan.intervalUnit===N.Q.MONTHS)return" "+Object(p.d)("{intervalDuration, plural, one { /month} other { /# months}}",{intervalDuration:this.props.plan.intervalDuration},"CheckoutFormSummary")}return""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inMultiMonthExperiment",{get:function(){return this.props.chargeInterval&&this.props.chargeInterval>1},enumerable:!0,configurable:!0}),t}(a.Component)),Er=Object(s.d)(Object(m.withLatencyTracking)("CheckoutFormSummary",{autoReportInteractive:!0}),g((function(e){return Object(i.__assign)({},e)})))(Cr),Or=n("4udP"),Pr=function(e){return Object(Or.a)((function(){e.handlePaymentProviderUpdate(N.td.RECURLY)})),a.createElement(a.Fragment,null,a.createElement(xn.a,{size:xn.b.Small},Object(E.d)("Add a payment method?","AddPaymentPrompt")),a.createElement(h.a,{padding:{top:1,bottom:2}},a.createElement(A.a,null,Object(E.d)("To prevent your recurring purchase from expiring when your gift card balance runs out, please consider adding a payment method on file. This can be completed later as well.","AddPaymentPrompt"))),a.createElement(h.a,{display:F.h.Flex,justifyContent:F.m.End},a.createElement(h.a,{padding:{right:1}},a.createElement(B.a,{type:B.d.Secondary,onClick:e.handleSkipButtonClick},Object(E.d)("Skip Step","AddPaymentPrompt"))),a.createElement(B.a,{onClick:e.handleAddPaymentClick},Object(E.d)("Continue to Add Payment","AddPaymentPrompt"))))},Dr=function(e){var t=a.createElement(a.Fragment,null,a.createElement(h.a,{display:F.h.Flex,flexDirection:F.i.Row,justifyContent:F.m.Between,padding:{bottom:2}},a.createElement(h.a,{display:F.h.InlineFlex},a.createElement(A.a,{type:A.e.H4},Object(E.d)("Add a payment method to your account","WalletPaymentMethodSelector")),a.createElement(ht.a,{margin:{left:1}})),a.createElement(re.a,{onClick:e.returnToPreviousScreen},Object(E.d)("Return to previous step","WalletPaymentMethodSelector"))));e.balanceTooLow&&(t=a.createElement(h.a,{padding:{bottom:2}},a.createElement(A.a,{type:A.e.H4},Object(E.d)("Your balance is low. Add a payment method here.","WalletPaymentMethodSelector"))));var n=Object(i.__assign)(Object(i.__assign)({},e),{formHeader:t});return a.createElement(On,Object(i.__assign)({},n))},jr=[N.mc.AMAZON_PAY,N.mc.PAYPAL,N.mc.CREDIT_CARD],Nr="wallet-do-not-add-spm",Tr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dontAskAgain:E.m.get(Nr,!1),showConfirmPurchase:!1,showPaymentSelector:!1},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;if(!this.props.userResidence&&!this.props.eligibleSPM)return a.createElement(te,{onSetResidenceSuccess:this.props.refetchData,details:Q.GiftCardBalanceUsage});var t=!1,n=this.props.checkoutPrice&&(this.props.checkoutPrice.discount&&this.props.checkoutPrice.discount.total||this.props.checkoutPrice.total),r=n&&this.props.checkoutPrice&&Object(Dn.b)({amount:n,exponent:this.props.checkoutPrice.exponent});r&&r>Object(Dn.b)(this.props.walletBalance)&&(t=!0);var o=this.availabilityStatus();return this.state.showPaymentSelector||t&&!this.props.eligibleSPM?a.createElement(Dr,{currentUserID:this.props.currentUserID,onUpdatePaymentMethodSuccess:function(){e.props.onPaymentMethodSuccess(),e.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{showPaymentSelector:!1})}))},handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate,handlePurchaseSuccess:this.props.handlePurchaseSuccess,hasEligibleSPM:!!this.props.eligibleSPM,showReviewPurchaseScreen:function(){e.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{showPaymentSelector:!1,showConfirmPurchase:!0})}))},refetchCheckoutFormScreenManagerData:function(){return e.props.refetchData()},recurlyConfigs:this.props.recurlyConfigs,paymentMethods:this.props.paymentMethods,userResidence:this.props.userResidence,requestInfoCountryCode:this.props.requestInfoCountryCode,xsollaToken:this.props.xsollaToken,isSandbox:this.props.isSandbox,selectedQuantity:this.props.selectedQuantity,checkoutActions:this.props.checkoutActions,eligiblePaymentMethods:this.props.eligiblePaymentMethods,balanceTooLow:t&&!this.props.eligibleSPM,bestGuessCountry:this.props.bestGuessCountry,priceChangeNotice:this.props.priceChangeNotice,tplr:this.props.tplr,returnToPreviousScreen:function(){e.props.checkoutSessionTracker.track({subEvent:_.b.SkipAddPaymentMethodClick,subEventDetail:JSON.stringify({context:"wallet_purchase_add_payment_method"})}),e.setState({showPaymentSelector:!1})}}):this.props.eligibleSPM||this.state.showConfirmPurchase||this.state.dontAskAgain?a.createElement(We,{selectedOfferID:this.props.selectedOfferID,selectedQuantity:this.props.selectedQuantity,recurlyPublicKey:this.props.recurlyConfigs.publicKey,toggleUseSavedPaymentMethod:function(){return e.showPaymentMethodSelector()},eligibleSPM:this.props.eligibleSPM,paymentMethodAvailabilityStatus:o,refetchCheckoutFormScreenManagerData:this.props.refetchData,handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate,handlePurchaseSuccess:this.props.handlePurchaseSuccess,isWalletPurchase:!0,requestInfoCountryCode:this.props.requestInfoCountryCode,handlePollingOrder:this.props.handlePollingOrder,isSplitTender:t,priceChangeNotice:this.props.priceChangeNotice}):a.createElement(Pr,{handleSkipButtonClick:function(){E.m.set(Nr,!0),e.props.checkoutSessionTracker.track({subEvent:_.b.SkipAddPaymentMethodClick,subEventDetail:JSON.stringify({context:"wallet_purchase_init"})}),e.showConfirmPurchase()},handleAddPaymentClick:function(){e.props.checkoutSessionTracker.track({subEvent:_.b.AddPaymentMethodClick,subEventDetail:"wallet_purchase"}),e.showPaymentMethodSelector()},handlePaymentProviderUpdate:this.props.handlePaymentMethodProviderUpdate})},t.prototype.showPaymentMethodSelector=function(){this.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{showPaymentSelector:!0})}))},t.prototype.availabilityStatus=function(){return this.props.eligibleSPM?this.props.paymentMethodAvailabilityStatus:this.props.eligiblePaymentMethods.filter((function(e){return jr.includes(e.name)&&e.availabilityStatus!==N.sd.FULL_OUTAGE})).length>0?{availabilityStatus:N.sd.AVAILABLE}:null},t.prototype.showConfirmPurchase=function(){this.setState((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{showConfirmPurchase:!0})}))},t}(a.Component),Ir=g((function(e,t){return Object(i.__assign)(Object(i.__assign)({},t),e)}))(Tr),_r=n("cO90"),wr="checkout_2fa_notice",Ar="checkout_2fa_velocity_notice",xr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hide:!1},t.on2FAWarningShownFired=!1,t.hasSeenTwoFactorNotice=E.m.get(wr,!1),t.hasSeenTwoFactorVelocityNotice=E.m.get(Ar,!1),t.hideReminder=function(){t.props.onDismiss2FAMessageClick&&t.props.onDismiss2FAMessageClick(),E.m.set(t.props.showVelocityLimitReminder?Ar:wr,!0),t.setState({hide:!0})},t.onEnable2FALinkClick=function(){t.props.onEnable2FALinkClick&&t.props.onEnable2FALinkClick(),window.open(window.location.origin+"/settings/security","_blank")},t.handleOnWarningShown=function(){t.props.on2FAWarningShown&&!t.on2FAWarningShownFired&&(t.on2FAWarningShownFired=!0,t.props.on2FAWarningShown())},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return!this.canShowTwoFactorNotice||this.state.hide?null:(this.handleOnWarningShown(),a.createElement(h.a,{margin:{bottom:1}},a.createElement(G.a,{"data-test-selector":this.props.showVelocityLimitReminder?"checkout_2fa_velocity_notice_selector":"checkout_2fa_notice_selector",type:z.a.Info,message:{title:Object(E.d)("Enable Two-Factor Authentication","TwoFactorReminder"),description:this.props.showVelocityLimitReminder?Object(E.d)("To make future purchases faster and help to protect your account                  from unauthorized purchases, enable two-factor authentication                  in your security settings.","TwoFactorReminder"):Object(E.d)("We recommend enabling two-factor authentication to help protect                  your account from unauthorized purchases.","TwoFactorReminder"),link:{onClick:this.onEnable2FALinkClick,children:Object(E.d)("Click here to enable it.","TwoFactorReminder")}},closeButton:{"aria-label":"close",onClick:this.hideReminder}})))},Object.defineProperty(t.prototype,"canShowTwoFactorNotice",{get:function(){var e=this.props.data.currentUser;return!((this.props.showVelocityLimitReminder?this.hasSeenTwoFactorVelocityNotice:this.hasSeenTwoFactorNotice)||!e||!e.settings||e.settings.hasTwoFactorEnabled)},enumerable:!0,configurable:!0}),t}(a.Component),Rr=Object(s.d)(Object(P.a)(_r))(xr),Mr=n("l7sZ"),Fr=n("9TPM"),Br=new Set([N.rd.AMAZON,N.rd.PAYPAL,N.rd.DIRECT_DEBIT]),Lr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={emailUpdated:!1,useSavedPaymentMethod:!0,updatedPaymentMethodThisSession:!1,paymentProvider:N.td.RECURLY,selectedOfferID:t.props.offerID,selectedQuantity:t.props.quantity,updatingPrice:!1,showSuccessScreen:!1,pollingOrder:!1,completedXsollaCheckout:!1,initialPurchaseOfferErrorCode:t.props.initialPurchaseOfferErrorCode,initialPurchaseOrderFailureReason:t.props.initialPurchaseOrderFailureReason,priceTrackingState:{lastBillingCountry:"",lastResidenceCountry:"",lastPrice:null,lastCurrency:"",billingCountryChanged:!1,residenceCountryChanged:!1,priceChanged:!1,currencyChanged:!1,priceHasChanged:!1,updatePriceReason:null}},t.gqlErrorTracked=!1,t.walletBalanceEnabled=function(){return!!t.walletBalance&&(t.walletBalance.amount>0&&t.walletEligible)},t.setEventTrackingProperties=function(){var e,n,r,i,a,o;t.props.checkoutSessionTracker.offerID=t.state.selectedOfferID,t.props.checkoutSessionTracker.quantity=t.state.selectedQuantity,t.props.checkoutSessionTracker.paymentProvider=t.state.paymentProvider,t.props.checkoutSessionTracker.tagBindings=null===(n=null===(e=t.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===n?void 0:n.tagBindings,t.props.checkoutSessionTracker.tplr=null===(i=null===(r=t.props.data)||void 0===r?void 0:r.purchasableOffer)||void 0===i?void 0:i.tplr,t.props.checkoutSessionTracker.savedPaymentInstrumentType=null===(a=t.eligibleSPM)||void 0===a?void 0:a.paymentType,t.props.checkoutSessionTracker.countryCode=t.userResidenceCountryCode,t.props.checkoutSessionTracker.previewPrice=t.previewPrice,t.props.checkoutSessionTracker.checkoutPrice=t.checkoutPriceSummary,t.props.checkoutSessionTracker.walletBalanceLocal=null===(o=t.walletBalance)||void 0===o?void 0:o.amount,t.props.checkoutSessionTracker.monthQuantity=Mn(t.state.selectedOfferID,t.props.multiMonthOffers)||function(e,t){var n;return null===(n=null==t?void 0:t.find((function(t){return t.offerID===e})))||void 0===n?void 0:n.months}(t.state.selectedOfferID,t.props.multimonthGiftOffers)},t.reportLatency=function(){var e,n,r,i,a,o;if(!t.props.offerID)return t.props.latencyTracking.reportInteractive(),void(null===(n=(e=t.props).reportCustomLatency)||void 0===n||n.call(e));if(t.setEventTrackingProperties(),t.dataReady)if(t.props.latencyTracking.reportInteractive(),null===(i=(r=t.props).reportCustomLatency)||void 0===i||i.call(r),null===(a=t.props.data)||void 0===a?void 0:a.error)t.gqlErrorTracked||(t.gqlErrorTracked=!0,t.props.checkoutSessionTracker.track({subEvent:_.b.GQLError,subEventDetail:JSON.stringify(t.props.data.error.graphQLErrors)}));else{if(t.props.checkoutSessionTracker.isSpmShownAtLoad=!!t.eligibleSPM,1===(null===(o=t.eligiblePaymentMethods)||void 0===o?void 0:o.length)&&(t.eligiblePaymentMethods||[]).find((function(e){return e.name===N.mc.XSOLLA})))return;t.props.checkoutSessionTracker.track({subEvent:_.b.LoadSuccess})}},t.reportCheckoutAction=function(e){var n,r,i,a,s,c;(null===(i=null===(r=null===(n=t.props.data)||void 0===n?void 0:n.purchasableOffer)||void 0===r?void 0:r.self)||void 0===i?void 0:i.checkoutActions)&&!Object(o.c)(t.props.data.purchasableOffer.self.checkoutActions,null===(c=null===(s=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.purchasableOffer)||void 0===s?void 0:s.self)||void 0===c?void 0:c.checkoutActions)&&t.props.checkoutSessionTracker.track({subEvent:_.b.CheckoutActionCheck,subEventDetail:JSON.stringify({rules_triggered:t.props.data.purchasableOffer.self.checkoutActions})})},t.toggleUseSavedPaymentMethod=function(){t.setState((function(e){return{useSavedPaymentMethod:!e.useSavedPaymentMethod}}))},t.onEmailSaveSuccess=function(){t.setState({emailUpdated:!0})},t.trackModalClose=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.Close,subEventDetail:JSON.stringify({close_button:"x"})})},t.showSuccessScreen=function(e){var n,r;if((null===(r=null===(n=t.props.data)||void 0===n?void 0:n.purchasableOffer)||void 0===r?void 0:r.tplr)===ne.Celebrations&&t.props.closeModal)return Object(I.f)(t.props.data.purchasableOffer.id),void t.props.closeModal();e===N.td.XSOLLA_V3?t.setState({completedXsollaCheckout:!0}):(t.props.onPurchaseSuccess(),t.setState({showSuccessScreen:!0}))},t.handlePollingOrder=function(e){t.setState({pollingOrder:e})},t.isPartOfRedundantExperiment=function(){var e,n,r,i,a=!1;return(null===(n=null===(e=t.props.data)||void 0===e?void 0:e.currentUser)||void 0===n?void 0:n.id)&&(a=E.b.get("hide_redundant_payment_methods_opt_out",[]).includes(null===(i=null===(r=t.props.data)||void 0===r?void 0:r.currentUser)||void 0===i?void 0:i.id)),!a&&!t.savedPaymentMethod&&!t.checkoutActions.includes(N.U.PRIORITIZE_XSOLLA)&&"US"===Object(j.a)()&&"experiment"===E.p.experiments.getAndTrackAssignment("hide_redundant_payment_methods")},t.on2FAWarningShown=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.Add2FaPrompt})},t.onEnable2FALinkClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.Add2FaClick})},t.onDismiss2FAMessageClick=function(){t.props.checkoutSessionTracker.track({subEvent:_.b.Add2FaClose})},t.onUpdatePaymentMethodSuccess=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.refetchCheckoutFormScreenManagerData()];case 1:return e.sent(),this.setState({updatedPaymentMethodThisSession:!0,useSavedPaymentMethod:!0,initialPurchaseOfferErrorCode:void 0,initialPurchaseOrderFailureReason:void 0}),[2]}}))}))},t.refetchCheckoutFormScreenManagerData=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.gqlErrorTracked=!1,[4,null===(e=this.props.data)||void 0===e?void 0:e.refetch()];case 1:return t.sent(),[2]}}))}))},t.updatePriceTrackingState=function(){var e,n,i,a,o,s,c=!1,l=t.state.priceTrackingState;(null===(e=t.checkoutPriceSummary)||void 0===e?void 0:e.price)&&l.lastPrice!==(null===(n=t.checkoutPriceSummary)||void 0===n?void 0:n.price)&&(null!==l.lastPrice&&(l.priceChanged=!0),l.lastPrice=null===(i=t.checkoutPriceSummary)||void 0===i?void 0:i.price,c=!0),(null===(a=t.checkoutPriceSummary)||void 0===a?void 0:a.currency)&&l.lastCurrency!==(null===(o=t.checkoutPriceSummary)||void 0===o?void 0:o.currency)&&(""!==l.lastCurrency&&(l.currencyChanged=!0),l.lastCurrency=null===(s=t.checkoutPriceSummary)||void 0===s?void 0:s.currency,c=!0),t.savedPaymentMethod&&t.savedPaymentMethod.billingCountry&&l.lastBillingCountry!==t.savedPaymentMethod.billingCountry&&(""!==l.lastBillingCountry&&(l.billingCountryChanged=!0),l.lastBillingCountry=t.savedPaymentMethod.billingCountry,c=!0),t.userResidenceCountryCode&&l.lastResidenceCountry!==t.userResidenceCountryCode&&(""!==l.lastResidenceCountry&&(l.residenceCountryChanged=!0),l.lastResidenceCountry=t.userResidenceCountryCode,c=!0),(l.residenceCountryChanged||l.billingCountryChanged)&&(l.priceChanged||l.currencyChanged?(l.priceHasChanged=!0,W(t.props.checkoutSessionTracker.getCheckoutSessionID(),!1),l.billingCountryChanged?l.updatePriceReason=r.BillingCountry:l.residenceCountryChanged&&(l.updatePriceReason=r.UserResidence),l.billingCountryChanged=!1,l.residenceCountryChanged=!1,l.priceChanged=!1,l.currencyChanged=!1):l.priceHasChanged=!1),c&&t.setState({priceTrackingState:l})},t.handleQuantitySelect=function(e){var n,r;if(t.props.checkoutSessionTracker.track({subEvent:_.b.QuantityUpdated,subEventDetail:JSON.stringify({old_quantity:t.state.selectedQuantity,new_quantity:e})}),t.quantityOverride){var i=t.quantityOverride,a=i.promotion,o=i.regular,s=void 0;s=a.minQuantity>o.minQuantity&&a.maxQuantity===o.maxQuantity?e<a.minQuantity?o.offerID:a.offerID:e<=a.maxQuantity?a.offerID:o.offerID,t.setState({selectedOfferID:s,selectedQuantity:e,updatingPrice:!0}),null===(n=t.props.data)||void 0===n||n.refetch({params:{offerID:s,tagBindings:t.props.tagBindings,giftRecipientIDs:t.props.giftRecipientIDs},quantity:e})}else t.setState({selectedQuantity:e,updatingPrice:!0}),null===(r=t.props.data)||void 0===r||r.refetch({quantity:e})},t.handleMultimonthSelect=function(e){var n,r=e.selectedOfferID;t.setState({selectedOfferID:r,updatingPrice:!0},(function(){return t.props.checkoutSessionTracker.track({subEvent:_.b.UpdateMonthQuantityClick})})),null===(n=t.props.data)||void 0===n||n.refetch({params:{offerID:r,tagBindings:t.props.tagBindings,giftRecipientIDs:t.props.giftRecipientIDs}})},t.handlePaymentProviderUpdate=function(e){t.setState({paymentProvider:e})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportLatency(),this.props.offerID||this.props.checkoutSessionTracker.track({subEvent:_.b.Error,subEventDetail:"missing offer_id"})},t.prototype.componentDidUpdate=function(e){var t;this.state.updatingPrice&&(null===(t=this.props.data)||void 0===t?void 0:t.networkStatus)===C.c.ready&&this.setState({updatingPrice:!1}),this.updatePriceTrackingState(),this.reportLatency(),this.reportCheckoutAction(e)},t.prototype.render=function(){var e,t,n,r,i,o,s,c,l,u,d,p,m,f,b,y,v;return this.state.showSuccessScreen?a.createElement(h.a,{fullHeight:!0},!!this.props.closeModal&&a.createElement(h.a,{padding:{y:.5},background:F.d.Base,borderRadius:{topLeft:F.e.Large,topRight:F.e.Large}},a.createElement(O.a,{displayInset:!0,onClose:this.trackModalClose})),a.createElement(Pn.a,{finalOfferID:this.state.selectedOfferID,finalQuantity:this.state.selectedQuantity,checkoutSessionTracker:this.props.checkoutSessionTracker,closeModal:this.props.closeModal,giftRecipientIDs:this.props.giftRecipientIDs,tagBindings:this.props.tagBindings,multimonthGiftOffers:this.props.multimonthGiftOffers,productName:this.props.productName,isAnonymous:this.props.isAnonymous})):a.createElement(h.a,{fullHeight:!0},!!this.props.closeModal&&a.createElement(h.a,{className:"checkout-form__modal-header",padding:{y:.5},borderRadius:{topLeft:F.e.Large,topRight:F.e.Large}},a.createElement(O.a,{displayInset:!0,onClose:this.trackModalClose})),a.createElement(h.a,{background:F.d.Base,fullHeight:!0},a.createElement(Er,{previewPrice:this.previewPrice,checkoutPrice:this.checkoutPriceSummary,plan:{renewalPolicy:null===(i=null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===r?void 0:r.plan)||void 0===i?void 0:i.renewalPolicy,intervalUnit:null===(u=null===(l=null===(c=null===(s=null===(o=this.props.data)||void 0===o?void 0:o.purchasableOffer)||void 0===s?void 0:s.listing)||void 0===c?void 0:c.chargeModel.internal)||void 0===l?void 0:l.plan)||void 0===u?void 0:u.interval.unit,intervalDuration:null===(b=null===(f=null===(m=null===(p=null===(d=this.props.data)||void 0===d?void 0:d.purchasableOffer)||void 0===p?void 0:p.listing)||void 0===m?void 0:m.chargeModel.internal)||void 0===f?void 0:f.plan)||void 0===b?void 0:b.interval.duration},quantityMin:this.quantityMin,quantityMax:this.quantityMax,paymentProvider:this.state.paymentProvider,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,updatingPrice:this.state.updatingPrice,handleQuantitySelect:this.handleQuantitySelect,handleMultimonthSelect:this.handleMultimonthSelect,walletBalance:this.walletBalanceEnabled()?this.walletBalance:void 0,promotion:this.promotion||void 0,requestInfoCountryCode:null===(v=null===(y=this.props.data)||void 0===y?void 0:y.requestInfo)||void 0===v?void 0:v.countryCode,purchaseComplete:this.state.completedXsollaCheckout||this.state.showSuccessScreen}),a.createElement(h.a,{padding:2,breakpointExtraSmall:{padding:{x:3,y:2}}},a.createElement(Rr,{showVelocityLimitReminder:this.showVelocityLimitReminder,on2FAWarningShown:this.on2FAWarningShown,onEnable2FALinkClick:this.onEnable2FALinkClick,onDismiss2FAMessageClick:this.onDismiss2FAMessageClick}),this.body)))},Object.defineProperty(t.prototype,"body",{get:function(){var e,t,n,r,o,s,c,l,u,d,p,m,h,f,b,y;if(!this.dataReady)return a.createElement(J.a,{lineCount:12});if(!this.props.offerID||(null===(e=this.props.data)||void 0===e?void 0:e.error)||!(null===(t=this.props.data)||void 0===t?void 0:t.currentUser))return a.createElement(U,null);if(this.showEmailScreen)return a.createElement(R,{onEmailSaveSuccess:this.onEmailSaveSuccess});if(!this.isEligible&&!this.state.completedXsollaCheckout)return a.createElement(V,null);if(this.walletBalanceEnabled()){var v=this.eligibleSPM?Object(i.__assign)(Object(i.__assign)({},this.eligibleSPM),{billingEmail:this.billingEmail}):void 0;return a.createElement(Ir,{walletBalance:this.walletBalance,checkoutPrice:this.checkoutPriceSummary?this.checkoutPriceSummary:void 0,eligibleSPM:v,userResidence:this.props.data.currentUser.residence,currentUserID:this.props.data.currentUser.id,checkoutActions:this.checkoutActions,eligiblePaymentMethods:this.eligiblePaymentMethods,paymentMethodAvailabilityStatus:this.paymentMethodAvailabilityStatus,recurlyConfigs:this.recurlyConfigs,paymentMethods:this.props.data.currentUser.paymentMethods,requestInfoCountryCode:null===(r=null===(n=this.props.data)||void 0===n?void 0:n.requestInfo)||void 0===r?void 0:r.countryCode,xsollaToken:null===(o=this.xsollaConfig)||void 0===o?void 0:o.token,isSandbox:null===(s=this.xsollaConfig)||void 0===s?void 0:s.isSandbox,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,handlePurchaseSuccess:this.showSuccessScreen,handlePollingOrder:this.handlePollingOrder,handlePaymentMethodProviderUpdate:this.handlePaymentProviderUpdate,onPaymentMethodSuccess:this.onUpdatePaymentMethodSuccess,refetchData:this.refetchCheckoutFormScreenManagerData,bestGuessCountry:this.bgc,priceChangeNotice:this.priceChangeNotice,tplr:null===(c=this.props.data.purchasableOffer)||void 0===c?void 0:c.tplr})}return this.recurlyConfigs?this.showReviewScreen&&this.eligibleSPM?a.createElement(We,{requestInfoCountryCode:null===(u=null===(l=this.props.data)||void 0===l?void 0:l.requestInfo)||void 0===u?void 0:u.countryCode,productPurchaseErrorCode:this.productPurchaseErrorCode,isWalletPurchase:!1,selectedOfferID:this.state.selectedOfferID,selectedQuantity:this.state.selectedQuantity,recurlyPublicKey:this.recurlyConfigs&&this.recurlyConfigs.publicKey,toggleUseSavedPaymentMethod:this.toggleUseSavedPaymentMethod,eligibleSPM:Object(i.__assign)(Object(i.__assign)({},this.eligibleSPM),{billingEmail:this.billingEmail}),paymentMethodAvailabilityStatus:this.paymentMethodAvailabilityStatus,refetchCheckoutFormScreenManagerData:this.refetchCheckoutFormScreenManagerData,handlePurchaseSuccess:this.showSuccessScreen,handlePaymentProviderUpdate:this.handlePaymentProviderUpdate,handlePollingOrder:this.handlePollingOrder,purchaseOfferErrorCode:this.state.initialPurchaseOfferErrorCode,purchaseOrderFailureReason:this.state.initialPurchaseOrderFailureReason,tplr:null===(d=this.props.data.purchasableOffer)||void 0===d?void 0:d.tplr,priceChangeNotice:this.priceChangeNotice}):a.createElement(On,{currentUserID:this.props.data.currentUser.id,onUpdatePaymentMethodSuccess:this.onUpdatePaymentMethodSuccess,handlePaymentProviderUpdate:this.handlePaymentProviderUpdate,hasEligibleSPM:!!this.eligibleSPM,bestGuessCountry:this.bgc,showReviewPurchaseScreen:this.toggleUseSavedPaymentMethod,refetchCheckoutFormScreenManagerData:this.refetchCheckoutFormScreenManagerData,recurlyConfigs:this.recurlyConfigs,paymentMethods:this.props.data.currentUser.paymentMethods,userResidence:this.props.data.currentUser.residence,requestInfoCountryCode:null===(m=null===(p=this.props.data)||void 0===p?void 0:p.requestInfo)||void 0===m?void 0:m.countryCode,xsollaToken:null===(h=this.xsollaConfig)||void 0===h?void 0:h.token,isSandbox:null===(f=this.xsollaConfig)||void 0===f?void 0:f.isSandbox,selectedQuantity:this.state.selectedQuantity,checkoutActions:this.checkoutActions,eligiblePaymentMethods:this.eligiblePaymentMethods,productPurchaseErrorCode:this.productPurchaseErrorCode,handlePurchaseSuccess:this.showSuccessScreen,tplr:null===(y=null===(b=this.props.data)||void 0===b?void 0:b.purchasableOffer)||void 0===y?void 0:y.tplr,priceChangeNotice:this.priceChangeNotice}):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgc",{get:function(){var e,t,n,r,i,a,o;return i=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.requestInfo)||void 0===t?void 0:t.countryCode,a=this.eligibleSPM,o=null===(r=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===r?void 0:r.residence,a&&a.billingCountry?a.billingCountry:o?o.countryCode:i||void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"priceChangeNotice",{get:function(){return{show:this.state.priceTrackingState.priceHasChanged,reason:this.state.priceTrackingState.updatePriceReason}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"walletBalance",{get:function(){if(this.props.balanceData&&this.props.balanceData.currentUser&&this.props.balanceData.currentUser.balances){var e=this.checkoutPriceSummary||this.previewPrice,t=this.props.balanceData.currentUser.balances.filter((function(t){return!!t&&t.currency===(null==e?void 0:e.currency)}));return t&&t.length?{amount:t.reduce((function(e,t){return e+t.amount}),0),currency:t[0].currency,exponent:t[0].exponent}:void 0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showReviewScreen",{get:function(){return this.state.useSavedPaymentMethod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEmailScreen",{get:function(){return!this.state.emailUpdated&&!this.hasEmail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataReady",{get:function(){var e,t,n,r,i,a;return!this.props.offerID||!!(!(null===(e=this.props.data)||void 0===e?void 0:e.loading)&&!(null===(t=this.props.balanceData)||void 0===t?void 0:t.loading)||(null===(n=this.props.data)||void 0===n?void 0:n.error)||(null===(r=this.props.balanceData)||void 0===r?void 0:r.error)||(null===(i=this.props.data)||void 0===i?void 0:i.purchasableOffer)&&(null===(a=this.props.balanceData)||void 0===a?void 0:a.currentUser))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"savedPaymentMethod",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.paymentMethods)||void 0===n?void 0:n.find((function(e){return e.provider.toUpperCase()===N.td.RECURLY}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasEmail",{get:function(){var e;return!!((null===(e=this.props.data)||void 0===e?void 0:e.currentUser)&&this.props.data.currentUser.email)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligible",{get:function(){var e,t,n;return!!this.state.pollingOrder||!!(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.eligibility)||void 0===n?void 0:n.isEligible)&&this.props.quantity>=this.quantityMin&&this.props.quantity<=this.quantityMax},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityOverride",{get:function(){var e=this.props.offerQuantityOverrides;if(e&&[e.regular.offerID,e.promotion.offerID].includes(this.props.offerID)&&(e.regular.minQuantity<e.promotion.minQuantity||e.regular.maxQuantity>e.promotion.maxQuantity))return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityMin",{get:function(){var e,t,n;if(this.quantityOverride)return this.quantityOverride.promotion.minQuantity<this.quantityOverride.regular.minQuantity?this.quantityOverride.promotion.minQuantity:this.quantityOverride.regular.minQuantity;var r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.quantity)||void 0===n?void 0:n.min;return r||this.props.quantity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quantityMax",{get:function(){var e,t,n;if(this.quantityOverride)return this.quantityOverride.promotion.maxQuantity<this.quantityOverride.regular.maxQuantity?this.quantityOverride.regular.maxQuantity:this.quantityOverride.promotion.maxQuantity;var r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.quantity)||void 0===n?void 0:n.max;return r||this.props.quantity},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paymentMethodAvailabilityStatus",{get:function(){if(!this.savedPaymentMethod)return null;var e;switch(this.savedPaymentMethod.paymentType){case N.rd.DIRECT_DEBIT:e=N.mc.DIRECT_DEBIT;break;case N.rd.CREDIT_CARD:e=N.mc.CREDIT_CARD;break;case N.rd.AMAZON:e=N.mc.AMAZON_PAY;break;case N.rd.PAYPAL:e=N.mc.PAYPAL;break;default:return null}return this.eligiblePaymentMethods.find((function(t){return t.name===e}))||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligibleSPM",{get:function(){if(this.savedPaymentMethod&&(!this.blockSavedPaymentMethod||this.state.updatedPaymentMethodThisSession)&&(this.savedPaymentMethod.paymentType.toUpperCase()!==N.rd.CREDIT_CARD||this.paymentMethodAvailabilityStatus&&this.productPurchaseErrorCode!==N.Od.BILLING_INFO_NOT_FOUND)&&(!Br.has(this.savedPaymentMethod.paymentType)||this.paymentMethodAvailabilityStatus))return this.savedPaymentMethod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"billingEmail",{get:function(){return!this.eligibleSPM||this.eligibleSPM.paymentType.toUpperCase()!==N.rd.PAYPAL&&this.eligibleSPM.paymentType.toUpperCase()!==N.rd.AMAZON?null:this.eligibleSPM.billingEmail},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recurlyConfigs",{get:function(){var e;return null===(e=this.props.data)||void 0===e?void 0:e.recurlyConfigs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutActions",{get:function(){var e,t,n;return(null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eligiblePaymentMethods",{get:function(){var e,t,n,r,i,a,o;if(this.isPartOfRedundantExperiment()){var s=(null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.eligiblePaymentMethods)||void 0===r?void 0:r.filter((function(e){return e.name!==N.mc.XSOLLA})))||[];if(s.find((function(e){return e.availabilityStatus===N.sd.AVAILABLE})))return s}return(null===(o=null===(a=null===(i=this.props.data)||void 0===i?void 0:i.purchasableOffer)||void 0===a?void 0:a.self)||void 0===o?void 0:o.eligiblePaymentMethods)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPrice",{get:function(){var e,t,n,r,i,a,o,s,c,l;return this.state.paymentProvider===N.td.RECURLY?null===(i=null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===r?void 0:r.self)||void 0===i?void 0:i.recurlyCheckoutPrice:this.state.paymentProvider===N.td.XSOLLA_V3?null===(l=null===(c=null===(s=null===(o=null===(a=this.props.data)||void 0===a?void 0:a.purchasableOffer)||void 0===o?void 0:o.listing)||void 0===s?void 0:s.chargeModel.internal)||void 0===c?void 0:c.self)||void 0===l?void 0:l.xsollaCheckoutPrice:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkoutPriceSummary",{get:function(){var e;return null===(e=this.checkoutPrice)||void 0===e?void 0:e.checkoutPriceSummary},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promotion",{get:function(){var e,t;return null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.promotion},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"productPurchaseErrorCode",{get:function(){var e;return null===(e=this.checkoutPrice)||void 0===e?void 0:e.errorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"previewPrice",{get:function(){var e,t,n,r;return null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.listing)||void 0===n?void 0:n.chargeModel.internal)||void 0===r?void 0:r.previewPrice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"walletEligible",{get:function(){return this.eligiblePaymentMethods.some((function(e){return e.name===N.mc.WALLET}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blockSavedPaymentMethod",{get:function(){var e,t,n,r;return!!(null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||void 0===r?void 0:r.includes(N.U.BLOCK_SAVED_PAYMENT_METHOD))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showVelocityLimitReminder",{get:function(){var e,t,n,r;return!!(null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutActions)||void 0===r?void 0:r.includes(N.U.EXCEEDED_VELOCITY_LIMITS))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xsollaConfig",{get:function(){var e,t,n,r;return null===(r=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.purchasableOffer)||void 0===t?void 0:t.self)||void 0===n?void 0:n.checkoutConfiguration)||void 0===r?void 0:r.xsolla},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userResidenceCountryCode",{get:function(){var e,t,n;return null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.residence)||void 0===n?void 0:n.countryCode},enumerable:!0,configurable:!0}),t}(a.Component);var Ur=Object(s.d)(Object(o.b)((function(e){return{darkModeEnabled:Object(T.a)(e)===D.a.Dark}})),Object(m.withLatencyTracking)("CheckoutFormScreenManager"),g((function(e){return Object(i.__assign)({},e)})),Object(P.a)(Fr,{name:"balanceData",options:function(){return{variables:{walletType:N.Of.GIFT_CARD},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}}}),Object(P.a)(Mr,{options:function(e){return{variables:{params:{offerID:e.offerID,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs},quantity:e.quantity,tagBindings:e.tagBindings,giftRecipientIDs:e.giftRecipientIDs,paymentSession:e.paymentSession,withDiscounts:!0,isDarkMode:e.darkModeEnabled},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}},skip:function(e){return!e.offerID}}))(Lr),Gr=(n("qhDs"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.checkoutSessionID=t.props.checkoutSessionTracker?t.props.checkoutSessionTracker.getCheckoutSessionID():Object(l.b)(),t.checkoutSessionTracker=t.props.checkoutSessionTracker?t.props.checkoutSessionTracker:new _.a({checkoutSessionID:t.checkoutSessionID,source:t.props.trackingContext.source,sourceDetail:t.props.trackingContext.detail,tenantTracking:JSON.stringify(t.props.trackingContext.tenantTracking)||"",offerID:t.props.offerID,quantity:t.props.quantity,subsTicketOwnerID:t.props.channelID,productType:t.props.productType}),t.onPurchaseSuccess=function(){t.props.onPurchaseSuccess&&t.props.onPurchaseSuccess()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.isLoggedIn||this.props.openLoginModal()},t.prototype.componentDidUpdate=function(){this.props.isLoggedIn||this.props.openLoginModal()},t.prototype.render=function(){return a.createElement(h.a,{className:"checkout-form__container",margin:{y:0,x:"auto"},"data-a-target":"checkout-form__container"},a.createElement(S,Object(i.__assign)({},this.checkoutFormProps),a.createElement(Ur,null)))},Object.defineProperty(t.prototype,"checkoutFormProps",{get:function(){return{offerID:this.props.offerID.split("amzn1.offer.")[1]||this.props.offerID,quantity:this.props.quantity,trackingContext:this.props.trackingContext,giftRecipientIDs:this.props.giftRecipientIDs||[],isAnonymous:!!this.props.isAnonymous,tagBindings:this.tagBindings,productName:this.props.productName,paymentSession:{deviceID:p.q.session.deviceID,localStorageDeviceID:p.q.session.localStorageDeviceID,tabSessionID:p.q.session.tabID,pageSessionID:p.q.session.pageviewID,checkoutSessionID:this.checkoutSessionID},onPurchaseSuccess:this.onPurchaseSuccess,closeModal:this.props.closeModal,checkoutSessionTracker:this.checkoutSessionTracker,chargeInterval:this.props.chargeInterval,reportCustomLatency:this.props.reportCustomLatency,multimonthGiftOffers:this.props.multimonthGiftOffers,offerQuantityOverrides:this.props.offerQuantityOverrides,multiMonthOffers:this.props.multiMonthOffers,initialPurchaseOfferErrorCode:this.props.purchaseOfferErrorCode,initialPurchaseOrderFailureReason:this.props.purchaseOrderFailureReason}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagBindings",{get:function(){var e=[];return e.push({key:"is_anonymous",value:this.props.isAnonymous?"true":"false"}),this.props.productID&&e.push({key:"product_id",value:this.props.productID}),this.props.channelID&&e.push({key:"channel_id",value:this.props.channelID}),this.props.chargeInterval&&this.props.chargeInterval>1&&e.push({key:"charge_interval",value:this.props.chargeInterval.toString()}),e},enumerable:!0,configurable:!0}),t}(a.Component));var zr=Object(s.d)(Object(m.withLatencyTracking)("CheckoutForm",{autoReportInteractive:!0}),Object(o.b)((function(e){return{isLoggedIn:Object(d.f)(e)}}),(function(e){return Object(s.b)({openLoginModal:function(){return Object(u.e)(c.a.CheckoutForm)}},e)})))(Gr)},VUyg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CompletePurchaseDisclaimer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:144}};n.loc.source={body:"query CompletePurchaseDisclaimer($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CompletePurchaseDisclaimer=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CompletePurchaseDisclaimer")},VYPy:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n("/0dD"),i=n("DMoW"),a=function(e){switch(e){case i.Dd.BLACK_WHITE:return"Greyscale";case i.Dd.HORIZONTAL_FLIP:return"Horizontal Flip";case i.Dd.SUNGLASSES:return"Sunglasses";case i.Dd.THINKING:return"Thinking";case i.Dd.SQUISHED:return"Squished";default:return""}},o=function(e){switch(e){case i.Dd.BLACK_WHITE:return"BW";case i.Dd.HORIZONTAL_FLIP:return"HF";case i.Dd.SUNGLASSES:return"SG";case i.Dd.THINKING:return"TK";case i.Dd.SQUISHED:return"SQ";default:return""}},s=function(e){switch(e){case"BW":return i.Dd.BLACK_WHITE;case"HF":return i.Dd.HORIZONTAL_FLIP;case"SG":return i.Dd.SUNGLASSES;case"TK":return i.Dd.THINKING;case"SQ":return i.Dd.SQUISHED;default:return null}};function c(e,t){return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t}}function l(e,t){var n;if(!t)return e;var r=new RegExp(e.id,"g");return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t,displayName:e.displayName&&e.displayName+"_"+t,srcSet:null===(n=e.srcSet)||void 0===n?void 0:n.replace(r,e.id+"_"+t),isLocked:e.isLocked}}var u=function(e,t){void 0===t&&(t=r.a.Light);var n=a(e.name).toLowerCase().replace(" ","-"),i=t===r.a.Dark?"light":"dark";return{"1x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-1.png","2x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-2.png","4x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+i+"-4.png"}}},VrOd:function(e,t,n){},WJ6U:function(e,t,n){e.exports=n.p+"assets/android_1x-38340be28156bb72233a.svg"},WTcl:function(e,t,n){},Wy3f:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ShareResub_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resubNotification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cumulativeTenureMonths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"streakTenureMonths"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isGiftSubscription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"gifter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:235}};n.loc.source={body:"query Chat_ShareResub_ChannelData($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nself {\nresubNotification {\nid\ncumulativeTenureMonths\nmonths\nstreakTenureMonths\ntoken\nisGiftSubscription\ngifter {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.Chat_ShareResub_ChannelData=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"Chat_ShareResub_ChannelData")},XQnt:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmotePicker_SubUpsell_PriceInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerSubUpsellPriceInfoSubscriptionProduct"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerSubUpsellPriceInfoSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}],loc:{start:0,end:503}};r.loc.source={body:'#import "twilight/features/emote-picker/components/emote-picker-menu/user-subscription-product-fragment.gql"\n#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nquery EmotePicker_SubUpsell_PriceInfo($channelID: ID!) {\nuser(id: $channelID) {\nid\nsubscriptionProducts {\n...emotePickerSubUpsellPriceInfoSubscriptionProduct\n}\n}\n}\nfragment emotePickerSubUpsellPriceInfoSubscriptionProduct on SubscriptionProduct {\n...emotePickerUserSubscriptionProduct\noffers {\n...subProductOfferFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))}r.definitions=r.definitions.concat(a(n("ZhU4").definitions)),r.definitions=r.definitions.concat(a(n("Wd+u").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=r,e.exports.EmotePicker_SubUpsell_PriceInfo=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,i=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return i.forEach((function(t){var r=s(e,t);r&&n.definitions.push(r)})),n}(r,"EmotePicker_SubUpsell_PriceInfo")},YG3Y:function(e,t,n){},YUew:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("SWse"),s=n("P+FS"),c=n("HQtB"),l=n("OCDW"),u=n("Yegi"),d=function(e){return a.createElement(l.a,i()({className:Object(o.a)({"tw-typeset":!0}),fontSize:e.baseFontSize||u.k.Size5},Object(c.a)(e),Object(s.a)(e)),e.children)};d.displayName="Typeset",d.displayName="Typeset"},YaM9:function(e,t,n){},ZhU4:function(e,t,n){var r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emotePickerUserSubscriptionProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmote"},directives:[]}]}}]}}],loc:{start:0,end:226}};r.loc.source={body:'#import "twilight/features/subscribe-button/models/subscription-product-emote.gql"\nfragment emotePickerUserSubscriptionProduct on SubscriptionProduct {\nid\nemoteSetID\nname\nprice\ntier\nurl\nemotes {\n...subscriptionProductEmote\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};r.definitions=r.definitions.concat(n("dq0Q").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))),e.exports=r},a5fV:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n("/7QA");function i(e,t){return e/Math.pow(10,t)}function a(e,t){return Object(r.f)(e,{style:"currency",currency:t})}function o(e,t,n){var r,o,s,c;void 0===t&&(t=1),void 0===n&&(n=!1);var l=null===(s=null===(o=null===(r=null==e?void 0:e.listing)||void 0===r?void 0:r.chargeModel)||void 0===o?void 0:o.internal)||void 0===s?void 0:s.previewPrice;if(l)return a(i((n?l.total:(null===(c=l.discount)||void 0===c?void 0:c.total)||l.total)*t,l.exponent),l.currency)}},ami3:function(e,t,n){},avap:function(e,t,n){},aw6k:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("mrSG"),i=n("/7QA"),a=n("V+o+"),o=n("geRD"),s=n("1/iK"),c=n("DMoW"),l=n("NRne"),u=n("IZXT");function d(e,t,n,u){var d,p,m,h,f;return void 0===u&&(u=!0),Object(r.__awaiter)(this,void 0,void 0,(function(){var b;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i.p.tracking.track(l.a.UpdateEmailAttempt,{}),[4,Object(a.a)(e,Object(o.a)({email:t,userID:n,includeVerificationCode:!0}),(function(e){var t,n;return u&&(null===(n=null===(t=e.updateUser)||void 0===t?void 0:t.error)||void 0===n?void 0:n.code)===c.wf.REAUTH_NEEDED}),s.a.SettingsPage)];case 1:return b=r.sent(),(null===(p=null===(d=b.data)||void 0===d?void 0:d.updateUser)||void 0===p?void 0:p.error)?i.p.tracking.track(l.a.UpdateEmailFailure,{error_code:null===(h=null===(m=b.data)||void 0===m?void 0:m.updateUser)||void 0===h?void 0:h.error.code}):i.p.tracking.track(l.a.UpdateEmailSuccess,{}),[2,null===(f=b.data)||void 0===f?void 0:f.updateUser]}}))}))}function p(e,t,n){Object(u.d)()?t.warn("Unrecognized User Service response error when trying to change email",{userID:e,error:n}):t.errorAndReport(n?new Error(n):new Error("Unrecognized User Service response error when trying to change email"),"Unrecognized User Service response error when trying to change email",{userID:e,error:n})}},b5vT:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n("TSYQ"),i=n("q1tI"),a=n("/7QA"),o=n("8Xrw"),s=n("GnwI"),c=n("XC6p"),l=n("IyK4"),u=n("Yegi"),d=(n("GOKC"),"emote-button"),p=function(e){var t=r("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,p=n.displayName,m=n.srcSet;if(!m)return null;var h=m.split(" ")[0],f=i.createElement("img",{className:"emote-picker__image",src:h,srcSet:m,alt:p});if(e.isCriticalImage){for(var b={},y=0,v=m.split(",");y<v.length;y++){var g=v[y].trim().split(" "),k=g[1],S=g[0];b[k]=S}f=i.createElement(s.CriticalImage,{className:"emote-picker__emote-image",src:h,srcSet:b,alt:p||""})}var C=i.createElement(o.a,{lockIcon:e.emote.isBitsTierEmote?o.b.BITS:o.b.LOCK,className:"emote-button__lock"});return i.createElement("div",{className:d},i.createElement(c.a,{label:p||Object(a.d)("Emote","EmoteButton")},i.createElement(l.a,{display:u.h.Flex,alignItems:u.b.Center,justifyContent:u.m.Center},i.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":p,name:p,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":p},i.createElement("figure",null,e.emote.isLocked?C:null,e.showOptions&&i.createElement("div",{className:d+"__options"}),f)))))}},b92r:function(e,t,n){e.exports=n.p+"assets/purple-gem-74ef4a0fcc90ab16cc60.png"},bFOZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormSuccessScreen"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};n.loc.source={body:"query CheckoutFormSuccessScreen($params: PurchasableOfferParams!) {\npurchasableOffer(params: $params) {\nid\ntplr\ntagBindings {\nkey\nvalue\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CheckoutFormSuccessScreen=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CheckoutFormSuccessScreen")},"bO8+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("/7QA");function i(){return"variant_b"===r.p.experiments.getAndTrackAssignment("norton_badge_v2")}},bOWA:function(e,t,n){e.exports=n.p+"assets/mastercard-280a786ec3225a087428.svg"},bQeB:function(e,t,n){e.exports=n.p+"assets/generic_credit_card_1x-a6b9cd93075728ab4114.png"},cBvd:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return v}));var r,i=n("pVnL"),a=n.n(i),o=n("8OQS"),s=n.n(o),c=n("VbXa"),l=n.n(c),u=n("q1tI"),d=n("o5gP"),p=n("SWse"),m=n("Yegi"),h=n("IyK4"),f=n("OCDW"),b=n("hMTT");!function(e){e.Checkbox="checkbox",e.Radio="radio"}(r||(r={}));var y=function(e){function t(){return e.apply(this,arguments)||this}return l()(t,e),t.prototype.render=function(){var e=Object(d.b)(),t={"tw-selectable":!0,"tw-selectable--error":this.props.error,"tw-selectable--overlay":this.props.overlay},n={"tw-selectable__child-border":!0,"tw-selectable__child-border--medium":this.props.borderRadius&&this.props.borderRadius===m.e.Medium,"tw-selectable__child-border--large":this.props.borderRadius&&this.props.borderRadius===m.e.Large},r=this.props,i=r.borderRadius,o=r.children,c=(r.error,r.id),l=r.refDelegate,b=(r.overlay,s()(r,["borderRadius","children","error","id","refDelegate","overlay"]));return u.createElement(f.a,{className:Object(p.a)(t)},u.createElement("input",a()({className:"tw-selectable__input","data-a-target":"tw-selectable",id:c||e,ref:l},b)),u.createElement(h.a,{display:m.h.Block,position:m.o.Relative,borderRadius:i},u.createElement("label",{className:"tw-selectable__label",htmlFor:c||e},u.createElement(f.a,{className:Object(p.a)(n),borderRadius:i&&i===m.e.Rounded?m.e.Rounded:void 0,position:m.o.Relative},o))))},t}(u.Component);y.displayName="SelectableComponent",y.displayName="SelectableComponent";var v=Object(b.b)(y)},cO90:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TwoFactorReminder"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasTwoFactorEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:"query TwoFactorReminder {\ncurrentUser {\nid\nsettings {\nhasTwoFactorEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.TwoFactorReminder=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"TwoFactorReminder")},csmi:function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_1x-5810bf2a8f8185a1a905.png"},dq0Q:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:61}};n.loc.source={body:"fragment subscriptionProductEmote on Emote {\nid\nsetID\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},eMuj:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n("mrSG"),i=n("q1tI"),a=n("1rIY"),o=n("GnwI"),s=Object(a.a)("RecurlyContext",{recurlyInstance:void 0,recurlyLoadFailed:!1}),c=s.context,l=s.withContext,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={recurlyInstance:void 0,recurlyLoadFailed:!1},t.recurlyTimeoutID=0,t.providerMounted=function(){t.props.handleProviderMounted&&t.props.handleProviderMounted()},t.scriptErrored=function(){t.setState({recurlyLoadFailed:!0},(function(){t.props.latencyTracking.reportInteractive(),t.props.handleScriptError&&t.props.handleScriptError()}))},t.scriptSuccess=function(){clearTimeout(t.recurlyTimeoutID),t.props.handleScriptSuccess&&t.props.handleScriptSuccess()},t.scriptLoaded=function(){t.setState({recurlyInstance:window.recurly,recurlyLoadFailed:!1},(function(){t.scriptSuccess(),t.props.latencyTracking.reportInteractive()}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.recurlyTimeoutID||(this.recurlyTimeoutID=setTimeout((function(){e.scriptErrored()}),3e4)),this.providerMounted(),this.appendRecurlyScript()},t.prototype.componentWillUnmount=function(){this.recurlyTimeoutID>0&&clearTimeout(this.recurlyTimeoutID);var e=document.getElementById("recurly-script");e&&(e.removeEventListener("load",this.scriptLoaded),e.removeEventListener("error",this.scriptErrored),document.body.removeChild(e))},t.prototype.render=function(){return i.createElement(c.Provider,{value:this.state},this.props.children)},t.prototype.appendRecurlyScript=function(){var e=document.getElementById("recurly-script");e&&document.body.removeChild(e);var t=document.createElement("script");t.src="https://js.recurly.com/v4/recurly.js",t.async=!0,t.id="recurly-script",(e=document.body.appendChild(t)).addEventListener("load",this.scriptLoaded),e.addEventListener("error",this.scriptErrored)},t}(i.Component),d=Object(o.withLatencyTracking)("RecurlyContextManager")(u)},eWfc:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsChatPrivateCalloutUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:189}};r.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsChatPrivateCalloutUser($login: String!) {\nuser(login: $login) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};r.definitions=r.definitions.concat(n("1mB7").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)})));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=r,e.exports.CommunityPointsChatPrivateCalloutUser=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,i=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return i.forEach((function(t){var r=o(e,t);r&&n.definitions.push(r)})),n}(r,"CommunityPointsChatPrivateCalloutUser")},"fI+N":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("RGzP"),l=n("OCDW"),u=n("Yegi"),d=n("IyK4"),p=n("uq9l"),m=n("xWvT"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"chargeDisclaimerCopyKR",{get:function(){return Object(o.d)("Actual amount to be charged may vary depending on the exchange rate. Conversion fees and other incidental costs may be additionally included.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refundDisclaimerCopyKR",{get:function(){return Object(o.d)("Bits are available for use immediately after payment. You have the right to cancel your purchase and obtain a refund within seven days from the date of the purchase, provided that you have not used any of the Bits purchased in this transaction, at which point Twitch will deduct the purchased Bits from your account. Your purchase cannot be cancelled, irrespective of the date of the purchase, if you have used any of the Bits purchased in this transaction.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancellationCopyKR",{get:function(){return Object(o.d)("Purchases made by a minor may be cancelled by the minor or the minor’s parent or legal guardian in case the parent or legal representative does not consent to the purchase made by the minor.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"twitchCopy",{get:function(){return Object(o.d)("Twitch Interactive, Inc.","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"representativeCopy",{get:function(){return Object(o.d)("Name of Representative: Emmett Shear, CEO","LegalDisclaimer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addressCopy",{get:function(){return Object(o.d)("Address: 350 Bush Street, 2nd Floor, San Francisco, California 94104, USA","LegalDisclaimer")},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.data.requestInfo&&"KR"===this.props.data.requestInfo.countryCode;return!this.props.data.loading||this.props.data.requestInfo&&this.props.data.requestInfo.countryCode?e?i.createElement(l.a,{textAlign:u.q.Left},i.createElement(d.a,{padding:{bottom:1}},i.createElement(p.a,{type:p.e.P,fontSize:u.k.Size7},this.chargeDisclaimerCopyKR)),i.createElement(d.a,{padding:{bottom:1}},i.createElement(p.a,{type:p.e.P,fontSize:u.k.Size7},this.refundDisclaimerCopyKR)),i.createElement(d.a,{padding:{bottom:1}},i.createElement(p.a,{type:p.e.P,fontSize:u.k.Size7},this.cancellationCopyKR)),i.createElement(p.a,{type:p.e.P,fontSize:u.k.Size7},this.twitchCopy),i.createElement(p.a,{type:p.e.P,fontSize:u.k.Size7},this.representativeCopy),i.createElement(p.a,{type:p.e.P,fontSize:u.k.Size7},this.addressCopy)):null:i.createElement(c.a,{lineCount:3,width:400})},t}(i.Component),f=Object(a.d)(Object(s.a)(m))(h)},fgOK:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("geRD"),l=n("t/uW"),u=n("GnwI"),d=n("OCDW"),p=n("uq9l"),m=n("Yegi"),h=n("5e0Q"),f=n("zbfc"),b=/^\d{5}$/,y=/^[A-Z]\d[A-Z] \d[A-Z]\d$/,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={countryCode:t.props.defaultCountryCode||"",postalCode:t.props.defaultPostalCode||"",settingResidence:!1,error:!1},t.handleCORChange=function(e){t.setState({countryCode:e.countryCode,postalCode:e.zipCode})},t.setUserResidence=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:this.setState({settingResidence:!0,error:!1}),n.label=1;case 1:return n.trys.push([1,3,,4]),e=Object(c.a)({userID:this.props.userID,countryCode:this.state.countryCode,zipCode:this.state.postalCode}),[4,this.props.setUserResidence(e)];case 2:return(t=n.sent().data).setUserResidence&&t.setUserResidence.user&&t.setUserResidence.user.residence?this.props.onSetResidenceSuccess():(this.props.onSetResidenceFailure&&this.props.onSetResidenceFailure(),this.setState({settingResidence:!1,error:!0})),[3,4];case 3:return n.sent(),this.props.onSetResidenceFailure&&this.props.onSetResidenceFailure(),this.setState({settingResidence:!1,error:!0}),[3,4];case 4:return[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(l.a,{countryCode:this.state.countryCode,zipCode:this.state.postalCode,zipCodeError:!1,onChange:this.handleCORChange}),i.createElement(d.a,{margin:{y:2}},this.state.error&&i.createElement(d.a,{margin:{bottom:1}},i.createElement(p.a,{color:m.f.Error},Object(o.d)("There was an error processing your information. Please try again.","SelectResidence"))),i.createElement(h.a,{state:this.state.settingResidence?h.c.Loading:h.c.Default,disabled:!this.residenceValid||this.state.settingResidence,onClick:this.setUserResidence,"data-a-target":"proceed-button"},Object(o.d)("Proceed","SelectResidence"))))},Object.defineProperty(t.prototype,"residenceValid",{get:function(){return"US"===this.state.countryCode?b.test(this.state.postalCode):"CA"===this.state.countryCode?y.test(this.state.postalCode):!!this.state.countryCode},enumerable:!0,configurable:!0}),t}(i.Component),g=Object(a.d)(Object(u.withLatencyTracking)("SelectResidence",{autoReportInteractive:!0}),Object(s.a)(f,{name:"setUserResidence"}))(v)},fvsf:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("mrSG"),i=n("q1tI"),a=n("ANjH"),o=n("/7QA"),s=n("yR8l"),c=n("Jgup"),l=n("CoFg"),u=n("p8oj"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countryToCodeMap=t.createCountryToCodeMap(t.props.countryCodeList),t.sortedCountryStrings=t.createSortedCountryStringsList(t.props.countryCodeList),t.countryListSet=new Set(t.props.countryCodeList),t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){JSON.stringify(e.countryCodeList)!==JSON.stringify(this.props.countryCodeList)&&(this.countryToCodeMap=this.createCountryToCodeMap(this.props.countryCodeList),this.sortedCountryStrings=this.createSortedCountryStringsList(this.props.countryCodeList),this.countryListSet=new Set(this.props.countryCodeList))},t.prototype.render=function(){return i.createElement(l.a,{onChange:this.props.onChange,value:this.props.countryCode,error:this.props.error,autoComplete:"country"},i.createElement("option",{value:"",disabled:!0},Object(o.d)("Select country","CountrySelector")),this.sortedCountryOptions)},Object.defineProperty(t.prototype,"sortedCountryOptions",{get:function(){var e=this,t=[],n=this.props.data.requestInfo.countryCode;return n&&this.countryListSet.has(n)&&t.push(i.createElement("option",{value:n,key:"countryCode-"+n},Object(c.b)(n))),this.sortedCountryStrings.forEach((function(r){var a=e.countryToCodeMap[r];a!==n&&t.push(i.createElement("option",{value:a,key:"countryCode-"+a},r))})),t},enumerable:!0,configurable:!0}),t.prototype.createCountryToCodeMap=function(e){return e.reduce((function(e,t){return e[Object(c.b)(t)]=t,e}),{})},t.prototype.createSortedCountryStringsList=function(e){var t=o.p.intl.getLanguageCode()||"en";return e.map((function(e){return Object(c.b)(e)})).sort((function(e,n){return e.localeCompare(n,t)}))},t}(i.PureComponent),p=Object(a.d)(Object(s.a)(u))(d)},gn2N:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r,i=n("mrSG"),a=n("b6Yk");!function(e){e.CreditCard="cc",e.PayPal="paypal",e.AmazonPay="amazon",e.Unknown="unknown",e.DirectDebit="gocardless"}(r||(r={}));var o=function(){function e(){}return e.updatePaymentMethod=function(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t,n,r,o,s,c,l,u,d,p,m,h;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=e.userID,n=e.paymentMethod,r=e.token,o=e.cardBINCountry,s=e.billingAuthInfo,c=e.lastFour,l=e.paymentSession&&{device_id:e.paymentSession.deviceID,local_storage_device_id:e.paymentSession.localStorageDeviceID,tab_session_id:e.paymentSession.tabSessionID,page_session_id:e.paymentSession.pageSessionID,checkout_session_id:e.paymentSession.checkoutSessionID}||{},u="/v5/checkout/users/"+t+"/payment_methods",d={provider:"recurly",gateway:n,token:r,billing_info_country:o,last_four:c,payment_session:l,billing_auth_info:{three_d_secure_action_result_token_id:s&&s.threeDSecureActionResultTokenID}},[4,a.a.put(u,{body:d},{version:5})];case 1:return p=i.sent(),m=p.body,h=p.error,m&&m.error_code?[2,{error:m}]:[2,{error:h}]}}))}))},e}()},hNTM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutPaymentsDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:64}};n.loc.source={body:"query CheckoutPaymentsDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CheckoutPaymentsDisclaimer=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CheckoutPaymentsDisclaimer")},hRLk:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"paymentMethodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PaymentMethod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeInstrumentID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"provider"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billingCountry"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"billingEmail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastFour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationMonth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationYear"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentScheme"},arguments:[],directives:[]}]}}],loc:{start:0,end:182}};n.loc.source={body:"fragment paymentMethodFragment on PaymentMethod {\nchargeInstrumentID\nprovider\npaymentType\nbillingCountry\nbillingEmail\ncardType\nlastFour\nexpirationMonth\nexpirationYear\npaymentScheme\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},iSjI:function(e,t,n){e.exports=n.p+"assets/visa-0862ac17dccf1c7a5a22.svg"},"k/qa":function(e,t,n){},kBDA:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,i=n("q1tI"),a=n("/7QA");!function(e){e.Small="s",e.Medium="m",e.Large="l"}(r||(r={}));var o=Object(i.memo)((function(e){var t=e.size,n=void 0===t?r.Small:t,o='\n    <style>\n      body {\n        margin: 0\n      }\n    </style>  \n    \n    <div id="DigiCertClickID_B309IfA3" />\n\n    <script type="text/javascript">\n      var __dcid = __dcid || [];\n      __dcid.push(["DigiCertClickID_B309IfA3", "15", "'+n+'", "black", "B309IfA3"]);\n      \n      (function(){\n        var cid = document.createElement("script");\n        cid.async = true;\n        cid.src = "//seal.digicert.com/seals/cascade/seal.min.js";\n        var s = document.getElementsByTagName("script");\n        var ls = s[(s.length - 1)];\n        ls.parentNode.insertBefore(cid, ls.nextSibling);\n      }());\n    <\/script>\n    ',s=80,c=58;switch(n){case r.Medium:s=100,c=73;break;case r.Large:s=130,c=94}return i.createElement("iframe",{title:Object(a.d)("Norton Seal, powered by digicert","NortonSeal"),width:s,height:c,sandbox:"allow-scripts allow-popups",srcDoc:o})})),s=n("LNol"),c=n("Ix37"),l=n("uq9l"),u=n("Yegi"),d=n("OCDW"),p=(n("5TAx"),function(e){var t=e.margin,n="control"!==a.p.experiments.getAndTrackAssignment("norton_badge_v2"),r=i.createElement(i.Fragment,null,i.createElement(s.a,{asset:c.a.Lock,width:20}),i.createElement(l.a,{fontSize:u.k.Size8},Object(a.d)("Secure","SecureStamp"))),p=i.createElement(o,null);return i.createElement(d.a,{display:u.h.InlineFlex,alignItems:u.b.Center,className:"secure-stamp",margin:t},n?p:r)})},l7sZ:function(e,t,n){var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CheckoutFormScreenManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"params"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchasableOfferParams"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagBindings"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"OfferTagBindingInput"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"giftRecipientIDs"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"quantity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PaymentSession"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isDarkMode"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasableOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"Variable",name:{kind:"Name",value:"params"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"recurlyCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"RECURLY"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"xsollaCheckoutPrice"},name:{kind:"Name",value:"checkoutPrice"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentProvider"},value:{kind:"EnumValue",value:"XSOLLA_V3"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkoutPriceSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTaxInclusive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tax"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkoutActions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligiblePaymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"eligiblePaymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"checkoutConfiguration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"xsolla"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offerTagBindings"},value:{kind:"Variable",name:{kind:"Name",value:"tagBindings"}}},{kind:"Argument",name:{kind:"Name",value:"quantity"},value:{kind:"Variable",name:{kind:"Name",value:"quantity"}}},{kind:"Argument",name:{kind:"Name",value:"giftRecipientIDs"},value:{kind:"Variable",name:{kind:"Name",value:"giftRecipientIDs"}}},{kind:"Argument",name:{kind:"Name",value:"paymentSession"},value:{kind:"Variable",name:{kind:"Name",value:"paymentSession"}}},{kind:"Argument",name:{kind:"Name",value:"isDarkMode"},value:{kind:"Variable",name:{kind:"Name",value:"isDarkMode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSandbox"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withDiscounts"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paymentMethods"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"paymentMethodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userResidenceFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"recurlyConfigs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"payWithAmazonConfigs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isProduction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sellerID"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"braintreeClientAuthorization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"publicKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:2167}};r.loc.source={body:'#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/eligible-payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/payment-method-fragment.gql"\n#import "twilight/features/checkout-payments/components/checkout-form/components/checkout-form-screen-manager/user-residence-fragment.gql"\nquery CheckoutFormScreenManager(\n$params: PurchasableOfferParams!\n$tagBindings: [OfferTagBindingInput!]\n$giftRecipientIDs: [ID!]\n$quantity: Int!\n$paymentSession: PaymentSession!\n$withDiscounts: Boolean = false\n$isDarkMode: Boolean = false\n) {\npurchasableOffer(params: $params) {\nlisting {\nchargeModel {\ninternal {\nself {\nrecurlyCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: RECURLY\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount @include(if: $withDiscounts) {\nprice\ntotal\ntax\n}\n}\n}\nxsollaCheckoutPrice: checkoutPrice(\nquantity: $quantity\npaymentProvider: XSOLLA_V3\n) {\nerrorCode\ncheckoutPriceSummary {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ntotal\ndiscount @include(if: $withDiscounts) {\nprice\ntotal\ntax\n}\n}\n}\n}\nplan {\nrenewalPolicy\ninterval {\nduration\nunit\n}\n}\npreviewPrice {\ncurrency\nexponent\nid\nisTaxInclusive\nprice\ntax\ndiscount @include(if: $withDiscounts) {\nprice\n}\n}\n}\n}\n}\neligibility {\nisEligible\n}\nendAt\ngiftType\nid\nquantity {\nmin\nmax\n}\nself {\ncheckoutActions(quantity: $quantity paymentSession: $paymentSession)\neligiblePaymentMethods {\n...eligiblePaymentMethodFragment\n}\ncheckoutConfiguration {\nxsolla(\nofferTagBindings: $tagBindings\nquantity: $quantity\ngiftRecipientIDs: $giftRecipientIDs\npaymentSession: $paymentSession\nisDarkMode: $isDarkMode\n) {\ntoken\nisSandbox\n}\n}\n}\ntplr\ntagBindings {\nkey\nvalue\n}\npromotion @include(if: $withDiscounts) {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\n}\n}\ncurrentUser {\nid\nemail\npaymentMethods {\n...paymentMethodFragment\n}\nresidence {\n...userResidenceFragment\n}\n}\nrequestInfo {\ncountryCode\n}\nrecurlyConfigs {\npayWithAmazonConfigs {\nclientID\nisProduction\nsellerID\n}\nbraintreeClientAuthorization\npublicKey\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))}r.definitions=r.definitions.concat(a(n("G0EU").definitions)),r.definitions=r.definitions.concat(a(n("hRLk").definitions)),r.definitions=r.definitions.concat(a(n("z8ZU").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}r.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=r,e.exports.CheckoutFormScreenManager=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=o[t]||new Set,i=new Set,a=new Set;for(r.forEach((function(e){a.add(e)}));a.size>0;){var c=a;a=new Set,c.forEach((function(e){i.has(e)||(i.add(e),(o[e]||new Set).forEach((function(e){a.add(e)})))}))}return i.forEach((function(t){var r=s(e,t);r&&n.definitions.push(r)})),n}(r,"CheckoutFormScreenManager")},lGkd:function(e,t,n){},mHjF:function(e,t,n){e.exports=n.p+"assets/prime-gaming-black-a2794e96bd9fd9158cbd.svg"},mj5D:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ShareBitsBadgeTier_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tierNotification"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShare"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unlockedEmoticons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:203}};n.loc.source={body:"query Chat_ShareBitsBadgeTier_ChannelData($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nself {\nbitsBadge {\nid\ntierNotification {\nid\nthreshold\ncanShare\nunlockedEmoticons {\nid\ntoken\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.Chat_ShareBitsBadgeTier_ChannelData=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"Chat_ShareBitsBadgeTier_ChannelData")},oAT0:function(e,t,n){},oQBz:function(e,t,n){e.exports=n.p+"assets/xsolla_1x-920aa1ba72411e5fe0aa.png"},oe2Q:function(e,t,n){e.exports=n.p+"assets/KR-47cf2c6216f4f5f24125.png"},p8oj:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CountrySelector_CountryCode"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:65}};n.loc.source={body:"query CountrySelector_CountryCode {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CountrySelector_CountryCode=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CountrySelector_CountryCode")},pXzP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PurchaseOfferMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PurchaseOfferInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOffer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchaseOrder"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionTokenID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"mutation PurchaseOfferMutation($input: PurchaseOfferInput!) {\npurchaseOffer(input: $input) {\npurchaseOrder {\nid\nactionTokenID\nstate\n}\nerror\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.PurchaseOfferMutation=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PurchaseOfferMutation")},q8H6:function(e,t,n){e.exports=n.p+"assets/paypal_dark_2x-74742ec8600998675dc5.png"},qhDs:function(e,t,n){},rACw:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("/7QA"),i=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);function a(e){return!!e&&i.test(e)}function o(e){if(!a(e))return Object(r.d)("Please enter a valid email.","EmailValidator")}},rZpj:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("o5gP"),s=n("SWse"),c=n("P+FS"),l=n("HQtB"),u=n("IyK4"),d=n("Yegi"),p=n("Ix37"),m=n("TwdJ"),h=function(e,t){var n="tw-"+Object(o.b)();return a.createElement("div",i()({className:Object(s.a)("tw-search-input")},Object(l.a)(e)),a.createElement(u.a,{display:d.h.HideAccessible},a.createElement("label",{htmlFor:e.id?e.id:n},"Search")),a.createElement(m.a,i()({},Object(c.a)(e),{ref:t||e.refDelegate,autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:p.a.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,spellCheck:e.spellCheck,tabIndex:e.tabIndex,size:e.size,type:m.c.Search,value:e.value,overlay:e.overlay})))};h.displayName="SearchInput",h.displayName="SearchInput";var f=a.forwardRef(h)},"s+pF":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return p}));var r,i=n("pVnL"),a=n.n(i),o=n("VbXa"),s=n.n(o),c=n("q1tI"),l=n("SWse"),u=n("P+FS"),d=n("HQtB");!function(e){e.First="col-order--first",e.Last="col-order--last"}(r||(r={}));var p=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.render=function(){var e=this.getColumnSizeClasses(this.props.cols),t=this.props.offset?this.getColumnOffsetClasses(this.props.offset):"",n=this.props.order?this.getColumnOrderClasses(this.props.order):"";return c.createElement("div",a()({className:Object(l.a)([e,t,n])},Object(d.a)(this.props),Object(u.a)(this.props)),this.props.children)},n.getColumnSizeClasses=function(e){if("number"==typeof e)return"tw-col-"+e;var t=["tw-col-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-"+e.xxl),t},n.getColumnOffsetClasses=function(e){if("number"==typeof e)return"tw-col-offset-"+e;var t=["tw-col-offset-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-offset-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-offset-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-offset-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-offset-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-offset-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-offset-"+e.xxl),t},n.getColumnOrderClasses=function(e){if("string"==typeof e)return"tw-"+e;if("object"==typeof e){var t=[];return"string"==typeof e.default&&t.push("tw-"+e.default),"string"==typeof e.xs&&t.push("tw-xs-"+e.xs),"string"==typeof e.sm&&t.push("tw-sm-"+e.sm),"string"==typeof e.md&&t.push("tw-md-"+e.md),"string"==typeof e.lg&&t.push("tw-lg-"+e.lg),"string"==typeof e.xl&&t.push("tw-xl-"+e.xl),"string"==typeof e.xxl&&t.push("tw-xxl-"+e.xxl),t}return!1},t}(c.Component);p.displayName="Column"},s0i4:function(e,t,n){e.exports=n.p+"assets/expanded-emote-c25caeb5218f4c4775f3.png"},"sAl/":function(e,t,n){},sqAG:function(e,t,n){e.exports=n.p+"assets/green-gem-5e6e942a04394ef59ee9.png"},"t/uW":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("mrSG"),i=n("q1tI"),a=n("/7QA"),o=n("fvsf"),s=n("TbBp"),c=n("BBJN"),l=n("s+pF"),u=n("OCDW"),d=n("afq6"),p=n("TwdJ"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryChange=function(e){t.props.onChange({countryCode:e.currentTarget.value,zipCode:""})},t.onZipChange=function(e){t.props.onChange({countryCode:t.props.countryCode,zipCode:e.currentTarget.value})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.hidePriceVaries?"":Object(a.d)("Price may vary","CountryOfResidenceSelector");return i.createElement(c.a,{gutterSize:c.b.Medium},i.createElement(l.a,{cols:{default:12,sm:6}},i.createElement(u.a,{margin:{bottom:1},"data-a-target":"country-of-residence"},i.createElement(d.a,{label:Object(a.d)("Country of Residence","CountryOfResidenceSelector"),labelOptional:e},i.createElement(o.a,{countryCode:this.props.countryCode,countryCodeList:s.a,onChange:this.onCountryChange})))),this.zipCodeRequired&&i.createElement(l.a,{cols:6},i.createElement(u.a,{margin:{bottom:1},"data-a-target":"country-of-residence-postal-code"},i.createElement(d.a,{label:Object(a.d)("Postal Code","CountryOfResidenceSelector")},i.createElement(p.a,{type:p.c.Text,placeholder:this.placeholderText,value:this.props.zipCode||"",error:this.props.zipCodeError,onChange:this.onZipChange,maxLength:this.zipCodeMaxLength,autoComplete:"postal-code"})))))},Object.defineProperty(t.prototype,"zipCodeRequired",{get:function(){return["US","CA"].includes(this.props.countryCode)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholderText",{get:function(){switch(this.props.countryCode){case"US":return"12345";case"CA":return"M5J 0A1";default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zipCodeMaxLength",{get:function(){switch(this.props.countryCode){case"US":return 5;case"CA":return 7;default:return}},enumerable:!0,configurable:!0}),t}(i.PureComponent)},t5Mr:function(e,t,n){e.exports=n.p+"assets/bacs_dark-c915995c17630491b205.png"},tPnS:function(e,t,n){"use strict";n.r(t),n.d(t,"TestSelectors",(function(){return $t})),n.d(t,"ChatPrivateCalloutQueuePresentation",(function(){return nn})),n.d(t,"ChatPrivateCalloutQueue",(function(){return rn}));var r=n("mrSG"),i=n("q1tI"),a=n("/MKj"),o=n("ANjH"),s=n("/7QA"),c=n("vHGB"),l=n("TSYQ"),u=n("eJ65"),d=n("N0BP"),p=n("OCDW"),m=n("Yegi"),h=n("5e0Q"),f=function(e){return i.createElement(p.a,{display:m.h.Flex,justifyContent:m.m.End},e.secondaryButton&&i.createElement(p.a,{margin:{right:1}},i.createElement(h.a,Object(r.__assign)({size:h.b.Small},e.secondaryButton))),i.createElement("div",null,i.createElement(h.a,Object(r.__assign)({size:h.b.Small},e.primaryButton))))};f.displayName="ChatPrivateCalloutActions";var b,y=n("eUaf"),v=n("uq9l"),g=n("swlv"),k=n("Ix37"),S=n("mDIl"),C=n("4Nlk"),E=n("YQhk"),O=n("g8gE"),P=n("uuYk"),D=n("LNol");n("N3Wk");!function(e){e.SVGIcon="chat-private-callout__icon-svg",e.CloseButton="chat-private-callout__close-button",e.HoverContainer="chat-private-callout__hover-container"}(b||(b={}));var j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovered:!1},t.handleFocus=function(){t.setState({isHovered:!0})},t.handleBlur=function(){t.setState({isHovered:!1})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=l("chat-private-callout__icon",{"chat-private-callout__icon--overlay":e.overlay&&!e.hideIconBackground});return i.createElement(p.a,Object(r.__assign)({},Object(d.a)(e),{border:!e.overlay,background:e.overlay?m.d.Accent:m.d.Base,borderRadius:m.e.Medium,color:e.overlay?m.f.Overlay:m.f.Base,elevation:4,position:m.o.Relative,padding:1}),i.createElement("div",{onMouseEnter:this.handleFocus,onMouseLeave:this.handleBlur,onFocus:this.handleFocus,onBlur:this.handleBlur,"data-test-selector":b.HoverContainer},i.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Start},e.icon&&i.createElement(p.a,{className:t,margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:m.h.Flex,flexGrow:0,flexShrink:0,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center},this.renderIcon()),i.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Center,className:"chat-private-callout__header-segment",padding:{right:.5},flexGrow:1},i.createElement(p.a,null,e.pill&&i.createElement(p.a,{display:m.h.InlineBlock,margin:{right:.5}},i.createElement(y.a,Object(r.__assign)({},e.pill))),i.createElement(v.a,{bold:!0,type:v.e.Span},e.message.title),e.message.description&&e.inlineDescription&&i.createElement(v.a,{type:v.e.Span}," ",e.message.description))),i.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Center,className:"chat-private-callout__header-segment"},!!e.actions&&e.inlineActions&&this.renderActions(),e.contextMenu&&i.createElement(p.a,{color:m.f.Base},i.createElement(u.a,null,i.createElement(g.a,{icon:k.a.More,overlay:e.overlay,"aria-label":"more options"}),i.createElement(S.a,{direction:C.b.TopRight,size:E.a.Small},e.contextMenu))),e.closeButton&&!e.contextMenu&&i.createElement(p.a,{padding:{left:.5},"data-test-selector":b.CloseButton},i.createElement(O.a,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:g.b.Small,overlay:e.overlay})))),e.message.description&&!e.inlineDescription&&i.createElement(p.a,{margin:{top:.5}},i.createElement(v.a,null,e.message.description)),!!e.actions&&!e.inlineActions&&i.createElement(p.a,{margin:{top:.5}},this.renderActions()),e.progressBar&&i.createElement(p.a,{margin:{top:1}},i.createElement(P.a,{animationDirection:P.b.Down,size:P.c.ExtraSmall,animationDuration:e.progressBar.animationDuration,onAnimationEnd:e.progressBar.onAnimationEnd,paused:this.state.isHovered,overlay:e.overlay,mask:!0}))))},t.prototype.renderIcon=function(){return this.props.icon.asset?i.createElement(D.a,Object(r.__assign)({"data-test-selector":b.SVGIcon},this.props.icon)):this.props.icon},t.prototype.renderActions=function(){return this.props.actions.primaryButton?i.createElement(f,Object(r.__assign)({},this.props.actions)):this.props.actions},t}(i.Component),N=n("x3Zu"),T=n("hO8c"),I=n("amaQ"),_=n("ZtEv"),w=n("aF6k");function A(e,t){return{type:_.b.InlinePrivateCallout,id:Object(w.a)("inlinePrivateCallout"),callout:e,tray:t}}var x=n("l8aq"),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this,t=this.props.badgeSets.getBadge("moderator","1"),n=Object(s.d)("Mod View","AppointedModeratorCallout"),a={children:n,overlay:!0,icon:k.a.Externallink,linkTo:Object(x.a)(this.props.channelLogin)},o=Object(s.d)("{channelDisplayName} added you as a Moderator of this channel!",{channelDisplayName:this.props.event.author},"AppointedModeratorCallout");""===this.props.event.author&&(o=Object(s.d)("Error loading username: ID {authorID} added you as a Moderator of this channel!",{authorID:this.props.event.userID},"AppointedModeratorCallout"));var l={title:o,icon:t?i.createElement(c.a,{schemaBadge:t,noMargins:!0,hideTooltip:!0}):i.createElement(D.a,{asset:k.a.Sword,type:D.b.Brand})},u=Object(r.__assign)(Object(r.__assign)({},l),{trackingType:I.d.AppointedModerator,trackingClickType:I.b.OpenModView,privateSID:this.privateCalloutSID,cta:n,action:function(){return window.location.replace(a.linkTo)}});return{message:{title:l.title},actions:{primaryButton:a},icon:t?i.createElement(c.a,{schemaBadge:t,noMargins:!0,hideTooltip:!0}):i.createElement(D.a,{asset:k.a.Sword,type:D.b.Brand}),closeButton:{"aria-label":this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss()}},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(A(u))}},overlay:!0,inlineActions:!0}},t.prototype.render=function(){var e=this.buildCalloutProps();return i.createElement(j,Object(r.__assign)({},e))},t}(N.a);var M,F=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})))(R),B=n("A4KW"),L=n("g+79"),U=n("W1jp");!function(e){e.RewardMessage="reward-message"}(M||(M={}));var G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=I.d.CommunityPointsReward,t.trackingClickType=I.b.ShowReward,t}return Object(r.__extends)(t,e),t.prototype.render=function(){return i.createElement(j,Object(r.__assign)({},this.buildCalloutProps()))},t.prototype.buildCalloutProps=function(){var e=this,t=this.props.event.reward;return{overlay:!0,inlineActions:!0,icon:this.renderRewardIcon(t),message:{title:this.renderRewardMessage(t)},hideIconBackground:!0,progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(A({cta:e.renderRewardCTAText(),icon:e.renderRewardIcon(t),title:e.renderRewardMessage(t),action:e.props.event.openReward,trackingType:e.trackingType,trackingClickType:e.trackingClickType,privateSID:e.privateCalloutSID,hideIconBackground:!0}))}},closeButton:{"aria-label":this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss()}},actions:{primaryButton:{onClick:function(){e.props.popCallout(),e.props.event.openReward(),e.trackCTAClick(e.trackingClickType)},children:this.renderRewardCTAText(),type:h.d.Primary,overlay:!0}}}},t.prototype.renderRewardIcon=function(e){return i.createElement(L.a,{data:e,size:L.b.ExtraSmall,rounded:!0})},t.prototype.renderRewardCTAText=function(){return Object(s.d)("Show me","CommunityPointsPrivateCalloutButton")},t.prototype.renderRewardMessage=function(e){return i.createElement(p.a,{"data-test-selector":M.RewardMessage},i.createElement(v.a,{type:v.e.Span},Object(s.d)("{rewardName} with your",{rewardName:U.f(e)},"CommunityPointsPrivateCalloutRewardMessage")),i.createElement(p.a,{display:m.h.InlineFlex,flexDirection:m.i.Row,verticalAlign:m.r.Middle},i.createElement(p.a,{display:m.h.InlineBlock,margin:{x:.5}},i.createElement(B.b,null)),i.createElement(v.a,null,Object(s.f)(U.c(e)))))},t}(N.a);var z=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})))(G),q=n("eirU"),V=n("KhHV"),W=n("+pBb"),H=n("zwF8"),Q=n("p9DJ"),Y=n("JjwZ"),K=n("+20K"),Z=n("UhDg");var X=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})),Object(a.b)(void 0,(function(e){return Object(o.b)({setTray:W.bb},e)})))((function(e){var t,n,a,o=Object(q.d)(Z,{variables:{dropInstanceID:e.event.dropInstanceID,channelID:e.event.channelID}}),c=o.data,l=o.loading,u=Object(q.c)(K)[0];if(l||!c||"TimeBasedDrop"!==(null===(n=null===(t=c.dropEligibility)||void 0===t?void 0:t.dropType)||void 0===n?void 0:n.__typename))return null;var d=(null===(a=c.dropEligibility)||void 0===a?void 0:a.dropType)||{},p=d.name,m=d.campaign,f=d.benefitEdges,b=null==f?void 0:f.map((function(e){return e.benefit}));if(!b)return null;var y=1===b.length?b[0].imageAssetURL:null==m?void 0:m.imageURL,g=Object(s.d)("Drops Inventory","DropsPrivateCallout"),S={message:{title:i.createElement(v.a,null,Object(s.d)("You scored a Drop! Claim now or go to {inventoryLink}",{inventoryLink:i.createElement(Q.a,{underline:!0,type:Q.b.Overlay,linkTo:"/inventory"},Object(s.d)("Inventory","DropsPrivateCallout"))},"DropsPrivateCallout"))},icon:i.createElement(Y.a,{alt:Object(s.d)("Drop name: {dropName}",{dropName:p||""},"DropsPrivateCallout"),src:y||""}),inlineActions:!0,actions:{primaryButton:{onClick:function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,a,o,l,d,p,m,h,f;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,u({variables:{dropInstanceID:e.event.dropInstanceID}})];case 1:return(t=r.sent()).errors||!(null===(p=null===(d=t.data)||void 0===d?void 0:d.claimDropRewards)||void 0===p?void 0:p.rewards.length)?e.setTray({title:Object(s.d)("Sorry! There was an error","DropsPrivateCallout"),body:i.createElement(v.a,null,Object(s.d)("This drop couldn't be claimed. Check your {inventoryLink} later",{inventoryLink:i.createElement(Q.a,{underline:!0,type:Q.b.Default,linkTo:"/inventory"},g)},"DropsPrivateCallout")),icon:i.createElement(D.a,{type:D.b.Warn,asset:k.a.NotificationError})}):(n=(null===(m=t.data)||void 0===m?void 0:m.claimDropRewards.rewards)||[],a=null===(h=n[0])||void 0===h?void 0:h.accountLinkURL,o=n.reduce((function(e,t,n){var r=e;return n>0&&(r+=", "),r+t.name}),""),l=Object(s.d)("Let chat see that you landed shiny new Drops. They're in your {inventoryLink}",{inventoryLink:i.createElement(Q.a,{underline:!0,type:Q.b.Default,linkTo:"/inventory"},g)},"DropsPrivateCallout"),t.data.claimDropRewards.isUserAccountConnected||(l=Object(s.d)("Let chat see that you landed your new Drops. {connectAccountLink} to receive them",{connectAccountLink:i.createElement(Q.a,{underline:!0,type:Q.b.Default,linkTo:a},Object(s.d)("Connect your game account","DropsPrivateCallout"))},"DropsPrivateCallout")),e.setTray({title:Object(s.d)("Claimed! Now show off your Drops","DropsPrivateCallout"),body:i.createElement(v.a,null,l),sendButtonOverride:H.b.ShareDrop,inputValue:Object(s.d)("I just claimed {rewardNameList}! Thanks for the Drops @{channelName}",{rewardNameList:o,channelName:(null===(f=null==c?void 0:c.channel)||void 0===f?void 0:f.displayName)||"Channel"},"DropsPrivateCallout"),icon:i.createElement(D.a,{type:D.b.Success,asset:k.a.NotificationSuccess})})),e.popCallout(),[2]}}))}))},children:Object(s.d)("Claim","DropsPrivateCallout"),type:h.d.Primary,overlay:!0}},closeButton:{onClick:e.popCallout,"aria-label":Object(s.d)("Close","DropsPrivateCallout")},overlay:!0,progressBar:{animationDuration:30,onAnimationEnd:function(){e.popCallout()},overlay:!0}};return Object(V.h)({channelID:e.event.channelID,dropID:e.event.dropID,uiContext:V.a.Chat,campaignID:(null==m?void 0:m.id)||""}),i.createElement(j,Object(r.__assign)({},S))})),J=n("DMoW"),$=n("RS58"),ee=n("+l4d"),te=n("TUXZ"),ne=(n("KOxZ"),function(e){var t=e.emoteReward,n=e.badgeReward,r=null;if(!t&&!n)return r;if(!(t&&n)){var a=t||n,o=(null==a?void 0:a.type)===J.Rc.EMOTE?"https://static-cdn.jtvnw.net/emoticons/v1/"+(null==a?void 0:a.id)+"/3.0":(null==a?void 0:a.image_url)||"";r=i.createElement(p.a,{className:"hype-train-rewards",fullWidth:!0,fullHeight:!0},i.createElement(p.a,{className:"hype-train-rewards__icon",display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,padding:.5},i.createElement(Y.a,{src:o,srcSet:{"112w":o},sizes:[{size:(null==a?void 0:a.type)===J.Rc.EMOTE?"24px":"72px"}],alt:(null==a?void 0:a.type)===J.Rc.EMOTE?(null==a?void 0:a.token)||"":(null==a?void 0:a.badge_id)||""})))}else{var s="https://static-cdn.jtvnw.net/emoticons/v1/"+(null==t?void 0:t.id)+"/3.0",c=(null==n?void 0:n.image_url)||"";r=i.createElement(p.a,{className:"hype-train-rewards hype-train-rewards__double-rewards",position:m.o.Relative,fullWidth:!0,fullHeight:!0},i.createElement(p.a,{className:"hype-train-rewards__icon",display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,position:m.o.Absolute,attachBottom:!0,attachLeft:!0,zIndex:m.t.Above},i.createElement(Y.a,{src:s,srcSet:{"112w":s},sizes:[{size:"17px"}],alt:(null==t?void 0:t.token)||""})),i.createElement(p.a,{className:"hype-train-rewards__icon",display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,position:m.o.Absolute,attachTop:!0,attachRight:!0},i.createElement(Y.a,{src:c,srcSet:{"72w":c},sizes:[{size:"34px"}],alt:(null==n?void 0:n.badge_id)||""})))}return r}),re=n("6/xl"),ie=function(){var e="https://static-cdn.jtvnw.net/emoticons/v1/"+re.b+"/1.0";return i.createElement(Y.a,{className:"hype-train-rewards__placeholder-img",alt:re.c,src:e})},ae=(n("xRjC"),15),oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=I.d.HypeTrainRewards,t.trackingClickType=I.b.Thank,t.buildEmoteRewardProps=function(e,n,a){var o,c=i.createElement(ne,{emoteReward:n,badgeReward:a}),l=i.createElement(p.a,{display:m.h.Flex,padding:{top:.5,bottom:1},alignItems:m.b.End},Object(s.d)("Hooray! Let the channel know you've earned a new Hype Train emote.","HypeTrainRewardsCalloutComponent")),u=Object(s.d)("Share","HypeTrainRewardsCalloutComponent"),d={title:e,icon:c,hideIconBackground:!0},f=Object(s.d)("Choo Chooo {emoteString}",{emoteString:n&&n.token?n.token:""},"HypeTrainRewardsCalloutComponent"),b=Object(r.__assign)(Object(r.__assign)({},d),{cta:n&&u,trackingType:t.trackingType,trackingClickType:t.trackingClickType,privateSID:t.privateCalloutSID}),y={title:Object(s.d)("Show off your support in chat!","HypeTrainRewardsCalloutComponent"),inputValue:f,body:l,sendButtonOverride:H.b.ShareEmoteReward,icon:c,disableCommands:!0,sendMessageHandler:{type:H.c.Chat,params:{privateCalloutTrackingContext:I.c.PrivateCallout}}};return o={message:{title:d.title},icon:c,closeButton:{"aria-label":t.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss()}},progressBar:{animationDuration:ae,onAnimationEnd:function(){t.props.popCallout(),t.props.onPushMessage(A(b,n&&y))}},overlay:!0,inlineActions:!0,hideIconBackground:!0},y.callOnClose=function(){t.props.onPushMessage(A(b,y))},n&&(o.actions={primaryButton:{onClick:function(){t.props.popCallout(),t.props.appendToTrayInput(f),t.trackCTAClick(t.trackingClickType)},children:u,type:h.d.Secondary,overlay:!0}}),o},t.buildCollectedAllEmotesMessageProps=function(){var e=Object(s.d)("You've collected all of the Level {level, number} emotes.",{level:t.props.event.level},"HypeTrainRewardsCalloutComponent"),n=i.createElement(ie,null),r=Object(s.d)("Show me","HypeTrainRewardsCalloutComponent"),a={title:e,icon:n,hideIconBackground:!0,cta:r,trackingType:t.trackingType,trackingClickType:t.trackingClickType,privateSID:t.privateCalloutSID};return{message:{title:e},icon:n,closeButton:{"aria-label":t.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss()}},progressBar:{animationDuration:ae,onAnimationEnd:function(){t.props.popCallout(),t.props.onPushMessage(A(a))}},overlay:!0,inlineActions:!0,hideIconBackground:!0,actions:{primaryButton:{onClick:function(){t.props.popCallout(),t.props.showEmotePicker(te.a.HypeTrain),t.trackCTAClick(I.b.OpenEmotePicker)},children:r,type:h.d.Secondary,overlay:!0}}}},t.buildEmoteRewardMessage=function(){return Object(s.d)("You received a Level {level, number} Hype Train emote!",{level:t.props.event.level},"HypeTrainRewardsCalloutComponent")},t.buildConductorBadgeRewardsMessage=function(){return Object(s.d)("You earned a conductor badge!","HypeTrainRewardsCalloutComponent")},t.buildEmoteAndConductorBadgeRewardsMessage=function(){return Object(s.d)("You earned a conductor badge and a Level {level, number} Hype Train emote!",{level:t.props.event.level},"HypeTrainRewardsCalloutComponent")},t}return Object(r.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this.props.event.rewards.filter((function(e){return e.type===J.Rc.BADGE&&e.id})),t=this.props.event.rewards.filter((function(e){return e.type===J.Rc.EMOTE&&e.id})),n="";if(t.length>0&&e.length>0)n=this.buildEmoteAndConductorBadgeRewardsMessage();else if(e.length>0)n=this.buildConductorBadgeRewardsMessage();else{if(!(t.length>0))return this.buildCollectedAllEmotesMessageProps();n=this.buildEmoteRewardMessage()}return this.buildEmoteRewardProps(n,t[0],e[0])},t.prototype.render=function(){var e=this.buildCalloutProps();return i.createElement(j,Object(r.__assign)({},e))},t}(N.a);var se,ce,le,ue=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})),Object($.b)((function(e){return{appendToTrayInput:e.appendToTrayInput}})),Object(ee.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(oe),de=n("ZS2+"),pe=n("f00E"),me=n("XDCx"),he=n("kRBY"),fe=function(){var e=document.querySelector('[data-a-target="bits-button"]');e&&e.click()},be=n("RiD7"),ye=(n("avap"),function(e){var t=null;if(0===e.emotes.length)return t;if(1===e.emotes.length){var n=e.emotes[0].imageURL||"";t=i.createElement(p.a,{className:"megacheer-rewards",fullWidth:!0,fullHeight:!0},i.createElement(p.a,{className:"megacheer-rewards__icon",display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,padding:.5},i.createElement(Y.a,{src:n,srcSet:{"112w":n},sizes:[{size:"24px"}],alt:e.emotes[0].text})))}else{var r=e.emotes[0].imageURL||"",a=e.emotes[1].imageURL||"";t=i.createElement(p.a,{className:"megacheer-rewards",position:m.o.Relative,fullWidth:!0,fullHeight:!0},i.createElement(p.a,{className:"megacheer-rewards__icon",display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,padding:.5,position:m.o.Absolute,attachBottom:!0,attachLeft:!0,zIndex:m.t.Above},i.createElement(Y.a,{src:r,srcSet:{"112w":r},sizes:[{size:"12px"}],alt:e.emotes[0].text})),i.createElement(p.a,{className:"megacheer-rewards__icon",display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,padding:.5,position:m.o.Absolute,attachTop:!0,attachRight:!0},i.createElement(Y.a,{src:a,srcSet:{"112w":a},sizes:[{size:"12px"}],alt:e.emotes[1].text})))}return t}),ve=n("x7UT"),ge=n("0Log"),ke=n("/aPz"),Se=n("buTd");!function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(le||(le={}));var Ce=((se={unknown:be.g.CheerAgain})[le.Cheer]=be.g.CheerAgain,se[le.SubGift]=be.g.SubGiftAgain,se[le.Subscription]=be.g.SubGift,se),Ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={lastPushedNotificationID:null},n}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=e.pubsub.messages.userNotificationEvent,n=this.props.pubsub.messages.userNotificationEvent;if(n&&n!==t){if(n.type===ge.PubsubMessageType.UserCampaignMegaCheerRewardEvent){var r=n;if(n.data.channelID&&n.data.channelID===this.props.channelID){var i={event:{type:Se.a.MegaBenefactorRewards,emotes:r.data.contents.slice(),transactionID:r.data.transactionID,domain:r.data.domain,giftType:this.getGiftType(r.data.triggerType||""),notificationType:Ce[r.data.triggerType||""]},key:Object(pe.c)()};this.props.pushCallout(i)}}if(n.type===ge.PubsubMessageType.UserGiftEvent){var a=n;if(a&&a.data.channelID&&a.data.channelID===this.props.channelID){var o={event:{type:Se.a.MegaRecipientRewards,transactionID:a.data.transactionID,gifterDisplayName:a.data.benefactor,emotes:a.data.contents.slice(),domain:a.data.domain,giftType:this.getGiftType(a.data.triggerType||""),notificationType:Ce[a.data.triggerType||""]},key:Object(pe.c)()};this.props.pushCallout(o)}}}},t.prototype.render=function(){return null},t.prototype.getGiftType=function(e){return e===le.SubGift?le.SubGift:e===le.Subscription?le.Subscription:le.Cheer},t}(i.Component);var Oe=Object(o.d)(Object(ve.a)([{topic:function(e){return Object(ke.ab)(e.currentUserId||"")},mapMessageTypesToProps:(ce={},ce[ge.PubsubMessageType.UserGiftEvent]="userNotificationEvent",ce[ge.PubsubMessageType.UserCampaignMegaCheerRewardEvent]="userNotificationEvent",ce),skip:function(e){return!e.currentUserId}}]),Object(T.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(Ee),Pe=n("V7AV"),De=n("br9A"),je=(n("EEET"),de.a.wrap((function(){return Promise.all([n.e(0),n.e(121)]).then(n.bind(null,"hfwl"))}),"SubModal")),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=I.d.MegacheerEmoteRecipient,t.trackingClickType=I.b.Thank,t.onActionClick=function(e){var n=t.props.event.notificationType;switch(e){case le.SubGift:case le.Subscription:t.showSubModal();break;default:fe()}Object(be.q)({notification_type:n,action:be.f.Click,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.currentUserID||"",channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t.showSubModal=function(){t.props.showSubModal({subLocation:De.b.ThankSubGifterCallout,channelLogin:t.props.channelLogin,defaultPage:Pe.a.CommunityGiftSelect,modalSessionId:Object(pe.c)()}),Object(De.c)({action:De.a.ClickGiftSubOptions,channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,subLocation:De.b.MegaGifterCallout,cumulativeTenureMonths:null})},t.onClose=function(){Object(be.q)({notification_type:t.props.event.notificationType,action:be.f.Dismiss,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.currentUserID||"",channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t}return Object(r.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e,t=this,n=this.props.event.emotes,a=this.props.event.giftType,o=Object(s.d)("Cheer Again","MegaBenefactorRewardsCallout"),c=Object(s.d)("Cheer","MegaBenefactorRewardsCallout"),l=Object(s.d)("Gift","MegaBenefactorRewardsCallout");switch(a){case le.SubGift:o=Object(s.d)("Gift Again","MegaBenefactorRewardsCallout"),c=l;break;case le.Subscription:o=l,c=Object(s.d)("Subscription","MegaBenefactorRewardsCallout")}var u={title:Object(s.d)("{giftCount, plural, one {Your {giftType} unlocked an emote!} other {Your {giftType} unlocked emotes!}}",{giftCount:n.length,giftType:c},"MegaBenefactorRewardsCallout"),icon:i.createElement(ye,{emotes:n,key:n[0].id}),cta:o},d=Object(r.__assign)(Object(r.__assign)({},u),{trackingType:this.trackingType,trackingClickType:this.trackingClickType,privateSID:this.privateCalloutSID});return(e={message:{title:u.title},icon:u.icon,closeButton:{"aria-label":this.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss(),t.onClose()}},progressBar:{animationDuration:15,onAnimationEnd:function(){t.props.popCallout(),t.props.onPushMessage(A(d))}},overlay:!0,inlineActions:!0,hideIconBackground:!0}).actions={primaryButton:{onClick:function(){t.props.popCallout(),t.onActionClick(a),t.trackCTAClick(t.trackingClickType)},children:u.cta,type:h.d.Secondary,overlay:!0}},e},t.prototype.render=function(){if(0===this.props.event.emotes.length)return null;Object(be.p)({notification_type:this.props.event.notificationType,transaction_id:this.props.event.transactionID||"",user_id:this.props.currentUserID||"",initiator_user_id:this.props.currentUserID||"",channel:this.props.channelLogin||"",channel_id:this.props.channelID||"",domain:this.props.event.domain||""});var e=this.buildCalloutProps();return i.createElement(j,Object(r.__assign)({},e))},t}(N.a);function Te(e){var t=Object(he.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}}var Ie=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})),Object(a.b)(Te),Object(a.b)(Te,(function(e){return Object(o.b)({showSubModal:function(e){return Object(me.e)(je,e)}},e)})))(Ne),_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=I.d.MegacheerEmoteRecipient,t.trackingClickType=I.b.Thank,t.onThank=function(){Object(be.q)({notification_type:be.g.Thank,action:be.f.Click,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.event.gifterDisplayName,channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t.onClose=function(){Object(be.q)({notification_type:be.g.Thank,action:be.f.Dismiss,transaction_id:t.props.event.transactionID||"",user_id:t.props.currentUserID||"",initiator_user_id:t.props.event.gifterDisplayName,channel:t.props.channelLogin||"",channel_id:t.props.channelID||"",domain:t.props.event.domain||""})},t}return Object(r.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this,t=this.props.event.emotes,n=i.createElement(ye,{emotes:t,key:t[0].id}),a=this.props.event.giftType,o=Object(s.d)("Cheer","MegaRecipientRewardsCallouts");switch(a){case le.SubGift:o=Object(s.d)("Gift","MegaRecipientRewardsCallouts");break;case le.Subscription:o=Object(s.d)("Subscription","MegaRecipientRewardsCallouts")}var c,l={title:Object(s.d)("{numEmotes, plural, one {You got an emote thanks to {benefactor}'s {giftType}!} other {You got {numEmotes} emotes thanks to {benefactor}'s {giftType}!}}",{benefactor:this.props.event.gifterDisplayName,giftType:o,numEmotes:t.length},"MegaRecipientRewardsCallouts"),icon:n,cta:Object(s.d)("Thank","MegaRecipientRewardsCallout"),hideIconBackground:!0},u=Object(r.__assign)(Object(r.__assign)({},l),{trackingType:this.trackingType,trackingClickType:this.trackingClickType,privateSID:this.privateCalloutSID}),d=Object(s.d)("{numEmotes, plural, one {Thanks for the {emoteList} @{user}} other {Thanks for the {emoteList} @{user}}}",{emoteList:this.props.event.emotes.map((function(e){return e.text})).join(" "),user:this.props.event.gifterDisplayName,numEmotes:t.length},"MegaRecipientRewardsCallout"),p={title:Object(s.d)("Add a message to thank {user} for your gift!",{user:this.props.event.gifterDisplayName},"MegaRecipientRewardsCallout"),body:Object(s.d)("Enjoy your gift!","MegaRecipientRewardsCallout"),sendButtonOverride:H.b.ThankSubGifter,icon:n,inputValue:d,disableCommands:!0,sendMessageHandler:{type:H.c.Chat,params:{privateCalloutTrackingContext:I.c.PrivateCallout},onSuccess:function(t,n){var r=Boolean(t===d);e.trackAction(I.a.Message,n&&n.privateCalloutTrackingContext||I.c.PrivateCallout,t,r),Object(be.r)({body:t,transaction_id:e.props.event.transactionID||"",user_id:e.props.currentUserID||"",initiator_user_id:e.props.event.gifterDisplayName,channel:e.props.channelLogin||"",channel_id:e.props.channelID||"",domain:e.props.event.domain||""})}}};return c={message:{title:l.title},icon:n,closeButton:{"aria-label":this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss(),e.onClose()}},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(A(u,p))}},overlay:!0,inlineActions:!0,hideIconBackground:!0},p.callOnClose=function(){e.props.onPushMessage(A(u,p))},c.actions={primaryButton:{onClick:function(){e.onThank(),e.props.popCallout(),e.props.setTray(p),e.trackCTAClick(e.trackingClickType)},children:l.cta,type:h.d.Secondary,overlay:!0}},c},t.prototype.render=function(){if(0===this.props.event.emotes.length)return null;Object(be.p)({notification_type:be.g.Thank,transaction_id:this.props.event.transactionID||"",user_id:this.props.currentUserID||"",initiator_user_id:this.props.event.gifterDisplayName,channel:this.props.channelLogin||"",channel_id:this.props.channelID||"",domain:this.props.event.domain||""});var e=this.buildCalloutProps();return i.createElement(j,Object(r.__assign)({},e))},t}(N.a);var we=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})),Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}}),(function(e){return Object(o.b)({setTray:W.bb},e)})))(_e),Ae=n("AaSY"),xe=n("yR8l"),Re=n("geRD"),Me=n("IZXT"),Fe=n("a1OF"),Be=(n("Uolz"),function(e){var t=e.badge,n=e.badgeName,r=e.emoteID,a=e.emoteToken,o=e.arrangeVertically,s=e.hideIconBackground,c=Object(Fe.e)(r,3),u=l("bits-badge-tier-rewards__icon",{"bits-badge-tier-rewards__icon--background":!s}),d=i.createElement(Y.a,{src:t.image1x,srcSet:{"72w":t.image4x},sizes:[{size:"17px"}],alt:n}),h=i.createElement(Y.a,{src:c,srcSet:{"112w":c},sizes:[{size:"17px"}],alt:a});return o?i.createElement(p.a,{className:"bits-badge-tier-rewards",fullWidth:!0,fullHeight:!0},i.createElement(p.a,{className:u,display:m.h.Flex,alignItems:m.b.Center,justifyContent:m.m.Center},d),i.createElement(p.a,{className:u,display:m.h.Flex,alignItems:m.b.Center,justifyContent:m.m.Center},h)):i.createElement(p.a,{className:"bits-badge-tier-rewards",position:m.o.Relative,fullWidth:!0,fullHeight:!0},i.createElement(p.a,{className:u,display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,position:m.o.Absolute,attachBottom:!0,attachLeft:!0,zIndex:m.t.Above},d),i.createElement(p.a,{className:u,display:m.h.Flex,borderRadius:m.e.Rounded,alignItems:m.b.Center,justifyContent:m.m.Center,position:m.o.Absolute,attachTop:!0,attachRight:!0},h))}),Le=n("NK7l"),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=I.d.CheerBadgeGrant,t.trackingClickType=I.b.Share,t.dismiss=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),this.props.authToken&&this.props.event&&this.props.event.id?[4,this.props.updateBitsBadgeTierNotification(Object(Re.a)({notificationID:this.props.event.id,notificationState:J.p.SKIPPED}))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[3,4];case 3:return e=t.sent(),Object(Me.d)()?s.k.warn("Failed to dismiss share bits tier callout"):s.k.errorAndReport(e,"Failed to dismiss share bits tier callout"),[3,4];case 4:return[2]}}))}))},t.share=function(e,n){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.props.authToken?[4,this.props.updateBitsBadgeTierNotification(Object(Re.a)({notificationID:this.props.event.id,notificationState:J.p.SHARED,message:e}))]:[3,2];case 1:return r.sent(),this.props.clearTray(),this.trackAction(I.a.Message,n.privateCalloutTrackingContext||I.c.PrivateCallout),[2,!0];case 2:return[3,4];case 3:return t=r.sent(),this.props.clearTray(),Object(Me.d)()?s.k.warn("Failed to post bits badge tier message"):s.k.errorAndReport(t,"Failed to post bits badge tier message"),[2,!1];case 4:return[2,!1]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.hasCTA=this.props.event.canShare,this.trackBitsAction(be.b.Impression),e.prototype.componentDidMount.call(this)},t.prototype.buildCalloutProps=function(){var e,t=this,n=!(!this.props.event.emoteID||!this.props.event.emoteToken),a=i.createElement(c.a,{badge:this.props.event.badge,noMargins:!0,hideTooltip:!0}),o={title:n?Object(s.d)("You just earned a new badge and emote from {channelName}!",{channelName:this.props.channelDisplayName||this.props.channelLogin},"ShareBitsBadgeTierCallout"):Object(s.d)("You just earned the {badgeTitle} Bits badge!",{badgeTitle:this.props.event.badgeName},"ShareBitsBadgeTierCallout"),icon:n?i.createElement(Be,{badge:this.props.event.badge,badgeName:this.props.event.badgeName,emoteID:this.props.event.emoteID,emoteToken:this.props.event.emoteToken}):a,cta:this.props.event.canShare?"Share":void 0},l=Object(r.__assign)(Object(r.__assign)({},o),{trackingType:this.trackingType,trackingClickType:this.trackingClickType,privateSID:this.privateCalloutSID}),u={title:n?Object(s.d)("Show off your support in Chat!","ShareBitsBadgeTierInputTray"):Object(s.d)("Show off your new badge in Chat!","ShareBitsBadgeTierInputTray"),body:n?Object(s.d)("Hooray! Let the channel know you've earned a new badge and {emoteToken} emote.",{emoteToken:this.props.event.emoteToken||""},"ShareBitsBadgeTierInputTray"):Object(s.d)("Hooray! Let the channel know you've earned the {badgeTitle} Bits badge.",{badgeTitle:this.props.event.badgeName},"ShareBitsBadgeTierInputTray"),sendButtonOverride:H.b.ShareBitsBadgeTier,icon:n?i.createElement(Be,{badge:this.props.event.badge,badgeName:this.props.event.badgeName,emoteID:this.props.event.emoteID,emoteToken:this.props.event.emoteToken,arrangeVertically:!0,hideIconBackground:!0}):a,sendMessageHandler:{type:H.c.Custom,handleMessage:this.share,params:{privateCalloutTrackingContext:I.c.PrivateCallout}},disableBits:!0,disableCommands:!0};return e={message:{title:o.title},icon:o.icon,closeButton:{"aria-label":this.closeString,onClick:function(){t.props.popCallout(),t.trackDismiss(),t.dismiss()}},progressBar:{animationDuration:15,onAnimationEnd:function(){t.props.popCallout(),t.trackBitsAction(be.b.AutoSkip),t.props.event.canShare?t.props.onPushMessage(A(l,u)):t.props.onPushMessage(A(l)),t.dismiss()}},overlay:!0,inlineActions:!0,hideIconBackground:n},this.props.event.canShare?(u.callOnClose=function(){t.dismiss(),t.props.onPushMessage(A(l,u))},e.actions={primaryButton:{onClick:function(){t.props.popCallout(),t.props.setTray(u),t.trackCTAClick(t.trackingClickType)},children:Object(s.d)("Share","ShareBitsBadgeTierCallout"),type:h.d.Secondary,overlay:!0}}):u.callOnClose=function(){t.dismiss(),t.props.onPushMessage(A(l,u))},e},t.prototype.render=function(){var e=this.buildCalloutProps();return i.createElement(j,Object(r.__assign)({},e))},t.prototype.trackBitsAction=function(e){Object(be.l)({action:e,userId:this.props.currentUserID||"",userLogin:this.props.currentUserLogin||"",channelId:this.props.channelID||"",channelLogin:this.props.channelLogin,transactionId:this.props.event.id,badgeAmount:this.props.event.threshold,emoteID:this.props.event.emoteID||""})},t}(N.a);var Ge,ze=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})),Object(xe.a)(Le,{name:"updateBitsBadgeTierNotification"}),Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}}),(function(e){return Object(o.b)({setTray:W.bb,clearTray:W.K},e)})))(Ue),qe=n("w09P"),Ve=n("Uh2Q"),We=n("dsMP"),He=n("oBNK");n("09Cy");!function(e){e.Icon="callout__icon"}(Ge||(Ge={}));var Qe,Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pinIcon:k.a.Pinned},t.onPinHover=function(){t.setState({pinIcon:k.a.Pin})},t.onPinBlur=function(){t.setState({pinIcon:k.a.Pinned})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.actions,n=e.icon,a=e.message,o=e.onUnpin,s=e.unpinDescription,c=l({"pinned-callout":!0,"pinned-callout__input-revamp":!0});return i.createElement(p.a,{className:c,background:m.d.Alt,position:m.o.Relative,padding:{y:1,x:2}},i.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Start},n&&i.createElement(p.a,{className:"pinned-callout__icon",margin:{right:1},padding:.5,"data-test-selector":Ge.Icon,display:m.h.Flex,flexGrow:0,flexShrink:0,borderRadius:m.e.Rounded,border:!0,alignItems:m.b.Center,justifyContent:m.m.Center},this.renderIcon()),i.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Center,className:"pinned-callout__header-segment",padding:{right:.5},flexGrow:1},i.createElement(p.a,null,i.createElement(v.a,{bold:!0,type:v.e.Span},a))),i.createElement(p.a,{display:m.h.Flex,alignItems:m.b.Center,className:"pinned-callout__header-segment"},i.createElement(f,Object(r.__assign)({},t)),i.createElement(p.a,{padding:{left:.5}}),i.createElement(He.a,{align:He.b.Right,label:s,offsetX:"6px"},i.createElement(g.a,{"aria-label":"pinned",icon:this.state.pinIcon,onClick:o,type:g.c.Secondary,onMouseEnter:this.onPinHover,onMouseLeave:this.onPinBlur})))))},t.prototype.renderIcon=function(){return this.props.icon.asset?i.createElement(D.a,Object(r.__assign)({},this.props.icon)):this.props.icon},t}(i.Component),Ke=n("Wy3f"),Ze=n("eAel"),Xe=Ze.a+Ze.b;!function(e){e.Dismissed="dismissed",e.Lapsed="lapsed",e.Pinned="pinned"}(Qe||(Qe={}));var Je,$e=function(e,t,n){var r=s.m.get("shareResubNotificationIDs",{})||{};r[e]={data:t,timestamp:Date.now(),type:n},s.m.set("shareResubNotificationIDs",r)},et=function(e){var t=s.m.get("shareResubNotificationIDs",{})||{};return void 0===t[e]?null:t[e]},tt=function(){var e=s.m.get("shareResubNotificationIDs",{})||{};for(var t in e)void 0!==e[t]&&void 0!==e[t].timestamp&&Date.now()-e[t].timestamp>Xe&&delete e[t];s.m.set("shareResubNotificationIDs",e)},nt=n("cpJf"),rt=n("IyK4"),it=(n("1Hre"),function(e){var t=l("rare-emote__face",{"rare-emote__face--animate":!!e.animate}),n=l("rare-emote__neck",{"rare-emote__neck--animate":!!e.animate});return i.createElement(p.a,{overflow:m.n.Hidden,className:"rare-emote"},i.createElement(rt.a,{zIndex:m.t.Above,position:m.o.Relative},i.createElement("img",{className:t,src:"https://static-cdn.jtvnw.net/emoticons/v1/"+e.emoteID+"/2.0"})),i.createElement(p.a,{position:m.o.Relative,zIndex:m.t.Default,className:n},i.createElement(D.a,{width:28,height:28,asset:k.a.Neck})))}),at=n("4/vz"),ot=i.createElement(D.a,{asset:k.a.Star,type:D.b.Success});!function(e){e.ContextMenu="share-resub-callout__context-menu"}(Je||(Je={}));var st=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingType=t.props.pinned?I.d.PinnedResub:I.d.Resub,t.sendingMessage=!1,t.randomEmoteId=t.getRandomEmoteId(),t.hide=function(){t.props.popCallout(),t.trackAction(I.a.Remind,I.c.PrivateCallout);var e=t.props.event;et(e.id)&&$e(e.id,e,Qe.Lapsed)},t.skip=function(){t.props.popCallout(),t.trackAction(I.a.SkipMonthlyAlert,I.c.PrivateCallout);var e=t.props.event;et(e.id)&&$e(e.id,e,Qe.Dismissed)},t.pin=function(e){t.trackAction(I.a.Pin,e||I.c.PrivateCallout);var n=t.props.event;et(n.id)&&$e(n.id,n,Qe.Pinned),t.props.popCallout(),t.props.pinCallout({event:n,key:n.id})},t.unpin=function(){t.trackAction(I.a.Remind,I.c.PrivateCallout);var e=t.props.event,n=et(e.id);t.sendInline(),n&&$e(e.id,e,Qe.Lapsed),t.props.unpinCallout()},t.share=function(){t.trackCTAClick(I.b.Share),t.props.setTray(t.getTray()),t.props.pinned?t.props.unpinCallout():t.props.popCallout()},t.sendInline=function(e){var n=t.props.event;$e(n.id,n,Qe.Lapsed),t.props.onPushMessage(A({contextMenuProps:{event:n,onPin:function(){return t.pin(I.c.Chat)}},cta:Object(s.d)("Share","InlineShareResubCallout"),icon:ot,withReminderText:e,title:t.getCalloutTitle(),trackingType:t.trackingType,trackingClickType:I.b.Share,privateSID:t.privateCalloutSID},t.getTray()))},t.shareResub=function(e,n){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(this.sendingMessage)return[2,!1];this.sendingMessage=!0,r.label=1;case 1:return r.trys.push([1,4,5,6]),this.props.authToken?(t={message:e,channelLogin:this.props.channelLogin,includeStreak:!!n.opt,tokenID:this.props.event.id},[4,this.props.shareResubNotification(Object(Re.a)(t))]):[3,3];case 2:return r.sent(),Object(Re.j)(Ke,{channelLogin:this.props.channelLogin},(function(e){return e.user&&e.user.self&&e.user.self.resubNotification?qe(e,(function(e){return e.user.self.resubNotification}),(function(){return null})):e})),this.trackAction(I.a.Message,n.privateCalloutTrackingContext||I.c.PrivateCallout),[2,!0];case 3:return[3,6];case 4:return i=r.sent(),Object(Me.d)()?s.k.warn("Failed to post resub message"):s.k.errorAndReport(i,"Failed to post resub message"),[2,!1];case 5:return this.sendingMessage=!1,[7];case 6:return[2,!1]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return this.props.pinned?i.createElement(Ye,Object(r.__assign)({},this.buildPinnedCalloutProps())):i.createElement(j,Object(r.__assign)({},this.buildCalloutProps()))},t.prototype.buildCalloutProps=function(){var e=this;return{message:{title:this.getCalloutTitle()},icon:ot,contextMenu:this.getContextMenu({top:1,bottom:2,x:1}),overlay:!this.props.pinned,inlineActions:!0,actions:{primaryButton:{onClick:this.share,children:Object(s.d)("Share","ShareResubCallout"),type:h.d.Primary,overlay:!0}},progressBar:{animationDuration:45,onAnimationEnd:function(){e.props.popCallout(),e.sendInline(!0)}}}},t.prototype.buildPinnedCalloutProps=function(){return{message:this.getCalloutTitle(),icon:ot,actions:{primaryButton:{onClick:this.share,children:Object(s.d)("Share","PinnedShareResubCallout"),type:h.d.Primary,overlay:!1}},onUnpin:this.unpin,unpinDescription:Object(s.d)("Unpin this and get a reminder later.","ShareResubCallout")}},t.prototype.getCalloutTitle=function(){var e=this.props.event.cumulativeTenureMonths;return Object(Ve.n)()?Object(Ve.i)(e):Object(s.d)("It's your {monthsSubbed} month sub anniversary!",{monthsSubbed:e},"ShareResubCallout")},t.prototype.getTray=function(){var e=this.props,t=e.channelDisplayName,n=e.channelLogin,r=e.event,a=e.pinned,o=void 0;return r.isGiftSubscription&&r.gifterDisplayName&&(o=Object(s.d)("Thanks to @{gifterDisplayName} for my sub gift!",{gifterDisplayName:r.gifterDisplayName},"ShareResubCallout")),{callOnClose:a?this.pin:this.sendInline,inputValue:o,sendMessageHandler:{type:H.c.ShareResub,handleMessage:this.shareResub,params:{privateCalloutTrackingContext:I.c.PrivateCallout}},title:Object(s.d)("Share your Sub anniversary in chat!","ShareResubCallout"),body:i.createElement(v.a,null,Object(s.d)("Let <x:strong>{channelName}</x:strong> know you've been subbed for <x:strong>{monthsSubbed} months</x:strong>.",{channelName:t||n,monthsSubbed:r.cumulativeTenureMonths,"x:strong":function(e){return i.createElement(v.a,{bold:!0,type:v.e.Span},e)}},"ShareResubCallout")),checkboxLabel:Object(s.d)("Show my {streakMonths, number} month streak in the chat message.",{streakMonths:r.streakTenureMonths},"ShareResubCallout"),sendButtonOverride:H.b.ShareResub,icon:i.createElement(it,{emoteID:this.randomEmoteId,animate:!0}),disableBits:!0,disableCommands:!0,type:H.a.ShareResub}},t.prototype.getContextMenu=function(e){return i.createElement(p.a,{"data-test-selector":Je.ContextMenu,padding:e},i.createElement(We.a,{event:this.props.event,onPin:this.pin,onSkip:this.skip,onHide:this.hide}))},t.prototype.getRandomEmoteId=function(){var e=Math.floor(Math.random()*nt.b.length);return nt.b[e]},t}(N.a);var ct,lt=Object(o.d)(Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}),(function(e){return Object(o.b)({setTray:W.bb},e)})),Object(xe.a)(at,{name:"shareResubNotification"}),Object(T.b)((function(e){return{popCallout:e.popCallout,pinCallout:e.pinCallout,unpinCallout:e.unpinCallout}})))(st),ut=n("u5aL"),dt=n("4rCz"),pt=n("Fabj"),mt=n("58CV"),ht=n("vsSX"),ft=n("FMdv"),bt=n("6tZN"),yt=(n("RVth"),de.a.wrap((function(){return Promise.all([n.e(0),n.e(121)]).then(n.bind(null,"hfwl"))}),"SubModal")),vt="https://static-cdn.jtvnw.net/emoticons/v1/508650/2.0";!function(e){e.Control="control",e.ThankFirst="thank_first",e.GiftFirst="gift_first"}(ct||(ct={}));var gt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={ctaDropdownVisible:!1},t.trackingType=I.d.CommunitySubGift,t.getCalloutActions=function(e){switch(dt.q.experiments.getAndTrackAssignment("subs_pif")){case ct.ThankFirst:return t.getThankFirstSplitCalloutAction(e);case ct.GiftFirst:return t.getGiftFirstSplitCalloutAction(e);case ct.Control:default:return t.getCoreCalloutAction(e)}},t.getCoreCalloutAction=function(e){return{primaryButton:{onClick:function(){t.props.popCallout(),t.props.setTray(e),t.trackCTAClick(I.b.Thank)},children:t.getThankRenderData().cta,type:h.d.Secondary,overlay:!0}}},t.getThankFirstSplitCalloutAction=function(e){return t.getSplitButtonAction({handler:t.getThankClickHandler(e),content:t.getThankRenderData().cta},{handler:t.getGiftClickHandler(e),content:t.getGiftMoreRenderData().cta})},t.getGiftFirstSplitCalloutAction=function(e){return t.getSplitButtonAction({handler:t.getGiftClickHandler(e),content:t.getGiftMoreRenderData().cta},{handler:t.getThankClickHandler(e),content:t.getThankRenderData().cta})},t.getSplitButtonAction=function(e,n){var a={onClick:t.handleDropdownClick,type:t.state.ctaDropdownVisible?pt.b.ArrowUp:pt.b.ArrowDown},o={show:t.state.ctaDropdownVisible,direction:C.b.BottomLeft,elevation:2,size:E.a.Auto};return i.createElement(ut.a,{onClickOut:t.handleClickout},i.createElement(p.a,{display:m.h.Flex,justifyContent:m.m.End,position:m.o.Relative},i.createElement(mt.a,{onClick:e.handler,type:ht.d.Primary,overlay:!0,dropdown:a,icon:e.figure},e.content),i.createElement(ft.a,Object(r.__assign)({},o),i.createElement(p.a,{key:0,color:m.f.Base},i.createElement(bt.a,{onClick:n.handler,figure:n.figure&&{icon:n.figure}},n.content)))))},t.getCalloutTitle=function(){return Object(s.d)("You received a Gift Sub from {gifterUsername}",{gifterUsername:t.props.event.gifterDisplayName},"ThankSubGifterCallout")},t.getThankRenderData=function(){return{title:t.getCalloutTitle(),cta:Object(s.d)("Thank","ThankSubGifterCallout")}},t.getGiftMoreRenderData=function(){return{title:t.getCalloutTitle(),cta:Object(s.d)("Gift More","ThankSubGifterCallout")}},t.getInlineCalloutRenderData=function(){return dt.q.experiments.getAndTrackAssignment("subs_pif")===ct.GiftFirst?t.getGiftFirstInlineCalloutData():t.getThankFirstInlineCalloutData()},t.getThankFirstInlineCalloutData=function(){return Object(r.__assign)(Object(r.__assign)({},t.getThankRenderData()),{icon:i.createElement(D.a,{asset:k.a.Star,type:D.b.Success}),trackingType:t.trackingType,trackingClickType:I.b.Thank,privateSID:t.privateCalloutSID})},t.getGiftFirstInlineCalloutData=function(){return Object(r.__assign)(Object(r.__assign)({},t.getGiftMoreRenderData()),{icon:i.createElement(D.a,{asset:k.a.Star,type:D.b.Success}),trackingType:t.trackingType,trackingClickType:I.b.Gift,privateSID:t.privateCalloutSID,action:t.showSubModal})},t.getTray=function(){var e=i.createElement(p.a,{className:"thank-sub-gifter-callout__prompt-icon"},i.createElement("img",{alt:Object(s.d)("TPFufun emoticon","ThankSubGifterInputTray"),src:vt})),n=Object(s.d)("@{gifterUsername} Thanks for the gift sub!",{gifterUsername:t.props.event.gifterDisplayName},"ThankSubGifterInputTray"),r={title:Object(s.d)("Give a shoutout to {gifterUsername} for your subscription.",{gifterUsername:t.props.event.gifterDisplayName},"ThankSubGifterInputTray"),body:Object(s.d)("Enjoy your gift!","ThankSubGifterInputTray"),sendButtonOverride:H.b.ThankSubGifter,icon:e,inputValue:n,sendMessageHandler:{type:H.c.Chat,params:{privateCalloutTrackingContext:I.c.PrivateCallout},onSuccess:t.getTraySuccessHandler(n)},disableBits:!0,disableCommands:!0,callOnClose:function(){t.props.onPushMessage(A(t.getInlineCalloutRenderData(),r))}};return r},t.getTraySuccessHandler=function(e){return function(n,r){var i=Boolean(n===e);t.trackAction(I.a.Message,r&&r.privateCalloutTrackingContext||I.c.PrivateCallout,n,i)}},t.getThankClickHandler=function(e){return function(){t.props.popCallout(),t.props.setTray(e),t.trackCTAClick(I.b.Thank)}},t.getGiftClickHandler=function(e){return function(){t.props.popCallout(),t.props.onPushMessage(A(t.getThankFirstInlineCalloutData(),e)),t.showSubModal(),t.trackCTAClick(I.b.Gift)}},t.showSubModal=function(){t.props.showSubModal({subLocation:De.b.ThankSubGifterCallout,channelLogin:t.props.event.channelLogin,defaultPage:Pe.a.CommunityGiftSelect}),Object(De.c)({action:De.a.OpenSubMenu,channelID:t.props.channelID,channelLogin:t.props.event.channelLogin,subLocation:De.b.ThankSubGifterCallout,cumulativeTenureMonths:null})},t.handleDropdownClick=function(){t.setState((function(e){return{ctaDropdownVisible:!e.ctaDropdownVisible}}))},t.handleClickout=function(){t.setState({ctaDropdownVisible:!1})},t}return Object(r.__extends)(t,e),t.prototype.buildCalloutProps=function(){var e=this,t=this.getThankRenderData(),n=this.getTray(),r={message:{title:t.title},icon:{asset:k.a.Star,type:D.b.Success},closeButton:{"aria-label":this.closeString,onClick:function(){e.props.popCallout(),e.trackDismiss()}},progressBar:{animationDuration:15,onAnimationEnd:function(){e.props.popCallout(),e.props.onPushMessage(A(e.getInlineCalloutRenderData(),n))}},overlay:!0,inlineActions:!0};return r.actions=this.getCalloutActions(n),r},t.prototype.render=function(){var e=this.buildCalloutProps();return i.createElement(j,Object(r.__assign)({},e))},t}(N.a);var kt,St=Object(o.d)(Object(T.b)((function(e){return{popCallout:e.popCallout}})),Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserLogin:t?t.login:null,currentUserID:t?t.id:null}}),(function(e){return Object(o.b)({setTray:W.bb,showSubModal:function(e){return Object(me.e)(yt,e)}},e)})))(gt),Ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.moderatorActions||e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions)&&this.props.pubsub.messages.moderatorActions&&this.props.pubsub.messages.moderatorActions.type===ge.PubsubMessageType.ModeratorAdded){if(!this.props.currentUserID||!this.props.channelID)return;var t={event:{type:Se.a.AppointedModerator,channelID:this.props.channelID,userID:this.props.currentUserID,author:this.props.pubsub.messages.moderatorActions.data.created_by},key:Object(pe.c)()};this.props.pushCallout(t)}},t.prototype.render=function(){return null},t}(i.Component);var Et=Object(o.d)(Object(ve.a)([{topic:function(e){return Object(ke.H)(e.currentUserID||"",e.channelID||"")},skip:function(e){return!e.currentUserID||!e.channelID},mapMessageTypesToProps:(kt={},kt[ge.PubsubMessageType.ModeratorAdded]="moderatorActions",kt[ge.PubsubMessageType.ModeratorRemoved]="moderatorActions",kt),skipMessage:function(e,t){var n=e;return!t.currentUserID||n.data.target_user_id!==t.currentUserID}}]),Object(T.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(Ct);var Ot=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}))(Et),Pt=n("Uy53"),Dt=n("jBwP"),jt=n("YV90"),Nt=n("cFyR"),Tt=n("Lqow"),It=n("A4cy"),_t=n("V8f+"),wt=n("eWfc"),At=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortRewards=Object(Pt.a)((function(e){return Object(Tt.a)(e)})),t.filterRewards=Object(Pt.a)((function(e,t){return e.filter((function(e){var n=Object(It.a)(e,t);return Object.values(n).every((function(e){return!0===e}))}))})),t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.balance,r=e.balance;if(!s.b.get("disable_channel_points_chat_private_callout",!1)&&this.props.isChannelPointsEnabled&&this.props.channelID===this.props.rewardChannelID&&this.props.currentUserID!==this.props.rewardChannelID&&n>r){var i=this.getRewards();if(this.isEligibleForNewReward(n,r,i)){var a=i[this.getHighestRewardIndexForBalance(n,i)];if(a&&r<Object(U.c)(a)&&!this.seenCalloutForReward(a)){var o={event:{type:Se.a.CommunityPointsRewards,reward:a,openReward:function(){t.props.openReward({direction:_t.a.OpenRewardCenter,reward:a})}},key:a.id};this.props.pushCallout(o)}}}},t.prototype.render=function(){return null},t.prototype.getRewards=function(){var e=this.sortRewards(this.props.automaticRewards||[]),t=e[Math.floor(e.length/2)],n=Object(r.__spreadArrays)(this.props.customRewards)||[];t&&n.push(t);var i={isUserSubscribed:this.isChannelSubscriber(),isChannelSubsOnlyMode:this.props.subsOnlyMode};return n=this.filterRewards(n,i),this.sortRewards(n)},t.prototype.seenCalloutForReward=function(e){if(this.props.channelID){var t=s.m.get("seenCommunityPointsRewardPrivateCallouts",{}),n=t[this.props.channelID];if(n){if(n.indexOf(e.id)>=0)return!0;n.push(e.id)}else t[this.props.channelID]=[e.id];s.m.set("seenCommunityPointsRewardPrivateCallouts",t)}return!1},t.prototype.isEligibleForNewReward=function(e,t,n){return n&&n.length>0&&e>=Object(U.c)(n[0])&&t<Object(U.c)(n[n.length-1])},t.prototype.getHighestRewardIndexForBalance=function(e,t){var n=t[t.length-1];if(e>=Object(U.c)(n))return t.length-1;for(var r=0;e>=Object(U.c)(t[r]);)r++;return r-1},t.prototype.isChannelSubscriber=function(){return this.props.data&&this.props.data.user&&this.props.data.user.self&&!!this.props.data.user.self.subscriptionBenefit},t}(i.Component);var xt=Object(o.d)(Object(jt.b)((function(e){return{balance:e.balance,rewardChannelID:e.channelID,isChannelPointsEnabled:e.isChannelPointsEnabled,automaticRewards:e.automaticRewards,customRewards:e.customRewards}})),Object(Nt.c)((function(e){return{openReward:e.openReward}})),Object(T.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})),Object(Dt.c)((function(e){return{subsOnlyMode:e.subsOnlyMode}})),Object(xe.a)(wt,{options:function(e){return{variables:{login:e.channelLogin}}}}))(At);var Rt=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserID:t?t.id:null}}))(xt),Mt=n("CGXs");var Ft=Object(T.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}}))((function(e){var t=Object(Mt.a)("user-drop-events."+e.currentUserID),n=t[0],r=t[1],a=i.useCallback(e.pushCallout,[]);return i.useEffect((function(){if(n&&(null==r||!r.error)&&n.type===ge.PubsubMessageType.DropClaimAvailable){var e=n.data,t={type:Se.a.Drop,dropID:e.drop_id,dropInstanceID:e.drop_instance_id,channelID:e.channel_id};a({key:e.drop_instance_id,event:t})}}),[n,r,a]),null}));var Bt,Lt=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserID:t?t.id:""}}))(Ft),Ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMessageReceived=function(e,n,i){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(r){return t={event:{type:Se.a.HypeTrainRewards,userID:i,level:n,rewards:e},key:Object(pe.c)()},this.props.pushCallout(t),[2]}))}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){if((!e.pubsub.messages.hypeTrainRewards||e.pubsub.messages.hypeTrainRewards&&e.pubsub.messages.hypeTrainRewards!==this.props.pubsub.messages.hypeTrainRewards)&&this.props.pubsub.messages.hypeTrainRewards&&this.props.pubsub.messages.hypeTrainRewards.type===ge.PubsubMessageType.HypeTrainRewards){if(!this.props.currentUserID||!this.props.channelID)return;this.onMessageReceived(this.props.pubsub.messages.hypeTrainRewards.data.rewards,this.props.pubsub.messages.hypeTrainRewards.data.completed_level,this.props.currentUserID)}},t.prototype.render=function(){return null},t}(i.Component);var Gt=Object(o.d)(Object(ve.a)([{topic:function(e){return Object(ke.F)(e.currentUserID||"")},mapMessageTypesToProps:(Bt={},Bt[ge.PubsubMessageType.HypeTrainRewards]="hypeTrainRewards",Bt),skip:function(e){return!e.currentUserID||!e.channelID},skipMessage:function(e,t){var n=e;return!n||!n.data||!n.data.rewards||n.data.rewards.length<1||n.data.channel_id!==t.channelID}}]),Object(T.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(Ut);var zt=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}))(Gt);var qt=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserId:t?t.id:null}}))(Oe),Vt=n("eDVu"),Wt=n("xZ3y"),Ht=n("mj5D"),Qt=n("MWAM"),Yt=function(e){function t(t){var n=e.call(this,t)||this;return n.state={lastPushedNotificationID:null},n.dataIsReady=function(e){return e.data&&!e.data.loading&&!e.data.error},n}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(){if(this.dataIsReady(this.props)&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.bitsBadge&&this.props.data.user.self.bitsBadge.tierNotification&&this.state.lastPushedNotificationID!==this.props.data.user.self.bitsBadge.tierNotification.id&&this.badgesDataIsReady()){var e=this.props.data.user.self.bitsBadge.tierNotification,t=this.getBitsBadge(e.threshold);if(t){var n=Object(Wt.b)(t,e.threshold),r=e.unlockedEmoticons.length&&e.unlockedEmoticons[0],i=r&&r.id||null,a=r&&r.token||null,o={event:{type:Se.a.BitsBadgeTier,canShare:e.canShare,threshold:e.threshold,badge:t,badgeName:n,id:e.id,emoteID:i,emoteToken:a},key:e.id};this.props.pushCallout(o),this.setState({lastPushedNotificationID:e.id})}}},t.prototype.render=function(){return null},t.prototype.getBitsBadge=function(e){if(!this.props.badgesData||!this.props.badgesData.user||!this.props.badgesData.user.self)return null;var t=this.props.badgesData.user.self,n=t.selectedBadge,r=t.availableBadges;return n&&n.setID===Wt.a&&n.version===e.toString()?{id:n.id,setID:n.setID,version:n.version,title:n.title,image1x:n.image1x,image2x:n.image2x,image4x:n.image4x,clickAction:null,clickURL:n.clickURL||""}:r?r.reduce((function(e,t){return t?(e.push({id:t.id,setID:t.setID,version:t.version,title:t.title,image1x:t.image1x,image2x:t.image2x,image4x:t.image4x,clickAction:null,clickURL:t.clickURL||""}),e):e}),[]).find((function(t){return t.setID===Wt.a&&t.version===e.toString()})):null},t.prototype.badgesDataIsReady=function(){return this.props.badgesData&&!this.props.badgesData.loading&&!this.props.badgesData.error},t}(i.Component);var Kt=Object(o.d)(Object(xe.a)(Ht,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(Vt.a)((function(e){return{query:Ht,variables:{channelLogin:e.channelLogin},topic:e.currentUserId?Object(ke.Z)(e.currentUserId):"",type:ge.PubsubMessageType.UserBitsBadgeNotification,skip:!e.currentUserId,mutator:function(t,n){return n.user&&n.user.self&&n.user.self.bitsBadge&&t.data&&t.data.user_id===e.currentUserId&&t.data.channel_id===e.channelID&&e.data.refetch(),n}}})),Object(xe.a)(Qt,{name:"badgesData",options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!(e.channelLogin&&e.data&&e.data.user&&e.data.user.self&&e.data.user.self.bitsBadge&&e.data.user.self.bitsBadge.tierNotification&&e.data.user.self.bitsBadge.tierNotification.threshold)}}),Object(T.b)((function(e){return{pushCallout:function(t){return e.pushCallout(t)}}})))(Yt);var Zt=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserId:t?t.id:null,currentUserLogin:t?t.login:null}}))(Kt),Xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastPushedNotificationID:null},t.dataIsReady=function(e){return e.data&&!e.data.loading&&!e.data.error},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){setTimeout(tt,0)},t.prototype.componentDidUpdate=function(e){if(this.dataIsReady(this.props)&&this.props.data&&this.props.pubsub.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&this.props.data.refetch(),this.dataIsReady(this.props)&&this.props.data&&this.props.data.user&&this.props.data.user.self&&this.props.data.user.self.resubNotification&&this.state.lastPushedNotificationID!==this.props.data.user.self.resubNotification.id){var t=this.props.data.user.self.resubNotification,n=t.id,r=t.cumulativeTenureMonths,i=t.streakTenureMonths,a=t.token,o=t.isGiftSubscription,s=t.gifter,c=et(n);if(c&&!function(e){switch(e.type){case Qe.Dismissed:return!1;case Qe.Pinned:case Qe.Lapsed:return!0;default:return!1}}(c))return null;var l={type:Se.a.ShareResub,id:n,cumulativeTenureMonths:r,streakTenureMonths:i,token:a,isGiftSubscription:o,gifterDisplayName:null==s?void 0:s.displayName},u={event:l,key:n};c&&c.type!==Qe.Lapsed?c.type===Qe.Pinned&&this.props.pinCallout(u):($e(n,l,Qe.Lapsed),this.props.pushCallout(u)),this.setState({lastPushedNotificationID:n})}},t.prototype.render=function(){return null},t}(i.Component);var Jt=Object(o.d)(Object(xe.a)(Ke,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(ve.a)([{topic:function(e){return Object(ke.eb)(e.currentUserID?e.currentUserID:"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:function(e){return!e.currentUserID}}]),Object(T.b)((function(e){return{pinCallout:function(t){return e.pinCallout(t)},pushCallout:function(t){return e.pushCallout(t)}}})))(Xt);var $t,en=Object(a.b)((function(e){var t=Object(he.e)(e);return{currentUserID:t?t.id:null,currentUserLogin:t?t.login:null}}))(Jt),tn=n("Mg72");!function(e){e.CalloutContainer="chat-private-callout-queue__callout-container",e.Services="chat-private-callout-queue__services"}($t||($t={}));var nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=null,t=this.props.callouts[0]||this.props.pinnedCallout;if(t&&!this.props.isChatRulesOpen){var n=this.selectCalloutComponent(t);e=i.createElement(p.a,{"data-test-selector":$t.CalloutContainer,margin:{top:1,bottom:.5}},n)}var r=s.b.get("drops_2_time_based_ui_enabled",!1);return i.createElement(p.a,null,i.createElement(tn.a,{show:!!e,type:tn.d.Fade,duration:tn.c.Long},e),this.props.authToken&&i.createElement(Zt,{"data-test-selector":$t.Services,authToken:this.props.authToken,channelLogin:this.props.channelLogin,channelID:this.props.channelID}),this.props.authToken&&i.createElement(en,{"data-test-selector":$t.Services,authToken:this.props.authToken,channelLogin:this.props.channelLogin,channelID:this.props.channelID}),this.props.authToken&&i.createElement(qt,{"data-test-selector":$t.Services,channelID:this.props.channelID}),this.props.authToken&&i.createElement(Ot,{"data-test-selector":$t.Services,channelID:this.props.channelID}),this.props.authToken&&i.createElement(Rt,{"data-test-selector":$t.Services,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),this.props.authToken&&i.createElement(zt,{channelID:this.props.channelID}),this.props.authToken&&r&&i.createElement(Lt,null))},t.prototype.selectCalloutComponent=function(e){switch(e.event.type){case Se.a.ThankSubGifter:return i.createElement(St,{event:e.event,key:e.key,onPushMessage:this.props.onPushMessage,channelLogin:this.props.channelLogin,channelID:this.props.channelID});case Se.a.BitsBadgeTier:return i.createElement(ze,{event:e.event,key:e.key,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,authToken:this.props.authToken,onPushMessage:this.props.onPushMessage});case Se.a.ShareResub:var t=!!this.props.pinnedCallout&&this.props.pinnedCallout.key===e.key;return i.createElement(lt,{event:e.event,key:e.key,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,authToken:this.props.authToken,pinned:t,onPushMessage:this.props.onPushMessage});case Se.a.MegaRecipientRewards:return i.createElement(we,{event:e.event,key:e.key,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case Se.a.MegaBenefactorRewards:return i.createElement(Ie,{event:e.event,key:e.key,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case Se.a.AppointedModerator:return i.createElement(F,{event:e.event,key:e.key,badgeSets:this.props.badgeSets,onPushMessage:this.props.onPushMessage,channelLogin:this.props.channelLogin,channelID:this.props.channelID});case Se.a.CommunityPointsRewards:return i.createElement(z,{key:e.key,event:e.event,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case Se.a.HypeTrainRewards:return i.createElement(ue,{event:e.event,key:e.key,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage});case Se.a.Drop:return i.createElement(X,{event:e.event,key:e.key});case Se.a.ReplyByKeyboard:return i.createElement(Ae.a,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,event:e.event,key:e.key})}return null},t}(i.Component);var rn=Object(o.d)(Object(T.b)((function(e){return{callouts:e.callouts,pinnedCallout:e.pinnedCallout}})),Object(a.b)((function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen}})))(nn)},uReR:function(e,t,n){e.exports=n.p+"assets/amex-0e89bed815722eb64119.svg"},"vE+g":function(e,t,n){e.exports=n.p+"assets/amazon_pay_dark_1x-27fb4921a874a8f4d84b.png"},vIXB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CelebrationsProductDescription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:89}};n.loc.source={body:"query CelebrationsProductDescription($id: ID!) {\nuser(id: $id) {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.CelebrationsProductDescription=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"CelebrationsProductDescription")},"vK6+":function(e,t,n){},vLiP:function(e,t,n){},vZNl:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConfirmCountryOfResidence"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:119}};n.loc.source={body:"query ConfirmCountryOfResidence {\ncurrentUser {\nid\nresidence {\ncountryCode\npostalCode\n}\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.ConfirmCountryOfResidence=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"ConfirmCountryOfResidence")},vwei:function(e,t,n){e.exports=n.p+"assets/sepa-cd4d85e5a38f3d66d787.png"},wOiE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("/7QA"),i=n("wUQP");function a(){return Object(i.c)("amazon_pay_enabled",{defaultThreshold:1})}function o(){return Object(i.c)("paypal_enabled",{defaultThreshold:1})}function s(){return Object(i.c)("recurly_enabled",{defaultThreshold:1})}function c(){return Object(i.c)("xsolla_enabled",{defaultThreshold:1})}function l(e){return r.b.get("recurly_cc_disabled_countries",[]).includes(e)}},wfkB:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation UpdateUser($input: UpdateUserInput!) {\nupdateUser(input: $input) {\nerror {\ncode\n}\nuser {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.UpdateUser=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"UpdateUser")},x9xf:function(e,t,n){e.exports=n.p+"assets/extended-broadcaster-053b497cd16b10d9e6ba.png"},xRjC:function(e,t,n){},xWvT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"KRExtraLegalDisclaimer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:60}};n.loc.source={body:"query KRExtraLegalDisclaimer {\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.KRExtraLegalDisclaimer=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"KRExtraLegalDisclaimer")},yAI6:function(e,t,n){},yrda:function(e,t,n){e.exports=n.p+"assets/amazon_pay_2x-914335e3401a72109a8a.png"},z8ZU:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userResidenceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResidence"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};n.loc.source={body:"fragment userResidenceFragment on UserResidence {\ncountryCode\npostalCode\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},zb36:function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.FrequentlyUsed="frequently_used",e.CurrentChannel="current_channel",e.OtherChannel="other_subbed_channel",e.HypeTrain="hype_train",e.Unlocked="unlocked",e.Global="global"}(r||(r={})),function(e){e.EmotePicker="emote_picker",e.EmotePickerSubscriptionPreview="emote_picker_subscription_preview",e.EmotePickerBitsPreview="emote_picker_bits_preview"}(i||(i={}))},zbfc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetUserResidenceMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetUserResidenceInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setUserResidence"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"residence"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:154}};n.loc.source={body:"mutation SetUserResidenceMutation($input: SetUserResidenceInput!) {\nsetUserResidence(input: $input) {\nuser {\nid\nresidence {\ncountryCode\npostalCode\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var r=t.type;"NamedType"===r.kind&&n.add(r.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=n,e.exports.SetUserResidenceMutation=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=r[t]||new Set,o=new Set,s=new Set;for(a.forEach((function(e){s.add(e)}));s.size>0;){var c=s;s=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"SetUserResidenceMutation")}}]);