(window.webpackJsonp=window.webpackJsonp||[]).push([[82,71,72],{"+OgX":function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"a",(function(){return h}));var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("/7QA"),s=t("1rIY"),d=t("lNGo"),c=100,l=function(e){function n(n){var t=e.call(this,n)||this;return t.nonceMap=new Map,t.timingDeltaQueue=[],t.setInitalTimestampForMsgNonce=function(e){t.nonceMap.size>=c&&t.nonceMap.clear(),t.nonceMap.set(e,performance.now())},t.updateTimestampForMsgNonce=function(e){var n=t.nonceMap.get(e);n&&(t.queueTimestampForTracking(performance.now()-n),t.nonceMap.delete(e))},t.queueTimestampForTracking=function(e){t.timingDeltaQueue.length===c&&t.timingDeltaQueue.shift(),t.timingDeltaQueue.push(e)},t.trackRandomMessageTiming=function(){if(t.timingDeltaQueue.length>0){var e=Math.floor(Math.random()*t.timingDeltaQueue.length);Object(d.d)(t.timingDeltaQueue[e]),t.timingDeltaQueue=[],t.nonceMap.clear()}},t.state={setInitalTimestampForMsgNonce:t.setInitalTimestampForMsgNonce.bind(t),updateTimestampForMsgNonce:t.updateTimestampForMsgNonce.bind(t)},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(m.Provider,{value:this.state},this.props.children)},n.prototype.componentDidMount=function(){this.timeout=setInterval(this.trackRandomMessageTiming,o.b.get("chat_timing_heartbeat_ms",6e4))},n.prototype.componentWillUnmount=function(){clearInterval(this.timeout),this.trackRandomMessageTiming()},n}(a.PureComponent),u=Object(s.a)("ChatMessageTimingContext",{setInitalTimestampForMsgNonce:function(e){return null},updateTimestampForMsgNonce:function(e){return null}}),m=u.context,p=u.withContext,h=Object(r.d)()(l)},"+kC+":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:134}};t.loc.source={body:"query ChatLine_SubsOnlyUpsell_UserSubscriptionProducts($login: String!) {\nuser(login: $login) {\nid\nsubscriptionProducts {\nid\nurl\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatLine_SubsOnlyUpsell_UserSubscriptionProducts=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatLine_SubsOnlyUpsell_UserSubscriptionProducts")},"+l4d":function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return m}));var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("1rIY"),s=t("bjUr"),d=Object(o.a)("ChatMenusContext",{chatView:s.a.Chat,hasOpenedEmotePicker:!1,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,clearMenus:function(){return null},requestedEmotePickerSection:void 0,showChatViewerList:function(){return null},closeChatViewerList:function(){return null},showRoomMemberList:function(){return null},closeRoomMemberList:function(){return null},showChatRules:function(){return null},closeChatRules:function(){return null},showEmotePicker:function(){return null},closeEmotePicker:function(){return null},resetEmotePickerSection:function(){return null}}),c=d.context,l=d.withContext,u=function(e){function n(n){var t=e.call(this,n)||this;return t.clearMenus=function(){t.setState({isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1})},t.showChatViewerList=function(){t.props.viewManager&&t.props.viewManager.updateView(s.a.ViewerList),t.setState({chatView:s.a.ViewerList})},t.closeChatViewerList=function(){t.props.viewManager&&t.props.viewManager.updateView(s.a.Chat),t.setState({chatView:s.a.Chat})},t.showRoomMemberList=function(){t.setState({isShowingRoomMemberList:!0})},t.closeRoomMemberList=function(){t.setState({isShowingRoomMemberList:!1})},t.showChatRules=function(){t.setState({isShowingChatRules:!0})},t.closeChatRules=function(){t.setState({isShowingChatRules:!1})},t.showEmotePicker=function(e){t.setState({hasOpenedEmotePicker:!0,isShowingEmotePicker:!0,requestedEmotePickerSection:e})},t.closeEmotePicker=function(){t.setState({isShowingEmotePicker:!1})},t.resetEmotePickerSection=function(){t.setState({requestedEmotePickerSection:void 0})},t.state={clearMenus:t.clearMenus,chatView:s.a.Chat,hasOpenedEmotePicker:!1,isShowingRoomMemberList:!1,isShowingChatRules:!1,isShowingEmotePicker:!1,requestedEmotePickerSection:void 0,showChatViewerList:t.showChatViewerList,closeChatViewerList:t.closeChatViewerList,showRoomMemberList:t.showRoomMemberList,closeRoomMemberList:t.closeRoomMemberList,showChatRules:t.showChatRules,closeChatRules:t.closeChatRules,showEmotePicker:t.showEmotePicker,closeEmotePicker:t.closeEmotePicker,resetEmotePickerSection:t.resetEmotePickerSection},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(c.Provider,{value:Object(i.__assign)(Object(i.__assign)({},this.state),{chatView:this.currentChatView})},this.props.children)},Object.defineProperty(n.prototype,"currentChatView",{get:function(){return this.props.viewManager?this.props.viewManager.view:this.state.chatView},enumerable:!0,configurable:!0}),n}(a.PureComponent),m=Object(r.d)()(u)},"+pBb":function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return r})),t.d(n,"h",(function(){return o})),t.d(n,"i",(function(){return s})),t.d(n,"x",(function(){return d})),t.d(n,"p",(function(){return c})),t.d(n,"m",(function(){return l})),t.d(n,"o",(function(){return u})),t.d(n,"n",(function(){return m})),t.d(n,"l",(function(){return p})),t.d(n,"k",(function(){return h})),t.d(n,"b",(function(){return f})),t.d(n,"a",(function(){return g})),t.d(n,"f",(function(){return v})),t.d(n,"g",(function(){return b})),t.d(n,"e",(function(){return y})),t.d(n,"r",(function(){return k})),t.d(n,"q",(function(){return S})),t.d(n,"t",(function(){return C})),t.d(n,"s",(function(){return E})),t.d(n,"v",(function(){return w})),t.d(n,"w",(function(){return _})),t.d(n,"z",(function(){return N})),t.d(n,"y",(function(){return O})),t.d(n,"C",(function(){return D})),t.d(n,"B",(function(){return M})),t.d(n,"D",(function(){return I})),t.d(n,"u",(function(){return T})),t.d(n,"A",(function(){return j})),t.d(n,"j",(function(){return R})),t.d(n,"W",(function(){return P})),t.d(n,"R",(function(){return F})),t.d(n,"db",(function(){return L})),t.d(n,"Y",(function(){return A})),t.d(n,"U",(function(){return U})),t.d(n,"P",(function(){return x})),t.d(n,"V",(function(){return B})),t.d(n,"Q",(function(){return V})),t.d(n,"T",(function(){return q})),t.d(n,"O",(function(){return G})),t.d(n,"X",(function(){return H})),t.d(n,"S",(function(){return W})),t.d(n,"I",(function(){return z})),t.d(n,"E",(function(){return Q})),t.d(n,"H",(function(){return Y})),t.d(n,"N",(function(){return K})),t.d(n,"Z",(function(){return $})),t.d(n,"M",(function(){return X})),t.d(n,"eb",(function(){return Z})),t.d(n,"bb",(function(){return J})),t.d(n,"K",(function(){return ee})),t.d(n,"cb",(function(){return ne})),t.d(n,"L",(function(){return te})),t.d(n,"ab",(function(){return ie})),t.d(n,"J",(function(){return ae})),t.d(n,"gb",(function(){return re})),t.d(n,"fb",(function(){return oe})),t.d(n,"F",(function(){return se})),t.d(n,"G",(function(){return de}));var i=t("Tznh"),a="chat.CHAT_HIDDEN",r="chat.CHAT_SHOWN",o="chat.EMOTE_SETS_UPDATED",s="chat.FOLLOWER_MODE_DURATION_PREFERENCE_CHANGED",d="chat.SLOW_MODE_DURATION_PREFERENCE_CHANGED",c="chat.INPUT_TRAY_SET",l="chat.INPUT_TRAY_CLEARED",u="chat.INPUT_TRAY_ERROR_SET",m="chat.INPUT_TRAY_ERROR_CLEARED",p="chat.INPUT_MODIFIER_TRAY_SET",h="chat.INPUT_MODIFIER_TRAY_CLEARED",f="chat.AUTOMOD_ACTIONS_ENABLED",g="chat.AUTOMOD_ACTIONS_DISABLED",v="chat.EMOTE_PICKER_CLOSED",b="chat.EMOTE_PICKER_OPENED",y="chat.CLOSE_CHAT_RULES",k="chat.MODERATION_ACTIONS_ENABLED",S="chat.MODERATION_ACTIONS_DISABLED",C="chat.MOD_ICONS_ENABLED",E="chat.MOD_ICONS_DISABLED",w="chat.REPLIES_APPEARANCE_PREFERENCE_CHANGED",_="chat.SHOW_CHAT_RULES",N="chat.TIMESTAMPS_ENABLED",O="chat.TIMESTAMPS_DISABLED",D="chat.VIEWER_CHAT_FILTER_ENABLED",M="chat.VIEWER_CHAT_FILTER_DISABLED",I="chat.VIEWER_CHAT_FILTER_SETTINGS_CHANGED",T="chat.RENDER_SENT_CHAT_MESSAGE",j="chat.UNHIDE_IGNORED_COMMAND",R="chat.FONT_SIZE_PREFERENCE_CHANGED";function P(){return{type:N}}function F(){return{type:O}}function L(){return{type:r}}function A(){return{type:a}}function U(){return{type:f}}function x(){return{type:g}}function B(){return{type:k}}function V(){return{type:S}}function q(){return{type:C}}function G(){return{type:E}}function H(e){return{type:D,source:e||i.c.Other}}function W(e){return{type:M,source:e||i.c.Other}}function z(e,n){return{type:I,settings:e,source:n||i.c.Other}}function Q(e,n){return{type:s,channelLogin:e,duration:n}}function Y(e,n){return{type:d,channelLogin:e,duration:n}}function K(){return{type:v}}function $(){return{type:b}}function X(){return{type:y}}function Z(){return{type:_}}function J(e){return{type:c,tray:e}}function ee(){return{type:l}}function ne(e){return{type:u,error:e}}function te(){return{type:m}}function ie(e){return{type:p,tray:e}}function ae(){return{type:h}}function re(e){return{type:T,customEvent:e}}function oe(e){return{type:j,userID:e}}function se(e){return{type:R,fontSizePreference:e}}function de(e){return{type:w,preference:e}}},"/7Tk":function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("q1tI"),a=t("/7QA"),r=t("OCDW"),o=t("Yegi"),s=t("uq9l"),d=t("cwzQ"),c=function(){return i.createElement(r.a,{fullHeight:!0,fullWidth:!0,padding:{y:5}},i.createElement(r.a,{display:o.h.Flex,justifyContent:o.m.Center,textAlign:o.q.Center},i.createElement(s.a,{type:s.e.H4,fontSize:o.k.Size4,bold:!0},Object(a.d)("Hang in there...","ActivityFeed"))),i.createElement(r.a,{justifyContent:o.m.Center,display:o.h.Flex,margin:{top:1}},i.createElement(r.a,{flexGrow:0,display:o.h.Inline,margin:"auto",textAlign:o.q.Center},i.createElement(s.a,{type:s.e.P,fontSize:o.k.Size5},Object(a.d)("We are loading your activity","ActivityFeed")))),i.createElement(r.a,{display:o.h.Flex,justifyContent:o.m.Center,margin:{top:5},padding:{top:5}},i.createElement(d.a,null)))}},"/HFR":function(e,n,t){},"/gva":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserBannedStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:157}};t.loc.source={body:"query CurrentUserBannedStatus($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresAt\nexpiresInMs\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.CurrentUserBannedStatus=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"CurrentUserBannedStatus")},"/x02":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTokenBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTokenBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:77}};t.loc.source={body:"fragment pollTokenBreakdown on PollTokenBreakdown {\nbits\ncommunityPoints\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"04j6":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_ChatEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:116}};t.loc.source={body:"query Core_Services_Spade_ChatEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Core_Services_Spade_ChatEvent_User=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Core_Services_Spade_ChatEvent_User")},"0CaR":function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("ANjH"),a=t("mrSG"),r=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.messageHandlers=[],n.addMessageHandler=function(e){-1===n.messageHandlers.indexOf(e)&&(n.messageHandlers=n.messageHandlers.concat(e))},n.removeMessageHandler=function(e){n.messageHandlers=n.messageHandlers.filter((function(n){return n!==e}))},n.handleMessage=function(e){for(var t=n.messageHandlers.length,i=0;i<t;i++)n.messageHandlers[i](e)},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.setMessageHandlerAPI({addMessageHandler:this.addMessageHandler,removeMessageHandler:this.removeMessageHandler,handleMessage:this.handleMessage})},n.prototype.render=function(){return null},n.prototype.componentWillUnmount=function(){this.props.setMessageHandlerAPI()},n}(t("q1tI").Component),o=t("2EzP"),s=Object(i.d)(o.b)(r)},"0FG4":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return s})),t.d(n,"b",(function(){return c}));var i,a=t("RcPG"),r=t("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,n,t){var o,s,d=t.type===i.Position?n:e,c=t.map[d];if(c){var l=(o=e,s=c.id,{images:Object(r.b)(s),alt:o,emoteID:s});return{type:a.a.Emote,content:l}}return null}var d={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function c(e){for(var n={},t=0,i=e;t<i.length;t++){var a=i[t];if(a&&a.emotes)for(var r=0,s=a.emotes;r<s.length;r++){var c=s[r];if(c&&c.id&&c.token)for(var l=0,u=d[c.token]||[c.token];l<u.length;l++){var m=u[l];n[m]&&a.id===o||(n[m]={id:c.id,token:m})}}}return n}},"0Hf3":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return a})),t.d(n,"g",(function(){return h})),t.d(n,"d",(function(){return r})),t.d(n,"k",(function(){return g})),t.d(n,"i",(function(){return v})),t.d(n,"j",(function(){return b})),t.d(n,"l",(function(){return y})),t.d(n,"f",(function(){return k})),t.d(n,"e",(function(){return o})),t.d(n,"m",(function(){return S})),t.d(n,"n",(function(){return C})),t.d(n,"c",(function(){return s})),t.d(n,"h",(function(){return E}));var i,a,r,o,s,d=t("mrSG"),c=t("/7QA"),l=t("DMoW"),u=t("2xye"),m=t("VAIx"),p=t("oK83");function h(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin,click_text:f(e.clickText),profile_card_type:e.cardType,action:e.action,ui_context:e.sourceType?p.b[e.sourceType]:void 0},c.o.track(u.SpadeEventType.ChatProfileCardClick,n),[2]}))}))}function f(e){switch(e){case m.a.Messages:return i.Messages;case m.a.Timeouts:return i.Timeouts;case m.a.Bans:return i.Bans;case m.a.ModComments:return i.ModComments;default:return e}}function g(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n,t,i,a;return Object(d.__generator)(this,(function(r){return n=e.data,t=n.channelUser,i=n.targetUser,a={target_user_id:i&&i.id||"",target_login:i&&i.login||e.targetLogin,channel_id:t&&t.id||e.channelID,channel_login:t&&t.login||e.channelLogin,profile_card_type:k(e),ui_context:p.b[e.sourceType]},c.o.track(u.SpadeEventType.ChatProfileCardOpen,a),[2]}))}))}function v(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin},c.o.track(u.SpadeEventType.ChatProfileCardClose,n),[2]}))}))}function b(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin},c.o.track(u.SpadeEventType.ChatProfileCardDrag,n),[2]}))}))}function y(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(t){return n={target_user_id:e.targetUserID||"",target_login:e.targetLogin,channel_id:e.channelID,channel_login:e.channelLogin},c.o.track(u.SpadeEventType.ChatProfileCardUserNameClick,n),[2]}))}))}function k(e){var n,t=e.data,i=t.currentUser,a=t.channelUser;return i&&a&&i.id===a.id?r.Broadcaster:a&&(null===(n=a.self)||void 0===n?void 0:n.isModerator)?a.modLogsRoleAccess&&a.modLogsRoleAccess.accessLevel!==l.dd.NONE?r.ModWithChatlogs:r.ModWithoutChatlogs:r.RegularViewer}function S(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,i,a,r,s;return Object(d.__generator)(this,(function(d){return t=e.data,i=t.channelUser,a=t.targetUser,r=e.isPopout,s={comment_uuid:n.id,ui_context:r?o.ViewerCardPopout:o.ViewerCard,target_user_id:a&&a.id,target_login:a&&a.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:n.author&&n.author.id,from_user_login:n.author&&n.author.login},c.o.track(u.SpadeEventType.ClientModCommentAdd,s),[2]}))}))}function C(e,n){return Object(d.__awaiter)(this,void 0,void 0,(function(){var t,i,a,r,s;return Object(d.__generator)(this,(function(d){return t=e.data,i=t.channelUser,a=t.targetUser,r=e.isPopout,s={comment_uuid:n.id,ui_context:r?o.ViewerCardPopout:o.ViewerCard,target_user_id:a&&a.id,target_login:a&&a.login,channel_id:i&&i.id||e.channelID,channel_login:i&&i.login||e.channelLogin,from_user_id:n.author&&n.author.id,from_user_login:n.author&&n.author.login},c.o.track(u.SpadeEventType.ClientModCommentDelete,s),[2]}))}))}function E(e){return Object(d.__awaiter)(this,void 0,void 0,(function(){return Object(d.__generator)(this,(function(n){return c.o.track(u.SpadeEventType.ChatProfileCardClientInteraction,e),[2]}))}))}!function(e){e.Messages="messages",e.Timeouts="timeouts",e.Bans="bans",e.ModComments="mod_comments",e.PopOut="popout",e.Whisper="whisper",e.GiftSub="gift_sub"}(i||(i={})),function(e){e.Expand="expand",e.Collapse="collapse"}(a||(a={})),function(e){e.RegularViewer="regular_viewer",e.Broadcaster="broadcaster",e.ModWithChatlogs="mod_with_chatlogs",e.ModWithoutChatlogs="mod_without_chatlogs"}(r||(r={})),function(e){e.ViewerCard="chat_profile_card",e.ViewerCardPopout="chat_profile_card_popout",e.UnbanRequestsWidget="unban_requests_widget"}(o||(o={})),function(e){e.CustomizeProfile="customize_profile",e.CustomizeChatIdentity="customize_chat_identity"}(s||(s={}))},"0Sbj":function(e,n,t){},"0WFu":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o}));var i=t("eAel"),a=t("3Bft");function r(e){return[a.a.Prime,a.a.Custom].includes(e)?null:parseInt(e,10)/1e3}function o(e){var n=e instanceof Date?e:new Date(e);return Math.round((n.getTime()-Date.now())/i.b)}},"1DIz":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopBitsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopBitsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96}};t.loc.source={body:"fragment pollTopBitsContributor on PollTopBitsContributor {\nbitsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"1MDS":function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return h})),t.d(n,"b",(function(){return f}));var i=t("mrSG"),a=t("/7QA"),r=t("wUQP"),o=t("2xye"),s=t("oK83"),d=t("P5MF"),c=t("nR4f"),l=t("P6kH"),u={Unknown:"unknown",Chat:"chat",Room:"room",Whisper:"whisper",Vod:"vod"},m={Close:"close",ReportDropDown:"report_drop_down",Report:"report",Follow:"follow",Unfollow:"unfollow",Subscribe:"subscribe",ClickTryPrime:"click_try_prime",GoToChannel:"go_to_channel",Open:"open",ClickChannelName:"click_channel_name",CloseClickOtherEmote:"close_click_other_emote"},p={Available:"available",CreatorBanned:"creator_banned",LimitedTimeEmote:"limited_time_emote",GlobalEmote:"global_emote",Prime:"prime",Turbo:"turbo",OtherUnlockable:"other_unlockable"};function h(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,t,s,u,m,p,h,f,v,b,y,k,S,C,E,w;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n={emoteID:e.emoticonID,octaneEnabled:Object(r.c)("Emote_Card_Octane")},t=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:n})];case 2:return t=i.sent(),[3,4];case 3:return s=i.sent(),a.k.warn(s,"Failed to make query for emote info in EmoteCard reporting.",{emoteID:e.emoticonID}),[3,4];case 4:u=t&&t.data&&t.data.emote||null,t&&!u&&a.k.warn("Query for emote info in EmoteCard reporting returned no data.",{emoteID:e.emoticonID}),m=t&&t.data?Object(l.c)(t.data):l.a.Unknown,p=u&&u.subscriptionProduct&&u.subscriptionProduct.owner&&u.subscriptionProduct.owner.displayName||"",h=u&&u.subscriptionProduct&&u.subscriptionProduct.owner&&u.subscriptionProduct.owner.id||"",f={channelID:h},v=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,a.p.apollo.client.query({query:d,variables:f})];case 6:return v=i.sent(),[3,8];case 7:return b=i.sent(),a.k.warn(b,"Failed to make query for channel info in EmoteCard reporting.",{channelID:h}),[3,8];case 8:return y=v&&v.data&&v.data.user||null,v&&!y&&a.k.warn("Query for channel info in EmoteCard reporting returned no data.",{channelID:h}),k=!!y&&!!y.hasPrime,S=y&&y.self,C=!!S&&!!S.subscriptionBenefit,E=!!S&&!!S.canPrimeSubscribe,w={emote_location:e.emoteLocation,emoticon_id:e.emoticonID,chat_channel:e.chatChannel,chat_channel_id:e.chatChannelID,emote_channel:p,emote_channel_id:h,referrer_user_id:e.referrerUserID,action:e.action,is_subscribed:C,is_subscribed_tier:S&&S.subscriptionBenefit&&S.subscriptionBenefit.tier||"",emote_tier:u&&u.subscriptionProduct&&u.subscriptionProduct.tier||"",emote_status:g(m),has_prime:k,can_subscribe:E,msg_id:e.msgID},a.o.track(o.SpadeEventType.EmoteCardInteraction,w),[2]}}))}))}function f(e){switch(e){case s.a.chat:return u.Chat;case s.a.whisper:return u.Whisper;case s.a.vod:return u.Vod;case s.a.room:return u.Room;case s.a.unknown:default:return u.Unknown}}function g(e){switch(e){case l.a.Prime:return p.Prime;case l.a.Turbo:return p.Turbo;case l.a.Subscription:return p.Available;case l.a.LimitedTime:return p.LimitedTimeEmote;case l.a.Unavailable:return p.CreatorBanned;case l.a.Global:return p.GlobalEmote;case l.a.TwoFactor:case l.a.Unknown:default:return p.OtherUnlockable}}},"1Rv/":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_UnbanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnbanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:243}};t.loc.source={body:"mutation Chat_UnbanUserFromChatRoom($input: UnbanUserFromChatRoomInput!) {\nunbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_UnbanUserFromChatRoom=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_UnbanUserFromChatRoom")},"1VX3":function(e,n,t){"use strict";var i=t("W7Hf");t.d(n,"a",(function(){return i.a}))},"1bK4":function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"e",(function(){return r})),t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"f",(function(){return d}));var i,a=2e3,r=3e3;function o(){return"https://help.twitch.tv/s/article/subscriber-badge-guide#badgeflair"}function s(e,n){var t=new Map;if(0===e.length)return t;var i=0;if(n)i=parseInt(n.version,10),t=t.set(1,n);else{var o=e.find((function(e){return parseInt(e.version,10)===i}));o&&(t=t.set(1,o))}var s=e.find((function(e){return parseInt(e.version,10)===i+a}));s&&(t=t.set(2,s));var d=e.find((function(e){return parseInt(e.version,10)===i+r}));return d&&(t=t.set(3,d)),t}function d(e){var n=parseInt(e,10),t=n%1e3;switch(n){case NaN:case t:return i.NONE;case t+a:return i.TIER_2;case t+r:return i.TIER_3;default:return i.NONE}}!function(e){e.NONE="NONE",e.TIER_2="TIER_2",e.TIER_3="TIER_3"}(i||(i={}))},"1cg6":function(e,n,t){"use strict";t.d(n,"d",(function(){return o})),t.d(n,"f",(function(){return s})),t.d(n,"b",(function(){return d})),t.d(n,"e",(function(){return c})),t.d(n,"a",(function(){return l})),t.d(n,"c",(function(){return u})),t.d(n,"g",(function(){return m}));var i=t("mrSG"),a=t("cr+I"),r=t("k5yb");function o(e,n,t){void 0===n&&(n=""),void 0===t&&(t={});var i=a.stringify(t);return Object(r.B)(e,"/settings/channel"+n+(i?"?"+i:""))}function s(){return Object(r.D)("/settings/channel")}function d(e,n){return o(e,"#"+n)}function c(e){return e?o(e):s()}function l(e){return o(e,"/auto-hosted-channels")}function u(e,n){void 0===n&&(n={});var t=n.targetVideoID,a=n.updateTrailer;return o(e,"/channel-trailer-setup",Object(i.__assign)(Object(i.__assign)({},void 0!==t?{"target-video-id":t}:{}),void 0!==a?{update:a}:{}))}function m(e,n){return function(e,n,t){void 0===n&&(n=""),void 0===t&&(t={});var i=a.stringify(t);return Object(r.B)(e,"/settings/stream"+n+(i?"?"+i:""))}(e,"#"+n)}},"1mB7":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsUserFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99}};t.loc.source={body:"fragment communityPointsUserFragment on User {\nid\nself {\nsubscriptionBenefit {\nid\n}\nisModerator\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"1wAY":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LastUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canRequestUnban"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}}}]}]},{kind:"Field",name:{kind:"Name",value:"lastUnbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolverMessage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unbanRequestRestriction"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeCanRequestUnban"}}}]}]}]}}]}}]}}],loc:{start:0,end:290}};t.loc.source={body:"query LastUnbanRequest($channelID: ID! $includeCanRequestUnban: Boolean!) {\nchannel(id: $channelID) {\nid\nself {\ncanRequestUnban @include(if: $includeCanRequestUnban)\nlastUnbanRequest {\nid\nstatus\ncreatedAt\nresolverMessage\n}\nunbanRequestRestriction @include(if: $includeCanRequestUnban)\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.LastUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"LastUnbanRequest")},"26nv":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_ChannelData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rules"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVIP"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:170}};t.loc.source={body:"query Chat_ChannelData($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nlogin\ndisplayName\nchatSettings {\nrules\n}\nself {\nisEditor\nisModerator\nisVIP\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_ChannelData=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_ChannelData")},"2D+f":function(e,n,t){},"2Ev9":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return s}));var i=t("mrSG"),a=t("DMoW"),r=function(){function e(e,n,t){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map;var i=e.filter((function(e){return!!e})),a=n?n.filter((function(e){return!!e})):[];this.count=i.length+(n?a.length:0),this.indexBadges(i,this.globalsBySet,t),Array.isArray(n)&&this.indexBadges(a,this.channelsBySet,t)}return e.prototype.getBadge=function(e,n){var t=this.channelsBySet.get(e);return t&&t.has(n)?t.get(n)||null:void 0!==(t=this.globalsBySet.get(e))&&t.get(n)||null},e.prototype.indexBadges=function(e,n,t){e.forEach((function(e){t&&e.clickAction&&e.clickAction===a.n.SUBSCRIBE&&(e=Object(i.__assign)(Object(i.__assign)({},e),{channelName:t}));var r=n.get(e.setID);r||(r=new Map,n.set(e.setID,r)),r.set(e.version,e)}))},e}(),o=new r([],[],""),s=function(e){var n={};return e?(e.forEach((function(e){null!==e&&(n[e.setID]=e.version)})),n):n}},"2EzP":function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return l}));var i=t("XIZb"),a=Object(i.a)("MessageHandler"),r=a.context,o=a.withChatServiceManager,s=a.withContext,d=r,c=o,l=s((function(e){return{messageHandlerAPI:e.serviceAPI,setMessageHandlerAPI:e.setServiceAPI}}))},"2e6W":function(e,n,t){},"2tXM":function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("/7QA"),r=t("OCDW"),o=t("p9DJ"),s=function(e){return i.createElement(r.a,{padding:{top:2,bottom:1}},i.createElement(o.a,{onClick:e.onClickHelp},Object(a.d)("How do I cheer?","Bits--CheermoteIntro")))}},"2ycz":function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"a",(function(){return v}));var i=t("XmgI"),a=t("RcPG"),r=t("0FG4"),o=t("mrSG"),s=t("VJH5");var d=t("i6WW"),c=t("gTu3"),l=t("6j5V"),u=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function m(e,n){if(!n)return!1;var t=n.displayName,i=n.login;return e===t||e.toLowerCase()===i}function p(e,n){void 0===n&&(n={});for(var t=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(e){if(!e)return[];var n=e.list.filter((function(n){return n.categories[s.a.Aggressive]&&e.preferences[s.a.Aggressive]||n.categories[s.a.Identity]&&e.preferences[s.a.Identity]||n.categories[s.a.Profanity]&&e.preferences[s.a.Profanity]||n.categories[s.a.Sexual]&&e.preferences[s.a.Sexual]}));return 0===n.length?n:(n.sort((function(e,n){return e.startIndex-n.startIndex})),n.reduce((function(e,n,t){if(0===t)return e.push(n),e;var i=e[e.length-1];return n.startIndex<=i.endIndex+1?(i.endIndex=Math.max(n.endIndex,i.endIndex),i.categories=Object(o.__assign)(Object(o.__assign)({},i.categories),n.categories)):e.push(n),e}),[]))}(n.flags),r=0,d=[];r<t.length;){var c=i&&i.shift();c?(d.push.apply(d,h(t.slice(r,c.startIndex),r,n)),d.push({type:a.a.FlaggedSegment,categories:c.categories,content:f(h(t.slice(c.startIndex,c.endIndex+1),c.startIndex,n)),length:c.endIndex-c.startIndex+1,originalText:t.slice(c.startIndex,c.endIndex+1).join("")}),r=c.endIndex+1):(d.push.apply(d,h(t.slice(r),r,n)),r=t.length)}return f(d)}function h(e,n,t){void 0===t&&(t={});var o=t.cheers,s=t.emotes,p=t.links,h=t.mentions,f="",v=0;return e.reduce((function(t,b,y){if(g(b))return f="",t;if(0===f.length&&(v=n+y),f+=b,y<e.length-1&&function(e){return/[.,!]/.test(e)}(e[y+1]))return(k=s&&Object(r.c)(f,v,s))?(f="",t.concat(k)):t;if(y===e.length-1||g(e[y+1])){var k;if(k=s&&Object(r.c)(f,v,s))return t.concat(k);var S=o&&Object(i.f)(f,o);if(S)return t.concat(S);var C=p&&Object(d.a)(f,p);if(C)return t.concat([C]);var E=h&&function(e,n){var t=e.match(u);if(!t)return null;var i=[],r=t[1],o=Boolean(t[2].length),s=t[3],d=e.slice(t[0].length);if(r.length&&i.push(Object(l.a)(r)),o){var p=c.a.Default;m(s,n.sessionUser)?p=c.a.Recipient:n.sessionUser&&n.sessionUser.login===n.senderLogin&&(p=c.a.Sender),i.push({type:a.a.Mention,content:{recipient:s,currentUserMentionRelation:p}})}else{if(!m(s,n.sessionUser))return null;i.push({type:a.a.CurrentUserHighlight,content:s})}return d.length&&i.push(Object(l.a)(d)),i}(f,h);return E?t.concat([E]):t.concat(Object(l.a)(f))}return t}),[])}function f(e){return e.reduce((function(e,n,t){return 0===t?[].concat.call(e,n):[].concat.call(e,Object(l.a)(" "),n)}),[]).reduce((function(e,n,t){if(0===t)return e.concat(n);var i=e[e.length-1];return n.type===a.a.Text&&i.type===a.a.Text?(i.content=""+i.content+n.content,e):e.concat(n)}),[])}function g(e){return/\s/.test(e)}function v(e){return e.map((function(e){switch(e.type){case a.a.Emote:return{__typename:"MessageFragment",content:{__typename:"Emote",emoteID:e.content.emoteID||"",token:e.content.alt||"",setID:""},text:e.content.alt||""};default:return{__typename:"MessageFragment",content:null,text:e.content.toString()}}}))}},"2zj6":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockModifiedEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenModifiedSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenModifiedSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:161}};t.loc.source={body:"mutation UnlockModifiedEmote($input: UnlockChosenModifiedSubscriberEmoteInput!) {\nunlockChosenModifiedSubscriberEmote(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockModifiedEmote=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockModifiedEmote")},"3Bft":function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i}));var i,a={Prime:"prime",Tier1:"1000",Tier2:"2000",Tier3:"3000",Custom:"Custom"};!function(e){e.Prime="prime",e.Tier1="1000",e.Tier2="2000",e.Tier3="3000",e.Custom="Custom"}(i||(i={}))},"3GF+":function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("IyK4"),r=t("Yegi");t("jPLR");function o(e){e.stopPropagation()}var s=function(e){return i.createElement(a.a,{fullWidth:e.fullWidth,className:e.className,display:r.h.InlineFlex},i.createElement("div",{className:"viewer-card-drag-cancel",onMouseDown:o},e.children))}},"3JYT":function(e,n,t){"use strict";var i,a;t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r})),function(e){e.Info="snackbar-item__container--info",e.Success="snackbar-item__container--success",e.Warning="snackbar-item__container--warning",e.Error="snackbar-item__container--error"}(a||(a={}));var r=((i={})[a.Info]=1e4,i[a.Success]=4e3,i[a.Warning]=6e4,i[a.Error]=6e4,i)},"3T1B":function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var i=t("pVnL"),a=t.n(i),r=t("VbXa"),o=t.n(r),s=t("q1tI"),d=t("P+FS"),c=t("uq9l"),l=t("OCDW"),u=t("Yegi"),m=t("IyK4"),p=t("eUaf"),h=t("7Py2"),f=function(e){function n(){return e.apply(this,arguments)||this}return o()(n,e),n.prototype.render=function(){var e=this.props.pill&&s.createElement(l.a,{margin:{right:.5},display:u.h.InlineBlock},s.createElement(p.a,this.props.pill)),n=this.props.title&&"string"==typeof this.props.title?s.createElement(m.a,{display:u.h.Inline,flexGrow:1,margin:{right:this.props.inline?.5:0},className:"tw-callout-message__title"},s.createElement(h.a,{type:c.e.H4,size:h.b.Small},this.props.title)):this.props.title;return s.createElement(l.a,a()({className:"tw-callout-message"},Object(d.a)(this.props)),(e||n)&&s.createElement(l.a,{display:u.h.Inline,className:"tw-callout-message__header"},e&&s.createElement(l.a,{display:u.h.InlineFlex,position:u.o.Relative,alignItems:u.b.Center,className:"tw-callout-message__pill"},e),n),this.props.description&&s.createElement(l.a,{display:this.props.inline?u.h.Inline:u.h.Block},this.props.description))},n}(s.Component);f.displayName="CalloutMessage"},"3kHA":function(e,n,t){"use strict";var i,a;t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return a})),function(e){e[e.Viewer=0]="Viewer",e[e.Vip=1]="Vip",e[e.Moderator=2]="Moderator",e[e.Broadcaster=3]="Broadcaster"}(i||(i={})),function(e){e.InvalidParameters="invalid_parameters",e.MissingParameters="missing_parameters",e.Unauthorized="unauthorized",e.UnrecognizedCommand="unrecognized_command"}(a||(a={}))},"3sMn":function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}));var i=t("mrSG"),a=t("q1tI"),r=t("1rIY"),o=Object(r.a)("ChatConfigContext",{hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:function(e){return null}}),s=o.context,d=o.withContext,c=function(e){function n(n){var t=e.call(this,n)||this;return t.updateChatConfigState=function(e){null===t.updateFrame&&(t.setState((function(n){return Object(i.__assign)(Object(i.__assign)({},n),e)})),t.updateFrame=setTimeout((function(){t.updateFrame=null}),0))},t.updateFrame=null,t.state={hideOnboardingPrompts:!1,hideChatInputButtons:!1,hideRoomsDeprecationNotice:!1,showModViewIngress:!1,hideChatSettings:!1,isSettingsOpen:!1,updateChatConfigState:t.updateChatConfigState},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},n}(a.PureComponent)},"3tQW":function(e,n,t){"use strict";t.d(n,"b",(function(){return S})),t.d(n,"c",(function(){return C})),t.d(n,"a",(function(){return w}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("/MKj"),s=t("ANjH"),d=t("/7QA"),c=t("yR8l"),l=t("eDVu"),u=t("0Log"),m=t("geRD"),p=t("/aPz"),h=t("kRBY"),f=t("1rIY"),g=t("F6GT"),v=t("GSWs"),b=t("4+lN"),y="useHighContrastColors",k=Object(f.a)("HighContrastSettingContext",{setValue:function(){return null},value:!0}),S=k.context,C=k.withContext,E=function(e){function n(n){var t=e.call(this,n)||this;t.setValue=function(e){if(t.setState({localOverride:e}),d.m.set(y,e),t.props.isLoggedIn){var n=Object(i.__assign)(Object(i.__assign)({},Object(m.a)({isReadableChatColorsEnabled:e})),{optimisticResponse:{setReadableChatColorsEnabled:{__typename:"SetReadableChatColorsEnabledPayload",isReadableChatColorsEnabled:e}},update:function(n){var t;try{t=n.readQuery({query:b})}catch(e){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var i=a(t,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e}));n.writeQuery({query:b,data:i})}}});t.props.setReadableChatColors(n)}},t.state={};var r=Object(g.b)().useHighContrastColors;return void 0!==r&&(Object(g.a)("useHighContrastColors"),d.m.set(y,r)),t}return Object(i.__extends)(n,e),n.prototype.render=function(){return r.createElement(S.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},n.prototype.componentDidUpdate=function(e){this.hasData(this.props)&&!this.hasData(e)&&(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?d.m.set(y,this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled):this.setValue(this.value))},n.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(n.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled?this.props.data.currentUser.chatUISettings.isReadableChatColorsEnabled:d.m.get(y,!0)},enumerable:!0,configurable:!0}),n}(r.Component);var w=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(h.f)(e)}})),Object(c.a)(b,{skip:function(e){return!e.isLoggedIn}}),Object(l.a)((function(e){var n,t;return{query:b,topic:Object(p.cb)((null===(t=null===(n=e.data)||void 0===n?void 0:n.currentUser)||void 0===t?void 0:t.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==u.PubsubMessageType.UserPreferencesReadableChatColors},type:u.PubsubMessageType.UserPreferencesReadableChatColors,mutator:function(e,n){return n=a(n,(function(e){return e.currentUser.chatUISettings.isReadableChatColorsEnabled}),(function(){return e.new_value}))}}})),Object(c.a)(v,{name:"setReadableChatColors"}))(E)},"3vmv":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsEmoteAnimations"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:102}};t.loc.source={body:"query SyncedSettingsEmoteAnimations {\ncurrentUser {\nid\nchatUISettings {\nisEmoteAnimationsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsEmoteAnimations=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsEmoteAnimations")},"4+lN":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsReadableChatColors"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};t.loc.source={body:"query SyncedSettingsReadableChatColors {\ncurrentUser {\nid\nchatUISettings {\nisReadableChatColorsEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsReadableChatColors=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsReadableChatColors")},"4G6/":function(e,n,t){"use strict";t.d(n,"a",(function(){return v})),t.d(n,"b",(function(){return b}));var i=t("eAel"),a=i.d/i.e,r=i.c/i.e,o=i.b/i.e,s=i.f/i.e,d=i.a/i.e,c=3,l=/([a-zA-Z])([0-9])/gi,u=/([0-9])([a-zA-Z])/gi,m=/^mo(nths?)?/,p=/^w(eeks?)?/,h=/^d(ays?)?/,f=/^h(ours?)?/,g=/^m(inutes?)?/;function v(e){if(!e)return"0s";var n=e,t="";if(n>d){var i=Math.floor(n/d);n-=i*d,t+=i+"mo"}if(n>s){var c=Math.floor(n/s);n-=c*s,t+=c+"w"}if(n>o){var l=Math.floor(n/o);n-=l*o,t+=l+"d"}if(n>r){var u=Math.floor(n/r);n-=u*r,t+=u+"h"}if(n>a){var m=Math.floor(n/a);n-=m*a,t+=m+"m"}return n>0&&(t+=n+"s"),t}function b(e){var n=0,t=e.replace(l,"$1 $2").replace(u,"$1 $2").split(/\W+/);if(t.length%2!=0)return null;for(var i=0;i<t.length;i+=2){var v=t[i],b=parseInt(v,10);if(Number.isNaN(b)||v.length>c)return null;var y=t[i+1];if(y.match(m))n+=b*d;else if(y.match(p))n+=b*s;else if(y.match(h))n+=b*o;else if(y.match(f))n+=b*r;else{if(!y.match(g))return null;n+=b*a}}return n}},"4PN3":function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"h",(function(){return s})),t.d(n,"e",(function(){return d})),t.d(n,"f",(function(){return c})),t.d(n,"m",(function(){return l})),t.d(n,"i",(function(){return u})),t.d(n,"j",(function(){return m})),t.d(n,"k",(function(){return p})),t.d(n,"c",(function(){return h})),t.d(n,"d",(function(){return f})),t.d(n,"l",(function(){return g})),t.d(n,"g",(function(){return v}));var i=t("ZtEv"),a=t("aF6k");function r(){return{type:i.b.Connected,id:Object(a.a)("connected")}}function o(e){return{type:i.b.Disconnected,id:Object(a.a)("disconnected"),reason:e}}function s(){return{type:i.b.Reconnect,id:Object(a.a)("reconnect")}}function d(e,n,t){return{type:i.b.Hosted,id:Object(a.a)("hosted-"+e),hostingChannel:e,isAutohost:n,viewerCount:t}}function c(e){return{type:i.b.Hosting,id:Object(a.a)("hosting"),hostedChannel:e}}function l(e){return{type:i.b.Unhost,id:Object(a.a)("unhost-"+e)}}function u(e){return{type:i.b.RoomMods,id:Object(a.a)("roommods"),moderatorLogins:e}}function m(e){return{type:i.b.RoomState,id:Object(a.a)("roomstate"),state:e}}function p(e,n){return{type:i.b.SlowMode,id:Object(a.a)("slowmode"),enabled:e,length:n}}function h(e){return{type:i.b.EmoteOnlyMode,id:Object(a.a)("emoteonlymode"),enabled:e}}function f(e,n){return{type:i.b.FollowerOnlyMode,id:Object(a.a)("follower-only"),enabled:e,length:n}}function g(e){return{type:i.b.SubscriberOnlyMode,id:Object(a.a)("subscriber-only"),enabled:e}}function v(e){return{type:i.b.R9KMode,id:Object(a.a)("r9kmode"),enabled:e}}},"4w0E":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:296}};t.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_BanUserFromChatRoom=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_BanUserFromChatRoom")},"5RPi":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("ZtEv");function a(e){return{type:i.b.ChannelPointsReward,id:e.id,displayName:e.userDisplayName,login:e.userLogin,reward:e.reward,message:e.message,userID:e.userID}}},"5aDA":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChannelPollContext_VoteInPoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"VoteInPollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voteInPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:201}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-fragment.gql"\nmutation ChannelPollContext_VoteInPoll($input: VoteInPollInput!) {\nvoteInPoll(input: $input) {\nvoter {\n...pollVoter\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("INxu").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.ChannelPollContext_VoteInPoll=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPollContext_VoteInPoll")},"6C1D":function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"a",(function(){return h}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("1rIY"),s=t("3kHA"),d=t("WytW"),c=r.p.logger.withCategory("chat-commands"),l=/^[/.]([a-z0-9]+)\s*(.+)?\s*$/i,u=Object(o.a)("ChatCommandContext",{getCommands:function(e){return[]},addCommand:function(e){return null},removeCommand:function(e){return null},handleCommand:function(e,n){return{handled:!1}},prevCommand:null,clearPrevCommand:function(){return null}}),m=u.context,p=u.withContext,h=function(e){function n(n){var t=e.call(this,n)||this;return t.getCommands=function(e,n){for(var i=[],a=0,r=Object.values(t.state.commands);a<r.length;a++){var o=r[a],s=e>=o.permissionLevel,d=(null==n?void 0:n.isEditor)&&o.allowEditorUsage;o.hidden||!s&&!d||i.push(o)}return i},t.addCommand=function(e){t.setState((function(n){var t;return{commands:Object(i.__assign)(Object(i.__assign)({},n.commands),(t={},t[e.name]=e,t))}}))},t.removeCommand=function(e){t.setState((function(n){var t=Object(i.__assign)({},n.commands);return delete t[e.name],{commands:t}}))},t.handleCommand=function(e,n){var i=e.match(l);if(!i)return{handled:!1};var a=i[1],r=t.state.commands[a.toLowerCase()],o=(i[2]||"").trim();if(t.setPrevCommand({message:e,command:a.toLowerCase(),args:o}),!r)return{command:a,handled:!1};if(Object(d.i)(r)===o)return{command:a,handled:!0,result:{deferred:Promise.resolve({notice:r.helpText,error:s.a.MissingParameters})}};var u={channelLogin:n},m=r.handler;if(!m)return{command:a,handled:!1};try{return{command:a,handled:!0,result:m(o,u)}}catch(e){return c.warn("Exception thrown from chat command handler",{command:r,err:e}),{command:a,handled:!1}}},t.setPrevCommand=function(e){t.setState((function(n){return{value:Object(i.__assign)(Object(i.__assign)({},n.value),{prevCommand:e})}}))},t.clearPrevCommand=function(){t.setState((function(e){return{value:Object(i.__assign)(Object(i.__assign)({},e.value),{prevCommand:null})}}))},t.state={commands:{},prevPropsChannelLogin:n.channelLogin,value:{getCommands:t.getCommands,addCommand:t.addCommand,removeCommand:t.removeCommand,handleCommand:t.handleCommand,prevCommand:null,clearPrevCommand:t.clearPrevCommand}},t}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.channelLogin!==n.prevPropsChannelLogin?{commands:{},prevPropsChannelLogin:e.channelLogin,value:Object(i.__assign)(Object(i.__assign)({},n.value),{prevCommand:null})}:null},n.prototype.render=function(){return a.createElement(m.Provider,{value:this.state.value},this.props.children)},n}(a.Component)},"6RAr":function(e,n,t){"use strict";t.d(n,"a",(function(){return $}));var i=t("w09P"),a=t("/MKj"),r=t("ANjH"),o=t("yR8l"),s=t("eDVu"),d=t("WQCf"),c=t("/aPz"),l=t("kRBY"),u=t("bBAb"),m=t("6C1D"),p=t("hO8c"),h=t("+pBb"),f=t("Y8CJ"),g=t("Tznh"),v=t("+OgX"),b=t("HzXE"),y=t("2EzP"),k=t("YV90"),S=t("GnwI"),C=t("mrSG"),E=t("q1tI"),w=t("/7QA"),_=t("f00E"),N=t("kz7j"),O=t("XmgI"),D=t("2xye"),M=t("3kHA"),I=t("ZtEv");function T(e){var n;return((n={})[M.b.Viewer]="viewer",n[M.b.Vip]="vip",n[M.b.Moderator]="moderator",n[M.b.Broadcaster]="broadcaster",n)[e]}var j=t("buTd"),R=t("pb7T"),P=t("aF6k");var F=t("pr4f");var L=t("5RPi");var A=t("TApp");var U=t("ptRJ");var x=t("oK83");var B=t("4PN3");var V=t("zwF8"),q=t("pTg8"),G=t("lNGo"),H=t("oi4T"),W=t("OpME"),z=t("cwzQ"),Q=function(e){function n(n){var t=e.call(this,n)||this;return t.hasConnected=!1,t.connectingToChatMessage=function(){return Object(w.d)("Connecting to Chat","ChatConnection")},t.sendMessage=function(e,n){var i=t.props.handleCommand(e,t.props.channelLogin);if(i.handled)i.result&&i.result.deferred&&i.result.deferred.then((function(e){var n=e.notice,i=e.error;n&&(i?t.handleTrayNotice(n,i):t.addMessage(Object(A.a)(n))),t.trackChatCommand(i)}));else if(w.b.get("include_chat_timing_nonce",!1)){var a=Object(_.c)();t.props.setInitalTimestampForMsgNonce(a),t.client.sendCommand(t.props.channelLogin,e,{clientNonce:a,reply:null==n?void 0:n.reply}).catch((function(e){w.k.warn("Failed to send message, or message timeout",e)}))}else t.client.sendCommand(t.props.channelLogin,e,{reply:null==n?void 0:n.reply}).catch((function(e){w.k.warn("Failed to send message, or message timeout",e)}));return i.result},t.onJoinedEvent=function(e){t.logger.debug("Connected",t.props.channelLogin),t.props.latencyTracking.reportInteractive(),t.hasConnected||(Object(H.c)({channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode}),t.hasConnected=!0),t.chatConnected&&t.props.latencyTracking.reportCustomEvent(t.chatConnected),t.props.updateChatConnectionState(f.b.CONNECTED),t.postMessageToCurrentChannel(e,Object(B.a)()),t.props.clearModifierTray()},t.onDisconnectedEvent=function(e){t.props.latencyTracking.reportInteractive(),t.props.updateChatConnectionState(f.b.DISCONNECTED),t.addMessage(Object(B.b)(e.reason)),t.props.clearModifierTray()},t.onReconnectingEvent=function(e){t.props.updateChatConnectionState(f.b.RECONNECTING),t.addMessage(Object(B.h)()),t.props.setModifierTray({title:t.connectingToChatMessage(),sendButtonOverride:V.b.NoOverride,persistent:!0,icon:E.createElement(z.a,{size:z.b.Small}),disableChat:!0}),t.trackChatReconnecting()},t.onReconnectedEvent=function(e){t.join(t.props.channelLogin)},t.onHostedEvent=function(e){return t.postMessageToCurrentChannel(e,Object(B.e)(e.from,e.isAuto,e.viewers))},t.onHostingEvent=function(e){t.postMessageToCurrentChannel(e,Object(B.f)(e.target)),t.trackChatCommand()},t.onUnhostEvent=function(e){t.postMessageToCurrentChannel(e,Object(B.m)(e.channel)),t.trackChatCommand()},t.onChatMessageEvent=function(e){t.postMessageToCurrentChannel(e,t.convertMessage(e))},t.onChatActionEvent=function(e){var n=t.props.bitsConfig||O.a,i=Object(U.a)(I.c.Action,e.action,e.message.user,n,t.getFilterFlagOptions(e.message.flags));t.postMessageToCurrentChannel(e,i)},t.onChatNoticeEvent=function(e){if(I.f.has(e.msgid))t.handleTrayNotice(e.body,e.msgid);else if("msg_rejected"!==e.msgid){var n=(i=e.channel,a=e.msgid,r=e.body,{type:I.b.Notice,id:Object(P.a)("notice"),channel:i,msgid:a,message:r});t.postMessageToCurrentChannel(e,n)}var i,a,r;I.f.has(e.msgid)&&t.trackChatCommand(e.msgid)},t.onTimeoutEvent=function(e){t.onModerationEvent(I.e.Timeout,e)},t.onBanEvent=function(e){t.onModerationEvent(I.e.Ban,e)},t.onClearMsgEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=e.userLogin,i=e.targetMessageID,a=e.body,{type:I.b.Moderation,moderationType:I.e.Delete,id:Object(P.a)(n+"-mod"),userLogin:n,targetMessageID:i,body:a}))},t.onModerationEvent=function(e,n){var i,a,r,o;t.postMessageToCurrentChannel(n,(i=e,a=n.userLogin,r=n.reason,o=n.duration,{type:I.b.Moderation,moderationType:i,id:Object(P.a)(a+"-mod"),userLogin:a,reason:r,duration:o}))},t.onSubscriptionEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,user:e.user,methods:e.methods,multiMonthInfo:e.multiMonthData&&{multiMonthDuration:e.multiMonthData.multiMonthDuration,multiMonthTenure:e.multiMonthData.multiMonthTenure}},{type:I.b.Subscription,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,methods:n.methods,multiMonthInfo:n.multiMonthInfo}))},t.onSubscriptionGiftEvent=function(e){var n,i=(n={channel:e.channel,user:e.user,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,senderCount:e.senderCount,giftMonths:e.giftMonths},{type:I.b.SubGift,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,senderCount:n.senderCount,giftMonths:n.giftMonths});t.postMessageToCurrentChannel(e,i);var a=e.channel.toLowerCase().replace("#","");if(e.recipientID===t.props.currentUserID&&a===t.props.channelLogin){var r={event:{type:j.a.ThankSubGifter,gifterDisplayName:i.user.displayName,channelLogin:a},key:i.id};t.props.pushCallout(r)}},t.onAnonSubscriptionGiftEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,methods:e.methods,recipientDisplayName:e.recipientName,recipientID:e.recipientID,recipientLogin:e.recipientLogin,giftMonths:e.giftMonths},{type:I.b.AnonSubGift,id:Object(P.a)(n.recipientDisplayName+"-sub"),channel:n.channel.slice(1),methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,giftMonths:n.giftMonths}))},t.onSubscriptionMysteryGiftEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,user:e.user,plan:e.plan,massGiftCount:e.massGiftCount,senderCount:e.senderCount},{type:I.b.SubMysteryGift,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,plan:n.plan,massGiftCount:n.massGiftCount,senderCount:n.senderCount}))},t.onAnonSubscriptionMysteryGiftEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,plan:e.plan,massGiftCount:e.massGiftCount},{type:I.b.AnonSubMysteryGift,id:Object(P.a)(n.massGiftCount+"-sub"),channel:n.channel.slice(1),plan:n.plan,massGiftCount:n.massGiftCount}))},t.onCommunityPayForwardEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous}},{type:I.b.CommunityPayForward,id:Object(P.a)(n.user.username+"-sub"),user:n.user,channel:n.channel.slice(1),priorGifter:n.priorGifter}))},t.onStandardPayForwardEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={user:e.user,channel:e.channel,priorGifter:{id:e.priorGifterID,displayName:e.priorGifterName,anonymous:e.priorGifterAnonymous},recipient:{id:e.recipientID,displayName:e.recipientName}},{type:I.b.StandardPayForward,id:Object(P.a)(n.user.username+"-sub"),user:n.user,channel:n.channel.slice(1),priorGifter:n.priorGifter,recipient:n.recipient}))},t.onBitsCharityEvent=function(e){var n,i,a,r,o,s;t.postMessageToCurrentChannel(e,(n=e.total,i=e.charityName,a=e.daysLeft,r=e.hoursLeft,o=e.hashtag,s=e.learnMore,{type:I.b.BitsCharity,id:Object(P.a)("charity"),total:n,charityName:i,daysLeft:a,hoursLeft:r,hashtag:o,learnMore:s}))},t.onResubscriptionEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n={channel:e.channel,user:e.user,methods:e.methods,months:e.months,messageBody:e.body,cumulativeMonths:e.cumulativeMonths,shouldShareStreakTenure:e.shouldShareStreakTenure,streakMonths:e.streakMonths,wasGifted:e.wasGifted,multiMonthGiftInfo:e.giftData&&{anonGift:e.giftData.anonGift,gifterName:e.giftData.gifterName,gifterLogin:e.giftData.gifterLogin,gifterId:e.giftData.gifterId,giftedMonths:e.giftData.giftedMonths,giftMonthBeingRedeemed:e.giftData.giftMonthBeingRedeemed},multiMonthInfo:e.multiMonthData&&{multiMonthDuration:e.multiMonthData.multiMonthDuration,multiMonthTenure:e.multiMonthData.multiMonthTenure}},i=void 0,n.messageBody&&(i=Object(U.a)(I.c.Post,n.messageBody,n.user,O.a,null)),{type:I.b.Resubscription,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),user:n.user,methods:n.methods,message:i,months:n.months,cumulativeMonths:n.cumulativeMonths,shouldShareStreakTenure:n.shouldShareStreakTenure,streakMonths:n.streakMonths,wasGift:n.wasGifted,multiMonthGiftInfo:n.multiMonthGiftInfo&&{anonGift:n.multiMonthGiftInfo.anonGift,gifterId:n.multiMonthGiftInfo.gifterId,gifterLogin:n.multiMonthGiftInfo.gifterLogin,gifterName:n.multiMonthGiftInfo.gifterName,giftedMonths:n.multiMonthGiftInfo.giftedMonths,giftMonthBeingRedeemed:n.multiMonthGiftInfo.giftMonthBeingRedeemed},multiMonthInfo:n.multiMonthInfo&&{multiMonthDuration:n.multiMonthInfo.multiMonthDuration,multiMonthTenure:n.multiMonthInfo.multiMonthTenure}}))},t.onGiftPaidUpgradeEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,senderLogin:e.senderLogin,senderName:e.senderName,user:e.user},{type:I.b.GiftPaidUpgrade,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,senderLogin:n.senderLogin,senderName:n.senderName,user:n.user}))},t.onAnonGiftPaidUpgradeEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,promoGiftTotal:e.promoGiftTotal,promoName:e.promoName,user:e.user},{type:I.b.AnonGiftPaidUpgrade,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,user:n.user}))},t.onPrimePaidUpgradeEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,plan:e.plan,user:e.user},{type:I.b.PrimePaidUpgrade,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),plan:n.plan,user:n.user}))},t.onPrimeCommunityGiftReceivedEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={giftName:e.giftName,sender:e.sender,receiver:e.receiver,user:e.user},{type:I.b.PrimeCommunityGiftReceivedEvent,id:Object(P.a)("primecommunitygiftreceived"),giftName:n.giftName,sender:n.sender?n.sender:n.user?n.user.displayName:"",receiver:n.receiver}))},t.onExtendSubscriptionEvent=function(e){var n;t.postMessageToCurrentChannel(e,(n={channel:e.channel,body:e.body,benefitEndMonth:e.benefitEndMonth,user:e.user},{type:I.b.ExtendSubscription,id:Object(P.a)(n.user.username+"-sub"),channel:n.channel.slice(1),body:n.body,benefitEndMonth:n.benefitEndMonth,user:n.user}))},t.onRoomModsEvent=function(e){return t.postMessageToCurrentChannel(e,Object(B.i)(e.usernames))},t.onRoomStateEvent=function(e){t.postMessageToCurrentChannel(e,Object(B.j)(e.state)),t.trackChatCommand()},t.onEmoteOnlyModeEvent=function(e){return t.postMessageToCurrentChannel(e,Object(B.c)(e.enabled))},t.onSubscriberOnlyModeEvent=function(e){return t.postMessageToCurrentChannel(e,Object(B.l)(e.enabled))},t.onR9KModeEvent=function(e){return t.postMessageToCurrentChannel(e,Object(B.g)(e.enabled))},t.onClearChatEvent=function(e){t.postMessageToCurrentChannel(e,{type:I.b.Clear,id:Object(P.a)("clear")}),t.trackChatCommand()},t.onRaidEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=e.channel,i=e.userLogin,a=e.params,{type:I.b.Raid,id:Object(P.a)("raid"),channel:n,userLogin:i,params:a})),t.trackChatCommand()},t.onUnraidEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=e.channel,i=e.userLogin,a=e.message,{type:I.b.Unraid,id:Object(P.a)("unraid"),channel:n,userLogin:i,message:a})),t.trackChatCommand()},t.onRitualEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n=e.type,i=t.convertMessage(e),{type:I.b.Ritual,id:Object(P.a)(i.user.userLogin+"-"+n+"-ritual"),ritualType:n,message:i}))},t.onFirstCheerEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n={message:t.convertMessage(e)},i=n.message,{type:I.b.FirstCheerMessage,id:Object(P.a)(i.user.userLogin+"-firstcheer"),message:i}))},t.onBitsBadgeTierEvent=function(e){var n,i,a;t.postMessageToCurrentChannel(e,(n=t.convertMessage(e),i=e.threshold,a=e.message.user,{type:I.b.BitsBadgeTierMessage,id:Object(P.a)("bits-badge-tier"),message:n,threshold:i,user:a}))},t.onBadgesUpdatedEvent=function(e){return t.addMessage((n=e.username,i=e.badges,a=e.badgeDynamicData,{type:I.b.BadgesUpdated,id:Object(P.a)("updateBadges"),userName:n,badges:i,badgeDynamicData:a}));var n,i,a},t.onPurchaseEvent=function(e){var n=t.props.bitsConfig||O.a;t.postMessageToCurrentChannel(e,function(e,n,t,i){return{bitsConfig:i,message:n,purchase:e,timestamp:t,id:Object(P.a)(n.user.userLogin+"-purchase"),type:I.b.Purchase}}(e.purchase,t.convertMessage(e),e.timestamp,n))},t.onCrateEvent=function(e){var n,i;t.postMessageToCurrentChannel(e,(n=t.convertMessage(e),i=e.selectedCount,{type:I.b.CrateGift,id:Object(P.a)("crate"),message:n,selectedCount:i}))},t.onRewardGiftEvent=function(e){var n,i,a,r,o,s;t.postMessageToCurrentChannel(e,(n=e.user,i=e.triggerType,a=e.triggerAmount,r=e.selectedCount,o=e.totalRewardCount,s=e.domain,{type:I.b.RewardGift,id:Object(P.a)("rewardGift"),triggerType:i,triggerAmount:a,selectedCount:r,totalRewardCount:o,messageID:n?n.id:null,userID:n?n.userID:null,userLogin:n?n.username:null,displayName:n?n.displayName:null,domain:s,sourceType:x.b.chat_message}))},t.onChannelPointsRewardEvent=function(e){var n=t.convertMessage(e);t.postMessageToCurrentChannel(e,Object(L.a)({id:n.id,message:n,reward:Object(q.a)(t.props.rewardMap,e.rewardID),userDisplayName:n.user.userDisplayName,userID:n.user.userID,userLogin:n.user.userLogin}))},t.onCelebrationPurchaseEvent=function(e){return t.postMessageToCurrentChannel(e,(n={userID:e.user.id,userLogin:e.user.username,userDisplayName:e.user.displayName,intensity:e.intensity},{type:I.b.CelebrationPurchase,id:Object(P.a)("celebrationPurchase"),userID:n.userID,login:n.userLogin,displayName:n.userDisplayName,intensity:Object(F.e)(n.intensity)}));var n},t.onTimingAckEvent=function(e){t.props.updateTimestampForMsgNonce(e.nonce)},t.convertMessage=function(e){var n,i,a,r,o=t.props.bitsConfig||O.a;return e&&(r=(null===(n=e.message)||void 0===n?void 0:n.reply)||(null===(a=null===(i=e)||void 0===i?void 0:i.additionalMetadata)||void 0===a?void 0:a.reply)),Object(U.a)(I.c.Post,e.message.body,e.message.user,o,t.getFilterFlagOptions(e.message.flags),!1,!1,e.message.timestamp,{reply:r,channelID:t.props.channelID})},t.trackChatReconnecting=function(){Object(G.e)({userID:t.props.userID,channelID:t.props.channelID})},t.handleTrayNotice=function(e,n){var i;switch(n){case"unrecognized_cmd":i=Object(w.d)("Unrecognized Command","ChatConnection");break;case"missing_parameters":i=Object(w.d)("Missing Parameters","ChatConnection");break;case"unauthorized":i=Object(w.d)("Unauthorized","ChatConnection");break;default:i=Object(w.d)("Invalid Parameters","ChatConnection")}var a,r=t.props.prevCommand;"unrecognized_cmd"!==n&&r&&(a="/"+r.command+" "),t.props.setModifierTray({title:i,body:e,timeout:3e4,icon:E.createElement(R.a,null),inputValue:a,type:V.a.CommandWarning})},t.logger=w.k.withCategory("chat-service"),t.logger.debug("Created"),t.service=w.p.tmi,t.client=w.p.tmi.client,t.disabled=w.p.tmi.disabled,t}return Object(C.__extends)(n,e),n.prototype.render=function(){return null},n.prototype.componentDidMount=function(){this.registerCustomLatencyEvents(),this.props.setChatConnectionAPI({sendMessage:this.sendMessage}),this.shouldConnectOnMount()?(this.props.setModifierTray({title:this.connectingToChatMessage(),sendButtonOverride:V.b.NoOverride,persistent:!0,icon:E.createElement(z.a,{size:z.b.Small}),disableChat:!0}),this.join(this.props.channelLogin)):this.props.latencyTracking.reportInteractive(),this.props.emoteSets&&this.client.updateEmoteMap(Object(W.d)(this.props.emoteSets)),null===this.props.channelID&&this.skipLatencyMeasurements()},n.prototype.componentWillUnmount=function(){clearTimeout(this.reconnectionTimeout),this.props.setChatConnectionAPI(),this.disconnect(this.props.channelLogin)},n.prototype.componentDidUpdate=function(e){var n=this;(!this.props.shouldConnect&&e.shouldConnect||null===this.props.channelID&&this.props.channelID!==e.channelID)&&this.skipLatencyMeasurements(),this.props.emoteSets&&this.props.emoteSets!==e.emoteSets&&this.client.updateEmoteMap(Object(W.d)(this.props.emoteSets));var t=this.isUserBanned(this.props)&&!this.isUserBanned(e),i=!this.isUserBanned(this.props)&&this.isUserBanned(e);!this.props.shouldConnect&&e.shouldConnect||t?(this.disconnect(e.channelLogin),this.props.clearModifierTray()):(this.props.authToken!==e.authToken||this.props.channelLogin!==e.channelLogin||this.props.currentUserID!==e.currentUserID||this.props.shouldConnect&&!e.shouldConnect||i)&&(this.logger.debug("Reconnecting..."),this.registerCustomLatencyEvents(),i?this.reconnectionTimeout=setTimeout((function(){return n.join(n.props.channelLogin)}),1e3):this.join(this.props.channelLogin))},n.prototype.isUserBanned=function(e){return!(!e.data||e.data.loading||e.data.error||!e.data.chatRoomBanStatus)&&e.data.chatRoomBanStatus.isPermanent},n.prototype.join=function(e){this.logger.debug("Joining channel and binding all event listeners",this.props.channelLogin),this.hasConnected=!1,this.joinedChannel&&this.joinedChannel!==e&&this.service.part(this.joinedChannel),this.joinedChannel=e,this.connectHandlers(),this.service.join(e)},n.prototype.disconnect=function(e){this.logger.debug("Parting channel and unbinding all event listeners",e),this.disconnectHandlers(),this.service.part(e),this.skipLatencyMeasurements()},n.prototype.getFilterFlagOptions=function(e){return e&&0!==e.length?this.props.chatFilterExperimentMembership===g.b.Excluded||!this.props.viewerChatFilterEnabled||this.props.isCurrentUserModerator?null:{list:e,preferences:this.props.viewerChatFilterSettings}:null},n.prototype.connectHandlers=function(){this.disconnectHandlers(),this.client.events.joined(this.onJoinedEvent),this.client.events.disconnected(this.onDisconnectedEvent),this.client.events.reconnecting(this.onReconnectingEvent),this.client.events.reconnected(this.onReconnectedEvent),this.client.events.chat(this.onChatMessageEvent),this.client.events.usernotice(this.onChatMessageEvent),this.client.events.notice(this.onChatNoticeEvent),this.client.events.action(this.onChatActionEvent),this.client.events.badgesupdated(this.onBadgesUpdatedEvent),this.client.events.hosted(this.onHostedEvent),this.client.events.hosting(this.onHostingEvent),this.client.events.unhost(this.onUnhostEvent),this.client.events.purchase(this.onPurchaseEvent),this.client.events.crate(this.onCrateEvent),this.client.events.rewardgift(this.onRewardGiftEvent),this.client.events.ritual(this.onRitualEvent),this.client.events.firstcheer(this.onFirstCheerEvent),this.client.events.bitsbadgetier(this.onBitsBadgeTierEvent),this.client.events.channelpointsreward(this.onChannelPointsRewardEvent),this.client.events.timingack(this.onTimingAckEvent),this.client.events.subscription(this.onSubscriptionEvent),this.client.events.resub(this.onResubscriptionEvent),this.client.events.giftpaidupgrade(this.onGiftPaidUpgradeEvent),this.client.events.anongiftpaidupgrade(this.onAnonGiftPaidUpgradeEvent),this.client.events.primepaidupgrade(this.onPrimePaidUpgradeEvent),this.client.events.extendsub(this.onExtendSubscriptionEvent),this.client.events.subgift(this.onSubscriptionGiftEvent),this.client.events.anonsubgift(this.onAnonSubscriptionGiftEvent),this.client.events.submysterygift(this.onSubscriptionMysteryGiftEvent),this.client.events.anonsubmysterygift(this.onAnonSubscriptionMysteryGiftEvent),this.client.events.communitypayforward(this.onCommunityPayForwardEvent),this.client.events.standardpayforward(this.onStandardPayForwardEvent),this.client.events.timeout(this.onTimeoutEvent),this.client.events.ban(this.onBanEvent),this.client.events.clearchat(this.onClearChatEvent),this.client.events.clearmsg(this.onClearMsgEvent),this.client.events.raid(this.onRaidEvent),this.client.events.unraid(this.onUnraidEvent),this.client.events.mods(this.onRoomModsEvent),this.client.events.roomstate(this.onRoomStateEvent),this.client.events.subscribers(this.onSubscriberOnlyModeEvent),this.client.events.emoteonlymode(this.onEmoteOnlyModeEvent),this.client.events.r9kmode(this.onR9KModeEvent),this.client.events.charity(this.onBitsCharityEvent),this.client.events.primecommunitygiftreceived(this.onPrimeCommunityGiftReceivedEvent),this.client.events.celebrationpurchase(this.onCelebrationPurchaseEvent)},n.prototype.disconnectHandlers=function(){this.client.events.remove("joined",this.onJoinedEvent),this.client.events.remove("disconnected",this.onDisconnectedEvent),this.client.events.remove("reconnecting",this.onReconnectingEvent),this.client.events.remove("reconnected",this.onReconnectedEvent),this.client.events.remove("chat",this.onChatMessageEvent),this.client.events.remove("usernotice",this.onChatMessageEvent),this.client.events.remove("notice",this.onChatNoticeEvent),this.client.events.remove("action",this.onChatActionEvent),this.client.events.remove("badgesupdated",this.onBadgesUpdatedEvent),this.client.events.remove("hosted",this.onHostedEvent),this.client.events.remove("hosting",this.onHostingEvent),this.client.events.remove("unhost",this.onUnhostEvent),this.client.events.remove("purchase",this.onPurchaseEvent),this.client.events.remove("crate",this.onCrateEvent),this.client.events.remove("rewardgift",this.onRewardGiftEvent),this.client.events.remove("ritual",this.onRitualEvent),this.client.events.remove("firstcheer",this.onFirstCheerEvent),this.client.events.remove("bitsbadgetier",this.onBitsBadgeTierEvent),this.client.events.remove("channelpointsreward",this.onChannelPointsRewardEvent),this.client.events.remove("timingack",this.onTimingAckEvent),this.client.events.remove("subscription",this.onSubscriptionEvent),this.client.events.remove("resub",this.onResubscriptionEvent),this.client.events.remove("giftpaidupgrade",this.onGiftPaidUpgradeEvent),this.client.events.remove("anongiftpaidupgrade",this.onAnonGiftPaidUpgradeEvent),this.client.events.remove("primepaidupgrade",this.onPrimePaidUpgradeEvent),this.client.events.remove("extendsub",this.onExtendSubscriptionEvent),this.client.events.remove("subgift",this.onSubscriptionGiftEvent),this.client.events.remove("anonsubgift",this.onAnonSubscriptionGiftEvent),this.client.events.remove("submysterygift",this.onSubscriptionMysteryGiftEvent),this.client.events.remove("anonsubmysterygift",this.onAnonSubscriptionMysteryGiftEvent),this.client.events.remove("communitypayforward",this.onCommunityPayForwardEvent),this.client.events.remove("standardpayforward",this.onStandardPayForwardEvent),this.client.events.remove("timeout",this.onTimeoutEvent),this.client.events.remove("ban",this.onBanEvent),this.client.events.remove("clearchat",this.onClearChatEvent),this.client.events.remove("clearmsg",this.onClearMsgEvent),this.client.events.remove("raid",this.onRaidEvent),this.client.events.remove("unraid",this.onUnraidEvent),this.client.events.remove("mods",this.onRoomModsEvent),this.client.events.remove("roomstate",this.onRoomStateEvent),this.client.events.remove("subscribers",this.onSubscriberOnlyModeEvent),this.client.events.remove("emoteonlymode",this.onEmoteOnlyModeEvent),this.client.events.remove("r9kmode",this.onR9KModeEvent),this.client.events.remove("charity",this.onBitsCharityEvent),this.client.events.remove("primecommunitygiftreceived",this.onPrimeCommunityGiftReceivedEvent),this.client.events.remove("celebrationpurchase",this.onCelebrationPurchaseEvent)},n.prototype.postMessageToCurrentChannel=function(e,n){e.channel.toLowerCase().replace("#","")===this.props.channelLogin.toLowerCase()&&this.addMessage(n)},n.prototype.addMessage=function(e){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.handleMessage(e)},n.prototype.shouldConnectOnMount=function(){return this.props.shouldConnect&&!this.disabled},n.prototype.registerCustomLatencyEvents=function(){this.logger.debug("Registering custom latency events"),this.props.latencyTracking.resetCustomEvents(N.a.Chat),this.chatInitialized=this.registerInitEvent(),this.props.latencyTracking.reportCustomEvent(this.chatInitialized),this.shouldConnectOnMount()&&(this.chatConnected=this.registerConnectedEvent())},n.prototype.registerInitEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:3e3,group:N.a.Chat,key:N.b.ChatInit,label:N.c.Init})},n.prototype.registerConnectedEvent=function(){return this.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:N.a.Chat,key:N.b.ChatConnected,label:N.c.Connected})},n.prototype.skipLatencyMeasurements=function(){this.props.latencyTracking.resetCustomEvents(N.a.Chat),this.props.latencyTracking.reportInteractive()},n.prototype.trackChatCommand=function(e){var n,t,i,a=this.props.prevCommand;if(a){if(e)t={channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,body:a.message,errorType:e},i={user_id:t.userID||"",channel_id:t.channelID||"",user_type:T(t.userType),body:t.body,error_type:(n=t.errorType,"unrecognized_cmd"===n?M.a.UnrecognizedCommand:I.f.has(n)?M.a.InvalidParameters:n)},w.o.track(D.SpadeEventType.ChatCommandClientFail,i);else this.props.getCommands(this.props.commandPermissionLevel,{isEditor:this.props.isCurrentUserEditor}).map((function(e){return e.name})).includes(a.command)&&function(e){var n,t={user_id:e.userID||"",channel_id:e.channelID||"",user_type:T(e.userType),chat_command:e.chatCommand,args:(n=e.args,n.trim().split(/\s+/))};w.o.track(D.SpadeEventType.ChatCommandClientSuccess,t)}({channelID:this.props.channelID,userID:this.props.userID,userType:this.props.commandPermissionLevel,chatCommand:a.command,args:a.args});this.props.clearPrevCommand()}},n}(E.Component),Y=t("IIop");function K(e){return!e.channelID||!e.userID}var $=Object(r.d)(Object(a.b)((function(e){var n=Object(l.e)(e);return{authToken:Object(l.a)(e),currentUserLogin:n&&n.login,currentUserID:n&&n.id,viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled,viewerChatFilterSettings:e.chat.viewerChatFilterSettings}}),(function(e){return Object(r.b)({setModifierTray:h.ab,clearModifierTray:h.J},e)})),Object(S.withLatencyTracking)("ChatConnectionService"),Y.a,y.b,Object(g.d)((function(e){return e})),Object(m.b)((function(e){return{getCommands:e.getCommands,handleCommand:e.handleCommand,prevCommand:e.prevCommand,clearPrevCommand:e.clearPrevCommand}})),Object(p.b)((function(e){return{pushCallout:function(n){return e.pushCallout(n)}}})),Object(f.c)((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),Object(u.b)((function(e){return{bitsConfig:e.bitsConfig}})),Object(k.b)((function(e){return{rewardMap:e.rewardMap}})),Object(v.b)((function(e){return{setInitalTimestampForMsgNonce:e.setInitalTimestampForMsgNonce,updateTimestampForMsgNonce:e.updateTimestampForMsgNonce}})),Object(o.a)(b,{skip:K,options:function(e){var n,t;return{variables:{channelID:null!==(n=e.channelID)&&void 0!==n?n:"",targetUserID:null!==(t=e.userID)&&void 0!==t?t:""}}}}),Object(s.a)((function(e){return{query:b,variables:{channelID:e.channelID,targetUserID:e.userID},topic:Object(c.q)(e.userID),type:d.f.ChatRoomsUserModAction,skip:K(e),mutator:function(n,t){return"unban"===n.data.action&&n.data.target_id===e.userID&&n.data.channel_id===e.channelID?i(t,(function(e){return e.chatRoomBanStatus}),(function(){return null})):"ban"===n.data.action&&n.data.target_id===e.userID&&n.data.channel_id===e.channelID?i(t,(function(e){return e.chatRoomBanStatus}),(function(){var e;return{bannedUser:null,createdAt:(new Date).toISOString(),expiresAt:null,isPermanent:!0,moderator:null,reason:null!==(e=n.data.reason)&&void 0!==e?e:"",__typename:"ChatRoomBanStatus"}})):t}}})))(Q)},"6bwK":function(e,n,t){},"6j5V":function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("RcPG");function a(e){return{type:i.a.Text,content:e}}},"6wGa":function(e,n,t){"use strict";t.d(n,"a",(function(){return E}));var i=t("mrSG"),a=t("q1tI"),r=t("/MKj"),o=t("ANjH"),s=t("/7QA"),d=t("esZd"),c=t("geRD"),l=t("DMoW"),u=t("kRBY"),m=t("TApp"),p=t("a6LY"),h=t("yR8l"),f=t("X9Go"),g=t("H82h"),v=t("gO1k");function b(e){var n=this;return function(t){return a.createElement(e,Object(i.__assign)({},t,{deleteChatMessageMutation:function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!t.deleteChatMessage)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t.deleteChatMessage(e)];case 2:return n=i.sent(),(null===(o=null===(r=null===(a=n.data)||void 0===a?void 0:a.deleteChatMessage)||void 0===r?void 0:r.message)||void 0===o?void 0:o.sender)?(Object(g.a)({actionType:p.a.DeleteMessage,channelID:e.variables.input.channelID,targetUserID:n.data.deleteChatMessage.message.sender.id,source:p.c.QuickModButtons,page:t.page}),[2,{data:n.data}]):[3,4];case 3:throw i.sent(),new Error("Unable to delete message");case 4:return[3,6];case 5:throw new Error("Delete chat message mutation is not ready");case 6:return[2]}}))}))}}))}}var y=t("2EzP");var k=t("yaV1"),S=t("vLL+"),C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.banUser=function(){return n.props.banUser()},n.timeoutUser=function(){return n.props.timeoutUser()},n.unbanUser=function(){return n.props.unbanUser()},n.deleteMessage=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(this.props.confirmModerationAction&&!this.props.confirmModerationAction())return[3,4];if(e=Object(s.d)("Unable to delete message.","ModerationIcons"),!this.props.channelID)return this.surfaceError(e),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),n={channelID:this.props.channelID,messageID:this.props.messageID},[4,this.props.deleteChatMessageMutation(Object(c.a)(n))];case 2:return(t=i.sent().data)?((a=t.deleteChatMessage)&&a.responseCode!==l.Xb.SUCCESS&&(r=a.message&&a.message.sender&&a.message.sender.displayName||this.props.senderLogin,o=function(e,n){switch(e){case l.Xb.FORBIDDEN:return Object(s.d)("You don't have permission to delete messages.","DeleteChatMessageErrorCode");case l.Xb.TARGET_IS_BROADCASTER:return Object(s.d)("You cannot delete the broadcaster's messages.","DeleteChatMessageErrorCode");case l.Xb.TARGET_IS_MODERATOR:return Object(s.d)("You cannot delete messages from moderator {senderDisplayName}",{senderDisplayName:n},"DeleteChatMessageErrorCode");case l.Xb.SUCCESS_STAFF:return Object(s.d)("You deleted a message from staff {senderDisplayName}. Please email support@twitch.tv if a staff member is being abusive.",{senderDisplayName:n},"DeleteChatMessageErrorCode");default:throw new Error("Unrecognized operation result")}}(a.responseCode,r),this.surfaceError(o)),[3,4]):(this.surfaceError(e),[2]);case 3:return i.sent(),this.surfaceError(e),[3,4];case 4:return[2]}}))}))},n.surfaceError=function(e){n.props.surfaceError&&n.props.surfaceError(e)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){return this.props.sessionUser&&this.props.sessionUser.id===this.props.targetUserID?null:a.createElement(S.a,{isMessageDeleted:this.props.isMessageDeleted,isMessageBanned:this.props.isMessageBanned,canDelete:this.props.canDelete,onBanUser:this.banUser,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,onDelete:this.deleteMessage,senderLogin:this.props.senderLogin,renderNewVersion:this.props.renderNewVersion})},n}(a.Component);var E=Object(o.d)(y.b,Object(d.a)((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{targetID:e.targetUserID,targetLogin:e.senderLogin,source:p.c.QuickModButtons,surfaceError:function(n){e.messageHandlerAPI&&e.messageHandlerAPI.handleMessage(Object(m.a)(n))}})})),k.b,(function(e){return Object(o.d)(Object(f.d)(f.c),Object(h.a)(v,{name:"deleteChatMessage"}),b)(e)}),Object(r.b)((function(e){return{sessionUser:Object(u.e)(e)}})))(C)},"7Eue":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a}));var i={Chat:"chat",Feed:"feed",Whisper:"whisper"},a={Command:"/",Emote:":",Hashtag:"#",Mention:"@",Tab:"Tab",Whisper:"/w"}},"7NxT":function(e,n,t){"use strict";t("DLhE")},"8/YZ":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EmoteModifier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};t.loc.source={body:"fragment subscriptionProductEmoteModifier on EmoteModifier {\ncode\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"80Gz":function(e,n,t){"use strict";t.d(n,"a",(function(){return I})),t.d(n,"b",(function(){return T.b}));var i=t("mrSG"),a=t("q1tI"),r=t("4udP"),o=t("/7QA"),s=t("OJmJ"),d=t("WeGZ"),c=t("OCDW"),l=t("Yegi"),u=t("pVnL"),m=t.n(u),p=t("VbXa"),h=t.n(p),f=t("P+FS"),g=t("HQtB"),v=t("g8gE"),b=function(e){function n(){return e.apply(this,arguments)||this}return h()(n,e),n.prototype.render=function(){var e=this.props.closeButton&&a.createElement(c.a,{className:"tw-snackbar__close",flexShrink:0,alignSelf:l.c.Start,display:l.h.InlineFlex,margin:{left:.5}},a.createElement(v.a,{"aria-label":this.props.closeButton["aria-label"],onClick:this.props.closeButton.onClick,overlay:this.props.type===d.a.Info||this.props.type===d.a.Error}));return a.createElement(c.a,m()({className:"tw-snackbar tw-snackbar--"+this.props.type},Object(g.a)(this.props),Object(f.a)(this.props),{role:"status",borderRadius:l.e.Medium,elevation:4,position:l.o.Relative,padding:1,display:l.h.InlineBlock,textAlign:void 0===this.props.closeButton&&void 0===this.props.actions?l.q.Center:void 0}),a.createElement(c.a,{display:l.h.Flex,alignItems:l.b.Center},a.createElement(c.a,{fullWidth:!0,display:l.h.Flex,alignItems:l.b.Center},a.createElement(c.a,{flexGrow:1},this.props.message)),this.props.actions&&a.createElement(c.a,{display:l.h.Flex,alignSelf:l.c.Start,justifyContent:l.m.End},this.props.actions),e))},n}(a.Component);b.displayName="Snackbar";var y,k=t("E1Lb"),S=t("uq9l"),C=t("Ix37"),E=t("7Py2"),w=((y={})[d.a.Error]=C.a.NotificationError,y[d.a.Info]=C.a.NotificationInfo,y[d.a.Success]=C.a.NotificationSuccess,y[d.a.Warning]=C.a.NotificationWarning,y),_=function(e){function n(){return e.apply(this,arguments)||this}return h()(n,e),n.prototype.render=function(){var e=this.props.iconType&&a.createElement(c.a,{margin:{x:.5}},a.createElement(k.a,{asset:w[this.props.iconType]})),n=this.props.title&&"string"==typeof this.props.title?a.createElement(c.a,{flexGrow:1,margin:{left:.5,right:1}},a.createElement(E.a,{lineHeight:S.b.Heading,type:S.e.H5,size:E.b.ExtraSmall},this.props.title)):this.props.title;return a.createElement(c.a,Object(f.a)(this.props),(e||n)&&a.createElement(c.a,{display:l.h.InlineFlex,alignItems:l.b.Center,className:"tw-snackbar-message"},e&&a.createElement(c.a,{margin:{top:.5},display:l.h.Flex,position:l.o.Relative,alignItems:l.b.Start,flexGrow:0,flexShrink:0},e),n))},n}(a.Component);_.displayName="SnackbarMessage";var N,O=t("5e0Q"),D=((N={})[d.a.Error]=O.d.Text,N[d.a.Info]=O.d.Text,N[d.a.Success]=O.d.Success,N[d.a.Warning]=O.d.Primary,N),M=function(e){return a.createElement(c.a,{display:l.h.Flex,justifyContent:l.m.Start,flexDirection:l.i.RowReverse,margin:{left:.5}},a.createElement(O.a,m()({overlay:!0,type:D[e.type]},e.primaryButton)))};M.displayName="SnackbarActions",M.displayName="SnackbarActions";t("aipz");var I=Object(s.e)((function(e){return{removeSnackbarFromQueue:e.removeSnackbarFromQueue}}))((function(e){var n,t=e.buttonProps,u=e.duration,m=e.margin,p=e.message,h=e.type===s.c.Success,f=h&&!t,g=a.useRef(),v=function(){g.current=setTimeout((function(){e.removeSnackbarFromQueue(e.id)}),void 0!==u?u:s.b[e.type])};Object(r.a)((function(){return v(),function(){clearTimeout(g.current)}}));var y=((n={})[s.c.Info]=d.a.Info,n[s.c.Success]=d.a.Success,n[s.c.Warning]=d.a.Warning,n[s.c.Error]=d.a.Error,n);return a.createElement(c.a,{className:"snackbar-item__container",display:l.h.Flex,margin:void 0!==m?m:{bottom:1},justifyContent:f?l.m.Center:l.m.Between},a.createElement("div",{onMouseEnter:function(){clearTimeout(g.current)},onMouseLeave:function(){void 0!==g.current&&v()}},a.createElement(b,{message:a.createElement(_,{iconType:y[e.type],title:p}),actions:t&&a.createElement(M,{type:y[e.type],primaryButton:Object(i.__assign)(Object(i.__assign)({},t),{onClick:t.onClick})}),closeButton:h?void 0:{"aria-label":Object(o.d)("Dismiss","SnackbarItem"),onClick:function(){clearTimeout(g.current),e.removeSnackbarFromQueue(e.id)}},type:y[e.type]})))})),T=t("3JYT")},"8D7W":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PollsEnabled"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:107}};t.loc.source={body:"query PollsEnabled($login: String!) {\nchannel: user(login: $login) {\nid\nroles {\nisAffiliate\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.PollsEnabled=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"PollsEnabled")},"8SX2":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t("mrSG"),a=t("q1tI"),r=t("8Ad5"),o=t("fezU"),s=t("uq9l"),d=t("Yegi"),c=(t("rVcM"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openViewerCard=function(e){n.isKeyboardEvent(e)&&e.keyCode!==r.a.Space&&e.keyCode!==r.a.Enter||n.props.onUsernameClick(n.props.login,n.props.sourceType,n.props.contentID,e.currentTarget.getBoundingClientRect().bottom)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement("span",{className:"chatter-name",onClick:this.openViewerCard,onKeyDown:this.openViewerCard,role:"button",tabIndex:0},a.createElement(s.a,{bold:!0,color:d.f.Base,type:s.e.Span},this.props.children))},n.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},n}(a.Component));var l=Object(o.c)((function(e){return{onUsernameClick:e.onShowViewerCard}}))(c)},"8VXP":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDisplayName"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:86}};t.loc.source={body:"query GetDisplayName($login: String!) {\nuser(login: $login) {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.GetDisplayName=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"GetDisplayName")},"8XBm":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockRandomSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockRandomSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockRandomSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:173}};t.loc.source={body:"mutation UnlockRandomSubscriberEmote($input: UnlockRandomSubscriberEmoteInput!) {\nunlockRandomSubscriberEmote (input: $input) {\nbalance\nemote {\nid\ntoken\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockRandomSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockRandomSubscriberEmote")},"8Xrw":function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return a}));var i,a,r=t("q1tI"),o=t("Ix37"),s=t("LNol"),d=t("OCDW"),c=t("Yegi");!function(e){e[e.LOCK=0]="LOCK",e[e.BITS=1]="BITS"}(a||(a={}));var l=((i={})[a.LOCK]=o.a.Lock,i[a.BITS]=o.a.Bits,i),u=function(e){var n=e.lockIcon,t=e.className,i=r.useMemo((function(){return r.createElement(s.a,{asset:l[n],height:10,width:10})}),[n]);return r.createElement(d.a,{background:c.d.Overlay,borderRadius:c.e.Small,className:t,"data-test-selector":"badge-button-lock",display:c.h.InlineFlex,justifyContent:c.m.Center,position:c.o.Absolute,zIndex:c.t.Above},i)}},"8hyn":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recentPredictionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Prediction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isResultAcknowledged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"outcome"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsWon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:149}};t.loc.source={body:"fragment recentPredictionFragment on Prediction {\nid\nevent {\nid\n}\nisResultAcknowledged\noutcome {\nid\n}\npoints\npointsWon\npredictedAt\nresult\nupdatedAt\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},"8uuy":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};t.loc.source={body:"query VideoChatVideoTrackingContext($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChatVideoTrackingContext=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChatVideoTrackingContext")},"8wAl":function(e,n,t){"use strict";function i(e){return{__typename:"CommunityPointsAutomaticReward",backgroundColor:e.background_color,cost:e.cost||null,image:e.image?o(e.image):null,isEnabled:e.is_enabled,type:e.reward_type,updatedForIndicatorAt:e.updated_for_indicator_at,globallyUpdatedForIndicatorAt:e.globally_updated_for_indicator_at}}function a(e){return{__typename:"CommunityPointsCommunityGoal",id:e.id,amountNeeded:e.goal_amount,backgroundColor:e.background_color,defaultImage:o(e.default_image),description:e.description,durationDays:e.duration_days,endedAt:e.ended_at,image:e.image?o(e.image):null,isInStock:e.is_in_stock,smallContribution:e.small_contribution,perStreamUserMaximumContribution:e.per_stream_maximum_user_contribution,pointsContributed:e.points_contributed,startedAt:e.started_at,status:e.status,title:e.title,type:e.goal_type}}function r(e){return{__typename:"CommunityPointsCustomReward",id:e.id,backgroundColor:e.background_color||null,cost:e.cost,defaultImage:o(e.default_image),image:e.image?o(e.image):null,isEnabled:e.is_enabled,isInStock:e.is_in_stock,isPaused:e.is_paused,isSubOnly:e.is_sub_only,isUserInputRequired:e.is_user_input_required,shouldRedemptionsSkipRequestQueue:e.should_redemptions_skip_request_queue,prompt:e.prompt||null,title:e.title,updatedForIndicatorAt:e.updated_for_indicator_at,maxPerUserPerStreamSetting:{__typename:"CommunityPointsCustomRewardMaxPerUserPerStreamSetting",maxPerUserPerStream:e.max_per_user_per_stream.max_per_user_per_stream,isEnabled:e.max_per_user_per_stream.is_enabled},maxPerStreamSetting:{__typename:"CommunityPointsCustomRewardMaxPerStreamSetting",maxPerStream:e.max_per_stream.max_per_stream,isEnabled:e.max_per_stream.is_enabled},globalCooldownSetting:{__typename:"CommunityPointsCustomRewardGlobalCooldownSetting",globalCooldownSeconds:e.global_cooldown.global_cooldown_seconds,isEnabled:e.global_cooldown.is_enabled},redemptionsRedeemedCurrentStream:e.redemptions_redeemed_current_stream,cooldownExpiresAt:e.cooldown_expires_at}}function o(e){return{__typename:"CommunityPointsImage",url:e.url_1x,url2x:e.url_2x,url4x:e.url_4x}}function s(e){var n=e.outcomes.find((function(n){return n.id===e.winning_outcome_id})),t=null;return"USER"===e.created_by.type&&e.created_by.user_id&&e.created_by.user_display_name&&(t={__typename:"User",id:e.created_by.user_id,displayName:e.created_by.user_display_name}),{__typename:"PredictionEvent",id:e.id,createdAt:e.created_at,createdBy:t,endedAt:e.ended_at,lockedAt:e.locked_at,outcomes:e.outcomes.map((function(e){return d(e)})),predictionWindowSeconds:e.prediction_window_seconds,status:e.status,title:e.title,winningOutcome:n?d(n):null}}function d(e){return{__typename:"PredictionOutcome",id:e.id,color:e.color,title:e.title,totalPoints:e.total_points,totalUsers:e.total_users,topPredictors:e.top_predictors.map((function(e){return{__typename:"Prediction",id:e.id,points:e.points,user:{__typename:"User",id:e.user_id,displayName:e.user_display_name||""}}}))}}function c(e){var n=null,t=null,i=null;return null!==e.result&&(n=e.result.is_acknowledged,t=e.result.points_won,i=e.result.type),{__typename:"Prediction",id:e.id,event:{__typename:"PredictionEvent",id:e.event_id},outcome:{__typename:"PredictionOutcome",id:e.outcome_id},points:e.points,predictedAt:e.predicted_at,updatedAt:e.updated_at,result:i,pointsWon:t,isResultAcknowledged:n}}t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"f",(function(){return c}))},"91Oq":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"1"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestStatus"}},defaultValue:{kind:"EnumValue",value:"PENDING"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestFragment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:339}};i.loc.source={body:'#import "twilight/features/unban-requests/queries/unban-request-fragment.gql"\nquery UserUnbanRequest($channelID: ID! $userID: ID $limit: Int = 1 $status: UnbanRequestStatus = PENDING) {\nchannel(id: $channelID) {\nid\nunbanRequests(first: $limit options: { userID: $userID status: $status }) {\nedges {\nnode {\n...unbanRequestFragment\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("PAn0").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.UserUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"UserUnbanRequest")},"91gA":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsConfigContext_Global"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"globalCheerInfo"},directives:[]}]}}],loc:{start:0,end:124}};i.loc.source={body:'#import "twilight/features/bits/models/global-cheer-info-fragment.gql"\nquery BitsConfigContext_Global {\n...globalCheerInfo\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("wpjm").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.BitsConfigContext_Global=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"BitsConfigContext_Global")},"92xe":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteOnlyModeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followersOnlyDurationMinutes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slowModeDurationSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasSubOnlyChat"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};t.loc.source={body:"query ChatRoomState($login: String) {\nchannel: user(login: $login) {\nid\nchatSettings {\nisEmoteOnlyModeEnabled\nfollowersOnlyDurationMinutes\nslowModeDurationSeconds\n}\nsubscriptionProducts {\nid\nhasSubOnlyChat\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatRoomState=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatRoomState")},"98Kj":function(e,n,t){},"9KaG":function(e,n,t){},"9P+5":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Chat_UserData"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGlobalMod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};t.loc.source={body:"query Chat_UserData {\nuser {\nid\ndisplayName\nlogin\nroles {\nisGlobalMod\nisSiteAdmin\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_UserData=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_UserData")},"9R7K":function(e,n,t){},"9Rmp":function(e,n,t){},"9Wu8":function(e,n,t){"use strict";t.d(n,"b",(function(){return _})),t.d(n,"d",(function(){return N})),t.d(n,"a",(function(){return O})),t.d(n,"c",(function(){return D}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("0PwI"),s=t("eirU"),d=t("8XDC"),c=t("geRD"),l=t("DMoW"),u=t("1rIY"),m=t("/7QA"),p=t("PAn0"),h=t("91Oq"),f=t("osWt"),g=t("/MKj"),v=t("CGXs"),b=t("0Log"),y=t("/aPz"),k=t("kRBY"),S=function(e){var n,t=e.channelID,i=e.onReceiveNewRequest,a=e.onReceiveUpdate,o=null===(n=Object(g.e)(k.e))||void 0===n?void 0:n.id,s=Object(v.a)(Object(y.p)(o||"",t),!o||!t,(function(e){return e.type!==b.PubsubMessageType.UnbanRequestCreated&&e.type!==b.PubsubMessageType.UnbanRequestUpdated}))[0],c=Object(d.a)(s);return r.useEffect((function(){if(s&&s!==c)switch(s.type){case b.PubsubMessageType.UnbanRequestCreated:var e=s.data,n={__typename:"UnbanRequest",id:e.id,createdAt:e.created_at,requesterMessage:e.requester_message||null,status:l.ff.PENDING,requester:{__typename:"User",id:e.requester_id,login:e.requester_login||"",displayName:e.requester_login||"",profileImageURL:e.requester_profile_image||null},resolvedAt:null,resolvedBy:null,resolverMessage:null};return i(n);case b.PubsubMessageType.UnbanRequestUpdated:return a(s);default:return}}),[i,s,c,a,t]),null},C=t("KH/h"),E={requests:[],currentUnbanRequest:null,setCurrentUnbanRequest:function(){return null},unreadRequestsCount:0,loading:!1,hasNextPage:!1,errorLoadingRequest:!1,setLastOpenedAt:function(){return null},openUserUnbanRequest:function(){return null},loadMoreRequests:function(){return Promise.resolve()},sortOrder:l.gf.NEWEST,setSortOrder:function(){return null},selectNextRequest:function(){return null},newRequests:0,showNewRequests:function(){return Promise.resolve()},removeRequests:function(){return null},isEnabled:!0,cooldownMinutes:0},w=Object(u.a)("UnbanRequestsListContext",E),_=w.context,N=w.withContext,O=25,D=function(e){var n,t,u,g,v,b,y,k,E,w,N,D=Object(f.a)(),M=Object(o.a)("mod-view-unban-requests-last-opened-at"),I=M[0],T=M[1],j=r.useState(l.gf.NEWEST),R=j[0],P=j[1],F=Object(d.a)(R),L=r.useState(!1),A=L[0],U=L[1],x=Object(s.d)(C,{skip:!D||!e.isCurrentUserModerator,variables:{channelLogin:e.channelLogin,limit:O,order:R},fetchPolicy:"cache-and-network"}),B=x.data,V=x.loading,q=x.variables,G=x.fetchMore,H=x.refetch,W=!!(null===(u=null===(t=null===(n=null==B?void 0:B.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.pageInfo)||void 0===u?void 0:u.hasNextPage),z=null===(b=null===(v=null===(g=null==B?void 0:B.channel)||void 0===g?void 0:g.unbanRequestsSettings)||void 0===v?void 0:v.isEnabled)||void 0===b||b,Q=null!==(E=null===(k=null===(y=null==B?void 0:B.channel)||void 0===y?void 0:y.unbanRequestsSettings)||void 0===k?void 0:k.cooldownMinutes)&&void 0!==E?E:0,Y=r.useState(null),K=Y[0],$=Y[1],X=(w=K,{request:N=m.p.apollo.client.readFragment({fragment:p,id:"UnbanRequest:"+w}),error:!(N||!w)}),Z=X.request,J=X.error,ee=r.useMemo((function(){var e,n,t=[];return(null===(n=null===(e=null==B?void 0:B.channel)||void 0===e?void 0:e.unbanRequests)||void 0===n?void 0:n.edges)&&B.channel.unbanRequests.edges.forEach((function(e){var n=e.node;if((null==n?void 0:n.requester)&&(n.status===l.ff.PENDING||n.id===(null==Z?void 0:Z.id))){var a=Object(i.__assign)({},n);t.push(a)}})),t}),[Z,B]),ne=r.useCallback((function(n){var t,r,o,s;if(void 0===n&&(n=O),null===(o=null===(r=null===(t=null==B?void 0:B.channel)||void 0===t?void 0:t.unbanRequests)||void 0===r?void 0:r.pageInfo)||void 0===o?void 0:o.hasNextPage){U(!0);var d=B.channel.unbanRequests.edges,l=(null===(s=null==d?void 0:d[(null==d?void 0:d.length)-1])||void 0===s?void 0:s.cursor)||"";return G({variables:{channelLogin:e.channelLogin,limit:n,cursor:l},updateQuery:function(e,n){var t,r=n.fetchMoreResult;return U(!1),(null===(t=null==r?void 0:r.channel)||void 0===t?void 0:t.unbanRequests)?a(r,(function(e){return e.channel.unbanRequests}),(function(){var n,t,a,o;return Object(i.__assign)(Object(i.__assign)({},r.channel.unbanRequests),{edges:Object(c.d)((null===(t=null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.edges)||[],(null===(o=null===(a=null==r?void 0:r.channel)||void 0===a?void 0:a.unbanRequests)||void 0===o?void 0:o.edges)||[])})})):e}})}return Promise.resolve()}),[B,W,G,e.channelLogin]),te=r.useState([]),ie=te[0],ae=te[1],re=r.useMemo((function(){if(!I)return ee.length+ie.length;var e=new Date(I);return ee.filter((function(n){return new Date(n.createdAt)>e})).length+ie.length}),[I,ie.length,ee]),oe=r.useCallback((function(){var e=Z?ee.findIndex((function(e){return e.id===Z.id})):-1;ee.length&&(-1===e?$(ee[0].id):1===ee.length?$(null):e===ee.length-1?$(ee[ee.length-2].id):$(ee[e+1].id))}),[Z,ee]),se=r.useState(null),de=se[0],ce=se[1],le=Object(s.b)(h,{onError:function(){ce(null),fe(!0)}}),ue=le[0],me=le[1];r.useEffect((function(){var e,n,t,i,a,r,o=null===(a=null===(i=null===(t=null===(n=null===(e=null==me?void 0:me.data)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.edges)||void 0===i?void 0:i[0])||void 0===a?void 0:a.node;de&&(null===(r=null==o?void 0:o.requester)||void 0===r?void 0:r.id)===de&&(ce(null),$(o.id))}),[B,de,me]);var pe=r.useState(!1),he=pe[0],fe=pe[1];r.useEffect((function(){Z&&fe(!1)}),[Z]),r.useEffect((function(){F&&F!==R&&(ae([]),H())}),[F,H,ae,R]);var ge=r.useCallback((function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return R===l.gf.OLDEST&&W?(ae([]),[2,Promise.resolve()]):(Object(c.j)(C,q,(function(e){var n,t,r;if(null==e?void 0:e.channel){var o=Object(i.__spreadArrays)(null!==(r=null===(t=null===(n=e.channel)||void 0===n?void 0:n.unbanRequests)||void 0===t?void 0:t.edges)&&void 0!==r?r:[]),s=ie.map((function(e){return{__typename:"UnbanRequestEdge",cursor:"",node:e}})),d=R===l.gf.OLDEST?Object(c.d)(o,s.reverse()):Object(c.d)(s,o);return e.channel.unbanRequests?a(e,(function(e){return e.channel.unbanRequests.edges}),(function(){return d})):Object(i.__assign)(Object(i.__assign)({},e),{unbanRequests:{__typename:"UnbanRequestConnection",edges:d,pageInfo:{__typename:"PageInfo",hasNextPage:!1}}})}return e})),ae([]),[2,Promise.resolve()])}))}))}),[W,ie,R,q]);r.useEffect((function(){ie.length&&!ee.length&&ge().then((function(){ae([])}))}),[ie.length,ee.length,ge]),r.useEffect((function(){!ee.length&&W&&ne()}),[W,ne,ee.length]);var ve=!D||V||A||me.loading;return r.createElement(_.Provider,{value:{requests:ee,hasNextPage:W,loading:ve,errorLoadingRequest:he||J,loadMoreRequests:ne,unreadRequestsCount:re,setLastOpenedAt:T,currentUnbanRequest:Z,setCurrentUnbanRequest:$,openUserUnbanRequest:function(n){var t=ee.find((function(e){var t;return(null===(t=e.requester)||void 0===t?void 0:t.id)===n}));t?$(t.id):e.channelID&&(ce(n),ue({variables:{channelID:e.channelID,userID:n}}))},sortOrder:R,setSortOrder:P,selectNextRequest:oe,newRequests:ie.length,showNewRequests:ge,removeRequests:function(e){Object(c.j)(C,q,(function(n){var t,i;return(null===(i=null===(t=null==n?void 0:n.channel)||void 0===t?void 0:t.unbanRequests)||void 0===i?void 0:i.edges)?a(n,(function(e){return e.channel.unbanRequests.edges}),(function(n){return null==n?void 0:n.filter((function(n){return n.node&&!e.includes(n.node.id)}))})):n}))},isEnabled:z,cooldownMinutes:Q}},e.channelID&&r.createElement(S,{channelID:e.channelID,onReceiveNewRequest:function(e){ae((function(n){return Object(i.__spreadArrays)([e],n)}))},onReceiveUpdate:function(e){var n=e.data.id,t=e.data.status;ie.find((function(e){return e.id===n}))&&ae((function(e){return e.filter((function(e){return e.id!==n}))})),Object(c.i)({fragment:p,fragmentName:"unbanRequestFragment",id:"UnbanRequest:"+n,mutator:function(n){var a;return Object(i.__assign)(Object(i.__assign)({},n),{status:t,resolvedBy:e.data.resolver_id&&e.data.resolver_login?{__typename:"User",id:e.data.resolver_id,login:e.data.resolver_login,displayName:e.data.resolver_login}:null,resolvedAt:(new Date).toString(),resolverMessage:null!==(a=e.data.resolver_message)&&void 0!==a?a:null})}})}}),e.children)}},"9sGC":function(e,n,t){"use strict";t.d(n,"b",(function(){return E})),t.d(n,"a",(function(){return _}));var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("/7QA"),s=t("uIkQ"),d=t("bBAb"),c=t("cys1"),l=t("ikJD"),u=t("oK83"),m=t("wFyP"),p=t("esZd"),h=t("vLL+"),f=t("a6LY"),g=t("yaV1"),v=t("ndDW"),b=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.banUser=function(){return n.props.banUser()},n.timeoutUser=function(){return n.props.timeoutUser()},n.unbanUser=function(){return n.props.unbanUser()},n.deleteMessage=function(){},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e,n;return this.props.message.sender&&this.props.message.sender.login?a.createElement(h.a,{canDelete:!1,isMessageDeleted:!!this.props.message.deletedAt,onBanUser:this.banUser,onDelete:this.deleteMessage,onTimeoutUser:this.timeoutUser,onUnbanUser:this.unbanUser,renderNewVersion:!1,senderLogin:this.props.message.sender.login,isMessageBanned:!!(null===(n=null===(e=this.props.userBanStatus)||void 0===e?void 0:e.data)||void 0===n?void 0:n.chatRoomBanStatus)||!1}):null},n}(a.Component),y=Object(r.d)(Object(p.a)((function(e){var n,t,a;return Object(i.__assign)(Object(i.__assign)({},e),{targetLogin:null!==(a=null===(t=null===(n=e.message)||void 0===n?void 0:n.sender)||void 0===t?void 0:t.login)&&void 0!==a?a:"",source:f.c.QuickModButtons})})),g.b,v.b)(b),k=t("fxMP"),S=t("OCDW"),C=t("p9DJ"),E=(t("QfRJ"),"message-timestamp"),w=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={shouldShowDeletedBody:!1},n.showDeleted=function(e){e&&e.preventDefault(),n.setState({shouldShowDeletedBody:!0})},n}return Object(i.__extends)(n,e),n.prototype.shouldComponentUpdate=function(e,n){return e.showModerationIcons!==this.props.showModerationIcons||e.showTimestamps!==this.props.showTimestamps||n.shouldShowDeletedBody!==this.state.shouldShowDeletedBody||e.hasModPermissions!==this.props.hasModPermissions||e.message.deletedAt!==this.props.message.deletedAt||e.theme!==this.props.theme||e.highContrastUsernameColor!==this.props.highContrastUsernameColor||e.isEmoteAnimationsEnabled!==this.props.isEmoteAnimationsEnabled},n.prototype.render=function(){if(!this.props.message.sender||!this.props.message.id)return a.createElement(S.a,{padding:{x:2,y:.5}},Object(o.d)("unable to properly render message","Message"));var e=this.props.message.sender.displayBadges,n={},t=": ";return this.props.message.content.text.startsWith(k.a)&&(n={color:this.props.message.sender.chatColor||void 0},t=" "),a.createElement(S.a,{padding:this.props.padding||{x:2,y:.5}},a.createElement("div",{id:this.props.message.id,className:"message",style:n},this.renderTimestamp(),this.renderModerationIcons(),a.createElement(s.b,{badgeSets:this.props.badgeSets,badgesToRender:e}),a.createElement(m.a,{highContrastUsernameColor:this.props.highContrastUsernameColor,messageID:this.props.message.id,sender:this.props.message.sender,theme:this.props.theme,onUsernameClick:this.props.onUsernameClick}),a.createElement("span",{key:"separator"},t),this.renderMessageBody()))},n.prototype.renderMessageBody=function(){if(!this.props.message.deletedAt||this.state.shouldShowDeletedBody){var e={forceClipsNetworkRequest:!0,messageAuthorID:this.props.message.sender.id,messageSourceID:this.props.message.id,emoteSourceType:u.a.room};return Object(c.g)(Object(k.e)(this.props.message,this.props.bitsConfig,this.props.currentUserLogin,this.props.isEmoteAnimationsEnabled),e)}var n=Object(o.d)("message deleted","Message"),t=this.props.hasModPermissions?a.createElement(C.a,{onClick:this.showDeleted,"data-test-selector":"show-deleted"},"<"+n+">"):"<"+n+">";return a.createElement("span",{key:"deleted",className:"message--deleted","data-test-selector":"deleted-message"},t)},n.prototype.renderTimestamp=function(){return this.props.showTimestamps?a.createElement("span",{key:"timestamp",className:"message__timestamp","data-test-selector":E},Object(c.b)(new Date(this.props.message.sentAt),!0)):null},n.prototype.renderModerationIcons=function(){return this.props.showModerationIcons&&this.props.hasModPermissions&&this.props.channelID&&this.props.message.sender&&this.props.message.sender.id?a.createElement(y,{message:this.props.message,channelID:this.props.channelID,targetID:this.props.message.sender.id,surfaceError:this.props.surfaceError}):null},n}(a.Component);var _=Object(r.d)(Object(d.b)((function(e){return{bitsConfig:e.bitsConfig}})),Object(l.c)((function(e){return{isEmoteAnimationsEnabled:e.value}})))(w)},"9yes":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_AllowRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AllowRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"allowRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:141}};t.loc.source={body:"mutation Chat_AllowRejectedChatMessage($input: AllowRejectedChatMessageInput!) {\nallowRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_AllowRejectedChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_AllowRejectedChatMessage")},A4KW:function(e,n,t){"use strict";var i=t("ALJo");t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return i.b}))},A4cy:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("DMoW"),a=function(e,n){var t={subOnlyReward:!0,nonSubOnlyReward:!0,subsModeRequiredReward:!0};return"CommunityPointsCustomReward"===e.__typename&&e.isSubOnly&&(t.subOnlyReward=n.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.isHiddenForSubs&&(t.nonSubOnlyReward=!n.isUserSubscribed),"CommunityPointsAutomaticReward"===e.__typename&&e.type===i.eb.SINGLE_MESSAGE_BYPASS_SUB_MODE&&(t.subsModeRequiredReward=n.isChannelSubsOnlyMode),t}},AF7G:function(e,n,t){"use strict";t.d(n,"e",(function(){return i.d})),t.d(n,"a",(function(){return i.a})),t.d(n,"f",(function(){return i.e})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return l.a})),t.d(n,"d",(function(){return l.b}));var i=t("OJmJ"),a=t("q1tI"),r=t("OCDW"),o=t("Yegi"),s=t("gq8D"),d=t("Mg72");t("TUC3");var c=Object(i.e)((function(e){return{snackbarQueue:e.snackbarQueue}}))((function(e){var n,t,c,l=e.maxSnackbarItemsToDisplay,u=e.snackbarQueue,m=[];return u.forEach((function(e){e.component.props.type&&e.component.props.type===i.c.Error?m.unshift(a.cloneElement(e.component,{key:e.id})):m.length<Math.max(void 0!==l?l:4,1)&&m.push(a.cloneElement(e.component,{key:e.id}))})),a.createElement(r.a,{attachLeft:!0,attachRight:!0,alignItems:null!==(n=e.alignItems)&&void 0!==n?n:o.b.Center,className:"snackbar-list__container "+e.className,display:o.h.Flex,justifyContent:o.m.Center,position:o.o.Absolute,zIndex:o.t.Above},a.createElement(r.a,{alignItems:o.b.Center,display:o.h.Flex,flexDirection:o.i.Column,margin:{top:5},position:o.o.Relative},a.createElement(s.a,{className:null!==(t=e.snackbarItemClassName)&&void 0!==t?t:"snackbar-list__items",duration:d.c.Long,transitionType:null!==(c=e.transitionType)&&void 0!==c?c:d.d.SlideOverTop},m)))})),l=t("80Gz")},ALJo:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return l}));var i,a=t("q1tI"),r=t("ANjH"),o=t("yR8l"),s=t("YV90"),d=t("SyZi"),c=t("SCHm");!function(e){e.XSmall="channel-points-icon--xsmall",e.Small="channel-points-icon--small",e.Medium="channel-points-icon--medium",e.Large="channel-points-icon--large",e.XLarge="channel-points-icon--xlarge"}(i||(i={}));var l=Object(r.d)(Object(s.b)((function(e){return{isLoaded:e.isLoaded,pointIcon:e.pointIcon,pointName:e.pointName}})),Object(o.a)(c,{options:function(e){var n;return{variables:{channelLogin:null!==(n=e.channelLogin)&&void 0!==n?n:""}}},skip:function(e){return!e.channelLogin||e.isLoaded}}))((function(e){var n=null,t=null,i=e.data;return e.isLoaded?(n=e.pointIcon,t=e.pointName):i&&i.community&&i.community.channel&&i.community.channel.communityPointsSettings&&(n=i.community.channel.communityPointsSettings.image,t=i.community.channel.communityPointsSettings.name),a.createElement(d.a,{iconSize:e.iconSize,image:n,name:t})}))},AREq:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("/7QA"),a=t("DMoW"),r=t("4G6/");function o(e){var n=e.login,t=e.code,o=e.enteredDuration,s=e.minTimeoutDuration,d=e.maxTimeoutDuration,c=e.isTimeout;if(void 0===c&&(c=!1),c)switch(t){case a.o.FORBIDDEN:return Object(i.d)("You don't have permissions to timeout {login}.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_ADMIN:return Object(i.d)("You cannot timeout admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case a.o.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is already banned in this channel.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot timeout anonymous users.","BanUserErrorCode");case a.o.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot timeout the broadcaster.","BanUserErrorCode");case a.o.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot timeout global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_MOD:return Object(i.d)("You cannot timeout moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_SELF:return Object(i.d)("You cannot timeout yourself.","BanUserErrorCode");case a.o.TARGET_IS_STAFF:return Object(i.d)("You cannot timeout staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case a.o.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to timeout doesn't exist.","BanUserErrorCode");case a.o.DURATION_INVALID:var l=Object(i.d)("Invalid timeout duration: {userInput}. Usage: /timeout [user] [duration] [reason]",{userInput:o||""},"BanUserErrorCode"),u=Object(i.d)("Timeout duration must be between {minTimeoutDuration} and {maxTimeoutDuration} seconds.",{minTimeoutDuration:s||0,maxTimeoutDuration:d||0},"BanUserErrorCode"),m=Object(i.d)("Invalid timeout duration. Usage: /timeout [user] [duration] [reason]","BanUserErrorCode");if(o){if(void 0!==s&&void 0!==d){var p=Object(r.b)(o);if(!p||Number.isNaN(p))return l;if(p<s||p>d)return u}return l}return m;default:throw new Error("Unrecognized operation result.")}else switch(t){case a.o.FORBIDDEN:return Object(i.d)("You don't have permissions to ban {login}.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_ADMIN:return Object(i.d)("You cannot ban admin {login}. Please email support@twitch.tv if an admin is being abusive.",{login:n},"BanUserErrorCode");case a.o.TARGET_ALREADY_BANNED:return Object(i.d)("{login} is currently banned in this channel.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_ANONYMOUS:return Object(i.d)("You cannot ban anonymous users.","BanUserErrorCode");case a.o.TARGET_IS_BROADCASTER:return Object(i.d)("You cannot ban the broadcaster.","BanUserErrorCode");case a.o.TARGET_IS_GLOBAL_MOD:return Object(i.d)("You cannot ban global moderator {login}. Please email support@twitch.tv if a global moderator is being abusive.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_MOD:return Object(i.d)("You cannot ban moderator {login} unless you are the owner of this channel.",{login:n},"BanUserErrorCode");case a.o.TARGET_IS_SELF:return Object(i.d)("You cannot ban yourself.","BanUserErrorCode");case a.o.TARGET_IS_STAFF:return Object(i.d)("You cannot ban staff {login}. Please email support@twitch.tv if a staff member is being abusive.",{login:n},"BanUserErrorCode");case a.o.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to ban doesn't exist.","BanUserErrorCode");default:throw new Error("Unrecognized operation result.")}}},AaSY:function(e,n,t){"use strict";t.d(n,"b",(function(){return v})),t.d(n,"a",(function(){return y}));var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("/7QA"),s=t("bRfm"),d=t("x3Zu"),c=t("hO8c"),l=t("amaQ"),u=t("Fjqe"),m=t("ku6+"),p=t("3T1B"),h=t("eUaf"),f=t("OCDW"),g=t("Yegi"),v="reply-by-keyboard-callout-seen",b=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trackingType=l.d.ReplyByKeyboard,n.hasCTA=!1,n.onClose=function(){n.trackDismiss(),o.m.set(v,!0),n.props.popCallout()},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e,n=this;return a.createElement(m.a,{closeButton:{"aria-label":this.closeString,onClick:function(){n.onClose()}},message:a.createElement(p.a,{title:(e=s.a.os.isMacOS(),Object(o.d)("Use {shortcut} to select recent messages sent by this user.",{shortcut:a.createElement(f.a,{display:g.h.InlineFlex,alignItems:g.b.Center},a.createElement(u.a,{text:e?"⌥":"Alt"}),a.createElement(u.a,{text:"↑"}))},"ReplyByKeyboardCallout")),pill:{label:Object(o.d)("Tip","ReplyByKeyboardCallout"),type:h.b.Brand}}),padding:1})},n}(d.a);var y=Object(r.d)(Object(c.b)((function(e){return{popCallout:e.popCallout}})))(b)},Afio:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subCommunityGiftingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionGifting"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"community"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"offer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:184}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\nfragment subCommunityGiftingFragment on SubscriptionGifting {\ncommunity {\noffer {\n...subProductOfferFragment\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("Wd+u").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},ApRi:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendHighlightedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendHighlightedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendHighlightedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:150}};t.loc.source={body:"mutation SendHighlightedChatMessage($input: SendHighlightedChatMessageInput!) {\nsendHighlightedChatMessage(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SendHighlightedChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SendHighlightedChatMessage")},Av0x:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("/7QA"),a=t("DMoW");function r(e,n,t){if(void 0===t&&(t=!1),t)switch(n){case a.hf.FORBIDDEN:return Object(i.d)("You don't have permissions to untimeout {login}.",{login:e},"UnbanUserErrorCode");case a.hf.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to untimeout doesn't exist.","UnbanUserErrorCode");case a.hf.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently timed out from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}else switch(n){case a.hf.FORBIDDEN:return Object(i.d)("You don't have permissions to unban {login}.",{login:e},"UnbanUserErrorCode");case a.hf.TARGET_NOT_FOUND:return Object(i.d)("The user you are trying to unban doesn't exist.","UnbanUserErrorCode");case a.hf.TARGET_NOT_BANNED:return Object(i.d)("{login} is not currently banned from this channel.",{login:e},"UnbanUserErrorCode");default:throw new Error("Unrecognized operation result")}}},AwyB:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:155}};t.loc.source={body:"mutation CreateUnbanRequest($input: CreateUnbanRequestInput!) {\ncreateUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\ncreatedAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.CreateUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"CreateUnbanRequest")},B30r:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"d",(function(){return m})),t.d(n,"c",(function(){return p})),t.d(n,"e",(function(){return h})),t.d(n,"a",(function(){return f}));var i=t("q1tI"),a=t("DMoW"),r=t("4rCz"),o=t("JN5s"),s=t("zClW"),d=t("uq9l"),c=t("p9DJ"),l=t("nAiT");function u(){return Object(r.d)("You must provide a message for this reward.","ChannelPointsMessageError")}function m(){return Object(r.d)("Something went wrong. Please try again later.","CommunityPointsError")}function p(e){switch(e){case a.we.CHANNEL_SETTINGS:return Object(s.c)().MessageContainsBannedWordsError;case a.we.MSG_DUPLICATE:return Object(o.a)();case a.we.AUTOMOD_HELD:case a.we.BLIZZARD_CONNECT_MODE:case a.we.EMOTE_ONLY:case a.we.FOLLOWERS_ONLY:case a.we.FOLLOWERS_ONLY_ZERO:case a.we.INSUFFICIENT_POINTS:case a.we.MESSAGE_REJECTED:case a.we.R9K_MODE:case a.we.REWARD_COST_MISMATCH:case a.we.REWARD_DISABLED:case a.we.REWARD_FORBIDDEN:case a.we.SERVER_ERROR:case a.we.SLOW_MODE:case a.we.SUBS_ONLY:case a.we.TRANSACTION_ALREADY_COMMITTED:case a.we.TRANSACTION_IN_PROGRESS:case a.we.UNKNOWN:case a.we.USER_BANNED:case a.we.USER_SUSPENDED:case a.we.USER_TIMED_OUT:case a.we.VERIFIED_ACCOUNT:default:return m()}}function h(e,n){switch(e){case a.mb.EMOTE_ALREADY_ENTITLED:return Object(r.d)("<x:strong>Oops!</x:strong> You can already use this emote!",{"x:strong":function(e){return i.createElement(d.a,{bold:!0,type:d.e.Span},e)}},"ChannelPointsEmoteUnlockError");case a.mb.INSUFFICIENT_POINTS:return Object(r.d)("<x:strong>Oops!</x:strong> You don't have enough points for this reward. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(d.a,{bold:!0,type:d.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case a.mb.NO_EMOTES_AVAILABLE:return Object(r.d)("<x:strong>Oops!</x:strong> This broadcaster has no emotes to unlock. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(d.a,{bold:!0,type:d.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case a.mb.REWARD_COST_MISMATCH:return Object(l.l)(null,(function(){return null}));case a.mb.REWARD_DISABLED:return Object(r.d)("<x:strong>Oops!</x:strong> This reward is disabled. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(d.a,{bold:!0,type:d.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case a.mb.REWARD_FORBIDDEN:return Object(r.d)("<x:strong>Oops!</x:strong> You cannot redeem this reward on this channel. <x:link>Try again later.</x:link>",{"x:strong":function(e){return i.createElement(d.a,{bold:!0,type:d.e.Span},e)},"x:link":function(e){return i.createElement(c.a,{onClick:n},e)}},"ChannelPointsEmoteUnlockError");case a.mb.TRANSACTION_ALREADY_COMMITTED:case a.mb.INVALID_EMOTE:case a.mb.UNKNOWN:default:return m()}}function f(e){switch(e){case a.Yd.MAX_PER_STREAM:return Object(r.d)("This reward is temporarily out of stock.","ChannelPointsMessageError");case a.Yd.USER_BANNED:return Object(r.d)("You've been banned and can't redeem this reward.","ChannelPointsMessageError");case a.Yd.NOT_ENOUGH_POINTS:return Object(r.d)("You don't have enough points for this reward.","ChannelPointsMessageError");case a.Yd.PROPERTIES_MISMATCH:return Object(l.m)(null,(function(){return null}));case a.Yd.DUPLICATE_TRANSACTION:case a.Yd.FORBIDDEN:case a.Yd.NOT_FOUND:default:return m()}}},B9yr:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i=function(e,n){var t="";return e&&e.length>0&&(t=e.endsWith(" ")?e:e+" "),""+t+n.trim()+" "}},BHKw:function(e,n,t){},BJwa:function(e,n,t){"use strict";t.d(n,"a",(function(){return Ha})),t.d(n,"b",(function(){return Za}));var i=t("mrSG"),a=t("TSYQ"),r=t("w09P"),o=t("q1tI"),s=t("Ty5D"),d=t("ANjH"),c=t("/7QA"),l=t("ZS2+"),u=t("yR8l"),m=t("eDVu"),p=t("0Log"),h=t("/0dD"),f=t("6j5V"),g=t("/aPz"),v=t("DMoW"),b=t("uIkQ"),y=t("5zXJ"),k=t("ZVTe"),S=t("cys1"),C=t("OCDW"),E=t("Yegi"),w=t("uq9l"),_=t("5e0Q"),N=function(e){return o.createElement(C.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:E.h.Block,flexDirection:E.i.Column},o.createElement(C.a,{padding:{bottom:.5}},o.createElement(w.a,{color:E.f.Alt2},Object(c.d)("<x:strong>Anonymous Cheering</x:strong> only supports the anonymous Cheermote. Your Cheer will be modified to appear as shown below.",{"x:strong":function(e){return o.createElement(w.a,{type:w.e.Span,color:E.f.Link,bold:!0},e)}},"InvalidAnonymousCheerPrompt")),o.createElement(C.a,{margin:{y:1}},o.createElement(b.b,{badgeSets:e.badgeSets,badgesToRender:{"anonymous-cheerer":"1"}}),o.createElement(k.a,{userData:{isIntl:!1,userDisplayName:y.c,userID:y.e,userLogin:y.d,userType:"global_mod"}}),": ",Object(S.g)(e.messageParts))),o.createElement(C.a,{display:E.h.Flex,flexDirection:E.i.Row},o.createElement(_.a,{onClick:e.onCheerAnyway},Object(c.d)("Continue","InvalidAnonymousCheerPrompt")),o.createElement(C.a,{padding:{left:.5}},o.createElement(_.a,{onClick:e.onEditCheer,type:_.d.Secondary},Object(c.d)("Edit","InvalidAnonymousCheerPrompt")))))},O=t("4rCz"),D=t("BdZw"),M=t("LNol"),I=t("Ix37"),T=(t("e7rh"),function(e){return o.createElement(C.a,{padding:{top:1,bottom:.5},margin:{x:2},borderTop:!0,display:E.h.Block,flexDirection:E.i.Column},o.createElement(C.a,{padding:{bottom:.5}},o.createElement(b.b,{badgeSets:e.badgeSets,badgesToRender:{twitchbot:"1"}}),o.createElement(k.a,{userData:{color:D.b,isIntl:!1,userDisplayName:"AutoMod",userID:"automod",userLogin:"automod",userType:"global_mod"}}),o.createElement(w.a,{type:w.e.Span,color:E.f.Alt2},Object(O.d)(": Your text may be removed by moderation. Bits will still be sent to the streamer. Review the highlighted text or continue below.","BitsAutoModOffenderPrompt"))),o.createElement(C.a,{display:E.h.Flex,flexDirection:E.i.Row},o.createElement(C.a,{padding:{right:.5}},o.createElement(_.a,{onClick:e.onEditCheer},o.createElement(C.a,{padding:{x:2}},Object(O.d)("Edit","BitsAutoModOffender")))),o.createElement(_.a,{onClick:e.onCheerAnyway,type:_.d.Secondary},Object(O.d)("Cheer Anyway","BitsAutoModOffender")),o.createElement(C.a,{className:"bits-auto-mod-offender-prompt__notification-icon",display:E.h.Flex,flexDirection:E.i.Column,justifyContent:E.m.End,alignSelf:E.c.End,margin:{left:"auto",right:.5}},o.createElement(M.a,{asset:I.a.NotificationWarning}))))}),j=t("bBAb"),R=t("kkML"),P=t("v8lJ"),F=l.a.wrap((function(){return t.e(64).then(t.bind(null,"qFtv"))}),"ChannelLeaderboard",{placeholder:null}),L=function(e){return Object(R.a)(F.getLoader(),P.a.Later)?o.createElement(F,{channelID:e.channelID,userID:e.userID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin}):null},A=t("H31v"),U=t("ilvU"),x=t("uGUt"),B=t("I009"),V=t("/MKj"),q=t("u5aL"),G=t("cw0r"),H=t("wUQP"),W=t("5zf8"),z=t("oe5X"),Q=t("1/iK"),Y=t("f00E"),K=t("y5D0"),$=t("2xye"),X=t("kz7j"),Z=t("kRBY"),J=t("okS7"),ee=t("uhBA"),ne=t("TqpA"),te=t("jv9u"),ie=new ee,ae=l.a.wrap((function(){return t.e(61).then(t.bind(null,"ry0r"))}),"BitsCard",{placeholder:null,onRendered:function(){return ie.emit("bits_card_loaded")}}),re=function(e){var n=Object(o.useState)(!1),t=n[0],a=n[1];return Object(o.useEffect)((function(){e.eventEmitter.once("bits_card_loaded",(function(){return a(!0)}))}),[e.eventEmitter]),o.createElement(o.Fragment,null,e.visible&&!t&&o.createElement(ne.a,{onUserClose:e.onUserClose},o.createElement(te.a,null)),o.createElement(ae,Object(i.__assign)({},e)))},oe=function(e){return o.createElement(re,Object(i.__assign)({},e,{eventEmitter:ie}))},se=ae.Preload,de=t("SDEh"),ce=t("swlv"),le=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return Object(de.g)()?null:o.createElement(C.a,{position:E.o.Relative,display:E.h.Inline},o.createElement(ce.a,{disabled:this.props.buttonDisabled,icon:I.a.Bits,"aria-label":Object(c.d)("Bits","ChatInput"),type:ce.c.Secondary,onClick:this.props.onClick,"data-a-target":"bits-button"}))},n}(o.Component),ue=t("XmgI"),me=t("ebRM"),pe=t("RiD7"),he=t("AaSY"),fe=t("hO8c"),ge=t("buTd"),ve=t("tFCv"),be=t("+pBb"),ye=t("QVaV"),ke=t("bRfm"),Se=t("uu1w"),Ce=t("vSeP"),Ee=t("nInp"),we=t("ZtEv");function _e(e){return e.type===we.b.Message?e:"message"in e&&"string"!=typeof e.message&&e.message||null}var Ne=100;function Oe(e,n){var t=[];if(!n)return t;for(var i=0,a=n;i<a.length;i++){var r=_e(a[i]);r&&(r.deleted||r.user.userDisplayName!==e||t.push(r))}return t}var De,Me=t("Vtno"),Ie=t("Fjqe");!function(e){e.ReplyPrompt="reply-prompt"}(De||(De={}));var Te=5,je=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=Se.a.Mention,n.canBeTriggeredByTab=!0,n.getMatches=function(e,t){return t||e.startsWith("@")?n.getMentions(e,t):null},n.getMentions=function(e,t){var i;if(!n.props.activeChattersAPI)return[];var a=t?e:e.substring(1),r=n.props.activeChattersAPI.getActiveChatters(a,Te),o=null===(i=n.props.messageBufferAPI)||void 0===i?void 0:i.getMessages();return r.map((function(i){return{type:Se.a.Mention,current:e,replacement:(t?"":"@")+(i.displayName||i.login),element:n.renderMention(i,o)}}))},n.renderMention=function(e,t){var i=Object(Me.b)(n.props.channelID)!==Me.a.Control&&Object(H.c)("chat_replies_m2b")&&null!==function(e,n){if(!n)return null;for(var t=Math.min(n.length,Ne)-1;t>=0;t--){var i=_e(n[t]);if(i&&(!i.deleted&&i.user.userDisplayName===e))return i}return null}(e.displayName||e.login,t),a=ke.a.os.isMacOS();return o.createElement(C.a,{padding:.5,display:E.h.Flex,justifyContent:E.m.Between,alignItems:E.b.Center,flexGrow:1},o.createElement(w.a,{wordBreak:w.g.BreakWord},Object(ye.a)(e.login,e.displayName||null)),n.props.showReplyPrompt&&e.login!==n.props.currentUserLogin&&i&&o.createElement(C.a,{display:E.h.Flex,alignItems:E.b.Center,"data-test-selector":De.ReplyPrompt},o.createElement(Ie.a,{text:a?"⌥":"Alt"}),o.createElement(Ie.a,{text:"Enter"}),o.createElement(w.a,{color:E.f.Alt2,fontSize:E.k.Size7},Object(c.d)("start a reply","ChatMentionsAutocomplete"))))},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n}(o.Component),Re=Object(d.d)(Object(J.g)((function(e){return e})),Ce.a,Ee.b)(je),Pe=t("lZdE"),Fe=t("6C1D"),Le=t("3kHA"),Ae=t("WytW"),Ue=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=Se.a.Command,n.canBeTriggeredByTab=!1,n.getMatches=function(e,t,i){return 0===i&&e.startsWith("/")?n.getCommands(e):null},n.getCommands=function(e){var t=n.props.getCommands(n.props.permissionLevel,{isEditor:n.props.isCurrentUserEditor});if(!t||0===t.length)return null;var i=e.substring(1),a=t.filter((function(e){return n.doesCommandMatchTerm(e,i)}));return a.sort(n.sortCommands),a.map((function(e){return{type:Se.a.Command,current:"/"+i,replacement:n.determineReplacement(e),element:n.renderCommandSuggestion(e,i),group:n.determineGroup(e),selection:Object(Ae.i)(e)}}))},n.doesCommandMatchTerm=function(e,n){var t=new RegExp("^"+Object(Pe.a)(n.toLowerCase()),"i");return e.name.match(t)},n.renderCommandSuggestion=function(e,n){var t=n.length,i=null;return e.commandArgs&&(i=e.commandArgs.map((function(n,t){return o.createElement(C.a,{key:e.name+"-arg-"+t,margin:{right:.5}},o.createElement(w.a,{type:w.e.Span},"["+n.name+"]"))}))),o.createElement(C.a,{padding:.5},o.createElement(C.a,{display:E.h.Flex},o.createElement(C.a,{margin:{right:.5}},o.createElement(w.a,{type:w.e.Span},"/"+n),o.createElement(w.a,{type:w.e.Span,bold:!0},e.name.substring(t))),i),o.createElement(w.a,{color:E.f.Alt2,fontSize:E.k.Size7},e.description))},n.sortCommands=function(e,t){var i=n.getPriorityLevel(e),a=n.getPriorityLevel(t);if(i===a){var r=n.trimStart(e.name),o=n.trimStart(t.name);return r.localeCompare(o)}return a-i},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n.prototype.determineReplacement=function(e){var n=Object(Ae.i)(e);return n?"/"+e.name+" "+n:"/"+e.name},n.prototype.determineGroup=function(e){if(this.props.isCurrentUserEditor||this.props.permissionLevel!==Le.b.Viewer&&this.props.permissionLevel!==Le.b.Vip)return e.permissionLevel===Le.b.Moderator||e.permissionLevel===Le.b.Broadcaster||e.allowEditorUsage?"channel management":"twitch"},n.prototype.getPriorityLevel=function(e){return e.allowEditorUsage?1:e.permissionLevel===Le.b.Viewer||e.permissionLevel===Le.b.Vip?0:1},n.prototype.trimStart=function(e){return e.startsWith("un")&&!e.startsWith("unique")?e.substring(2):e},n}(o.Component);var xe,Be=Object(d.d)(Object(J.g)((function(e){return e})),Object(Fe.b)((function(e){return{getCommands:e.getCommands}})))(Ue),Ve=t("3sMn"),qe=t("Y8CJ"),Ge=t("+l4d"),He=t("jBwP"),We=t("BvGO"),ze=t("RhPF"),Qe=t("YQhk"),Ye=t("Vfsh"),Ke=(t("9Rmp"),function(e){var n=Object(We.a)(!0),t=n.dialogProps,a=n.setAnchorRef;o.useEffect((function(){c.o.track($.SpadeEventType.ChatRulesViewed,{channel_login:e.channelLogin,channel_id:e.channelID})}),[e.channelID,e.channelLogin]),t.onRequestClose=function(){return e.onCloseChatRules()};var r=function(){var n=c.m.get("chat_rules_shown",{});e.channelLogin&&(n[e.channelLogin]=!0,c.m.set("chat_rules_shown",n))};return o.createElement(C.a,{fullWidth:!0,position:E.o.Absolute,zIndex:E.t.Above,attachBottom:!0,attachLeft:!0,className:"chat-rules-container",refDelegate:a},o.createElement(ze.a,Object(i.__assign)({size:Qe.a.Auto},t),o.createElement(C.a,{className:"chat-rules-content",background:E.d.Base,attachBottom:!0,borderRadius:E.e.Large,display:E.h.Block,elevation:3,padding:.5},o.createElement(Ye.a,Object(i.__assign)({},e)),o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.Center,padding:.5},o.createElement(_.a,{"data-test-selector":"chat-rules-ok-button",fullWidth:!0,size:_.b.Large,onClick:function(){r(),c.o.track($.SpadeEventType.ChatRulesAccepted,{channel_id:e.channelID,channel_login:e.channelLogin}),e.onAcceptChatRules()}},o.createElement(w.a,{fontSize:E.k.Size5},Object(c.d)("Okay, Got It!","ChatRules")))))))}),$e=t("9MrB"),Xe=t("3tQW"),Ze=t("l8aq"),Je=t("XC6p"),en="mod-view-link",nn=function(e){var n=Object(c.d)("Go to Mod View","ModViewIngress");return o.createElement(C.a,{position:E.o.Relative,display:E.h.Flex,alignItems:E.b.Center},o.createElement(Je.a,{label:Object(c.d)("Mod View","ModViewIngress")},o.createElement(ce.a,{"aria-label":n,linkTo:Object(Ze.a)(e.channelLogin),icon:I.a.Sword,"data-test-selector":en})))},tn=t("IyK4");t("ZuCe");!function(e){e.AUTOMOD="automod",e.ANONYMOUS_CHEERING="anonymous-cheering",e.UNKNOWN="unknown"}(xe||(xe={}));var an,rn=function(e){var n=e.moderatedReason,t=void 0===n?xe.UNKNOWN:n,i=e.moderatedMessageParts,r=a("moderated-message-fake-input__container",t);return o.createElement(C.a,{position:E.o.Relative,borderRadius:E.e.Medium,className:r},o.createElement(C.a,{className:"moderated-message-fake-input__content",display:E.h.Block,overflow:E.n.Auto,color:E.f.Alt,background:E.d.Alt,fullWidth:!0},o.createElement(tn.a,{padding:{y:.5,left:1},fullHeight:!0},o.createElement("div",{style:{paddingRight:"6rem"}},Object(S.g)(i)))),o.createElement(C.a,{position:E.o.Absolute,display:E.h.Flex,flexDirection:E.i.Row,attachRight:!0,attachTop:!0},o.createElement(C.a,{display:E.h.InlineFlex,alignItems:E.b.Center,className:"moderated-message-fake-input__icon",padding:.5},o.createElement(M.a,{asset:I.a.Bits,type:M.b.Inherit})),o.createElement(C.a,{display:E.h.InlineFlex,alignItems:E.b.Center,className:"moderated-message-fake-input__icon",padding:.5},o.createElement(M.a,{asset:I.a.Emoticons,type:M.b.Inherit}))))},on=t("X9Go"),sn=t("ilCE");t("MVDO");function dn(e,n){var t=n.action?{action:n.action}:{},a=Object(i.__assign)({raid_upsell_source_id:Number(n.sourceChannelID),raid_upsell_target_id:Number(n.targetChannelID)},t);c.o.track(e,a)}!function(e){e.Host="host",e.Raid="raid",e.Dismiss="dismiss"}(an||(an={}));var cn="raid-now-upsell";var ln={"data-test-selector":"dismiss"},un=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleDismissUpsell=function(){var e;e={sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id},dn($.SpadeEventType.RaidUpsellClick,Object(i.__assign)(Object(i.__assign)({},e),{action:an.Dismiss})),n.props.closeRaidUpsell()},n.handleSendHostMsgFromUpsell=function(){var e;e={sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id},dn($.SpadeEventType.RaidUpsellClick,Object(i.__assign)(Object(i.__assign)({},e),{action:an.Host})),n.handleSendHostMsg()},n.handleSendHostMsg=function(){n.props.send("/host "+n.props.targetChannelLogin),n.props.closeRaidUpsell()},n.handleSendRaidMsg=function(){var e;e={sourceChannelID:n.props.data.sourceChannel.id,targetChannelID:n.props.data.targetChannel.id},dn($.SpadeEventType.RaidUpsellClick,Object(i.__assign)(Object(i.__assign)({},e),{action:an.Raid})),n.props.send("/raid "+n.props.targetChannelLogin),n.props.closeRaidUpsell()},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.data.refetch()},n.prototype.componentDidUpdate=function(e){if(e.data.loading!==this.props.data.loading&&!this.props.data.loading){if(!this.channelDisplayName||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf)return this.handleSendHostMsg();n={sourceChannelID:this.props.data.sourceChannel.id,targetChannelID:this.props.data.targetChannel.id},dn($.SpadeEventType.RaidUpsellImpression,n),c.m.set(cn,!0)}var n},n.prototype.render=function(){var e=this.props.data.loading,n=this.channelDisplayName;return e||!n||!this.isViewersCountWithinRange||this.isAttemptingToHostSelf?null:o.createElement(C.a,{className:"raid-upsell-prompt",padding:1,margin:{x:2}},o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.Between},o.createElement(C.a,{display:E.h.Flex},o.createElement(C.a,{className:"raid-upsell-prompt__notification",margin:{top:.5}},o.createElement(M.a,{asset:I.a.NotificationInfo})),o.createElement(C.a,{margin:{x:1}},o.createElement(w.a,{type:w.e.H6,bold:!0},Object(c.d)("How about raiding {channelDisplayName}?",{channelDisplayName:n},"RaidUpsellPrompt")),o.createElement(w.a,{type:w.e.P,color:E.f.Alt2},Object(c.d)("Now you can raid whenever you want instead of waiting 30 seconds.","RaidUpsellPrompt")))),o.createElement(C.a,{color:E.f.OverlayAlt},o.createElement(ce.a,Object(i.__assign)({},ln,{icon:I.a.Close,size:ce.b.Small,"aria-label":Object(c.d)("Dismiss","RaidUpsellPrompt"),onClick:this.handleDismissUpsell})))),o.createElement(mn,{onSendHostMsg:this.handleSendHostMsgFromUpsell,onSendRaidMsg:this.handleSendRaidMsg}))},Object.defineProperty(n.prototype,"channelDisplayName",{get:function(){var e=this.props.data.targetChannel;return e&&e.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isViewersCountWithinRange",{get:function(){var e=this.props.data.sourceChannel,n=e&&e.stream&&e.stream.viewersCount;return n&&n>=3&&n<1e5},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAttemptingToHostSelf",{get:function(){return this.props.targetChannelLogin===this.props.sourceChannelLogin},enumerable:!0,configurable:!0}),n}(o.Component),mn=function(e){return o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.End,margin:{top:1}},o.createElement(C.a,{margin:{right:1}},o.createElement(_.a,{type:_.d.Secondary,size:_.b.Small,onClick:e.onSendHostMsg},o.createElement(C.a,{padding:{x:2}},Object(c.d)("Host","RaidUpsellPrompt")))),o.createElement(C.a,null,o.createElement(_.a,{size:_.b.Small,onClick:e.onSendRaidMsg},o.createElement(C.a,{padding:{x:2}},Object(c.d)("Raid","RaidUpsellPrompt")))))},pn=Object(u.a)(sn,{options:function(e){return{variables:{targetChannelLogin:e.targetChannelLogin,sourceChannelLogin:e.sourceChannelLogin}}}})(un),hn=t("zwF8"),fn=t("gTu3"),gn=t("RcPG"),vn=t("YXxK"),bn=t("a6LY"),yn=t("knbN"),kn=function(){function e(e){this.messages=e,this.currentIndex=e.length-1}return e.prototype.getCurrentMessage=function(){return this.messages[this.currentIndex]},e.prototype.setLater=function(){return!!this.hasLaterMessage()&&(this.currentIndex+=1,!0)},e.prototype.setEarlier=function(){return!!this.hasEarlierMessage()&&(this.currentIndex-=1,!0)},e.prototype.hasEarlierMessage=function(){return this.currentIndex>0},e.prototype.hasLaterMessage=function(){return this.currentIndex<this.messages.length-1},e}(),Sn=t("B9yr"),Cn=t("Ff8q"),En=t("lNGo"),wn=t("oi4T"),_n=t("JkAt"),Nn=t("cpJf"),On=t("GzyO"),Dn=t("GnwI"),Mn=t("9Wu8"),In=t("uuYk"),Tn=t("4Nlk"),jn=t("EOIh"),Rn=t("pb7T"),Pn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(){var e=this.props,n=e.clearModifierTray,t=e.inputValue,i=e.maxLength,a=e.tray;t.length>=i&&(!a||a.type===hn.a.EmoteOnlyBanner)?this.updateModifierTray():t.length<i&&(null==a?void 0:a.type)===hn.a.CharacterLimitError&&n()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={title:Object(c.d)("Reached Character Limit of 500","CharacterLimitErrorTray"),inputValue:this.props.inputValue,icon:o.createElement(Rn.a,null),disableClose:!0,type:hn.a.CharacterLimitError};this.props.setModifierTray(e)},n}(o.Component);var Fn=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J},e)})))(Pn),Ln=t("N2Gh"),An=t("RPn2"),Un=t("oyYY"),xn=t("eU9H"),Bn=t("RReG");function Vn(){var e=ke.a.os.isMacOS()?"(⌥) (↑)":"(Alt) (↑)";return Object(c.d)("Select a previous message to reply to. You can also use the {shortcut} shortcut.",{shortcut:e},"ReplyTray")}function qn(){var e=ke.a.os.isMacOS()?"(⌥) (↓)":"(Alt) (↓)";return Object(c.d)("Select a later message to reply to. You can also use the {shortcut} shortcut.",{shortcut:e},"ReplyTray")}function Gn(e,n){var t=e.getCurrentMessage();n.setInputValue(""),n.setTray({icon:o.createElement(xn.a,{asset:I.a.Reply}),title:o.createElement(C.a,{display:E.h.Flex,alignItems:E.b.Start,justifyContent:E.m.Between},o.createElement(w.a,{bold:!0,fontSize:E.k.Size5,color:E.f.Alt,type:w.e.Span,wordBreak:w.g.BreakWord},Object(S.a)(t.user.userDisplayName)),o.createElement(C.a,{className:"chat-replies-message-card--buttons",display:E.h.Flex},o.createElement(Je.a,{label:o.createElement(C.a,{className:"chat-input-tray--tooltip",textAlign:E.q.Center},Vn()),options:{placement:"top"},disabled:!e.hasEarlierMessage()},o.createElement(ce.a,{"aria-label":Vn(),icon:I.a.AngleUp,size:ce.b.Small,disabled:!e.hasEarlierMessage(),onClick:function(){e.setEarlier(),Gn(e,n)}})),o.createElement(Je.a,{label:o.createElement(C.a,{className:"chat-input-tray--tooltip",textAlign:E.q.Center},qn()),options:{placement:"top"},disabled:!e.hasLaterMessage()},o.createElement(ce.a,{"aria-label":qn(),icon:I.a.AngleDown,size:ce.b.Small,disabled:!e.hasLaterMessage(),onClick:function(){e.setLater(),Gn(e,n)}})))),body:o.createElement(C.a,null,o.createElement(An.ChatRepliesMessageCard,{badgeSets:n.badgeSets,channelID:n.channelID,channelLogin:n.channelLogin,currentUserLogin:n.currentUserLogin,currentUserDisplayName:n.currentUserDisplayName,currentUserID:n.currentUserID,isCurrentUserModerator:n.isCurrentUserModerator,isCurrentUserStaff:n.isCurrentUserStaff,isDeleted:t.deleted,isHidden:t.hidden,message:t,showModerationIcons:n.showModerationIcons,showTimestamps:n.showTimestamps,useHighContrastColors:n.useHighContrastColors}),t.reply&&o.createElement(C.a,{margin:{bottom:.5}},o.createElement(_.a,{type:_.d.Text,size:_.b.Small,onClick:function(){!function(e,n){var t=e.getCurrentMessage(),i=t.reply;if(!i)return;n.clearReplyToList(),n.setInputValue(""),n.setTray({icon:o.createElement(xn.a,{asset:I.a.Conversations}),title:Object(S.c)(),body:o.createElement(C.a,null,o.createElement(Un.ChatRepliesOPCard,{channelID:n.channelID,channelLogin:n.channelLogin,currentUserLogin:n.currentUserLogin,currentUserDisplayName:n.currentUserDisplayName,currentUserID:n.currentUserID,isCurrentUserModerator:n.isCurrentUserModerator,isCurrentUserStaff:n.isCurrentUserStaff,reply:i,highlightMessageID:t.user.userID!==n.currentUserID?t.id:void 0,showModerationIcons:n.showModerationIcons,showTimestamps:n.showTimestamps,useHighContrastColors:n.useHighContrastColors})),renderBodyOutside:!0,callOnClose:function(){n.channelID&&Object(Bn.c)({messageID:i.parentMsgId,channelID:n.channelID})},disableBits:!0,disableCommands:!0,disableChat:i.parentDeleted,type:hn.a.Reply,sendButtonOverride:hn.b.Reply,sendMessageHandler:{type:hn.c.Reply,additionalMetadata:{reply:{parentDeleted:i.parentDeleted,parentMsgId:i.parentMsgId,parentMessageBody:i.parentMessageBody,parentUid:i.parentUid,parentUserLogin:i.parentUserLogin,parentDisplayName:i.parentDisplayName}}}})}(e,n),t.reply&&n.channelID&&Object(Bn.b)({threadID:t.reply.parentMsgId,channelID:n.channelID,uiContext:Bn.a.ReplyTray})}},Object(c.d)("See thread","ReplyTray")))),renderBodyOutside:!0,inputValue:"",onCloseValue:"@"+t.user.userDisplayName,closeButtonTooltip:Object(c.d)("Remove reply context from mention","ReplyTray"),type:hn.a.Reply,disableBits:!0,sendButtonOverride:hn.b.Reply,sendMessageHandler:{type:hn.c.Reply,additionalMetadata:{reply:{parentDeleted:t.deleted,parentMsgId:t.id,parentMessageBody:t.messageBody,parentUid:t.user.userID,parentUserLogin:t.user.userLogin,parentDisplayName:t.user.userDisplayName}}}})}var Hn=t("GPV9"),Wn=t("m7vz"),zn=t("YV90"),Qn=t("FzaW"),Yn=t("ku6+"),Kn=t("3T1B"),$n=t("eUaf"),Xn=function(){var e=Object(H.c)("copo_predictions"),n=Object(o.useContext)(zn.a),t=n.channelID,i=n.isChannelPointsEnabled,a=Object(o.useContext)(Qn.c).isEligibleForPredictions,r=Object(Wn.a)(t),s=Object(o.useState)(c.m.get("show_chat_command_prediction_mod_callout",!0)),d=s[0],l=s[1];return e&&a&&i&&r&&d?o.createElement(C.a,null,o.createElement(Yn.a,{closeButton:{onClick:function(){c.m.set("show_chat_command_prediction_mod_callout",!1),l(!1)},"aria-label":Object(c.d)("Close","PredictionsModCallout")},background:E.d.Accent,message:o.createElement(Kn.a,{title:Object(c.d)("Start a Prediction!","PredictionsModCallout"),description:Object(c.d)('Wonder what chat thinks will happen during a stream? Use the "/prediction" chat command to find out!',"PredictionsModCallout"),pill:{label:"NEW",type:$n.b.Brand}})})):null},Zn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showAutocompleteTray=function(e,t,i){var a,r,s,d;n.props.closeCard();var c=(null===(r=null===(a=e[0])||void 0===a?void 0:a.current)||void 0===r?void 0:r.includes("/"))||!1?o.createElement(Xn,null):void 0;n.props.setModifierTray({body:o.createElement(q.a,{onClickOut:n.clearAutocompleteTray},o.createElement(J.b,{matches:e,onMatchSelect:n.onMatchSelect(t),onDismiss:i,containerElement:n.props.containerElement,header:c})),disableClose:!0,floating:!0,type:hn.a.AutocompleteTray,sendButtonOverride:(null===(d=null===(s=n.props)||void 0===s?void 0:s.tray)||void 0===d?void 0:d.sendButtonOverride)===hn.b.Reply?n.props.tray.sendButtonOverride:void 0})},n.onMatchSelect=function(e){return function(t,a){var r;if(Object(Me.b)(n.props.channelID)!==Me.a.Control&&Object(H.c)("chat_replies_m2b")&&t.type===Se.a.Mention){var o=Object(Cn.a)(t.replacement.trim()),s=Oe(o,null===(r=n.props.messageBufferAPI)||void 0===r?void 0:r.getMessages());if(a){if(o===n.props.currentUserDisplayName||!s||0===s.length)return;var d=new kn(s);n.props.setReplyToList(d),Gn(d,{setTray:n.props.setTray,setInputValue:n.props.setInputValue,clearReplyToList:n.props.clearReplyToList,badgeSets:n.props.badgeSets,channelID:n.props.channelID,channelLogin:n.props.channelLogin,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,currentUserID:n.props.currentUserID,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:n.props.useHighContrastColors}),Object(Ln.a)(Object(i.__assign)(Object(i.__assign)({},n.props.trackingParams||{}),{autocompleteType:Se.a.Mention,completedText:t.replacement,source:n.props.suggestionSource,usedReplySuggestion:!0}))}else e(t),(null==s?void 0:s.length)>0&&!c.m.get(he.b,!1)&&n.props.pushCallout({key:ge.a.ReplyByKeyboard,event:{type:ge.a.ReplyByKeyboard}})}else e(t)}},n.clearAutocompleteTray=function(){n.isAutocompleteTray()&&n.props.clearModifierTray()},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.fontScaleClassName;return o.createElement(C.a,{className:e},o.createElement(J.c,Object(i.__assign)({},this.props,{"aria-label":this.props.placeholder,onMatch:this.showAutocompleteTray,onReset:this.clearAutocompleteTray})))},n.prototype.isAutocompleteTray=function(){return this.props.tray&&this.props.tray.type===hn.a.AutocompleteTray},n}(o.Component);var Jn,et=Object(d.d)(Ee.b,Object(fe.b)((function(e){return{pushCallout:function(n){return e.pushCallout(n)}}})),Object(Hn.a)())(Zn),nt=t("A4KW"),tt=t("F+KF");t("MglV");function it(e){return"string"==typeof e}!function(e){e.Tray="chat-input-tray",e.BodyContainer="chat-input-body-container",e.TitleContainer="chat-input-title-container"}(Jn||(Jn={}));var at=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.tray!==this.props.tray&&(this.closeTrayTimeout&&clearTimeout(this.closeTrayTimeout),this.props.tray&&this.props.tray.timeout&&(this.closeTrayTimeout=setTimeout(this.props.onClose,this.props.tray.timeout)))},n.prototype.componentWillUnmount=function(){this.closeTrayTimeout&&clearTimeout(this.closeTrayTimeout)},n.prototype.render=function(){var e,n,t,i,r,s={"chat-input-tray__open":!!this.props.tray,"chat-input-tray__open--persistent":this.props.tray&&this.props.tray.persistent,"chat-input-tray__floating":this.props.tray&&this.props.tray.floating},d={"chat-input-container__open":!!this.props.tray&&!(null===(e=this.props.tray)||void 0===e?void 0:e.borderless),"chat-input-container__open--persistent":this.props.tray&&this.props.tray.persistent},l={"chat-input-container__input-wrapper":!!this.props.tray},u=E.e.Large,m=0,p={left:.5,y:.5},h=(null===(n=this.props.tray)||void 0===n?void 0:n.borderless)?void 0:!!this.props.tray;this.props.tray&&!(null===(t=this.props.tray)||void 0===t?void 0:t.borderless)&&(i=E.d.Base,u={bottomLeft:E.e.Large,bottomRight:E.e.Large},this.props.tray.floating&&(r=E.o.Absolute),this.props.tray.persistent&&(i=E.d.Alt,m={bottom:.5,x:.5}),this.props.tray.type&&this.props.tray.type===hn.a.AutocompleteTray&&(p=0));var f=null;return this.props.tray&&(f=o.createElement(o.Fragment,null,o.createElement(C.a,{padding:m,display:E.h.Flex,flexDirection:E.i.Row,alignItems:E.b.Start,"data-test-selector":Jn.Tray},this.props.tray.icon&&o.createElement(C.a,{margin:.5,textAlign:E.q.Center},this.props.tray.icon),o.createElement(C.a,{padding:p,flexGrow:1},this.renderTitle(),this.props.tray.pointsCost&&Object(H.c)("copo_enabled")&&o.createElement(C.a,{display:E.h.InlineFlex,flexDirection:E.i.Row,verticalAlign:E.r.Middle,margin:{left:.5}},o.createElement(C.a,{display:E.h.InlineBlock},o.createElement(nt.b,null)),o.createElement(w.a,{color:E.f.Alt2},Object(c.f)(this.props.tray.pointsCost))),!this.props.tray.renderBodyOutside&&this.renderBody(),this.props.checkbox&&o.createElement(C.a,{padding:{top:.5}},o.createElement(tt.a,{label:this.props.checkbox.label,checked:this.props.checkbox.checked,onChange:this.props.checkbox.onChange}))),!this.props.tray.disableClose&&!this.props.tray.persistent&&o.createElement(C.a,{attachRight:!0,attachTop:!0},o.createElement(Je.a,{label:o.createElement(C.a,{className:"chat-input-tray--tooltip",textAlign:E.q.Center},this.props.tray.closeButtonTooltip),disabled:!this.props.tray.closeButtonTooltip,options:{placement:"top",modifiers:[{name:"offset",options:{offset:[0,5]}}]}},o.createElement(ce.a,{"aria-label":Object(c.d)("Close","ChatInputPrompt"),onClick:this.props.onClose,icon:I.a.Close})))),this.props.tray.renderBodyOutside&&this.renderBody()),this.props.tray.onClick&&(f=o.createElement("div",{onClick:this.props.tray.onClick,className:"chat-input-tray__clickable"},f))),o.createElement(C.a,null,o.createElement(C.a,{background:i,border:h,borderRadius:E.e.Large,display:E.h.Block,elevation:this.props.tray&&!this.props.tray.persistent?1:0,padding:this.props.tray&&!this.props.tray.persistent?.5:0,position:r,attachRight:!0,attachLeft:!0,zIndex:E.t.Below,className:a(s)},f,this.renderTrayError()),o.createElement(C.a,{background:i,borderRadius:u,display:E.h.Block,padding:this.props.tray&&!this.props.tray.persistent?.5:0,className:a(d)},o.createElement(C.a,{position:E.o.Relative,className:a(l)},this.props.children)))},n.prototype.renderTrayError=function(){var e={"chat-input-tray__open":!!this.props.tray};if(this.props.tray&&this.props.tray.error)return o.createElement(C.a,{borderTop:!0,borderRadius:E.e.Large,display:E.h.Block,padding:.5,attachRight:!0,attachLeft:!0,className:a(e)},o.createElement(C.a,{attachLeft:!0,alignItems:E.b.Center,display:E.h.Flex},o.createElement(C.a,{margin:{x:1}},o.createElement(M.a,{asset:I.a.Warning,type:M.b.Warn})),o.createElement(C.a,{margin:{bottom:.5}},o.createElement(w.a,{color:E.f.Alt2},this.props.tray.error," "))))},n.prototype.renderTitle=function(){var e;if(null===(e=this.props.tray)||void 0===e?void 0:e.title)return it(this.props.tray.title)?o.createElement(w.a,{"data-test-selector":Jn.TitleContainer,bold:!0,fontSize:this.props.tray.persistent?E.k.Size6:E.k.Size5,color:this.props.tray.persistent?E.f.Alt2:E.f.Alt,type:w.e.Span,wordBreak:w.g.BreakWord},this.props.tray.title):this.props.tray.title},n.prototype.renderBody=function(){if(this.props.tray&&this.props.tray.body)return it(this.props.tray.body)?o.createElement(C.a,{"data-test-selector":Jn.BodyContainer,padding:{top:.5}},o.createElement(w.a,{color:E.f.Alt2,wordBreak:w.g.BreakWord},this.props.tray.body)):this.props.tray.body},n}(o.Component),rt=function(e){var n=Object(c.d)("Chat","ChatInput");if(e.inputText&&null!==Object(Ae.q)(e.inputText))n=Object(c.d)("Whisper","ChatInput");else if(e.sendButtonOverride)switch(e.sendButtonOverride){case hn.b.ShareEmoteReward:case hn.b.ShareBitsBadgeTier:case hn.b.ShareResub:case hn.b.ShareDrop:n=Object(c.d)("Share","ChatInput");break;case hn.b.ThankSubGifter:n=Object(c.d)("Send Thanks","ChatInput");break;case hn.b.Reply:n=Object(c.d)("Reply","ChatInput")}return o.createElement(_.a,{onClick:function(){return e.onClick(vn.b.Click)},"data-a-target":"chat-send-button",disabled:e.disabled},n)};rt.displayName="ChatInputSendButton";var ot=t("RS58"),st=t("OMdY"),dt=t("Uy53"),ct="verified-only-messages",lt="subs-only-messages",ut="follower-only-messages",mt=t("OpME"),pt=(t("BHKw"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=Object(c.d)("Emote Only Chat","EmoteOnlyTray"),n.trayDescription=Object(c.d)("This room is in emote only mode. You can find your currently available emoticons using the smiley in the chat text area.","EmoteOnlyTray"),n.buildEmoteLookup=Object(dt.a)((function(e){for(var n=[],t=0,i=e;t<i.length;t++){var a=i[t];a&&a.id&&a.emotes&&(n=n.concat(Object(mt.c)(a.emotes).map((function(e){return e.displayName}))))}return new Set(n)})),n.manageEmoteOnlyTrays=function(){var e=n.props,t=e.clearModifierTray,i=e.emoteOnlyMode,a=e.hasChatRestriction,r=e.setModifierTray,s=e.tray;if(i&&!a&&!s){var d={title:n.trayTitle,icon:o.createElement(M.a,{asset:I.a.NotificationInfo,type:M.b.Prime}),body:n.trayDescription,type:hn.a.EmoteOnlyInfo},c={title:n.trayTitle,icon:o.createElement(C.a,{color:E.f.Alt2,className:"emote-only-error-handler__tray-icon"},o.createElement(M.a,{asset:I.a.NotificationInfo,height:18,width:18})),type:hn.a.EmoteOnlyBanner,persistent:!0,onClick:function(){r(d)}};r(c)}i&&!a||!s||s.type!==hn.a.EmoteOnlyBanner&&s.type!==hn.a.EmoteOnlyInfo||t(),!i&&s&&s.type===hn.a.EmoteOnlyWarning&&t()},n.isNotEmoteOnly=function(e){if(!n.props.emoteOnlyMode)return!1;var t=!1,i=n.buildEmoteLookup(n.props.emotes);return e.replace(/\n/g," ").trim().split(" ").some((function(e){return e.length>0&&!i.has(e)&&(t=!0,n.updateModifierTray(),!0)})),t},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotEmoteOnly,onMessageSent:function(){return null}},"emote-only-messages"),this.manageEmoteOnlyTrays()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck("emote-only-messages")},n.prototype.componentDidUpdate=function(){this.manageEmoteOnlyTrays()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={title:this.trayTitle,body:this.trayDescription,icon:o.createElement(Rn.a,null),type:hn.a.EmoteOnlyWarning,timeout:3e4};this.props.setModifierTray(e)},n}(o.Component));var ht=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J,clearTray:be.K},e)})))(pt),ft=t("dIU+"),gt=t("Qdxp"),vt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=Object(c.d)("Followers-Only Chat","ChatModeHeader"),n.manageFollowerModeTray=function(){if(n.props.followerMode&&!n.props.tray){var e={title:n.trayTitle,icon:o.createElement(M.a,{asset:I.a.NotificationInfo,type:M.b.Prime}),body:n.renderTrayBody(),type:hn.a.FollowerModeInfo,renderBodyOutside:!0},t={title:n.trayTitle,icon:o.createElement(C.a,{color:E.f.Alt2,className:"emote-only-error-handler__tray-icon"},o.createElement(M.a,{asset:I.a.NotificationInfo,height:18,width:18})),type:hn.a.FollowerModeBanner,persistent:!0,onClick:function(){n.props.setModifierTray(e)}};n.props.setModifierTray(t)}n.props.followerMode||!n.props.tray||n.props.tray.type!==hn.a.FollowerModeInfo&&n.props.tray.type!==hn.a.FollowerModeBanner||n.props.clearModifierTray()},n.renderTrayBody=function(){var e=Object(c.d)("You need to be a follower of {streamer} to chat.",{streamer:n.props.channelDisplayName||n.props.channelLogin},"ChatModeHeader");if(n.props.followerDurationSeconds>0&&null!==n.props.followSecondsRemaining){var t=Object(W.b)(n.props.followerDurationSeconds),i=Object(W.b)(n.props.followSecondsRemaining);e=Object(c.d)("You need to be a follower for {timeRequired} to chat, and you have {timeRemaining} left.",{timeRequired:t,timeRemaining:i},"ChatModeHeader")}return o.createElement(C.a,{className:"chat-restriction-tray__body"},o.createElement(w.a,null,e),o.createElement(C.a,{display:E.h.Flex,fullWidth:!0,justifyContent:E.m.End,padding:{top:.5,bottom:.5,right:.5},className:"chat-restriction-tray__button"},o.createElement(C.a,{flexShrink:1},o.createElement(ft.FollowButton,{size:_.b.Small,fullWidthButton:!1,channelLogin:n.props.channelLogin,followUIType:ft.FollowButtonUIType.IconAndText,unfollowUIType:ft.FollowButtonUIType.IconAndText,balloonDirection:Tn.b.TopRight,hideDropdownWhenFollowing:!0}))))},n.isNotFollowingCheck=function(){var e,t,i;return!!n.props.followerMode&&(!((null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.user)||void 0===t?void 0:t.self)||void 0===i?void 0:i.follower)&&null!==n.props.data.user.self.follower.disableNotifications&&!(n.props.followSecondsRemaining&&n.props.followSecondsRemaining>0))&&(n.updateModifierTray(),!0))},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotFollowingCheck,onMessageSent:function(){return null}},ut),this.manageFollowerModeTray()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(ut)},n.prototype.componentDidUpdate=function(){this.manageFollowerModeTray()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={title:this.trayTitle,body:this.renderTrayBody(),icon:o.createElement(Rn.a,null),type:hn.a.FollowerModeInfo,timeout:3e4,renderBodyOutside:!0};this.props.setModifierTray(e)},n}(o.Component);var bt=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J,clearTray:be.K},e)})),Object(u.a)(gt,{options:function(e){return{variables:{login:e.channelLogin}}}}))(vt),yt=t("Mg72"),kt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.manageSlowModeTray=function(){var e=n.props,t=e.activeInputTray,i=e.inputModifierTray,a=e.inputTray,r=e.slowMode,s=e.slowModeDuration,d=e.slowModeSecondsRemaining,l=e.emoteOnlyMode,u=(null==t?void 0:t.type)===hn.a.SlowMode,m=Object(c.d)("Slow Mode","SlowModeTray"),p=Object(c.d)("{slowModeDuration, plural, one {Users may send messages every # second} other {Users may send messages every # seconds}}",{slowModeDuration:s},"SlowModeTray"),h={title:m,icon:o.createElement(Je.a,{transitionDuration:0,transitionType:yt.d.None,label:p,options:{placement:"top"},enterDelay:0},o.createElement(M.a,{asset:I.a.NotificationInfo,height:18,width:18})),type:hn.a.SlowMode,persistent:!0,noBackground:!0,borderless:!0},f=n.props.chatRestrictedReasons.some((function(e){return e!==v.S.SLOW_MODE}));!r||i||a||f?!r&&u?n.props.clearModifierTray():r&&!u&&d>0&&!f&&!a&&!i?n.props.setModifierTray(h):r&&u&&0===d&&l?n.props.clearModifierTray():u&&a?n.props.clearModifierTray():f&&u&&n.props.clearModifierTray():n.props.setModifierTray(h)},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.manageSlowModeTray()},n.prototype.componentDidUpdate=function(){this.manageSlowModeTray()},n.prototype.render=function(){return null},n}(o.Component);var St=Object(d.d)(Object(V.b)((function(e){return{activeInputTray:e.chat.activeInputTray,inputModifierTray:e.chat.inputModifierTray,inputTray:e.chat.inputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J},e)})))(kt),Ct=t("z+dA"),Et=t("br9A"),wt=l.a.wrap((function(){return t.e(123).then(t.bind(null,"QjI3"))}),"SubscribeButton"),_t=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=Object(c.d)("Subscribers Only Chat","ChatModeHeader"),n.renderTrayBody=function(){var e=Object(c.d)("Only {streamer}'s subscribers can chat right now. Subscribe and join in!",{streamer:n.props.channelDisplayName||n.props.channelLogin},"ChatModeHeader");return o.createElement(C.a,{className:"chat-restriction-tray__body"},o.createElement(w.a,null,e),o.createElement(C.a,{display:E.h.Flex,fullWidth:!0,justifyContent:E.m.End,padding:{top:.5,bottom:.5,right:.5},className:"chat-restriction-tray__button"},o.createElement(wt,{balloonDirection:Tn.b.TopRight,channelLogin:n.props.channelLogin,subLocation:Et.b.ChatTray,hideDropdownArrow:!0,forceIcon:!0})))},n.isNotSubbedCheck=function(){var e,t;return!!n.props.subsOnlyMode&&(null===(t=null===(e=n.props.data)||void 0===e?void 0:e.user)||void 0===t||!t.self||!n.props.data.user.self.subscriptionBenefit&&(n.updateModifierTray(),!0))},n.manageSubsOnlyModeTray=function(){if(n.props.subsOnlyMode&&!n.props.tray){var e={title:n.trayTitle,icon:o.createElement(M.a,{asset:I.a.NotificationInfo,type:M.b.Prime}),body:n.renderTrayBody(),renderBodyOutside:!0},t={title:n.trayTitle,icon:o.createElement(C.a,{color:E.f.Alt2,className:"emote-only-error-handler__tray-icon"},o.createElement(M.a,{asset:I.a.NotificationInfo,height:18,width:18})),type:hn.a.SubsOnlyInfo,persistent:!0,onClick:function(){n.props.setModifierTray(e)}};n.props.setModifierTray(t)}n.props.subsOnlyMode||!n.props.tray||n.props.tray.type!==hn.a.SubsOnlyInfo&&n.props.tray.type!==hn.a.SubsOnlyBanner||n.props.clearModifierTray()},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotSubbedCheck,onMessageSent:function(){return null}},lt),this.manageSubsOnlyModeTray()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(lt)},n.prototype.componentDidUpdate=function(){this.manageSubsOnlyModeTray()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={title:this.trayTitle,body:this.renderTrayBody(),icon:o.createElement(Rn.a,null),type:hn.a.SubsOnlyInfo,timeout:3e4,renderBodyOutside:!0};this.props.setModifierTray(e)},n}(o.Component);var Nt=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J,clearTray:be.K},e)})),Object(u.a)(Ct,{options:function(e){return{variables:{login:e.channelLogin}}}}))(_t),Ot=t("urBg"),Dt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trayTitle=Object(c.d)("Verified Accounts Only Chat","ChatModeHeader"),n.isNotVerifiedCheck=function(){return!!n.props.verifiedOnlyMode&&(!(!n.props.data||!n.props.data.currentUser||n.props.data.currentUser.isEmailVerified)&&(n.updateModifierTray(),!0))},n.renderTrayBody=function(){var e=Object(c.d)("Verify your account in Settings to chat!","ChatModeHeader");return o.createElement(C.a,null,o.createElement(w.a,null,e),o.createElement(C.a,{padding:{right:.5,top:.5},className:"subs-only-tray-sub-button"},o.createElement(_.a,{linkTo:"/settings/security",targetBlank:!0},Object(c.d)("Go to Settings","ChatModeHeader"))))},n.manageVerifiedOnlyTray=function(){if(n.props.verifiedOnlyMode&&!n.props.tray){var e={title:n.trayTitle,icon:o.createElement(M.a,{asset:I.a.NotificationInfo,type:M.b.Prime}),body:n.renderTrayBody()},t={title:n.trayTitle,icon:o.createElement(C.a,{color:E.f.Alt2,className:"emote-only-error-handler__tray-icon"},o.createElement(M.a,{asset:I.a.NotificationInfo,height:18,width:18})),type:hn.a.VerifiedOnlyModeInfo,persistent:!0,onClick:function(){n.props.setModifierTray(e)}};n.props.setModifierTray(t)}n.props.verifiedOnlyMode||!n.props.tray||n.props.tray.type!==hn.a.VerifiedOnlyModeInfo&&n.props.tray.type!==hn.a.VerifiedOnlyModeBanner||n.props.clearModifierTray()},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.clearTray(),this.props.registerSendMessageErrorCheck({check:this.isNotVerifiedCheck,onMessageSent:function(){return null}},ct),this.manageVerifiedOnlyTray()},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(ct)},n.prototype.componentDidUpdate=function(){this.manageVerifiedOnlyTray()},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={title:this.trayTitle,body:this.renderTrayBody(),icon:o.createElement(Rn.a,null),type:hn.a.VerifiedOnlyModeInfo,timeout:3e4};this.props.setModifierTray(e)},n}(o.Component);var Mt,It=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J,clearTray:be.K},e)})),Object(u.a)(Ot))(Dt),Tt=(t("wqn7"),l.a.wrap((function(){return t.e(73).then(t.bind(null,"7V95"))}),"MobilePhoneVerificationTrayManager"));!function(e){e[e.RequiresPhoneVerification=0]="RequiresPhoneVerification",e[e.NoRestriction=1]="NoRestriction",e[e.EmoteOnlyMode=2]="EmoteOnlyMode",e[e.SlowMode=3]="SlowMode",e[e.SubsOnlyMode=4]="SubsOnlyMode",e[e.FollowerOnlyMode=5]="FollowerOnlyMode",e[e.VerifiedOnlyMode=6]="VerifiedOnlyMode"}(Mt||(Mt={}));var jt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={trayState:Mt.NoRestriction},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.setTray()},n.prototype.componentDidUpdate=function(e){this.shouldUpdate(e,this.props)&&this.setTray()},n.prototype.render=function(){var e;switch(this.state.trayState){case Mt.RequiresPhoneVerification:return o.createElement(Tt,{chatRestrictedReasons:this.props.chatRestrictions,userID:this.props.userID,onVerifyCompleted:null===(e=this.props.chatRestrictionsAPI)||void 0===e?void 0:e.refetchRestrictions,channelLogin:this.props.channelLogin,channelID:this.props.channelID});case Mt.VerifiedOnlyMode:return o.createElement(It,{verifiedOnlyMode:this.isVerifiedOnlyMode(this.props.chatRestrictions),registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck});case Mt.SubsOnlyMode:return o.createElement(Nt,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelId:this.props.channelID,subsOnlyMode:this.props.subsOnlyMode,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck});case Mt.FollowerOnlyMode:return o.createElement(bt,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelId:this.props.channelID,followerMode:this.props.followerMode,followerDurationSeconds:this.props.followerDurationSeconds,followSecondsRemaining:this.props.followSecondsRemaining,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck});case Mt.SlowMode:return o.createElement(St,{emoteOnlyMode:this.props.emoteOnlyMode,slowMode:this.props.slowMode,slowModeDuration:this.props.slowModeDuration,slowModeSecondsRemaining:this.props.slowModeSecondsRemaining,chatRestrictedReasons:this.props.chatRestrictions});case Mt.EmoteOnlyMode:return o.createElement(ht,{emotes:this.props.emotes,hasChatRestriction:this.props.chatRestrictions.length>0,emoteOnlyMode:this.props.emoteOnlyMode,registerSendMessageErrorCheck:this.props.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.props.unregisterSendMessageErrorCheck});default:return null}},n.prototype.shouldUpdate=function(e,n){return!Object(st.c)(e.chatRestrictions.slice(),n.chatRestrictions.slice())||e.slowMode!==n.slowMode||e.emoteOnlyMode!==n.emoteOnlyMode||e.subsOnlyMode!==n.subsOnlyMode||e.followerMode!==n.followerMode},n.prototype.setTray=function(){if(this.firstRelevantReason!==v.S.REQUIRE_VERIFIED_PHONE_NUMBER){if(this.firstRelevantReason===v.S.VERIFIED_ONLY)return this.setState({trayState:Mt.VerifiedOnlyMode}),this.props.unregisterSendMessageErrorCheck(lt),void this.props.unregisterSendMessageErrorCheck(ut);if(this.firstRelevantReason===v.S.SUBSCRIBERS_ONLY)return this.setState({trayState:Mt.SubsOnlyMode}),this.props.unregisterSendMessageErrorCheck(ct),void this.props.unregisterSendMessageErrorCheck(ut);if(this.firstRelevantReason===v.S.FOLLOWERS_ONLY)return this.setState({trayState:Mt.FollowerOnlyMode}),this.props.unregisterSendMessageErrorCheck(ct),void this.props.unregisterSendMessageErrorCheck(lt);if(this.firstRelevantReason!==v.S.SLOW_MODE)return this.props.emoteOnlyMode&&!this.props.slowModeSecondsRemaining?(this.setState({trayState:Mt.EmoteOnlyMode}),this.props.unregisterSendMessageErrorCheck(ct),this.props.unregisterSendMessageErrorCheck(lt),void this.props.unregisterSendMessageErrorCheck(ut)):void(this.props.slowMode?this.setState({trayState:Mt.SlowMode}):(this.setState({trayState:Mt.NoRestriction}),this.props.unregisterSendMessageErrorCheck(ct),this.props.unregisterSendMessageErrorCheck(lt),this.props.unregisterSendMessageErrorCheck(ut)));this.setState({trayState:Mt.SlowMode})}else this.setState({trayState:Mt.RequiresPhoneVerification})},n.prototype.isVerifiedOnlyMode=function(e){return e&&e.includes(v.S.VERIFIED_ONLY)},Object.defineProperty(n.prototype,"firstRelevantReason",{get:function(){for(var e=0,n=this.props.chatRestrictions;e<n.length;e++){var t=n[e];if(!this.props.ignoredRestrictions||!this.props.ignoredRestrictions.has(t))return t}return null},enumerable:!0,configurable:!0}),n}(o.Component);var Rt=Object(d.d)(yn.a,Object(He.c)((function(e){return{emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode,followerMode:e.followerMode,followerDurationSeconds:60*e.followerDuration}})))(jt),Pt=t("JN5s"),Ft=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastSentMessage:"",lastSentTimestamp:Date.now()},n.key="duplicated-messages",n.isDuplicatedMessage=function(e){return n.condenseWhitespace(e)===n.state.lastSentMessage&&Date.now()-n.state.lastSentTimestamp<3e4&&(n.updateModifierTray(),!0)},n.onMessageSent=function(e){n.setState({lastSentMessage:n.condenseWhitespace(e),lastSentTimestamp:Date.now()})},n.clearDupMessageModifierTray=function(){n.props.tray&&n.props.tray.type===hn.a.DuplicatedMessageError&&n.props.clearModifierTray()},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isDuplicatedMessage,onMessageSent:this.onMessageSent},this.key)},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},n.prototype.componentDidUpdate=function(){this.condenseWhitespace(this.props.inputValue)!==this.state.lastSentMessage&&this.clearDupMessageModifierTray()},n.prototype.render=function(){return null},n.prototype.condenseWhitespace=function(e){return e.replace(/\s+/g," ").trim()},n.prototype.updateModifierTray=function(){var e={title:Object(c.d)("Message Not Sent","DuplicatedMessageErrorTray"),body:Object(Pt.a)(),icon:o.createElement(Rn.a,null),type:hn.a.DuplicatedMessageError,timeout:3e4,disableChat:!0};this.props.setModifierTray(e)},n}(o.Component);var Lt=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J},e)})))(Ft),At=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastSentTimestamp:null},n.key="message-throughput",n.isSendingMessageTooFast=function(e){if(null===n.state.lastSentTimestamp)return!1;var t=n.state.lastSentTimestamp||0;return Date.now()-t<1e3&&(n.updateModifierTray(),!0)},n.onMessageSent=function(e){n.setState({lastSentTimestamp:Date.now()})},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.registerSendMessageErrorCheck({check:this.isSendingMessageTooFast,onMessageSent:this.onMessageSent},this.key)},n.prototype.componentWillUnmount=function(){this.props.unregisterSendMessageErrorCheck(this.key)},n.prototype.render=function(){return null},n.prototype.updateModifierTray=function(){var e={title:Object(c.d)("Message Not Sent","MessageThroughputErrorTray"),body:Object(c.d)("You are sending messages too quickly.","MessageThroughputErrorTray"),icon:o.createElement(Rn.a,null),type:hn.a.MessageThroughputError,timeout:3e4};this.props.setModifierTray(e)},n}(o.Component);var Ut=Object(d.d)(Object(V.b)((function(e){return{tray:e.chat.activeInputTray}}),(function(e){return Object(d.b)({setModifierTray:be.ab,clearModifierTray:be.J},e)})))(At),xt=t("j53S"),Bt=function(e){function n(n){return e.call(this,n)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=Math.floor(this.props.timeoutExpiry/1e3),n=o.createElement(xt.a,{timeToCountDownFromSeconds:e,onCompletion:this.props.refetchTimeoutState});return o.createElement(C.a,{padding:{bottom:2,x:2}},o.createElement(C.a,{padding:{bottom:1,x:2},borderTop:!0}),o.createElement(C.a,{textAlign:E.q.Center},o.createElement(w.a,{color:E.f.Base,"data-test-selector":"current-user-timed-out-text",bold:!0},Object(c.d)("You are currently timed out from Chat.","ChatInput")),o.createElement(w.a,{color:E.f.Alt2},Object(c.d)("You can chat again in {countDown}.",{countDown:n},"ChatInput"))),this.props.renderButtonContainer(!0,null))},n}(o.Component),Vt=t("FS60");t("QY5S");function qt(e){return!(!e||!0!==e.isPermanent)}function Gt(e){return!(!e||!1!==e.isPermanent)}function Ht(e){var n=0;return Gt(e)&&(null==e?void 0:e.expiresInMs)&&(n=e.expiresInMs),n}var Wt,zt=t("VxoQ"),Qt=((Wt={})[zt.a.Small]=18,Wt[zt.a.Default]=19.5,Wt[zt.a.Bigger]=21,Wt[zt.a.Biggest]=27,Wt);function Yt(e){return"/"===e.substr(0,1)&&"/me"!==e.substr(0,3)||"."===e.substr(0,1)&&".me"!==e.substr(0,3)}function Kt(e){return e.length>0}var $t=/\s+/;var Xt="chat-input-buttons-container",Zt="pending_chat_message",Jt=/\S/,ei=1,ni=5,ti="chat_rules_shown",ii=l.a.wrap((function(){return t.e(67).then(t.bind(null,"tPnS"))}),"ChatPrivateCalloutQueue",{placeholder:null}),ai=l.a.wrap((function(){return t.e(102).then(t.bind(null,"mmRu"))}),"EmotePickerMenu",{placeholder:null}),ri=l.a.wrap((function(){return Promise.all([t.e(0),t.e(90)]).then(t.bind(null,"falg"))}),"RewardCenter",{placeholder:null}),oi=l.a.wrap((function(){return t.e(60).then(t.bind(null,"z7f4"))}),"ChatBadgeCarousel",{placeholder:null}),si=function(e){function n(n){var t=e.call(this,n)||this;return t.cancelDelayedSend=null,t.confirmDelayedSend=null,t.hasConfirmedInEmbed=!1,t.hasSeenConfirmationPrompt=!1,t.chatInputValueSnapshot="",t.sendMessageErrorChecks={},t.shouldClearModifierTrayTypes=new Set([hn.a.CharacterLimitError,hn.a.DuplicatedMessageError,hn.a.MessageThroughputError,hn.a.CommandWarning,hn.a.EmoteOnlyInfo,hn.a.EmoteOnlyWarning]),t.isSlowModeBannerEnabled=Object(H.c)("chat_slow_mode_banner"),t.onAcceptChatRules=function(){t.props.closeChatRules(),setTimeout((function(){var e;null===(e=t.chatInputRef)||void 0===e||e.focus()}),0)},t.renderChatRules=function(){var e;if((null===(e=t.props.data)||void 0===e?void 0:e.channel)&&t.props.chatRules)return o.createElement(Ke,{channelDisplayName:t.props.data.channel.displayName,channelProfileImageUrl:t.props.data.channel.profileImageURL,channelLogin:t.props.channelLogin,channelID:t.props.channelID,chatRules:t.props.chatRules,onCloseChatRules:t.props.closeChatRules,onAcceptChatRules:t.onAcceptChatRules})},t.renderButtonContainer=function(e,n){var i;void 0===e&&(e=!1);var a=qt(t.getUserBanStatus());return o.createElement(C.a,{className:"chat-input__buttons-container","data-test-selector":Xt,display:t.props.hideChatInputButtons?E.h.Hide:E.h.Flex,justifyContent:E.m.Between,margin:{top:1}},o.createElement(C.a,{display:E.h.Flex,flexDirection:E.i.Row},o.createElement(G.a,{name:"copo_enabled"},o.createElement(C.a,{position:E.o.Relative,zIndex:E.t.Default},t.props.isRewardCenterLoaded&&o.createElement(ri,{buttonDisabled:a})))),o.createElement(C.a,{display:E.h.Flex,alignItems:E.b.Center,alignContent:E.a.Center,flexDirection:E.i.Row},o.createElement(C.a,{margin:{right:1}},o.createElement(w.a,{color:E.f.Alt2},n)),t.props.isCurrentUserModerator&&t.props.showModViewIngress&&o.createElement(nn,{channelLogin:t.props.channelLogin}),o.createElement(C.a,{position:E.o.Relative},!t.props.hideChatSettings&&o.createElement(Mn.c,{channelID:t.props.channelID,channelLogin:t.props.channelLogin,isCurrentUserModerator:t.props.isCurrentUserModerator},o.createElement(ve.a,{onShowChatRules:t.props.onShowChatRules,channelDisplayName:t.props.channelDisplayName,channelLogin:t.props.channelLogin,isHostMode:t.props.isHostMode,authToken:t.props.authToken,isCurrentUserModerator:t.props.isCurrentUserModerator,onChatCommand:t.onChatCommand,isPopout:t.props.isPopout,isEmbedded:t.props.isEmbedded,channelID:t.props.channelID,containerElement:t.props.containerElement}))),o.createElement(C.a,{margin:{left:.5}},o.createElement(rt,{disabled:e||t.state.isSendingBits||t.props.isTextInputDisabled,inputText:t.state.value,onClick:t.onMessageSend,sendButtonOverride:null===(i=t.props.activeTray)||void 0===i?void 0:i.sendButtonOverride}))))},t.refetchTimeoutState=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return this.props&&this.props.data?[4,this.props.data.refetch()]:[3,2];case 1:return[2,e.sent()];case 2:return[2]}}))}))},t.renderSlowModeProgressBar=function(){if(t.state.chatRestrictedReasons[0]===v.S.SLOW_MODE&&!t.ignoreSlowMode){var e=t.state.slowModeSecondsRemaining/t.props.slowModeDuration*100;return o.createElement(C.a,{position:E.o.Absolute,attachBottom:!0,fullWidth:!0},o.createElement(In.a,{borderRadius:E.e.Small,size:In.c.Small,value:e,mask:!0}))}return null},t.setLocalChatInputRef=function(e){t.chatInputRef=e,t.props.setChatInputRef(e)},t.setLocalAutocompleteInputRef=function(e){t.autocompleteInputRef=e,t.props.setAutocompleteInputRef(e)},t.onCheerInvalid=function(e){t.state.bitsCardError!==e&&(t.setState({bitsCardError:e}),e&&t.trackBitsCardInteraction(pe.c.UserViewingCheerError,{bitsCardError:e}))},t.onSendCheerWhenSendDisabled=function(){t.trackBitsCardInteraction(pe.c.SendInvalidCheerAttemptButtonDisabled,{bitsCardError:t.state.bitsCardError})},t.onAnonymousCheerToggle=function(e){t.setState({isAnonymousCheer:e})},t.onKeyDown=function(e){var n,i,a,r,o=e.key;switch(t.props.bitsSendHasError&&t.props.clearBitsSendError(),o){case"Enter":return void(e.shiftKey||(e.preventDefault(),t.onMessageSend(vn.b.Enter)));case"ArrowUp":if(Object(Me.b)(t.props.channelID)!==Me.a.Control&&Object(H.c)("chat_replies_m2b")&&!e.repeat&&e.altKey)if(e.preventDefault(),t.closeReplyByKeyboardCallout(),(null===(n=t.props.activeTray)||void 0===n?void 0:n.type)===hn.a.Reply)t.advanceReplyTray(!0);else{var s=function(e){for(var n=0,t=e.trim().split($t);n<t.length;n++){var i=t[n];if("@"===i.substring(0,1)&&i.length>1)return i}return null}(t.state.value);if(!s)return;var d=Object(Cn.a)(s.trim());if(d===t.props.currentUserDisplayName)return;var c=Oe(d,null===(i=t.props.messageBufferAPI)||void 0===i?void 0:i.getMessages());if(!c||0===c.length)return;var l=new kn(c);t.setReplyToList(l),Gn(l,{setTray:t.props.setTray,setInputValue:t.onMessageValueUpdate,clearReplyToList:t.clearReplyToList,badgeSets:t.props.badgeSets,channelID:t.props.channelID,channelLogin:t.props.channelLogin,currentUserDisplayName:t.props.currentUserDisplayName,currentUserLogin:t.props.currentUserLogin,currentUserID:t.props.currentUserID,isCurrentUserModerator:t.props.isCurrentUserModerator,isCurrentUserStaff:t.props.isStaff,showModerationIcons:t.props.showModerationIcons,showTimestamps:t.props.showTimestamps,useHighContrastColors:t.props.useHighContrastColors})}return;case"ArrowDown":return void(Object(Me.b)(t.props.channelID)!==Me.a.Control&&Object(H.c)("chat_replies_m2b")&&!e.repeat&&e.altKey&&(e.preventDefault(),(null===(a=t.props.activeTray)||void 0===a?void 0:a.type)===hn.a.Reply&&t.advanceReplyTray(!1,t.closeTray)));case"Escape":return t.props.clearMenus(),t.props.bitsCardOpen&&t.props.setBitsCardOpenState(!1),void((null===(r=t.props.tray)||void 0===r?void 0:r.type)===hn.a.Reply&&t.closeTray());default:return}},t.closeReplyByKeyboardCallout=function(){t.props.clearCalloutType(ge.a.ReplyByKeyboard),c.m.set(he.b,!0)},t.onMessageValueUpdate=function(e){t.resizeInput(e),t.updateCheerState(e),t.setState({value:e})},t.updateCheerState=function(e){var n;if(e!==t.state.value&&t.props.bitsEnabled&&!(null===(n=t.props.activeTray)||void 0===n?void 0:n.disableBits)&&!Yt(e)){var i=[];Object(ue.g)(e,t.props.bitsConfig,!1).forEach((function(e){e.type===gn.a.Emote&&(i.push(e.content),e.content.alt&&Object(ue.e)(e.content.alt)&&t.setState({isAnonymousCheer:!0}))})),i.length&&t.props.isShowingEmotePicker&&t.props.closeEmotePicker(),!Kt(t.state.messageCheers)&&i.length&&i.length>=1&&!t.props.bitsCardOpen&&!t.props.showEmotePicker&&t.trackBitsCardInteraction(pe.c.OpenCardViaCheering),t.setState({messageCheers:Object(ue.b)(i,t.props.bitsConfig)})}},t.resizeInput=function(e){var n;if(e){if(t.chatInputRef){var i=(n=t.props.fontSizePreference,Qt[n]),a=ei*i+20,r=Math.ceil((t.chatInputRef.scrollHeight-a)/i),o=Math.min(ei+r,ni);t.setState({numInputRows:o})}}else t.setState({numInputRows:ei})},t.onInputFocus=function(){t.props.onInputFocus&&t.props.onInputFocus(),t.setState({hasInteracted:!0})},t.onMouseEnterInput=function(){t.setState({hasInteracted:!0})},t.onChatCommand=function(e){t.props.onChatCommand(e),t.trackChatEvent(t.props.emotePickerSessionID,vn.b.Click)},t.confirmEmbedAction=function(e,n,i){var a=t,r=a.hasConfirmedInEmbed;if(a.hasSeenConfirmationPrompt)return r;var o=window.confirm(t.confirmationMessage(e,n,i));return t.hasSeenConfirmationPrompt=!0,t.hasConfirmedInEmbed=o,t.setState({hasSeenAndRejectedEmbedPrompt:!o}),o},t.confirmationMessage=function(e,n,t){return Object(c.d)('Hi {displayName}. You are attempting to send "{message}" in {channelLogin}\'s chat via an embedded version of Twitch Chat. Are you sure you want to do this? This setting will persist until you refresh the page',{displayName:e,message:n,channelLogin:t},"ChatInput")},t.hasHandledChatRestrictions=function(){return t.state.chatRestrictedReasons.includes(v.S.FOLLOWERS_ONLY)||t.state.chatRestrictedReasons.includes(v.S.SUBSCRIBERS_ONLY)||t.state.chatRestrictedReasons.includes(v.S.VERIFIED_ONLY)},t.onMessageSend=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){var n,t,a,r,o,s,d,l,u,m,p,h,f,g,b=this;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!this.bypassDisable){if(!this.bypassRestrictionDisable&&this.state.chatRestrictedReasons.length&&!this.hasHandledChatRestrictions())return this.props.setBitsCardOpenState(!1),[2];if(this.disableChatConditions())return[2]}if(!this.props.authToken)return this.handleLogin(),[2];if(!this.props.channelID)return c.k.warn("[ChatInput] Attempt to send a message before channel ID"),[2];if(!(null===(l=this.props.activeTray)||void 0===l?void 0:l.sendMessageHandler))return[3,8];switch(this.closeCard(),this.props.clearMenus(),n=this.props.activeTray.sendMessageHandler,n.type){case hn.c.Custom:return[3,1];case hn.c.ShareResub:return[3,4]}return[3,7];case 1:return n.handleMessage?[4,n.handleMessage(this.state.value,n.params)]:[3,3];case 2:i.sent()?n.onSuccess&&n.onSuccess(this.state.value,n.params):n.onError&&n.onError(this.state.value,n.params),i.label=3;case 3:return[2];case 4:return n.handleMessage?(n.params=n.params||{},n.params.opt=this.state.shareResubStreak,[4,n.handleMessage(this.state.value,n.params)]):[3,6];case 5:i.sent()?n.onSuccess&&n.onSuccess(this.state.value,n.params):n.onError&&n.onError(this.state.value,n.params),i.label=6;case 6:return this.props.clearTray(),[2];case 7:i.label=8;case 8:return(t=Jt.test(this.state.value))?this.state.isSendingBits?(c.k.debug("[ChatInput] Supressing chat message send. Bits spending is still in progress."),[2]):this.props.isEmbedded&&(this.props.isCurrentUserModerator||this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.isPartner)&&this.props.sessionUser&&!this.confirmEmbedAction(this.props.sessionUser.displayName,this.state.value||"",this.props.channelLogin)?(c.k.debug("[ChatInput] Embed Confirmation check failed. Not sending message"),[2]):(this.resetAndUpdateRenderSentChatMessageEvent(),this.state.value.split(/\s+/).forEach((function(e){b.props.emoteMap&&b.props.emoteMap.hasOwnProperty(e)&&Object(On.a)(b.props.emoteMap[e])})),this.props.data&&this.props.data.currentUser?Yt(this.state.value)?(this.sendRegularMessage(e),[2]):(a=Object(me.a)(this.state.messageCheers),r=Object(Y.b)(),0===a.total?(this.sendRegularMessage(e),this.state.messageCheers.length&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.ZeroBits),[2]):this.props.data.channel?this.props.data.channel.cheer?this.props.data.channel.cheer.settings?(null===(u=this.props.activeTray)||void 0===u?void 0:u.disableBits)?(c.k.warn("[Chat Input] Bits are disabled due to an input tray."),[2]):this.props.bitsConfig?(this.state.bitsCardError&&(this.onSendCheerWhenSendDisabled(),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.BitsCardDisabled)),(o=Object(me.g)({messageBits:a,balance:this.props.data.currentUser.bitsBalance||0,cheerMinimumBits:this.props.data.channel.cheer.settings.cheerMinimumBits,emoteMinimumBits:this.props.data.channel.cheer.settings.emoteMinimumBits,inputValue:this.state.value,bitsConfig:this.props.bitsConfig})).canSpend?this.props.sendCheer?(this.setState({isSendingBits:!0}),a.total>=y.q?[4,new Promise((function(e){var n=setTimeout(e,y.t.UNDO_PROMPT_DURATION),t=function(t){void 0===t&&(t=!1),clearTimeout(n),b.cancelDelayedSend=null,b.confirmDelayedSend=null,e(t)};b.cancelDelayedSend=function(){return t(!0)},b.confirmDelayedSend=function(){return t(!1)}}))]:[3,10]):(c.k.warn("[Chat Input] No GraphQL mutation for sending cheers attached."),[2]):(c.k.warn("[Chat Input] Spending bits forbidden.",o),o.cheerAboveMaxBitsPerEmote&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.AboveMaxEmote),o.totalAboveBalance&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.BitsUnavailable),o.totalBelowCheerMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.BelowMin),o.totalBelowEmoteMinimum&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.BelowMinEmote),o.inputLongerThanMaxBitsMessage&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.InputAboveMaxLength),o.inputStartsWithCommand&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.InputCommandStart),o.cheerContainsInvalidDisplayOnlyCheermotes&&this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.InvalidBitsMessage),[2])):(c.k.warn("[Chat Input] Bits Config is undefined"),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.MissingBitsConfig),[2]):(c.k.warn("[Chat Input] Cheer Settings are undefined."),[2]):(c.k.warn("[Chat Input] Cheer is null."),[2]):(c.k.warn("[Chat Input] User is null."),[2])):(this.sendRegularMessage(e),[2])):(c.k.debug("[ChatInput] Supressing chat message send. Input failed to pass validation.",{hasSendableInput:t,value:this.state.value}),[2]);case 9:if(i.sent())return this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.Canceled),this.setState({isSendingBits:!1}),null===(m=this.chatInputRef)||void 0===m||m.focus(),[2];i.label=10;case 10:return i.trys.push([10,12,,13]),s={id:r,targetID:this.props.channelID,bits:a.total,content:this.state.value,isAutoModEnabled:!0,shouldCheerAnyway:this.props.forceSendCheer,isAnonymous:this.state.isAnonymousCheer},this.props.clearBitsSendError(),[4,this.props.sendCheer({variables:{input:s}})];case 11:return(d=i.sent()).data.sendCheer&&d.data.sendCheer.validationError?(this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,d.data.sendCheer.validationError),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,Object(En.a)(d.data.sendCheer.validationError.code)),this.props.setBitsCardOpenState(!1),this.setState({isSendingBits:!1,bitsCardError:d.data.sendCheer.validationError.code}),this.props.clearMenus(),null===(p=this.chatInputRef)||void 0===p||p.focus(),[2]):[3,13];case 12:return i.sent(),this.props.onSendCheerError&&this.props.onSendCheerError(this.state.value,{code:v.ve.UNKNOWN}),this.trackCheerErrorEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer,vn.d.Unknown),this.setState({isSendingBits:!1,bitsCardError:v.ve.UNKNOWN}),null===(h=this.chatInputRef)||void 0===h||h.focus(),[2];case 13:return this.props.onSendCheerSuccess(),this.trackCheerEvent(this.props.emotePickerSessionID,a.total,this.state.value,r,this.state.isAnonymousCheer),this.props.setBitsCardOpenState(!1),this.setState({isSendingBits:!1,bitsCardError:void 0}),this.props.clearMenus(),null===(f=this.chatInputRef)||void 0===f||f.focus(),null===(g=this.autocompleteInputRef)||void 0===g||g.setValue(""),[2]}}))}))},t.onEmotePickerToggle=function(){t.props.isShowingEmotePicker?t.props.closeEmotePicker():(t.props.clearMenus(),t.props.showEmotePicker())},t.onEmotePickerButtonClick=function(){var e;O.p.track($.SpadeEventType.EmotePickerButtonClick,{user_id:null===(e=t.props.data)||void 0===e?void 0:e.currentUser,channel_id:t.props.channelID}),t.onEmotePickerToggle()},t.onClickOut=function(){t.props.closeEmotePicker()},t.onBitsIconClick=function(){t.props.bitsCardOpen?(t.props.setBitsCardOpenState(!1),t.trackBitsCardInteraction(pe.c.CloseCard)):(t.props.setBitsCardOpenState(!0),t.trackBitsCardInteraction(pe.c.OpenCard)),t.props.isShowingEmotePicker&&t.props.closeEmotePicker()},t.onBitsClose=function(){t.props.bitsCardOpen&&t.closeCard(),t.trackBitsCardInteraction(pe.c.CloseCard)},t.closeCard=function(){t.props.setBitsCardOpenState(!1),t.props.clearMenus()},t.onClickToken=function(e){t.autocompleteInputRef&&t.autocompleteInputRef.setValue(Object(Sn.a)(t.state.value,e))},t.onEmotePickerDataLoaded=function(e){e&&t.setState({showEmotePickerButton:!0})},t.closeTray=function(){var e=t.props.activeTray;(null==e?void 0:e.callOnClose)&&e.callOnClose(),(null==e?void 0:e.onCloseValue)&&(t.chatInputValueSnapshot=null==e?void 0:e.onCloseValue),t.clearReplyToList(),t.isErrorTray()||t.isAutocompleteTray()?t.props.clearModifierTray():e&&t.props.clearTray()},t.trackCheerEvent=function(e,n,i,a,r){Object(En.h)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,emotePickerSessionID:e,isAnonymousCheer:r,isHostMode:t.props.isHostMode,player:t.props.isPopout?vn.a.Embed:vn.a.Web,subOnlyMode:t.props.subsOnlyMode,viewerContext:t.props.viewerContext,bitsValue:n,cheermote:i,transactionID:a})},t.trackCheerErrorEvent=function(e,n,i,a,r,o){Object(En.g)({channelID:t.props.channelID||"",channelLogin:t.props.channelLogin,emotePickerSessionID:e,isHostMode:t.props.isHostMode,isAnonymousCheer:r,player:t.props.isPopout?vn.a.Embed:vn.a.Web,subOnlyMode:t.props.subsOnlyMode,viewerContext:t.props.viewerContext,bitsValue:n,cheermote:i,transactionID:a,errorType:o})},t.trackBitsCardInteraction=function(e,n){t.setState((function(n){var t;switch(e){case pe.c.BuyMain:t=Object(Y.b)();break;case pe.c.CloseCard:case pe.c.CloseBuy:t=void 0;break;default:t=n.bitsCheckoutId}return{bitsTrackingId:e===pe.c.OpenCard||e===pe.c.OpenCardViaCheering?Object(Y.b)():n.bitsTrackingId,bitsCheckoutId:t}}),(function(){var i={actionName:e,actionType:n&&n.actionType,trackingId:t.state.bitsTrackingId,checkoutId:t.state.bitsCheckoutId,emoteType:n&&n.emoteType,emoteLevel:n&&n.emoteLevel,location:n&&n.location,displayedBalance:t.props.data&&t.props.data.currentUser&&t.props.data.currentUser.bitsBalance||0,bitsCardError:n&&n.bitsCardError,channelId:t.props.data&&t.props.data.channel&&t.props.data.channel.id||"",userId:t.props.data&&t.props.data.currentUser&&t.props.data.currentUser.id||""};Object(pe.m)(i)}))},t.resetAndUpdateRenderSentChatMessageEvent=function(){t.props.latencyTracking.resetCustomEvents(X.a.Chat);var e=t.props.latencyTracking.registerCustomEvent({benchmark:400,group:X.a.Chat,key:X.b.ChatRenderSent,label:X.c.RenderSent,start:X.d.Registration});t.props.updateRenderSentChatMessageEvent(e)},t.getUserBanStatus=function(){var e,n,i;return(null===(i=null===(n=null===(e=t.props.data)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.banStatus)||null},t.onRestrictionsUpdate=function(){var e=[],n=0,i=0;if(t.props.chatRestrictionsAPI){var a=t.props.chatRestrictionsAPI.getRestrictions();a&&a.length>0&&(e=a,n=t.props.chatRestrictionsAPI.getRemainingSlowModeSeconds(),i=t.props.chatRestrictionsAPI.getRemainingFollowSeconds())}t.setState({chatRestrictedReasons:e,slowModeSecondsRemaining:n,followSecondsRemaining:i})},t.toggleShareResubStreak=function(){t.setState((function(e){return{shareResubStreak:!e.shareResubStreak}}))},t.disableChatConditions=function(){var e;if(t.bypassDisable)return!1;var n=qt(t.getUserBanStatus());if(!t.bypassRestrictionDisable&&t.state.chatRestrictedReasons.length&&!t.hasHandledChatRestrictions()||t.props.chatConnectionState!==qe.b.CONNECTED||n||(null===(e=t.props.activeTray)||void 0===e?void 0:e.disableChat))return!0;var i=c.m.get(ti,{});return t.props.chatRules&&!i[t.props.channelLogin]&&t.props.isShowingChatRules},t.registerSendMessageErrorCheck=function(e,n){t.sendMessageErrorChecks[n]||(t.sendMessageErrorChecks[n]=e)},t.unregisterSendMessageErrorCheck=function(e){t.sendMessageErrorChecks[e]&&delete t.sendMessageErrorChecks[e]},t.setReplyToList=function(e){t.replyToList=e},t.clearReplyToList=function(){t.replyToList=void 0},t.storePendingMessage=function(){c.m.set(Zt,t.state.value)},t.state={hasInteracted:!1,hasSeenAndRejectedEmbedPrompt:!1,numInputRows:ei,isSendingBits:!1,messageCheers:[],showBuyBits:!1,showEmotePickerButton:!!n.authToken,value:"",chatRestrictedReasons:[],slowModeSecondsRemaining:0,followSecondsRemaining:0,isAnonymousCheer:!1,shareResubStreak:!1,bitsTrackingId:Object(Y.b)()},t}return Object(i.__extends)(n,e),Object.defineProperty(n.prototype,"bypassDisable",{get:function(){return Yt(this.state.value)||Kt(this.state.messageCheers)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bypassRestrictionDisable",{get:function(){var e=this.props.activeTray;return!(null==e||!e.ignoredRestrictions||this.state.chatRestrictedReasons.find((function(n){return!e.ignoredRestrictions.has(n)})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ignoreSlowMode",{get:function(){var e,n;return null===(n=null===(e=this.props.activeTray)||void 0===e?void 0:e.ignoredRestrictions)||void 0===n?void 0:n.has(v.S.SLOW_MODE)},enumerable:!0,configurable:!0}),n.prototype.componentDidMount=function(){this.getPendingMessage()&&this.restorePendingMessage(),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate),this.updateTrayValues()},n.prototype.componentDidUpdate=function(e){this.props.forceSendCheer&&this.onMessageSend(vn.b.Click),e.chatRestrictionsAPI!==this.props.chatRestrictionsAPI&&(this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate),this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.addUpdateHandler(this.onRestrictionsUpdate)),this.updateTrayValues(e)},n.prototype.componentWillUnmount=function(){this.props.chatRestrictionsAPI&&this.props.chatRestrictionsAPI.removeUpdateHandler(this.onRestrictionsUpdate)},n.prototype.render=function(){var e,n,t,i,r,s,d,l,u,m=this.getUserBanStatus(),p=Gt(m),h=qt(m);if(p)return o.createElement(Bt,{timeoutExpiry:Ht(m),renderButtonContainer:this.renderButtonContainer,refetchTimeoutState:this.refetchTimeoutState});if(this.state.hasSeenAndRejectedEmbedPrompt)return o.createElement(C.a,{className:"chat-input",display:this.props.hidden?E.h.Hide:E.h.Block,padding:{x:2,bottom:2}},o.createElement(w.a,{"data-test-selector":"chat-embed-denied-text"},Object(c.d)("You rejected the prompt to send messages in this embedded version of Twitch Chat. If this was done in error, please refresh the page.","ChatInput")),this.renderButtonContainer(!0,null));var f=[];this.props.enableBitsInput&&this.props.bitsEnabled&&!(null===(e=this.props.activeTray)||void 0===e?void 0:e.disableBits)&&f.push(o.createElement(le,{buttonDisabled:h,key:"bits",onClick:this.onBitsIconClick,channelID:this.props.channelID})),this.state.showEmotePickerButton&&f.push(o.createElement(_n.a,{key:"emote-picker",onClick:this.onEmotePickerButtonClick,buttonDisabled:h,isActive:this.props.isShowingEmotePicker}));var g=null;(this.props.isEmotePickerLoaded||this.state.hasInteracted)&&(g=o.createElement(ai,{channelOwnerID:this.props.channelID,emotePickerSource:Nn.a.Chat,onClickClose:this.onEmotePickerToggle,onClickToken:this.onClickToken,onLoad:this.onEmotePickerDataLoaded,toggleVisibility:this.onEmotePickerToggle,visible:this.props.isShowingEmotePicker&&!this.props.isShowingChatRules,size:Qe.a.Auto,direction:Tn.b.TopRight,hasMenuOpened:this.props.hasOpenedEmotePicker}));var b=o.createElement(se,{priority:P.a.Later});(this.props.firstPageLoaded||this.state.hasInteracted)&&this.props.enableBitsInput&&this.props.bitsEnabled&&!(null===(n=this.props.activeTray)||void 0===n?void 0:n.disableBits)&&!this.isAutocompleteTray()&&(b=o.createElement(oe,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,trackingID:this.state.bitsTrackingId,checkoutID:this.state.bitsCheckoutId,currentCheers:this.state.messageCheers,isSending:this.state.isSendingBits,isStaff:this.props.isStaff,isAnonymous:this.state.isAnonymousCheer,onCancelSend:this.cancelDelayedSend,onClickCheermote:this.onClickToken,onConfirmSend:this.confirmDelayedSend,onUserClose:this.onBitsClose,trackBitsCardInteraction:this.trackBitsCardInteraction,visible:!!this.props.bitsCardOpen&&!this.props.isShowingChatRules,cheerMessageAutoModded:this.props.isTextInputDisabled,bitsSendErrorCode:this.props.bitsSendErrorCode,bitsSendHasError:this.props.bitsSendHasError,chatMessage:this.state.value,onCheerInvalid:this.onCheerInvalid,onAnonymousToggle:this.onAnonymousCheerToggle}));var y=null;(null===(t=this.props.activeTray)||void 0===t?void 0:t.disableCommands)||(y=o.createElement(Be,{isCurrentUserEditor:this.props.isCurrentUserEditor,permissionLevel:this.props.commandPermissionLevel}));var k=null;this.props.moderatedMessageParts&&this.props.moderatedMessageParts.length>0&&(k=o.createElement(rn,{moderatedReason:this.props.moderatedReason,moderatedMessageParts:this.props.moderatedMessageParts}));var S=null;if(this.state.chatRestrictedReasons[0]===v.S.SLOW_MODE&&!this.ignoreSlowMode){var _=Object(W.b)(this.state.slowModeSecondsRemaining,W.a.HumanizedShort);S=Object(c.d)("You can chat in {duration}",{duration:_},"ChatInput")}var N=this.disableChatConditions(),O=a({"chat-input__textarea":!0,"chat-input__textarea--error":this.isErrorTray()||this.trayHasError()}),D=void 0;D=(null===(i=this.props.activeTray)||void 0===i?void 0:i.type)===hn.a.ShareResub?255:500;var M=c.p.experiments.getAndTrackAssignment("expressions_chat_identity_customization_discoverability"),I=o.createElement(C.a,{className:O},o.createElement(et,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors,setInputValue:this.onMessageValueUpdate,setReplyToList:this.setReplyToList,clearReplyToList:this.clearReplyToList,closeCard:this.closeCard,componentRefDelegate:this.setLocalChatInputRef,componentType:J.a.TextArea,containerElement:this.props.containerElement,"data-a-target":"chat-input","data-test-selector":"chat-input",disabled:this.state.isSendingBits||this.props.isTextInputDisabled||this.props.isShowingChatRules||h,htmlAutocomplete:"twitch-chat",maxLength:D,noResize:!0,onFocus:this.onInputFocus,onKeyDown:this.onKeyDown,onValueUpdate:this.onMessageValueUpdate,paddingLeft:"on"===M&&this.props.data&&this.props.data.currentUser&&this.props.inputSource===bn.b.ChannelPage?38:0,paddingRight:30*f.length+5,placeholder:this.getSendMessagePlaceholder(),refDelegate:this.setLocalAutocompleteInputRef,rows:this.state.numInputRows,suggestionSource:J.e.Chat,setTray:this.props.setTray,setModifierTray:this.props.setModifierTray,clearModifierTray:this.props.clearModifierTray,tray:this.props.activeTray},o.createElement(J.f,{emotes:this.props.emotes}),o.createElement(Re,{channelID:this.props.channelID,currentUserLogin:this.props.currentUserLogin,showReplyPrompt:(null===(r=this.props.tray)||void 0===r?void 0:r.type)!==hn.a.Reply}),y),"on"===M&&this.props.channelID&&0!==this.props.badgeSets.count&&this.props.inputSource===bn.b.ChannelPage&&o.createElement(C.a,{className:"chat-input__badge-carousel",position:E.o.Absolute,attachLeft:!0,attachTop:!0},o.createElement(oi,{authToken:this.props.authToken,broadcasterID:this.props.channelID,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,containerElement:this.props.containerElement,darkModeEnabled:this.props.darkModeEnabled,inputSource:this.props.inputSource,onChatCommand:this.onChatCommand,canSubscribe:this.props.canSubscribe})),o.createElement(C.a,{position:E.o.Absolute,attachRight:!0,attachBottom:!0},o.createElement(C.a,{padding:{bottom:.5,right:.5}},f)),this.renderSlowModeProgressBar());I=o.createElement(at,{checkbox:(null===(s=this.props.activeTray)||void 0===s?void 0:s.checkboxLabel)?{label:this.props.activeTray.checkboxLabel,checked:this.state.shareResubStreak,onChange:this.toggleShareResubStreak}:void 0,tray:this.props.activeTray,onClose:this.closeTray},I);var T=o.createElement(ii,{authToken:this.props.authToken,badgeSets:this.props.badgeSets,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,onPushMessage:this.props.onPushMessage}),j=[];j.push(o.createElement(Fn,{key:"char-limit-handler",inputValue:this.state.value,maxLength:500})),this.props.isCurrentUserModerator||this.props.isCurrentUserVIP||(j.push(o.createElement(Lt,{key:"dupe-message-handler",inputValue:this.state.value,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})),j.push(o.createElement(Ut,{key:"throughput-handler",registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck})));return o.createElement(C.a,{className:"chat-input",display:this.props.hidden?E.h.Hide:E.h.Block,padding:{x:1,bottom:1}},this.props.isShowingChatRules&&this.renderChatRules(),k,this.props.isPrivateCalloutsLoaded&&T,j,o.createElement(Rt,{userID:null===(l=null===(d=this.props.data)||void 0===d?void 0:d.currentUser)||void 0===l?void 0:l.id,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,emoteOnlyMode:this.props.emoteOnlyMode,chatRestrictions:this.state.chatRestrictedReasons,ignoredRestrictions:null===(u=this.props.activeTray)||void 0===u?void 0:u.ignoredRestrictions,slowModeSecondsRemaining:this.state.slowModeSecondsRemaining,followSecondsRemaining:this.state.followSecondsRemaining,emotes:this.props.emotes,registerSendMessageErrorCheck:this.registerSendMessageErrorCheck,unregisterSendMessageErrorCheck:this.unregisterSendMessageErrorCheck}),o.createElement(q.a,{onClickOut:this.onClickOut},o.createElement(tn.a,{display:this.props.moderatedMessageParts?E.h.Hide:E.h.Block,position:E.o.Relative,zIndex:E.t.Default},o.createElement("div",{onMouseEnter:this.onMouseEnterInput},g,b,I)),this.renderButtonContainer(N,S)))},n.prototype.updateTrayValues=function(e){var n,t,i,a,r;void 0===e&&(e={});var o=this.props,s=o.tray,d=o.modifierTray;!e.tray&&s?(this.chatInputValueSnapshot=this.state.value,null===(n=this.autocompleteInputRef)||void 0===n||n.setValue(s.inputValue||""),null===(t=this.chatInputRef)||void 0===t||t.focus()):e.tray&&!s&&(null===(i=this.autocompleteInputRef)||void 0===i||i.setValue(this.chatInputValueSnapshot),this.chatInputValueSnapshot="",null===(a=this.chatInputRef)||void 0===a||a.focus()),!e.modifierTray&&(null==d?void 0:d.inputValue)&&(null===(r=this.autocompleteInputRef)||void 0===r||r.setValue(d.inputValue))},n.prototype.advanceReplyTray=function(e,n){this.replyToList&&((e?this.replyToList.setEarlier():this.replyToList.setLater())?Gn(this.replyToList,{setTray:this.props.setTray,setInputValue:this.onMessageValueUpdate,clearReplyToList:this.clearReplyToList,badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.currentUserID,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:this.props.useHighContrastColors}):null==n||n())},n.prototype.sendRegularMessage=function(e){var n,t,i;if(this.props.onSendMessage){var a=Object(Ae.n)(this.state.value);if(a&&!c.m.get(cn,!1)&&!this.props.hideOnboardingPrompts)return this.props.setBitsCardOpenState(!1),this.trackChatEvent(this.props.emotePickerSessionID,e),this.autocompleteInputRef&&this.autocompleteInputRef.setValue(""),void this.props.openRaidUpsellFromHost(a.recipientLogin);if(!this.props.isCurrentUserModerator&&!this.props.isCurrentUserVIP&&!Yt(this.state.value)){for(var r=0,o=Object.keys(this.sendMessageErrorChecks);r<o.length;r++){var s=o[r];if(this.sendMessageErrorChecks[s].check(this.state.value))return}for(var d=0,l=Object.keys(this.sendMessageErrorChecks);d<l.length;d++){s=l[d];this.sendMessageErrorChecks[s].onMessageSent(this.state.value)}}var u=this.props.activeTray;this.props.onSendMessage(this.state.value,null===(n=null==u?void 0:u.sendMessageHandler)||void 0===n?void 0:n.additionalMetadata)&&(this.trackChatEvent(this.props.emotePickerSessionID,e),this.trackMentions(),(null===(t=null==u?void 0:u.sendMessageHandler)||void 0===t?void 0:t.type)===hn.c.Chat&&u.sendMessageHandler.onSuccess&&u.sendMessageHandler.onSuccess(this.state.value,u.sendMessageHandler.params),u&&this.props.clearTray(),this.clearReplyToList(),null===(i=this.autocompleteInputRef)||void 0===i||i.setValue(""),this.props.isShowingEmotePicker&&this.props.closeEmotePicker(),this.props.clearMenus(),this.props.setBitsCardOpenState(!1))}},n.prototype.handleLogin=function(){var e={onComplete:this.storePendingMessage,targetChannel:this.props.channelDisplayName,showContext:!0};this.props.login(e)},n.prototype.isErrorTray=function(){var e=this.props.activeTray;return(null==e?void 0:e.type)&&this.shouldClearModifierTrayTypes.has(e.type)},n.prototype.trayHasError=function(){var e;return!!(null===(e=this.props.activeTray)||void 0===e?void 0:e.error)},n.prototype.isAutocompleteTray=function(){var e;return(null===(e=this.props.activeTray)||void 0===e?void 0:e.type)===hn.a.AutocompleteTray},n.prototype.trackChatEvent=function(e,n){var t,i=(null===(t=this.props.activeTray)||void 0===t?void 0:t.type)===hn.a.Reply,a=i&&void 0!==this.replyToList;Object(En.b)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin,emotePickerSessionID:e,isHostMode:this.props.isHostMode,player:this.props.isPopout?vn.a.Embed:vn.a.Web,subOnlyMode:this.props.subsOnlyMode,viewerContext:this.props.viewerContext,sendAction:n,isKeyboardShortcutUsed:a,isReply:i})},n.prototype.trackMentions=function(){var e;if(this.state.value&&this.props.sessionUser)for(var n,t,a=0,r=Object(z.a)(this.state.value,{mentions:{senderLogin:this.props.sessionUser.login,sessionUser:this.props.sessionUser}});a<r.length;a++){var o=r[a];o.type===gn.a.Mention&&o.content.currentUserMentionRelation!==fn.a.Recipient&&(n={channelLogin:this.props.channelLogin,isHostMode:this.props.isHostMode,mentionedUserDisplayName:o.content.recipient,userLogin:this.props.sessionUser.login,isReply:(null===(e=this.props.activeTray)||void 0===e?void 0:e.type)===hn.a.Reply},t=void 0,t=Object(i.__assign)(Object(i.__assign)({},Object(wn.b)(n)),{mentioned_user_display_name:n.mentionedUserDisplayName,user:n.userLogin,is_reply:n.isReply}),c.o.track($.SpadeEventType.ChatMentionUsed,t))}else c.k.warn("[ChatInput] trackMentions was called in a nonsensical state.")},n.prototype.getPendingMessage=function(){return c.m.get(Zt,"")},n.prototype.clearPendingMessage=function(){c.m.set(Zt,"")},n.prototype.restorePendingMessage=function(){var e=this.getPendingMessage();e&&this.autocompleteInputRef&&(this.autocompleteInputRef.setValue(e),this.clearPendingMessage())},n.prototype.getSendMessagePlaceholder=function(){var e,n=qt(this.getUserBanStatus()),t=(null===(e=this.props.activeTray)||void 0===e?void 0:e.type)===hn.a.Reply,i=t?Object(c.d)("Send a reply","ChatInput"):Object(c.d)("Send a message","ChatInput");this.replyToList&&(i="@"+this.replyToList.getCurrentMessage().user.userDisplayName);return n&&(i=Object(c.d)("You've been banned from Chat","ChatInput")),this.props.slowMode&&!this.isSlowModeBannerEnabled&&(i=t?Object(c.d)("Send a reply (chat is in slow mode)","ChatInput"):Object(c.d)("Send a message (chat is in slow mode)","ChatInput")),i},n}(o.Component);var di=Object(d.d)(Object(u.a)(Vt,{name:"sendCheer"}),Object(u.a)(jn,{skip:function(e){return!e.firstPageLoaded}}),(function(e){return function(n){var t=Object(R.a)(ii.getLoader(),P.a.Soon),a=Object(R.a)(ai.getLoader(),P.a.Later),r=Object(R.a)(ri.getLoader(),P.a.Soon);return o.createElement(e,Object(i.__assign)({},n,{isPrivateCalloutsLoaded:t,isEmotePickerLoaded:a,isRewardCenterLoaded:r}))}}),yn.a,Ee.b,Object(Dn.withLatencyTracking)("ChatInput",{autoReportInteractive:!0}),Object(V.b)((function(e){return{activeTray:e.chat.activeInputTray,emotePickerSessionID:e.chat.emotePickerSessionID,fontSizePreference:e.chat.fontSizePreference,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps,modifierTray:e.chat.inputModifierTray,sessionUser:Object(Z.e)(e),tray:e.chat.inputTray}}),(function(e){return Object(d.b)({clearModifierTray:be.J,clearTray:be.K,login:function(e){return Object(K.e)(Q.a.Chat,e)},setModifierTray:be.ab,setTray:be.bb,updateRenderSentChatMessageEvent:be.gb},e)})),Object(He.c)((function(e){return{canSubscribe:e.canSubscribe,emoteOnlyMode:e.emoteOnlyMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})),Object(Ve.b)((function(e){return{showModViewIngress:e.showModViewIngress,hideChatSettings:e.hideChatSettings,hideOnboardingPrompts:e.hideOnboardingPrompts,hideChatInputButtons:e.hideChatInputButtons}})),Object(ot.b)((function(e){return{setAutocompleteInputRef:e.setAutocompleteInputRef,setChatInputRef:e.setChatInputRef}})),Object($e.b)((function(e){return e})),Object(qe.c)((function(e){return{chatConnectionState:e.chatConnectionState,updateChatConnectionState:e.updateChatConnectionState}})),Object(Ge.b)((function(e){return{closeChatRules:e.closeChatRules,closeEmotePicker:e.closeEmotePicker,hasOpenedEmotePicker:e.hasOpenedEmotePicker,isShowingChatRules:e.isShowingChatRules,isShowingEmotePicker:e.isShowingEmotePicker,showChatRules:e.showChatRules,showEmotePicker:e.showEmotePicker,clearMenus:e.clearMenus}})),Object(j.b)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled,bitsCardOpen:e.bitsCardOpen,setBitsCardOpenState:e.setBitsCardOpenState}})),Object(Xe.c)((function(e){return{useHighContrastColors:e.value}})),Object(on.d)((function(e){return{inputSource:e.page}})),Object(fe.b)((function(e){return{clearCalloutType:function(n){return e.clearCalloutType(n)}}})))(si);var ci=t("x7UT"),li=t("UBeo"),ui=t("SceP"),mi=t("xzy9"),pi=t("fxMP");var hi=t("DLhE"),fi=t("MkkA"),gi=t("Y/1R"),vi=t("imBb"),bi=(t("VcSt"),t("MJbm")),yi=t("8/mp"),ki=t("HAa/"),Si=(t("dKR6"),function(e){var n;return n=e.isPausedByHover?Object(c.d)("Chat paused due to mouseover.","ChatList"):e.isPausedByKey?Object(c.d)("Chat paused with the alt key.","ChatList"):Object(c.d)("Chat paused due to scroll.","ChatList"),o.createElement(C.a,{attachBottom:!0,background:E.d.Overlay,borderRadius:E.e.Medium,className:"chat-paused-footer",margin:{bottom:1},position:E.o.Absolute},o.createElement(_.a,{"data-a-target":"chat-list-footer",onClick:e.onClick,overlay:!0,type:_.d.Text},n))});Si.displayName="ChatPausedFooter";var Ci,Ei=["scroll","wheel","mousewheel","DOMMouseScroll"],wi=10,_i=5e3;!function(e){e.MessageContainer="chat-scrollable-area__message-container"}(Ci||(Ci={}));var Ni,Oi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isAutoScrolling:!0,isLoadingMore:!1,isPaused:!1,loadMoreEnabled:!0,hoverResumeTimer:null,keyboardResumeLock:!1},n.isScrolledToTop=!1,n.saveScrollRef=function(e){return n.scrollRef=e},n.handleScrollEvent=function(e){if(n.scrollRef&&n.scrollRef.scrollContent&&(e.which>0||"mousewheel"===e.type||"wheel"===e.type)){n.state.isPaused&&(n.clearHoverResumeTimer(),n.setKeyboardResumeLock(!1),n.setLoadMoreEnabled(!0));var t=n.scrollRef.scrollContent,i=t.scrollHeight,a=t.scrollTop,r=t.offsetHeight,o=i-a-r;n.state.isPaused&&o<=wi&&!n.props.hasNewerLeft?n.resume():!n.state.isPaused&&o>wi&&n.pause(),!n.isScrolledToTop&&0===a&&i>r&&n.props.channelID?(n.isScrolledToTop=!0,Object(En.f)({channelID:n.props.channelID})):0!==a&&(n.isScrolledToTop=!1)}},n.handleResize=function(){n.state.isPaused||n.scrollToBottom()},n.loadNewer=function(){return new Promise((function(e){n.setState({isLoadingMore:!0},(function(){n.props.loadNewer(),n.setState({isLoadingMore:!1},e)}))}))},n.hoverPause=function(){var e=n.props,t=e.pauseSetting;e.mouseoverPausingDisabled||n.state.isPaused||t!==v.R.MOUSEOVER&&t!==v.R.MOUSEOVER_ALTKEY||(n.pause(),n.setLoadMoreEnabled(!1),n.setHoverResumeTimer())},n.hoverResume=function(){n.state.isPaused&&null!==n.state.hoverResumeTimer&&n.resume()},n.keyboardPause=function(){var e=n.props.pauseSetting;n.state.isPaused||e!==v.R.ALTKEY&&e!==v.R.MOUSEOVER_ALTKEY||(n.pause(),n.setLoadMoreEnabled(!1),n.setKeyboardResumeLock(!0))},n.keyboardResume=function(e){n.state.isPaused&&n.state.keyboardResumeLock&&(e.preventDefault(),n.resume(),n.setKeyboardResumeLock(!1))},n.pause=function(){n.setState({isPaused:!0},(function(){n.props.setPaused&&n.props.setPaused(!0)}))},n.resume=function(){n.props.loadNewest(),n.clearHoverResumeTimer(),n.setState({isPaused:!1},(function(){n.props.setPaused&&n.props.setPaused(!1)}))},n.setHoverResumeTimer=function(){null===n.state.hoverResumeTimer&&n.setState({hoverResumeTimer:setTimeout(n.resume,_i)})},n.clearHoverResumeTimer=function(){n.state.hoverResumeTimer&&(clearTimeout(n.state.hoverResumeTimer),n.setState({hoverResumeTimer:null}))},n.setKeyboardResumeLock=function(e){n.state.keyboardResumeLock!==e&&n.setState({keyboardResumeLock:e})},n.setLoadMoreEnabled=function(e){n.state.loadMoreEnabled!==e&&n.setState({loadMoreEnabled:e})},n.scrollToBottom=function(){var e;(null===(e=n.scrollRef)||void 0===e?void 0:e.scrollContent)&&(n.scrollRef.scrollContent.scrollTop=n.scrollRef.scrollContent.scrollHeight)},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;vi.bindGlobal("alt",this.keyboardPause,"keydown"),vi.bindGlobal("alt",this.keyboardResume,"keyup"),Ei.forEach((function(n){var t;(null===(t=e.scrollRef)||void 0===t?void 0:t.scrollContent)&&e.scrollRef.scrollContent.addEventListener(n,e.handleScrollEvent,{passive:!0})}))},n.prototype.componentWillUnmount=function(){var e=this;vi.unbind("alt","keydown"),vi.unbind("alt","keyup"),Ei.forEach((function(n){var t;(null===(t=e.scrollRef)||void 0===t?void 0:t.scrollContent)&&e.scrollRef.scrollContent.removeEventListener(n,e.handleScrollEvent)}))},n.prototype.componentDidUpdate=function(e){this.props.messagesHash===e.messagesHash||this.state.isPaused||this.scrollToBottom()},n.prototype.render=function(){return o.createElement(tn.a,{display:E.h.Flex,flexDirection:E.i.Column,overflow:E.n.Hidden,flexGrow:1},o.createElement("div",{onMouseEnter:this.hoverPause,onMouseLeave:this.hoverResume},o.createElement(bi.a,{onResize:this.handleResize}),o.createElement(yi.b,{scrollRef:this.saveScrollRef,"data-a-target":"chat-scroller"},o.createElement(C.a,{className:"chat-scrollable-area__message-container","data-test-selector":Ci.MessageContainer,flexGrow:1,padding:{bottom:1},role:"log"},this.props.children,this.props.hasNewerLeft&&o.createElement(yi.a,{forceLoadMoreContent:!0,loadMore:this.loadNewer,pixelThreshold:400,orientation:ki.b.Up,enabled:this.state.loadMoreEnabled,requestCap:2}))),this.state.isPaused&&o.createElement(Si,{isPausedByHover:!!this.state.hoverResumeTimer,isPausedByKey:this.state.keyboardResumeLock,onClick:this.resume})))},n}(o.Component),Di=(t("HjUq"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.reportChatRenderSent=function(){n.props.chatRenderSentEvent&&n.props.latencyTracking.reportCustomEvent(n.props.chatRenderSentEvent)},n.mapMessageToChatLine=function(e,t){return o.createElement(gi.a,{badgeSets:n.props.badgeSets,channelID:n.props.channelID,channelLogin:n.props.channelLogin,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,message:e,key:e.id,showAutoModActions:n.props.showAutoModActions,showModerationActions:n.props.showModerationActions,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:n.props.useHighContrastColors,deletedMessageDisplay:n.props.deletedMessageDisplay,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,currentUserID:n.props.userID,confirmModerationAction:n.props.confirmModerationAction,theme:n.props.theme,onRenderReportChatSent:n.reportChatRenderSent,messageIndex:t,hideBroadcasterTooltip:n.props.isWatchPartyActive,primaryColorHex:n.props.primaryColorHex,repliesAppearancePreference:n.props.repliesAppearancePreference})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.messages.map(this.mapMessageToChatLine),t=a(e.fontScaleClassName,{"chat-list--default":e.fontSizePreference===zt.a.Default,"chat-list--other":e.fontSizePreference!==zt.a.Default});return o.createElement(tn.a,{className:t,display:E.h.Flex,flexDirection:E.i.Column,flexGrow:1,overflow:E.n.Hidden},o.createElement("div",{ref:e.containerRef},o.createElement(Oi,{channelID:e.channelID,pauseSetting:e.chatPauseSetting,hasNewerLeft:e.hasNewerLeft,loadNewer:e.loadNewer,loadNewest:e.loadNewest,messagesHash:e.messages,mouseoverPausingDisabled:e.isShowingCommunityHighlightList,setPaused:e.setPaused},n)))},n}(o.Component)),Mi=Object(Dn.withLatencyTracking)("ChatListPresentation",{autoReportInteractive:!0})(Di),Ii=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={messages:[]},n.onBufferUpdate=function(){n.syncBufferHandle||(n.syncBufferHandle=setTimeout(n.syncBufferedMessages,0))},n.syncBufferedMessages=function(){n.props.messageBufferAPI&&n.setState({messages:n.props.messageBufferAPI.getMessages()}),n.clearBufferHandle()},n.clearBufferHandle=function(){n.syncBufferHandle&&(clearTimeout(n.syncBufferHandle),n.syncBufferHandle=0)},n.hasNewerLeft=function(){return n.props.messageBufferAPI&&n.props.messageBufferAPI.hasNewerLeft&&n.props.messageBufferAPI.hasNewerLeft()||!1},n.setPaused=function(e){n.props.messageBufferAPI&&n.props.messageBufferAPI.setPaused&&n.props.messageBufferAPI.setPaused(e)},n.loadNewer=function(){n.props.messageBufferAPI&&n.props.messageBufferAPI.loadNewer&&n.props.messageBufferAPI.loadNewer()},n.loadNewest=function(){n.props.messageBufferAPI&&n.props.messageBufferAPI.loadNewest&&n.props.messageBufferAPI.loadNewest()},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))},n.prototype.componentDidUpdate=function(e){var n,t,i,a=this.props.pubsub.messages,r=a.chatRichEmbedInfo,o=a.extensionMessage;r&&e.pubsub.messages.chatRichEmbedInfo!==r&&c.p.apollo.client.writeQuery({query:ui,variables:{slug:r.data.twitch_metadata.clip_metadata.slug},data:(n=r,t=n.data.twitch_metadata.clip_metadata,{clip:t.id?{__typename:"Clip",slug:t.slug,id:t.id,url:n.data.request_url,title:n.data.title,thumbnailURL:n.data.thumbnail_url,curator:t.curator_id?{displayName:n.data.author_name,id:t.curator_id,__typename:"User"}:null,broadcaster:t.channel_display_name?{displayName:t.channel_display_name,id:t.broadcaster_id,__typename:"User"}:null}:null})}),e.messageBufferAPI!==this.props.messageBufferAPI&&(e.messageBufferAPI&&e.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.props.messageBufferAPI&&(this.props.messageBufferAPI.addUpdateHandler(this.onBufferUpdate),this.setState({messages:this.props.messageBufferAPI.getMessages()}))),o&&e.pubsub.messages.extensionMessage!==o&&e.onPushMessage((i=o.data,{type:we.b.ExtensionMessage,id:i.id,sentAt:i.sent_at,extension:{clientID:i.sender.extension_client_id,version:i.sender.extension_version,displayName:i.sender.display_name,displayBadges:Object(pi.c)(i.sender.badges),chatColor:i.sender.chat_color},content:{text:i.content.text,fragments:Object(pi.d)(i.content.fragments)}}))},n.prototype.componentWillUnmount=function(){this.props.messageBufferAPI&&this.props.messageBufferAPI.removeUpdateHandler(this.onBufferUpdate),this.clearBufferHandle()},n.prototype.render=function(){return o.createElement(Mi,{badgeSets:this.props.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatPauseSetting:this.props.chatPauseSetting,chatRenderSentEvent:this.props.chatRenderSentEvent,confirmModerationAction:this.props.confirmModerationAction,containerRef:this.props.containerRef,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,deletedMessageDisplay:this.props.deletedMessageDisplay,fontScaleClassName:this.props.fontScaleClassName,fontSizePreference:this.props.fontSizePreference,hasNewerLeft:this.hasNewerLeft(),isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,isEmbedded:this.props.isEmbedded,loadNewer:this.loadNewer,loadNewest:this.loadNewest,messages:this.state.messages,onPushMessage:this.props.onPushMessage,setChatPauseSetting:this.props.setChatPauseSetting,setPaused:this.props.messageBufferAPI&&this.props.messageBufferAPI.setPaused&&this.setPaused,showAutoModActions:this.props.showAutoModActions,showModerationActions:this.props.showModerationActions,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,theme:this.props.theme,useHighContrastColors:this.props.useHighContrastColors,isShowingCommunityHighlightList:this.props.isShowingCommunityHighlightList,userID:this.props.userID,primaryColorHex:this.props.primaryColorHex,repliesAppearancePreference:this.props.repliesAppearancePreference})},n}(o.Component);var Ti=Object(d.d)(Object(V.b)((function(e){return{chatRenderSentEvent:Object(hi.a)(e),fontSizePreference:e.chat.fontSizePreference,showAutoModActions:e.chat.showAutoModActions,showModerationActions:e.chat.showModerationActions,showModerationIcons:e.chat.showModIcons,showTimestamps:e.chat.showTimestamps,repliesAppearancePreference:e.chat.repliesAppearancePreference}})),Object(ci.a)([{skip:function(e){return!e.channelID},topic:function(e){return e.channelID?Object(g.U)(e.channelID):""},mapMessageTypesToProps:(Ni={},Ni[p.PubsubMessageType.StreamChatRoomChatRichEmbed]="chatRichEmbedInfo",Ni[p.PubsubMessageType.StreamChatRoomExtensionMessage]="extensionMessage",Ni)}]),Ee.b,Object(Xe.c)((function(e){return{useHighContrastColors:e.value}})),Object(mi.c)((function(e){return{deletedMessageDisplay:e.value}})),Object(li.d)(li.c),Object(fi.withWatchPartyContext)((function(e){return{isWatchPartyActive:e.isWatchPartyActive}})),Object(U.d)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})),Object(Hn.a)())(Ii),ji=t("GHzV"),Ri=t("fezU"),Pi=t("uy8m"),Fi=t("SSXq"),Li=t("1MDS"),Ai=t("0Hf3"),Ui=t("3GF+"),xi=t("oK83"),Bi=t("cwzQ"),Vi=(t("2D+f"),function(e){function n(n){var i=e.call(this,n)||this;return i.ViewerCard=l.a.wrap((function(){return t.e(83).then(t.bind(null,"q3Qz"))}),"ViewerCard",{placeholder:o.createElement(C.a,{background:E.d.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(Bi.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.ExtensionMessageCard=l.a.wrap((function(){return t.e(77).then(t.bind(null,"n3tJ"))}),"ExtensionMessageCard",{placeholder:o.createElement(C.a,{background:E.d.Base,fullHeight:!0,fullWidth:!0,padding:2},o.createElement(Bi.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.EmoteCard=l.a.wrap((function(){return t.e(76).then(t.bind(null,"unmP"))}),"EmoteCard",{placeholder:o.createElement(C.a,{fullHeight:!0,fullWidth:!0,padding:2},o.createElement(Bi.a,{fillContent:!0})),onRendered:function(){return i.setState({viewerCardComponentLoaded:!0})}}),i.onDragStart=function(e){i.cardContainerRef&&i.layerRef&&e.button===Pi.a.Left&&(window.addEventListener("mousemove",i.onDrag),window.addEventListener("mouseup",i.onDragEnd),window.addEventListener("selectstart",i.cancelSelection),i.setState({dragging:!0}),i.initCardX=i.cardContainerRef.offsetLeft,i.initCardY=i.cardContainerRef.offsetTop,i.initMouseX=e.clientX,i.initMouseY=e.clientY,Object(Ai.j)(i.getTrackingProperties()))},i.onDrag=function(e){i.nextTop=i.initCardY+e.clientY-i.initMouseY,i.nextLeft=i.initCardX+e.clientX-i.initMouseX,i.rafHandle||(i.rafHandle=requestAnimationFrame((function(){i.rafHandle=0,i.cardContainerRef&&(i.cardContainerRef.style.top=i.nextTop+"px",i.cardContainerRef.style.left=i.nextLeft+"px")})))},i.openPopout=function(){if(i.props.viewerCardOptions){var e=i.props.viewerCardOptions.targetID,n=window.open(Object(Fi.a)("/popout/"+i.props.channelLogin+"/viewercard/"+e+"?popout="),"_blank","right=50,top=50,width=340,height=520,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");Object(Ai.g)({targetLogin:e,targetUserID:null,channelID:i.props.channelID,channelLogin:i.props.channelLogin,clickText:Ai.b.PopOut,sourceType:i.props.viewerCardOptions.viewerCardType===xi.c.Viewer?i.props.viewerCardOptions.sourceType:void 0}),n&&(n.focus(),i.props.hideViewerCard())}},i.onDragEnd=function(){i.removeDragListeners(),i.setState({dragging:!1})},i.removeDragListeners=function(){window.removeEventListener("mousemove",i.onDrag),window.removeEventListener("mouseup",i.onDragEnd),window.removeEventListener("selectstart",i.cancelSelection)},i.cancelSelection=function(e){e.preventDefault()},i.hideEmoteCard=function(){i.props.viewerCardOptions&&i.props.viewerCardOptions.viewerCardType===xi.c.Emote&&Object(Li.c)({emoteLocation:Object(Li.b)(i.props.viewerCardOptions.emoteSourceType),emoticonID:i.props.viewerCardOptions.emoteID,chatChannel:i.props.channelLogin,chatChannelID:i.props.channelID?i.props.channelID:"",referrerUserID:i.props.viewerCardOptions.targetID,action:Li.a.Close,msgID:i.props.viewerCardOptions.sourceID,isLoggedIn:Object(Z.f)(c.p.store.getState())}),i.props.hideViewerCard()},i.onClickViewerCardCloseButton=function(){i.props.hideViewerCard(i.getTrackingProperties())},i.getTrackingProperties=function(){var e;return{targetLogin:(null===(e=i.props.viewerCardOptions)||void 0===e?void 0:e.targetID)||"",channelID:i.props.channelID,channelLogin:i.props.channelLogin}},i.state={dragging:!1,viewerCardComponentLoaded:!1},i}return Object(i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.props.hideViewerCard(),this.rafHandle&&cancelAnimationFrame(this.rafHandle),this.removeDragListeners()},n.prototype.componentDidUpdate=function(e){this.props.viewerCardOptions&&e.viewerCardOptions&&(this.props.viewerCardOptions.targetID===e.viewerCardOptions.targetID&&this.props.viewerCardOptions.initialTopOffset===e.viewerCardOptions.initialTopOffset||this.cardContainerRef&&(this.cardContainerRef.style.left="0px"))},n.prototype.render=function(){var e=this,n={"viewer-card-layer":!0,"viewer-card-layer--dragging":this.state.dragging},t={"viewer-card-layer__draggable":!0,"viewer-card-layer__draggable--dragging":this.state.dragging},i=null,r={};if(this.props.viewerCardOptions){if(this.layerRef){var s=this.layerRef.getBoundingClientRect(),d=Math.min(this.props.viewerCardOptions.initialTopOffset-s.top,s.height-240);r={top:Math.max(d,0)+"px"}}switch(this.props.viewerCardOptions.viewerCardType){case xi.c.Extension:i=o.createElement(this.ExtensionMessageCard,{channelID:this.props.channelID,extensionID:this.props.viewerCardOptions.targetID,extensionVersion:this.props.viewerCardOptions.extensionVersion,hideMessageCard:this.props.hideViewerCard});break;case xi.c.Viewer:i=o.createElement(this.ViewerCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,targetLogin:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.sourceType,sourceID:this.props.viewerCardOptions.sourceID,confirmModerationAction:this.props.confirmModerationAction,hideViewerCard:this.props.hideViewerCard});break;case xi.c.Emote:i=o.createElement(this.EmoteCard,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,referrerID:this.props.viewerCardOptions.targetID,sourceType:this.props.viewerCardOptions.emoteSourceType,sourceID:this.props.viewerCardOptions.sourceID,emoteID:this.props.viewerCardOptions.emoteID,emoteCode:this.props.viewerCardOptions.emoteCode,hideViewerCard:this.hideEmoteCard});break;default:i=null}}var c=null;if(i){var l=Object(O.d)("Hide","ViewerCard"),u=o.createElement(ce.a,{icon:I.a.Close,onClick:this.onClickViewerCardCloseButton,"aria-label":l,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"close-viewer-card"}),m=this.props.isModerator||this.props.isOwner,p=Object(O.d)("Popout","ViewerCard"),h=m?o.createElement(ce.a,{icon:I.a.Popout,onClick:this.openPopout,"aria-label":p,overlay:this.state.viewerCardComponentLoaded,"data-test-selector":"popout-viewer-card"}):null;c=o.createElement(tn.a,{className:a(t),position:E.o.Absolute,borderRadius:E.e.Medium,elevation:0},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(n){e.cardContainerRef=n},style:r,"data-a-target":"viewer-card-positioner","data-test-selector":"viewer-card-positioner"},i,o.createElement(C.a,{position:E.o.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(Ui.a,null,h,u)))),this.props.viewerCardOptions.viewerCardType===xi.c.Emote&&(u=o.createElement(ce.a,{icon:I.a.Close,onClick:this.hideEmoteCard,"aria-label":l,type:ce.c.Secondary,"data-test-selector":"close-viewer-card"}),c=o.createElement(tn.a,{className:a(t),position:E.o.Absolute,borderRadius:E.e.Large},o.createElement("div",{onMouseDown:this.onDragStart,ref:function(n){e.cardContainerRef=n},style:r,"data-a-target":"viewer-card-positioner"},i,o.createElement(C.a,{position:E.o.Absolute,attachRight:!0,attachTop:!0,margin:{top:.5,right:.5},"data-a-target":"viewer-card-close-button"},o.createElement(Ui.a,null,u)))))}return o.createElement(tn.a,{className:a(n),fullHeight:!0,fullWidth:!0,position:E.o.Relative,zIndex:E.t.Above},o.createElement("div",{onMouseUp:this.onDragEnd,ref:function(n){e.layerRef=n}},c))},n}(o.Component));var qi,Gi=Object(Ri.c)((function(e){return{viewerCardOptions:e.viewerCardOptions,hideViewerCard:e.hideViewerCard}}))(Vi),Hi=t("bjUr"),Wi=t("Y3y8"),zi=(t("7NxT"),t("j+2s")),Qi=t("eirU"),Yi=t("rwq7"),Ki=t("XDCx"),$i=t("HzXE"),Xi=t("InpH"),Zi=t("/HY+"),Ji=t("JTkP"),ea=t("afq6"),na=t("xlBl"),ta=t("Uduz"),ia=t("kOvl"),aa=(t("9R7K"),t("XDQu")),ra=t("VZIO"),oa=t("1VX3"),sa=t("fDzC"),da="chatlogs-error",ca="chatlogs-message-lines",la=function(e){var n,t,i,a=Object(V.e)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id})),r=Object(Qi.d)(sa,{skip:!e.channelID||!a,variables:{channelID:e.channelID},fetchPolicy:"cache-and-network"}),s=r.data,d=r.loading,l=r.error,u=Object(V.e)((function(e){return Object(aa.a)(e)})),m=o.useContext(Xe.b).value,p=o.useMemo((function(){var e;return(null==s?void 0:s.badges)&&(null===(e=s.user)||void 0===e?void 0:e.broadcastBadges)&&s.user.login?new b.c(s.badges,s.user.broadcastBadges,s.user.login):new b.c([])}),[s]);if(d)return o.createElement(C.a,{justifyContent:E.m.Center,padding:{y:1},display:E.h.Flex},o.createElement(Bi.a,null));var h=null===(i=null===(t=null===(n=null==s?void 0:s.channel)||void 0===n?void 0:n.self)||void 0===t?void 0:t.modChatLogs)||void 0===i?void 0:i.edges;if(!h||l)return o.createElement(C.a,{justifyContent:E.m.Center,padding:{y:1},display:E.h.Flex},o.createElement(w.a,{"data-test-selector":da},Object(c.d)("Error loading chat logs in channel","UnbanRequestForm")));var f=h.map((function(e){var n=e.node;if(n){if("ModLogsMessage"===n.__typename){var t=n;return o.createElement(oa.a,{channelID:null,key:t.id,badgeSets:p,hasModPermissions:!1,message:t,showTimestamps:!1,showModerationIcons:!1,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:m,theme:u})}if("AutoModCaughtMessage"===n.__typename){t=n;return o.createElement(ra.a,{channelID:null,key:n.id,badgeSets:p,caughtMessage:t,hideTimestamp:!0,hideDetails:!0,highContrastUsernameColor:m,theme:u})}}return null})).reverse();return f.length?o.createElement(C.a,{borderBottom:!0,margin:{bottom:1},className:"unban-request-form__chatlogs-container",display:E.h.Flex,flexDirection:E.i.Column},o.createElement(w.a,null,Object(c.d)("Channel Mods will see the most recent messages you sent in chat along with your request:","UnbanRequestForm")),o.createElement(yi.b,{autoHide:!1},o.createElement(C.a,{"data-test-selector":ca,padding:{y:1}},f))):null},ua="requester-message-input",ma="cancel-button",pa="submit-button",ha="ban-reason",fa=function(e){var n,t,a,r,s=Object(V.e)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id})),d=o.useState(!1),l=d[0],u=d[1],m=o.useState(e.requesterMessage||""),p=m[0],h=m[1],f=o.useState(!1),g=f[0],v=f[1],b=o.useState(!1),y=b[0],k=b[1];return o.createElement(C.a,{className:"unban-request-form",display:E.h.Flex,flexDirection:E.i.Column,padding:{x:.5}},o.createElement(C.a,{className:"unban-request-form__content",padding:{x:3,top:1},display:E.h.Flex,flexDirection:E.i.Column},e.banReason&&o.createElement(C.a,{margin:{bottom:1},className:"unban-request-form__ban-reason-container",display:E.h.Flex,flexDirection:E.i.Column},o.createElement(w.a,null,Object(c.d)("Channel Mods gave a reason for your ban:","UnbanRequestForm")),o.createElement(yi.b,{autoHide:!1},o.createElement(C.a,{padding:{y:.5,left:1},margin:{top:.5},className:"unban-request-form__ban-reason","data-test-selector":ha},e.banReason))),o.createElement(la,{channelID:e.channelID}),o.createElement(ea.a,{label:Object(c.d)("Enter a Reason for Your Unban","UnbanRequestForm"),errorMessage:y?Object(c.d)("Please enter a reason.","UnbanRequestForm"):Object(Ji.c)(null===(r=null===(a=null===(t=null===(n=e.createUnbanRequestResult)||void 0===n?void 0:n.data)||void 0===t?void 0:t.createUnbanRequest)||void 0===a?void 0:a.error)||void 0===r?void 0:r.code),error:g||y},o.createElement(na.a,{error:y,"data-test-selector":ua,rows:3,maxLength:500,onChange:function(e){h(e.target.value),e.target.value&&k(!1)},placeholder:Object(c.d)("Tell the Mods why you should return to chat","UnbanRequestForm"),value:p}),o.createElement(C.a,{display:E.h.Flex,padding:{top:.5},alignItems:E.b.Center},o.createElement(C.a,{display:E.h.Flex,padding:{right:.5},className:"unban-request-form__hint-icon"},o.createElement(M.a,{asset:I.a.NotificationInfo})),o.createElement(C.a,{color:E.f.Alt2,display:E.h.Flex,padding:{right:.5}},Object(c.d)("You can only request an unban once, so make it count!","UnbanRequestForm"))))),o.createElement(ta.a,{padding:{y:2,x:3},primaryButtonProps:{"data-test-selector":pa,children:Object(c.d)("Submit","UnbanRequestForm"),onClick:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:if(u(!0),v(!1),!p.trim())return k(!0),u(!1),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.onCreateUnbanRequest(p)];case 2:return n.sent(),e.onSubmit(),c.p.tracking.track($.SpadeEventType.UnbanRequestSubmit,{user_id:s,channel_id:e.channelID,custom_message:p}),[3,4];case 3:return n.sent(),v(!0),[3,4];case 4:return u(!1),[2]}}))}))},state:l?_.c.Loading:_.c.Default},secondaryButtonProps:{"data-test-selector":ma,children:Object(c.d)("Cancel","UnbanRequestForm"),onClick:e.onClose},size:ia.a.Medium}))},ga=t("UUjt"),va=t("PLT/"),ba=(t("n2j5"),t("xsgf"));!function(e){e.UnbanModal="unban-modal",e.Error="unban-modal-error"}(qi||(qi={}));var ya,ka=function(e){var n,t,i,a,r,s,d=Object(Qi.d)(ba,{variables:{channelID:e.channelID}}),c=d.data,l=d.loading,u=!!(null===(i=null===(t=null===(n=null==c?void 0:c.user)||void 0===n?void 0:n.self)||void 0===t?void 0:t.banStatus)||void 0===i?void 0:i.isPermanent),m=(null===(s=null===(r=null===(a=null==c?void 0:c.user)||void 0===a?void 0:a.self)||void 0===r?void 0:r.banStatus)||void 0===s?void 0:s.reason)||null,p=Object(V.d)();if(l)return o.createElement(Bi.a,null);var h=o.createElement(ga.a,{closeButton:{"aria-label":Object(O.d)("Close","UnbanRequestFormButton"),onClick:function(){return p(Object(Ki.d)())}},size:ia.a.Medium,title:Object(O.d)("Request Unban","UnbanRequestFormButton")});return u?o.createElement(Xe.a,null,o.createElement(ia.b,{size:ia.a.Medium,"data-test-selector":qi.UnbanModal},o.createElement(C.a,{className:"unban-request-modal",display:E.h.Flex,flexDirection:E.i.Column},h,o.createElement(fa,{channelID:e.channelID,banReason:m,onCreateUnbanRequest:e.onCreateUnbanRequest,createUnbanRequestResult:e.createUnbanRequestResult,onSubmit:function(){p(Object(Ki.d)())},onClose:function(){return p(Object(Ki.d)())},requesterMessage:e.requesterMessage})))):o.createElement(ia.b,{size:ia.a.Medium,"data-test-selector":qi.Error},h,o.createElement(C.a,{display:E.h.Flex,flexDirection:E.i.Column,padding:{x:.5}},o.createElement(va.a,{padding:{x:3,top:1}},o.createElement(C.a,{display:E.h.Flex},Object(O.d)("It looks like a Moderator has already unbanned you. Click below to refresh the page and return to chat.","UnbanRequestFormError"))),o.createElement(ta.a,{padding:{y:2,x:3},primaryButtonProps:{children:Object(O.d)("Refresh","UnbanRequestFormButton"),onClick:function(){return window.location.reload(!1)}}})))},Sa=t("geRD"),Ca=t("AF7G"),Ea=t("OJmJ"),wa=t("jgvh"),_a=t("AwyB"),Na=t("1wAY"),Oa=t("Zb44"),Da=function(e){var n,t=o.useContext(Ea.d),a=t.addSnackbarToQueue,s=t.removeSnackbarFromQueue,d=Object(Qi.c)(_a),l=d[0],u=d[1],m=Object(Qi.c)(wa)[0],p=Object(Qi.b)(Na,{fetchPolicy:"network-only",variables:{channelID:e,includeCanRequestUnban:!0}})[0],h=Object(Qi.b)(Oa,{fetchPolicy:"network-only",variables:{channelID:e}})[0],f=Object(V.d)(),g=function(e,t,i){n=a(o.createElement(Ca.b,{message:e,type:t,buttonProps:i}))},b=function(e){e!==v.df.INVALID_UPDATE&&g(Object(Ji.b)(e),Ca.d.Error)},y=function(t,a,r){return{children:o.createElement(w.a,{fontSize:E.k.Size5,bold:!0},Object(c.d)("Undo","UndoUnbanRequestSnackbar")),onClick:function(){return function(t,a,r){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var o,d,c,l,u,p,h;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,m({variables:{input:{id:t}}})];case 1:return o=i.sent(),d=o.data,(null==(c=o.errors)?void 0:c.length)||(null===(l=null==d?void 0:d.cancelUnbanRequest)||void 0===l?void 0:l.error)||!(null===(u=null==d?void 0:d.cancelUnbanRequest)||void 0===u?void 0:u.unbanRequest)?b(null===(h=null===(p=null==d?void 0:d.cancelUnbanRequest)||void 0===p?void 0:p.error)||void 0===h?void 0:h.code):(f(Object(Ki.e)(ka,{channelID:e,requesterMessage:a,onCreateUnbanRequest:k,createUnbanRequestResult:r})),n&&s(n)),[3,3];case 2:return i.sent(),b(),[3,3];case 3:return[2]}}))}))}(t,a,r)},"aria-label":Object(c.d)("Undo Unban Request","UndoUnbanRequestSnackbar")}},k=function(n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,a,o,s,d,m,f,b,k;return Object(i.__generator)(this,(function(S){switch(S.label){case 0:t={channelID:e,requesterMessage:n},S.label=1;case 1:return S.trys.push([1,6,,7]),[4,l({variables:{input:t}})];case 2:return a=S.sent(),o=a.data,(null==(s=a.errors)?void 0:s.length)||(null===(m=null==o?void 0:o.createUnbanRequest)||void 0===m?void 0:m.error)||null===(f=null==o?void 0:o.createUnbanRequest)||void 0===f||!f.unbanRequest?[2,(C=null===(k=null===(b=null==o?void 0:o.createUnbanRequest)||void 0===b?void 0:b.error)||void 0===k?void 0:k.code,C===v.Ob.ALREADY_CREATED?(p(),void g(Object(Ji.c)(C),Ca.d.Warning)):C===v.Ob.TOO_SOON_SINCE_BAN||C===v.Ob.UNBAN_REQUESTS_DISABLED?(p(),h(),void g(Object(Ji.c)(C),Ca.d.Error)):Promise.reject())]:[3,3];case 3:return d=o.createUnbanRequest.unbanRequest,[4,Object(Sa.j)(Na,{channelID:e},(function(e){var n;return(null===(n=null==e?void 0:e.channel)||void 0===n?void 0:n.self)?r(e,(function(e){return e.channel.self}),(function(){return Object(i.__assign)(Object(i.__assign)({},e.channel.self),{canRequestUnban:!1,unbanRequestRestriction:v.ef.ALREADY_CREATED,lastUnbanRequest:Object(i.__assign)(Object(i.__assign)({},d),{resolverMessage:null})})})):e}))];case 4:return S.sent(),g(Object(c.d)("Your unban request will be reviewed.","UnbanRequestForm"),Ca.d.Info,y(d.id,n,u)),[2,Promise.resolve()];case 5:return[3,7];case 6:return S.sent(),[2,Promise.reject()];case 7:return[2]}var C}))}))};return[k,u]},Ma=t("mrHo"),Ia=t("wGMF"),Ta=t("RGzP"),ja=(t("SkaC"),"ban-reason"),Ra="cooldown-info",Pa="disabled-info",Fa="view-details-button",La=function(e){var n,t,i,a=e.banReason,r=e.bannedAt,s=e.settings,d=!!(null==s?void 0:s.isEnabled),l=null!==(n=null==s?void 0:s.cooldownMinutes)&&void 0!==n?n:0,u=o.createElement(ce.a,{icon:I.a.Close,size:ce.b.Small,"aria-label":Object(c.d)("Close","CannotRequestUnbanDetails")}),m=o.createElement(C.a,{display:E.h.Flex,padding:1,color:E.f.Alt2,className:"cannot-request-unban__info-stripe",background:E.d.Alt,"data-test-selector":Pa},o.createElement("span",null,o.createElement(M.a,{asset:I.a.NotificationInfo,height:16,width:16}),Object(c.d)("This channel is not accepting unban requests.","CannotRequestUnbanDetails")));return o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.Center,fullWidth:!0,padding:{bottom:1}},o.createElement(Yi.a,{hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{strategy:"fixed",placement:"bottom"}},button:o.createElement(_.a,{type:_.d.Text,"data-test-selector":Fa},Object(c.d)("View Details","UnbanRequestStatus")),dialog:o.createElement(Qe.b,{size:Qe.a.Medium},o.createElement(C.a,{flexDirection:E.i.Column,display:E.h.Flex,textAlign:E.q.Left},a?o.createElement(C.a,{padding:1,"data-test-selector":ja},o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.Between},o.createElement(C.a,{alignSelf:E.c.Center},o.createElement(Ia.a,null,Object(c.d)("Channel Mods gave a reason for your ban","CannotRequestUnbanDetails"))),u),o.createElement(C.a,{className:"cannot-request-unban__ban-reason",padding:{left:.5},margin:{top:.5}},a)):null,!!l&&d&&(t=new Date(r),i=Aa(t,l),o.createElement(C.a,{padding:1,"data-test-selector":Ra},o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.Between},o.createElement(C.a,{alignSelf:E.c.Center},o.createElement(Ia.a,null,Object(c.d)("About your ban","CannotRequestUnbanDetails"))),!a&&u),Object(c.d)("You can request an unban at {date, time, short} on {date, date, medium}",{date:i},"CannotRequestUnbanDetails"))),!d&&m))}))},Aa=function(e,n){return new Date(e.getTime()+6e4*n)},Ua=t("CGXs"),xa=t("8XDC"),Ba=function(e){var n=e.channelID,t=e.currentUserID,a=e.lastUnbanRequest,s=e.refetchLastRequest,d=Object(Ua.a)(Object(g.fb)(t,n))[0],c=Object(xa.a)(d);return o.useEffect((function(){d&&d!==c&&(a&&(null==a?void 0:a.status)===v.ff.PENDING&&d.data.id===a.id?Object(Sa.j)(Na,{channelID:n,includeCanRequestUnban:!0},(function(e){return r(e,(function(e){return e.channel.self.lastUnbanRequest}),(function(e){var n;return Object(i.__assign)(Object(i.__assign)({},e),{status:d.data.status,resolverMessage:null!==(n=d.data.resolver_message)&&void 0!==n?n:null})}))})):s())}),[n,a,d,c,s]),null};!function(e){e.PendingUnbanRequest="pending-unban-request",e.RequestUnbanLink="request-unban-link",e.BannedUserMessage="banned-user-message",e.ModNoteButton="mod-note-button-toggle",e.ModNoteBalloon="mod-note-balloon",e.ReportButton="report-mod-note",e.CooldownText="cooldown-text"}(ya||(ya={}));var Va=function(e){var n,t=Object(Xi.a)(e.channelLogin);return(null===(n=null==e?void 0:e.unbanRequest)||void 0===n?void 0:n.resolverMessage)?o.createElement(C.a,{display:E.h.Flex,justifyContent:E.m.Center,fullWidth:!0,padding:{bottom:1}},o.createElement(Yi.a,{hideBalloonOnInsideClick:!0,dialogLayerProps:{options:{strategy:"fixed",placement:"bottom"}},button:o.createElement(_.a,{type:_.d.Text,"data-test-selector":ya.ModNoteButton},Object(c.d)("View Moderator Note","UnbanRequestStatus")),dialog:o.createElement(Qe.b,{"data-test-selector":ya.ModNoteBalloon,size:Qe.a.Medium},o.createElement(C.a,{padding:1,flexDirection:E.i.Column,display:E.h.Flex,textAlign:E.q.Left},o.createElement(C.a,{display:E.h.Flex,padding:{bottom:1},alignItems:E.b.Center,justifyContent:E.m.Between},o.createElement(Ia.a,null,Object(c.d)("From {channelName}'s Moderators",{channelName:t},"UnbanRequestStatus")),o.createElement(C.a,{display:E.h.Flex,padding:{left:1}},o.createElement(ce.a,{icon:I.a.Report,size:ce.b.Small,"data-test-selector":ya.ReportButton,onClick:e.onReportClick,"aria-label":Object(c.d)("Report Moderators","DeniedUnbanRequestModNote")}),o.createElement(ce.a,{icon:I.a.Close,size:ce.b.Small,"aria-label":Object(c.d)("Close","UnbanRequestStatus")}))),o.createElement(w.a,{wordBreak:w.g.BreakWord,ellipsis:!0},e.unbanRequest.resolverMessage)))})):null},qa=function(e){var n,t,i,a,r,s,d,l,u,m,p,h,f,g,b,y,k,S,N=Object(V.e)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id})),O=Object(Qi.d)(Na,{variables:{channelID:null!==(n=e.channelID)&&void 0!==n?n:"",includeCanRequestUnban:!0},skip:!e.channelID}),D=O.data,M=O.loading,I=O.refetch,T=Object(Qi.d)($i,{variables:{channelID:null!==(t=e.channelID)&&void 0!==t?t:"",targetUserID:null!=N?N:""},skip:!N||!e.channelID}),j=T.data,R=T.loading,P=Object(Qi.d)(Oa,{variables:{channelID:null!==(i=e.channelID)&&void 0!==i?i:""},skip:!e.channelID}),F=P.data,L=P.loading,A=Da(null!==(a=e.channelID)&&void 0!==a?a:""),U=A[0],x=A[1],B=null===(s=null===(r=null==D?void 0:D.channel)||void 0===r?void 0:r.self)||void 0===s?void 0:s.lastUnbanRequest,q=null==B?void 0:B.status,G=null===(d=null==j?void 0:j.chatRoomBanStatus)||void 0===d?void 0:d.createdAt,H=null===(u=null===(l=null==D?void 0:D.channel)||void 0===l?void 0:l.self)||void 0===u?void 0:u.canRequestUnban,W=null===(p=null===(m=null==D?void 0:D.channel)||void 0===m?void 0:m.self)||void 0===p?void 0:p.unbanRequestRestriction,z=null===(f=null===(h=null==F?void 0:F.channel)||void 0===h?void 0:h.unbanRequestsSettings)||void 0===f?void 0:f.isEnabled,Q=null!==(y=null===(b=null===(g=null==F?void 0:F.channel)||void 0===g?void 0:g.unbanRequestsSettings)||void 0===b?void 0:b.cooldownMinutes)&&void 0!==y?y:0,Y=o.useMemo((function(){return W!==v.ef.NOT_BANNED||Q?!!H:!!G}),[G,H,Q,W]),K=o.useMemo((function(){if(!G||!B||q===v.ff.CANCELED)return!1;var e=new Date(B.createdAt);return new Date(G)<e}),[G,B,q]),X=K&&q===v.ff.DENIED,Z=Object(V.d)();if(M||R||L)return o.createElement(Ta.a,{lineCount:3});if(null===H||!G)return null;var J=function(){B&&e.channelID&&Z(Object(Ki.e)(Zi.a,{reportContext:{trackingContext:"UNBAN_REQUEST_REPORT",contentType:v.fe.UNBAN_REQUEST_REPORT,targetUserID:e.channelID,contentID:B.id,targetDisplayName:Object(c.d)("{channelName}'s Moderator",{channelName:e.channelLogin},"UnbanRequestResolverReport")},title:Object(c.d)("Report Moderator's Message","ReportModalWizard")}))},ee=!K&&Q>0&&z,ne=o.createElement(C.a,{padding:{x:4,bottom:1}},o.createElement(w.a,{fontSize:E.k.Size6,color:E.f.Alt2,"data-test-selector":ya.BannedUserMessage,type:w.e.Span},Object(c.d)("You are unable to participate in this channel's chat until a moderator unbans you.","UnbanRequestStatus")," "),ee&&o.createElement(w.a,{fontSize:E.k.Size6,color:E.f.Alt2,"data-test-selector":ya.CooldownText,type:w.e.Span},Object(c.d)("This channel allows banned users to request an unban once they have waited {cooldownPeriod}.",{cooldownPeriod:Object(Ma.b)(Q)},"UnbanRequestStatus")));return o.createElement(o.Fragment,null,!X&&ne,K&&function(){if(!B||!K)return null;var n=new Date(B.createdAt);return o.createElement(C.a,{display:E.h.Flex,fullWidth:!0,flexDirection:E.i.Column},o.createElement(C.a,{margin:{x:4},padding:{y:1},borderTop:!0,display:E.h.Flex},o.createElement(w.a,{fontSize:E.k.Size7,color:E.f.Alt2,bold:!0,"data-test-selector":ya.PendingUnbanRequest},X?Object(c.d)("The unban request you made at {time} on {date} was denied.",{time:Object(c.j)(n),date:Object(c.c)(n,"long")},"UnbanRequestStatus"):Object(c.d)("You made a request to be unbanned at {time} on {date}.",{time:Object(c.j)(n),date:Object(c.c)(n,"long")},"UnbanRequestStatus"))),X&&o.createElement(Va,{unbanRequest:B,channelLogin:e.channelLogin,onReportClick:J}))}(),Y&&o.createElement(_.a,{type:_.d.Text,onClick:function(){e.channelID&&(Z(Object(Ki.e)(ka,{channelID:e.channelID,onCreateUnbanRequest:U,createUnbanRequestResult:x})),c.p.tracking.track($.SpadeEventType.UnbanRequestFormOpen,{user_id:N,channel_id:e.channelID}))},"data-test-selector":ya.RequestUnbanLink},Object(c.d)("Request Unban","UnbanRequestStatus")),!Y&&!K&&o.createElement(La,{bannedAt:G,banReason:null===(k=null==j?void 0:j.chatRoomBanStatus)||void 0===k?void 0:k.reason,settings:null===(S=null==F?void 0:F.channel)||void 0===S?void 0:S.unbanRequestsSettings}),N&&e.channelID&&o.createElement(Ba,{channelID:e.channelID,currentUserID:N,lastUnbanRequest:B,refetchLastRequest:I}))},Ga=(t("98Kj"),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return o.createElement(Ca.a,null,o.createElement("div",{className:"banned-chat-overlay__snackbar-list-container"},o.createElement(Ca.c,{className:"banned-chat-overlay__channel-page-snackbar-list",snackbarItemClassName:"banned-chat-overlay__channel-page-snackbar-list-items",transitionType:yt.d.SlideOverBottom,alignItems:E.b.Start})),o.createElement(C.a,{display:E.h.Flex,fullWidth:!0,fullHeight:!0,padding:{bottom:2,x:2},justifyContent:E.m.Center,alignItems:E.b.Center,textAlign:E.q.Center,overflow:E.n.Auto},o.createElement(C.a,{fullHeight:!0,fullWidth:!0,attachTop:!0,attachLeft:!0,display:E.h.Flex,flexDirection:E.i.Column,alignItems:E.b.Center,justifyContent:E.m.Center,flexShrink:0},o.createElement(C.a,null,o.createElement(C.a,null,o.createElement("svg",{height:48,width:48},o.createElement("circle",{className:"banned-chat-overlay__circle",r:"20",cx:"24",cy:"24"}))),o.createElement(C.a,{className:"banned-chat-overlay__halt"},o.createElement(M.a,{asset:I.a.Halt,height:48,width:48}))),o.createElement(C.a,{fullWidth:!0},o.createElement(C.a,{padding:{y:1}},o.createElement(w.a,{fontSize:E.k.Size5,color:E.f.Alt2,"data-test-selector":"current-user-banned-text",bold:!0},Object(c.d)("You are banned from Chat","ChatInput"))),o.createElement(qa,{channelID:this.props.channelID,channelLogin:this.props.channelLogin})))))},n}(o.Component)),Ha=(t("kPCN"),"chat-room-header-label"),Wa="chat_rules_shown",za=c.k.withCategory("chat-room"),Qa=l.a.wrap((function(){return t.e(74).then(t.bind(null,"nZtu"))}),"AcknowledgeUnbanRequestPrompt"),Ya=l.a.wrap((function(){return Promise.all([t.e(0),t.e(75)]).then(t.bind(null,"A39y"))}),"ChatViewers"),Ka=l.a.wrap((function(){return t.e(79).then(t.bind(null,"Y9qK"))}),"NewChatterRitual",{failSilently:!0,placeholder:null}),$a=l.a.wrap((function(){return Promise.all([t.e(0),t.e(66)]).then(t.bind(null,"DlC9"))}),"CommunityHighlightStackManager",{placeholder:null}),Xa=function(e){function n(n){var t=e.call(this,n)||this;t.hasAcceptedModerationConfirmation=!1,t.isCurrentUserBanned=function(){var e,n,i,a;return(null===(a=null===(i=null===(n=null===(e=t.props.currentUserBannedStatusData)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.banStatus)||void 0===a?void 0:a.isPermanent)||!1},t.closeViewersList=function(){t.props.closeChatViewerList()},t.confirmModerationAction=function(){return!(t.props.isEmbedded&&!t.hasAcceptedModerationConfirmation)||(t.hasAcceptedModerationConfirmation=window.confirm(Object(c.d)("Do you want to enable the ability to timeout and ban on embedded version of Twitch Chat? This setting will persist until you refresh the page.","ChatRoom")),t.hasAcceptedModerationConfirmation)},t.onChatInputFocus=function(){var e=c.m.get(Wa,{});t.props.chatRules&&t.props.chatRules.length>0&&!e[t.props.channelLogin]&&(t.props.onShowChatRules(),t.props.showChatRules())},t.setChatListElement=function(e){t.setState({chatListElement:e})},t.shouldHideChatInput=function(){return t.props.chatView===Hi.a.ViewerList},t.openRaidUpsellFromHost=function(e){return t.closeRaidUpsell((function(){t.setState({raidUpsellTarget:e})}))},t.closeRaidUpsell=function(e){return t.setState({raidUpsellTarget:null},(function(){e&&e()}))},t.onSendCheerError=function(e,n){switch(n.code){case v.ve.AUTO_MOD_MESSAGE:t.setState({moderatedReason:xe.AUTOMOD,forceSendCheer:!1,moderatedMessageParts:Object(pi.g)(n.messageContent.fragments,!1)});break;case v.ve.INVALID_ANONYMOUS_MESSAGE:t.setState({moderatedReason:xe.ANONYMOUS_CHEERING,forceSendCheer:!1,anonymousCheerMessageParts:Object(pi.g)(n.messageContent.fragments,!1,t.props.currentUserLogin,t.props.bitsConfig),moderatedMessageParts:[Object(f.a)(e)]});break;default:t.setState({bitsSendErrorCode:n.code,bitsSendHasError:!0}),t.clearCheerErrorPrompts()}},t.clearBitsSendError=function(){t.setState({bitsSendErrorCode:v.ve.UNKNOWN,bitsSendHasError:!1})},t.clearCheerErrorPrompts=function(){t.setState({forceSendCheer:!1,moderatedReason:null,moderatedMessageParts:null,anonymousCheerMessageParts:null})},t.onBitsAutoModCheerAnyway=function(){t.setState({moderatedReason:null,forceSendCheer:!0})},t.onInvalidAnonymousCheerPromptCheerAnyway=function(){t.setState({moderatedReason:null,forceSendCheer:!0})},t.onBadgesChanged=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,n,t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return!this.props.data||this.props.data.loading?[3,2]:[4,this.props.data.refetch()];case 1:if((e=i.sent()).data){if(!(n=e.data).user||!n.user.self)return[2];t={},n.user.self.displayBadges.forEach((function(e){e&&(t[e.setID]=e.version)})),c.p.tmi.client.updateChannelBadges(this.props.channelLogin,t,{})}i.label=2;case 2:return[2]}}))}))};var a=new b.c([],[],t.props.channelLogin);return t.state={raidUpsellTarget:null,badgeSets:a,forceSendCheer:!1,bitsSendErrorCode:v.ve.UNKNOWN,bitsSendHasError:!1,moderatedMessageParts:null,anonymousCheerMessageParts:null},t}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e){var n={};if(e.data&&e.data.badges&&e.data.user&&e.data.user.broadcastBadges&&(n.badgeSets=new b.c(e.data.badges,e.data.user.broadcastBadges,e.channelLogin)),e.data&&e.data.user&&e.data.user.self&&!e.data.user.squadStream&&e.data.user.self.displayBadges){var t={};e.data.user.self.displayBadges.forEach((function(e){e&&(t[e.setID]=e.version)})),c.p.tmi.client.updateChannelBadges(e.channelLogin,t,e.userBadgeDynamicData||{})}return Object.keys(n).length>0?n:null},n.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.props.onCloseChatRules()},n.prototype.componentWillUnmount=function(){this.props.onCloseChatRules()},n.prototype.render=function(){var e,n,t;if(this.props.isBackground)return null;if(this.props.isHidden&&!this.props.isPopout)return o.createElement(C.a,{alignItems:E.b.Center,borderLeft:!0,display:E.h.Flex,flexDirection:E.i.Column,fullHeight:!0,fullWidth:!0,justifyContent:E.m.Center,color:E.f.Base,position:E.o.Relative},o.createElement(C.a,{margin:{bottom:1}},o.createElement(w.a,{fontSize:E.k.Size5},Object(c.d)("Chat is hidden.","ChatRoom"))),o.createElement(_.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button","data-test-selector":"show-chat-button"},Object(c.d)("Show Chat","ChatRoom")));var i=this.props.bitsEnabled&&this.props.firstPageLoaded&&this.props.channelID&&o.createElement(L,{channelID:this.props.channelID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,userID:this.props.userID}),r=this.props.chatView===Hi.a.ViewerList&&o.createElement(C.a,{attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,background:E.d.Alt2,position:E.o.Absolute,zIndex:E.t.Above},o.createElement(C.a,{padding:{y:1}},o.createElement(C.a,{position:E.o.Absolute,attachLeft:!0,margin:{left:1}},o.createElement(ce.a,{icon:I.a.Close,"aria-label":Object(c.d)("Close","ChatRoom"),onClick:this.closeViewersList,"data-test-selector":"close-viewer-list"}))),o.createElement(Ya,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,closeViewersList:this.closeViewersList,isCurrentUserBanned:this.isCurrentUserBanned(),"data-test-selector":"chat-viewers"})),s=!!this.props.authToken&&!this.props.isEmbedded,d=o.createElement(o.Fragment,null,i,this.props.channelID&&this.props.firstPageLoaded&&o.createElement($a,{key:this.props.channelID,channelID:this.props.channelID,channelLogin:this.props.channelLogin}),o.createElement(Ti,{badgeSets:this.state.badgeSets,channelID:this.props.channelID,channelLogin:this.props.channelLogin,containerRef:this.setChatListElement,confirmModerationAction:this.confirmModerationAction,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,isEmbedded:this.props.isEmbedded,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isStaff,onPushMessage:this.props.onPushMessage,theme:this.props.theme,userID:this.props.userID,primaryColorHex:null!==(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===n?void 0:n.primaryColorHex)&&void 0!==t?t:null}),o.createElement(C.a,{className:"chat-room__notifications",position:E.o.Absolute,zIndex:E.t.Above,fullWidth:!0},this.props.children),r,this.state.raidUpsellTarget&&o.createElement(ji.a,null,o.createElement(pn,{send:this.props.onSendMessage,targetChannelLogin:this.state.raidUpsellTarget,sourceChannelLogin:this.props.channelLogin,closeRaidUpsell:this.closeRaidUpsell})),this.props.firstPageLoaded&&this.props.channelID&&o.createElement(Ka,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,onPushMessage:this.props.onPushMessage,onSendMessage:this.props.onSendMessage}),this.state.moderatedReason===xe.AUTOMOD&&o.createElement(T,{badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onBitsAutoModCheerAnyway}),this.state.moderatedReason===xe.ANONYMOUS_CHEERING&&o.createElement(N,{messageParts:this.state.anonymousCheerMessageParts||[],badgeSets:this.state.badgeSets,onEditCheer:this.clearCheerErrorPrompts,onCheerAnyway:this.onInvalidAnonymousCheerPromptCheerAnyway}));this.isCurrentUserBanned()&&this.props.chatView!==Hi.a.ViewerList&&(d=o.createElement(Ga,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}));var l=a({"chat-room":!0,"chat-room__base-background":!!this.props.useBaseBackground});return o.createElement(tn.a,{"data-test-selector":"chat-room-component-layout","data-a-target":this.props.theme===h.a.Dark?"chat-theme-dark":"chat-theme-light",flexShrink:1,flexGrow:1,display:E.h.Flex,flexDirection:E.i.Column,fullWidth:!0},o.createElement("section",{"data-test-selector":"chat-room-section",className:l,role:"complementary","aria-labelledby":Ha},o.createElement(yt.a,{type:yt.d.Fade,duration:yt.c.Long,show:this.props.isShowingCommunityHighlightList,transitionInitialMount:!0,injectChild:!0},o.createElement(tn.a,{position:E.o.Absolute,zIndex:E.t.Above,className:"chat-room__overlay",fullHeight:!0,fullWidth:!0},o.createElement("div",{onClick:this.props.closeCommunityHighlightList}))),o.createElement(C.a,{display:E.h.Flex,flexDirection:E.i.Column,flexWrap:E.j.NoWrap,position:E.o.Relative,flexGrow:1,fullHeight:!0,color:E.f.Base,className:"chat-room__content"},this.props.chatRoomHeader,d,!this.props.isReadOnly&&this.props.firstPageLoaded&&o.createElement(Qa,{"data-test-selector":"acknowledge-unban-request-prompt-selector",channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,chatRules:this.props.chatRules,isCurrentUserBanned:this.isCurrentUserBanned()}),!this.props.isReadOnly&&o.createElement(B.a,{onBadgesChanged:this.onBadgesChanged,displayBadges:this.dataBadgeToSchemaBadge()},o.createElement(di,{authToken:this.props.authToken,enableBitsInput:s,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,chatRules:this.props.chatRules,channelLogin:this.props.channelLogin,commandPermissionLevel:this.props.commandPermissionLevel,darkModeEnabled:this.props.theme===h.a.Dark,emotes:this.props.emotes,emoteMap:this.props.emoteMap,firstPageLoaded:this.props.firstPageLoaded,hidden:this.shouldHideChatInput(),currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,currentUserID:this.props.userID,isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHostMode:this.props.isHostMode,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatCommand:this.props.onSendMessage,onShowChatRules:this.props.chatRules&&this.props.chatRules.length?this.props.onShowChatRules:void 0,badgeSets:this.state.badgeSets,userBadges:this.props.userBadges,showViewersList:this.props.showChatViewerList,onSendMessage:this.props.onSendMessage,onPushMessage:this.props.onPushMessage,onInputFocus:this.onChatInputFocus,containerElement:this.state.chatListElement,openRaidUpsellFromHost:this.openRaidUpsellFromHost,onSendCheerError:this.onSendCheerError,onSendCheerSuccess:this.clearCheerErrorPrompts,isTextInputDisabled:!!this.state.moderatedReason,forceSendCheer:this.state.forceSendCheer,moderatedReason:this.state.moderatedReason,moderatedMessageParts:this.state.moderatedMessageParts,bitsSendErrorCode:this.state.bitsSendErrorCode,bitsSendHasError:this.state.bitsSendHasError,clearBitsSendError:this.clearBitsSendError})),o.createElement(C.a,{className:"chat-room__viewer-card",fullHeight:!0,fullWidth:!0,position:E.o.Absolute,"data-a-target":"chat-user-card"},o.createElement(Gi,{isPopout:this.props.isPopout,isEmbedded:this.props.isEmbedded,confirmModerationAction:this.confirmModerationAction,onSendMessage:this.props.onSendMessage,channelID:this.props.channelID,channelLogin:this.props.channelLogin,isModerator:!!this.props.isCurrentUserModerator&&this.props.isCurrentUserModerator,isOwner:this.props.isOwnChannel})))))},n.prototype.dataBadgeToSchemaBadge=function(){var e,n,t,i,a=this,r=[];return null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.user)||void 0===n?void 0:n.self)||void 0===t?void 0:t.displayBadges)||void 0===i||i.forEach((function(e){if(e){var n=a.state.badgeSets.getBadge(e.setID,e.version);n&&r.push(n)}})),r},n}(o.Component);var Za=Object(d.d)(Object(u.a)(zi,{name:"data",skip:function(e){return!e.firstPageLoaded},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(Ge.b)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList,isShowingChatRules:e.isShowingChatRules,showChatRules:e.showChatRules,closeChatRules:e.closeChatRules}})),Object(Wi.a)(),Object(m.a)((function(e){return{query:zi,variables:{channelLogin:e.channelLogin},topic:Object(g.Z)(e.userID),type:p.PubsubMessageType.UserBitsBadgeUpdate,skip:!e.firstPageLoaded||!e.userID,mutator:function(n,t){if(za.debug("Received bits-user-update-v1 pubsub update",{data:t,event:n}),!t.badges||n.message_type===A.b.Balance||null===n.data.newest_version||n.data.channel_id!==e.channelID)return t;var a=t.badges.find((function(e){return!!e&&e.setID===n.data.set_id&&e.version===n.data.newest_version}));return a&&t.user&&t.user.self&&t.user.self.displayBadges?r(t,(function(e){return e.user.self}),(function(e){var n=e.displayBadges.map((function(e){return e&&e.setID===a.setID&&e.version!==a.version?Object(i.__assign)({},a):e})),t=e.selectedBadge;return(!e.selectedBadge||a.setID===A.a.Bits&&e.selectedBadge.setID===A.a.Bits)&&(t=Object(i.__assign)({},a)),e.selectedBadge&&(a.setID!==A.a.Leaderboard||e.selectedBadge.setID!==A.a.Bits&&e.selectedBadge.setID!==A.a.Leaderboard)||(t=Object(i.__assign)({},a)),Object(i.__assign)(Object(i.__assign)({},e),{displayBadges:n,selectedBadge:t})})):t}}})),s.l,Object(j.b)((function(e){return{bitsConfig:e.bitsConfig,bitsEnabled:e.bitsEnabled}})),Object(U.d)((function(e){return{isShowingCommunityHighlightList:e.listAllView}})),Object(U.e)((function(e){return{closeCommunityHighlightList:function(){return e(Object(x.b)())}}})))(Xa)},"BR/5":function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetDeletedMessageDisplaySetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetDeletedMessageDisplaySettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setDeletedMessageDisplaySetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:185}};t.loc.source={body:"mutation SyncedSettingsSetDeletedMessageDisplaySetting($input: SetDeletedMessageDisplaySettingInput!) {\nsetDeletedMessageDisplaySetting(input: $input) {\ndeletedMessageDisplaySetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsSetDeletedMessageDisplaySetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsSetDeletedMessageDisplaySetting")},BXoJ:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}));var i=t("q1tI"),a=t("/7QA"),r=t("DMoW"),o=t("qaaX"),s=t("p9DJ");function d(e){return e.type===r.gb.BOOST?Object(o.h)():e.title}function c(e){if(e.type===r.gb.BOOST){var n=0;return e.description&&(n=Number(e.description)),Object(a.d)("{boostRewardSize, plural, one {Get a boost to promote this stream {boostRewardSizeFormatted} time! <x:link>Learn more</x:link>} other {Get a boost to promote this stream {boostRewardSizeFormatted} times! <x:link>Learn more</x:link>}}",{boostRewardSize:n,boostRewardSizeFormatted:Object(a.f)(n),"x:link":function(e){return i.createElement(s.a,{targetBlank:!0,linkTo:o.c},e)}},"BoostChallengeRewardDescription")}return e.description}},BdZw:function(e,n,t){"use strict";t.d(n,"b",(function(){return R})),t.d(n,"a",(function(){return P})),t.d(n,"c",(function(){return F})),t.d(n,"d",(function(){return L}));var i=t("mrSG"),a=t("TSYQ"),r=t("q1tI"),o=t("/7QA"),s=t("eirU"),d=t("8Ad5"),c=t("geRD"),l=t("2xye"),u=t("b5C3"),m=t("XmgI"),p=t("X31c"),h=t("ZVTe"),f=t("cys1"),g=t("X9Go"),v=t("fezU"),b=t("p52R"),y=t("TApp"),k=t("ZtEv"),S=t("oK83"),C=t("2EzP"),E=t("a1OF"),w=t("1VX3"),_=t("fxMP"),N=t("OCDW"),O=t("RGzP"),D=t("5e0Q"),M=t("uq9l"),I=t("9yes"),T=t("e9PT"),j=t("frkH"),R="#9147FF",P={twitchbot:"1"},F={badges:P,badgeDynamicData:{},bits:0,color:R,displayName:"AutoMod",id:"automod",userID:"automod",username:"automod",userType:b.a.GlobalMod,emotes:{}};var L=function(e){var n=r.useContext(v.b),t=r.useContext(C.a).serviceAPI,b=r.useContext(g.a).page,R=r.useState(!1),P=R[0],L=R[1],A=e.message,U=Object(i.__assign)({},F),x=Object(s.c)(I)[0],B=Object(s.c)(j)[0],V=A,q=e.message.autoModType!==k.a.MessageRejectedPrompt||e.isCurrentUserModerator&&e.showAutoModActions,G=Object(s.d)(T,{variables:{senderID:V.sender&&V.sender.user_id||"",channelID:e.channelID||""},skip:!q||!e.channelID||A.autoModType!==k.a.MessageRejectedPrompt}),H=G.data,W=G.loading;if(!q)return null;var z=function(n,t){o.p.tracking.track(l.SpadeEventType.AutoModUserActions,{channel_id:e.channelID,user_id:e.currentUserID||"",msg_id:n,action:t,page:b,ui_context:"chat"})},Q="";switch(A.autoModType){case k.a.MessageRejectedPrompt:Q=function(e){var n;switch(e){case"aggressive":n=Object(o.d)("hostility","AutoModLine");break;case"sexual":n=Object(o.d)("sexual","AutoModLine");break;case"profanity":n=Object(o.d)("profanity","AutoModLine");break;case"identity":n=Object(o.d)("identity","AutoModLine");break;default:return Object(o.d)("Message is being held for review. Allow will post it to chat.","AutoModLine")}return Object(o.d)("Held a message for reason: {category}. Allow will post it to chat.",{category:n},"AutoModLine")}(A.category);break;case k.a.MessageRejected:Q=Object(o.d)("Hey! Your message is being checked by mods and has not been sent.","AutoModLine");break;case k.a.MessageAllowed:Q=Object(o.d)("Mods have allowed your message. Happy chatting!","AutoModLine");var Y=(Q+=" VoHiYo").match("VoHiYo");Y&&void 0!==Y.index&&(U.emotes[""+Y.index]={startIndex:Y.index,id:"81274"});break;case k.a.MessageDenied:Q=Object(o.d)("Mods have removed your message.","AutoModLine");break;case k.a.MessageModApproved:case k.a.MessageModDenied:default:return null}var K=Object(E.a)(Q,U,m.a);switch(A.autoModType){case k.a.MessageRejectedPrompt:if(A.rejectedMessage.deleted)return null;if(P)return r.createElement(N.a,{className:"chat-line__status"},Object(o.d)("Thank you for your feedback!","ChatLine"));var $=["chat-line__message--alert","chat-line__message--special","chat-line__message--clearfix"],X=void 0,Z=null==H?void 0:H.user;return X=W?r.createElement(O.a,{lineCount:2}):Z?r.createElement(N.a,{className:a($)},r.createElement(w.a,{badgeSets:e.badgeSets,channelID:e.channelID,message:{__typename:"Message",id:A.id,deletedAt:"",sentAt:A.sent_at,content:{__typename:"MessageContent",text:A.content.text,fragments:Object(_.b)(A.content.fragments)},sender:Z},hasModPermissions:!0,showModerationIcons:e.showModerationIcons,showTimestamps:!1,currentUserLogin:e.channelLogin,onUsernameClick:function(e){var t=e;t&&void 0!==t.keyCode&&t.keyCode!==d.a.Space&&t.keyCode!==d.a.Enter||A.autoModType===k.a.MessageRejectedPrompt&&n.onShowViewerCard(A.rejectedMessage.user.userLogin,S.b.chat_message,A.id,e.currentTarget.getBoundingClientRect().bottom)},surfaceError:function(e){null==t||t.handleMessage(Object(y.a)(e))},highContrastUsernameColor:e.useHighContrastColors,theme:e.theme})):r.createElement(p.a,Object(i.__assign)({},e,{canDelete:!1,isCurrentUserStaff:!1,isDeleted:!1,isHidden:!1,showTimestamps:!1,className:a($),message:A.rejectedMessage})),r.createElement(N.a,{className:"chat-line__message"},r.createElement(u.a,{badgeSets:e.badgeSets,badgesToRender:K.badges}),r.createElement(h.a,{userData:K.user,highContrastUsernameColor:e.useHighContrastColors,theme:e.theme}),r.createElement("span",{key:"separator"},": "),Object(f.g)(K.messageParts),r.createElement(N.a,{key:"automod-prompt",className:"chat-line__nested-component--float-right"},r.createElement(D.a,{size:D.b.Small,onClick:function(){L(!0),A.autoModType===k.a.MessageRejectedPrompt&&x&&(x(Object(c.a)({id:A.rejectedMessage.id})),z(A.rejectedMessage.id,"allow"))},type:D.d.Text},Object(o.d)("Allow","AutoModLine")),r.createElement(M.a,{type:M.e.Span},"•"),r.createElement(D.a,{size:D.b.Small,onClick:function(){L(!0),A.autoModType===k.a.MessageRejectedPrompt&&B&&(B(Object(c.a)({id:A.rejectedMessage.id})),z(A.rejectedMessage.id,"deny"))},type:D.d.Text},Object(o.d)("Deny","AutoModLine"))),X);case k.a.MessageRejected:case k.a.MessageAllowed:case k.a.MessageDenied:return r.createElement(N.a,{className:a(["chat-line__message","chat-line__message--special","chat-line__message--alert"])},r.createElement(u.a,{badgeSets:e.badgeSets,badgesToRender:K.badges}),r.createElement(h.a,{userData:K.user,highContrastUsernameColor:e.useHighContrastColors,theme:e.theme}),r.createElement("span",{key:"separator"},": "),Object(f.g)(K.messageParts));default:return null}};L.displayName="AutoModLine"},BvGO:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("q1tI"),a=function(e){void 0===e&&(e=!1);var n=Object(i.useState)(e),t=n[0],a=n[1],r=Object(i.useState)(null),o=r[0],s=r[1],d=Object(i.useRef)(null),c=Object(i.useCallback)((function(){a(!0)}),[]),l=Object(i.useCallback)((function(){a(!1)}),[]),u=Object(i.useCallback)((function(){a((function(e){return!e}))}),[]);return{isOpen:t,setIsOpen:a,open:c,close:l,toggle:u,anchorRef:o,setAnchorRef:s,popperRef:d,anchorProps:{ref:s,onClick:u},dialogProps:{show:t,onRequestClose:l,anchorRef:o,popperRef:d}}}},CJLt:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChat_TrackingContext_VideoAndCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:197}};t.loc.source={body:"query VideoChat_TrackingContext_VideoAndCurrentUser($videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\n}\ncurrentUser {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChat_TrackingContext_VideoAndCurrentUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChat_TrackingContext_VideoAndCurrentUser")},CbHG:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatFilterContextManager_User"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};t.loc.source={body:"query ChatFilterContextManager_User {\ncurrentUser {\nid\ncreatedAt\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatFilterContextManager_User=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatFilterContextManager_User")},CdYI:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollTopCommunityPointsContributor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPointsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:129}};t.loc.source={body:"fragment pollTopCommunityPointsContributor on PollTopCommunityPointsContributor {\ncommunityPointsAmount\nuser {\nid\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},DLI4:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i="poliwag_rollout"},DLhE:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t("mrSG"),a=t("/7QA"),r=t("f00E"),o=t("+pBb"),s=t("F6GT"),d=t("2xye"),c=t("VJH5");function l(e,n){a.o.track(d.SpadeEventType.ChatFilterSettingsChanged,{chat_filter_is_active:e.viewerChatFilterEnabled,from_menu:n,toggle_aggressive_language:e.viewerChatFilterSettings[c.a.Aggressive],toggle_explicit_language:e.viewerChatFilterSettings[c.a.Sexual],toggle_identity_language:e.viewerChatFilterSettings[c.a.Identity],toggle_profane_language:e.viewerChatFilterSettings[c.a.Profanity]})}function u(e){return e.chat.renderSent}function m(e){return-1===Object.values(e).indexOf(!0)}function p(e){Object(s.c)("viewerChatFilterEnabled",e.viewerChatFilterEnabled),Object(s.c)("viewerChatFilterSettings",e.viewerChatFilterSettings)}a.p.store.registerReducer("chat",(function(e,n){var t,a,d,u,h,f,g,v;switch(void 0===e&&(u=Object(s.b)(),e=Object(i.__assign)(Object(i.__assign)({},u),{emoteSets:[],emotePickerSessionID:null,isChatRulesOpen:!1,isHidden:!1,renderSent:null,unhideIgnoredUsers:[]})),n.type){case o.c:return Object(i.__assign)(Object(i.__assign)({},e),{isHidden:!0});case o.d:return Object(i.__assign)(Object(i.__assign)({},e),{isHidden:!1});case o.e:return Object(i.__assign)(Object(i.__assign)({},e),{isChatRulesOpen:!1});case o.h:return Object(i.__assign)(Object(i.__assign)({},e),{emoteSets:n.emoteSets});case o.f:return Object(i.__assign)(Object(i.__assign)({},e),{emotePickerSessionID:null});case o.g:return Object(i.__assign)(Object(i.__assign)({},e),{emotePickerSessionID:Object(r.c)()});case o.i:return Object(i.__assign)(Object(i.__assign)({},e),{lastUsedFollowerDurations:Object(i.__assign)(Object(i.__assign)({},e.lastUsedFollowerDurations),(t={},t[n.channelLogin]=n.duration,t))});case o.x:return Object(i.__assign)(Object(i.__assign)({},e),{lastUsedSlowModeDurations:Object(i.__assign)(Object(i.__assign)({},e.lastUsedSlowModeDurations),(a={},a[n.channelLogin]=n.duration,a))});case o.w:return Object(i.__assign)(Object(i.__assign)({},e),{isChatRulesOpen:!0});case o.m:return Object(i.__assign)(Object(i.__assign)({},e),{activeInputTray:void 0,inputTray:void 0,inputModifierTray:void 0});case o.p:return Object(i.__assign)(Object(i.__assign)({},e),{activeInputTray:null!==(h=e.inputModifierTray)&&void 0!==h?h:n.tray,inputTray:n.tray});case o.o:if(e.inputTray){var b=Object(i.__assign)(Object(i.__assign)({},e.inputTray),{error:n.error});return Object(i.__assign)(Object(i.__assign)({},e),{activeInputTray:null!==(f=e.inputModifierTray)&&void 0!==f?f:b,inputTray:b})}return e;case o.n:if(e.inputTray){b=Object(i.__assign)(Object(i.__assign)({},e.inputTray),{error:void 0});return Object(i.__assign)(Object(i.__assign)({},e),{activeInputTray:null!==(g=e.inputModifierTray)&&void 0!==g?g:b,inputTray:b})}return e;case o.k:return Object(i.__assign)(Object(i.__assign)({},e),{activeInputTray:null!==(v=e.inputTray)&&void 0!==v?v:void 0,inputModifierTray:void 0});case o.l:return Object(i.__assign)(Object(i.__assign)({},e),{activeInputTray:n.tray,inputModifierTray:n.tray});case o.a:return Object(i.__assign)(Object(i.__assign)({},e),{showAutoModActions:!1});case o.b:return Object(i.__assign)(Object(i.__assign)({},e),{showAutoModActions:!0});case o.q:return Object(i.__assign)(Object(i.__assign)({},e),{showModerationActions:!1});case o.r:return Object(i.__assign)(Object(i.__assign)({},e),{showModerationActions:!0});case o.s:return Object(i.__assign)(Object(i.__assign)({},e),{showModIcons:!1});case o.t:return Object(i.__assign)(Object(i.__assign)({},e),{showModIcons:!0});case o.v:return Object(i.__assign)(Object(i.__assign)({},e),{repliesAppearancePreference:n.preference});case o.y:return Object(i.__assign)(Object(i.__assign)({},e),{showTimestamps:!1});case o.z:return Object(i.__assign)(Object(i.__assign)({},e),{showTimestamps:!0});case o.B:var y=Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!1});return p(y),l(y,n.source),y;case o.C:return p(y=m(e.viewerChatFilterSettings)?Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!0,viewerChatFilterSettings:(d={},d[c.a.Aggressive]=!0,d[c.a.Identity]=!0,d[c.a.Profanity]=!1,d[c.a.Sexual]=!0,d)}):Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!0})),l(y,n.source),y;case o.D:return p(y=Object(i.__assign)(Object(i.__assign)({},e),{viewerChatFilterEnabled:!m(n.settings),viewerChatFilterSettings:Object(i.__assign)(Object(i.__assign)({},e.viewerChatFilterSettings),n.settings)})),l(y,n.source),y;case o.u:return Object(i.__assign)(Object(i.__assign)({},e),{renderSent:n.customEvent});case o.A:return Object(i.__assign)(Object(i.__assign)({},e),{unhideIgnoredUsers:Object(i.__spreadArrays)(e.unhideIgnoredUsers,[n.userID])});case o.j:return Object(i.__assign)(Object(i.__assign)({},e),{fontSizePreference:n.fontSizePreference});default:return e}}))},DZqs:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamChat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isChannelMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};t.loc.source={body:"query StreamChat ($login: String!) {\nchannel: user(login: $login) {\nid\ndisplayName\nhosting {\nid\n}\nself {\nbanStatus {\nisPermanent\n}\nisChannelMember\nisModerator\nsubscriptionBenefit {\nid\n}\n}\nstream {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.StreamChat=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"StreamChat")},DpwM:function(e,n,t){"use strict";t.d(n,"e",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return s})),t.d(n,"f",(function(){return d})),t.d(n,"g",(function(){return c})),t.d(n,"h",(function(){return l}));var i="video",a="published",r="unpublished",o="pending_review",s="pending_review_spam",d="current",c="",l=function(e){return""!==e.parentId}},E78O:function(e,n,t){},EE1E:function(e,n,t){"use strict";t.d(n,"a",(function(){return y}));var i=t("EN5X"),a=t("G7cy"),r=t("m7BI"),o=t("E8D/"),s=t("DtRd"),d=t("R4sh"),c=t("/0dD"),l=t("76Lv"),u=4.5,m=[250,249,250],p=[15,14,17],h=.1,f=50,g="7A7A7A",v=36,b={};function y(e,n){var t=s(e),y=k(a(t));if(void 0===n&&(n=Object(l.c)()),y in b[n])return b[n][y];if(n===c.a.Dark&&t.every((function(e){return e<v})))return g;var S=n===c.a.Light?m:p,C=Object(d.a)(t,S);if(C>u)return y;for(var E=[t[0],t[1],t[2]],w=f;w>=0&&C<u;w--){var _=r(E);n===c.a.Light?_[0]-=_[0]*h:_[0]+=_[0]*h,E=o(i(_)),C=Object(d.a)(E,S)}var N=k(a(E));return b[n][y]=N,N}function k(e){return"#"===e[0]?e.substr(1):e}b[c.a.Dark]={},b[c.a.Light]={}},EOIh:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatInput"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isEmbedded"}}}]}]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerMinimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:329}};t.loc.source={body:"query ChatInput($channelLogin: String! $isEmbedded: Boolean!) {\ncurrentUser {\nid\nbitsBalance\nisPartner @include(if: $isEmbedded)\n}\nchannel: user(login: $channelLogin) {\nid\nself {\nbanStatus {\nisPermanent\nexpiresInMs\n}\n}\ndisplayName\nprofileImageURL(width:50)\ncheer {\nid\nsettings {\nid\nemoteMinimumBits\ncheerMinimumBits\nevent\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatInput=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatInput")},EgE3:function(e,n,t){"use strict";t.d(n,"i",(function(){return a})),t.d(n,"f",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return s})),t.d(n,"c",(function(){return d})),t.d(n,"j",(function(){return c})),t.d(n,"a",(function(){return l})),t.d(n,"e",(function(){return u})),t.d(n,"g",(function(){return m})),t.d(n,"h",(function(){return p})),t.d(n,"l",(function(){return b})),t.d(n,"o",(function(){return y})),t.d(n,"v",(function(){return k})),t.d(n,"q",(function(){return S})),t.d(n,"u",(function(){return C})),t.d(n,"t",(function(){return E})),t.d(n,"r",(function(){return w})),t.d(n,"s",(function(){return _})),t.d(n,"n",(function(){return N})),t.d(n,"k",(function(){return O})),t.d(n,"m",(function(){return D})),t.d(n,"p",(function(){return M}));var i,a,r,o,s,d,c,l,u,m,p,h=t("/7QA"),f=t("DMoW"),g=t("2xye"),v=t("W1jp");function b(e,n,t,i){var a={user_id:e,channel_login:n,channel_id:t,content_update_enabled:i};h.o.track(g.SpadeEventType.ChannelPointsIconImpression,a)}function y(e,n,t,i,a,r){var o=null;switch(a.__typename){case"CommunityPointsCommunityGoal":o=a.pointsContributed;break;case"PredictionEvent":o=j(a)}var s=null;"PredictionEvent"===a.__typename&&(s=a.status===f.Jd.ACTIVE);var d={channel_login:e,channel_id:n,content_update_enabled:t,is_available:s,position:i,reward_id:a.id,reward_type:I(a),reward_type_detail:o,view_uuid:r};h.o.track(g.SpadeEventType.ChannelPointsRewardImpression,d)}function k(e,n,t,i){var a={channel_login:e,channel_id:n,view_uuid:t,content_update_enabled:i};h.o.track(g.SpadeEventType.ChannelPointsViewRewards,a)}function S(e){var n="CommunityPointsCustomReward"===e.reward.__typename&&(!e.reward.isInStock||e.reward.isPaused)||"CommunityPointsCommunityGoal"===e.reward.__typename&&!e.reward.isInStock||"PredictionEvent"===e.reward.__typename&&e.reward.status!==f.Jd.ACTIVE,t=null;switch(e.reward.__typename){case"CommunityPointsCommunityGoal":t=e.reward.pointsContributed;break;case"PredictionEvent":t=j(e.reward)}var i=e.userBalance===1/0?null:e.userBalance,a={channel_id:e.channelID,channel_login:e.channelLogin,is_available:!n,is_eligible:e.isUserEligible,reward_cost:T(e.reward),reward_id:e.reward.id,reward_type:I(e.reward),reward_type_detail:t,transaction_uuid:e.transactionID,user_points_balance:i,view_uuid:e.viewTrackingID,content_update_enabled:e.contentUpdateEnabled};h.o.track(g.SpadeEventType.ChannelPointsSelectReward,a)}function C(e,n,t){var i={ui_context:e,channel_login:n,channel_id:t};h.o.track(g.SpadeEventType.ChannelPointsViewRequestQueue,i)}function E(e,n,t,i){var a={ui_context:e,viewer_type:n,channel_id:t,channel_login:i};h.o.track(g.SpadeEventType.ChannelPointsViewEarnScorecard,a)}function w(e){var n=void 0!==e.pointsSpent?e.pointsSpent:T(e.reward),t="CommunityPointsCommunityGoal"===e.reward.__typename?e.reward.pointsContributed:null,i={channel_id:e.channelID,channel_login:e.channelLogin,contributed_max:e.isMaxContribution,points_spent:n,reward_id:e.reward.id,reward_type:I(e.reward),reward_type_detail:e.rewardTypeDetail||t,transaction_uuid:e.transactionID,view_uuid:e.viewTrackingID};h.o.track(g.SpadeEventType.ChannelPointsSpend,i)}function _(e){var n={channel_id:e.channelID,channel_login:e.channelLogin,points_spent:e.poll.settings.communityPointsVotes.cost,reward_id:e.poll.id,reward_type:i.Poll,reward_type_detail:null,transaction_uuid:null,view_uuid:null};h.o.track(g.SpadeEventType.ChannelPointsSpend,n)}function N(e,n,t,i){var a={channel_id:e,channel_login:n,onboarding_collateral:t,ui_context:i};h.o.track(g.SpadeEventType.ChannelPointsOnboardingInteraction,a)}function O(e){var n={channel_id:e.channelID,channel_login:e.channelLogin,has_custom_reward:e.hasCustomRewards,action:e.action,in_product_notice:e.inProductNotice,reward_id:e.rewardID||null,template_id:e.templateID||null};h.o.track(g.SpadeEventType.ChannelPointsCustomRewardCollectionInteraction,n)}function D(e){var n={channel_id:e.channelID,user_id:e.userID,reward_id:e.rewardID||null,action:e.action,action_descriptor:e.actionDescriptor||null,ui_context:e.uiContext};h.o.track(g.SpadeEventType.ChannelPointsManageRequestQueue,n)}function M(e){var n={channel_id:e.channelID,user_id:e.userID,redemption_uuid:e.redemptionID,is_bulk_action:e.isBulkAction,action:e.action,ui_context:e.uiContext};h.o.track(g.SpadeEventType.ChannelPointsRewardRequestResponse,n)}function I(e){switch(e.__typename){case"CommunityPointsCommunityGoal":return i.CommunityChallenge;case"PredictionEvent":return i.Prediction;case"CommunityPointsAutomaticReward":return i.Automatic;case"CommunityPointsCustomReward":default:return i.Custom}}function T(e){switch(e.__typename){case"CommunityPointsAutomaticReward":case"CommunityPointsCustomReward":return Object(v.c)(e);case"CommunityPointsCommunityGoal":return e.smallContribution;case"PredictionEvent":default:return null}}function j(e){switch(e.status){case f.Jd.ACTIVE:return"active";case f.Jd.CANCELED:case f.Jd.CANCEL_PENDING:return"canceled";case f.Jd.LOCKED:return"submission_closed";case f.Jd.RESOLVED:case f.Jd.RESOLVE_PENDING:return"resolved";default:return null}}!function(e){e.Automatic="automatic",e.Custom="custom",e.Poll="poll",e.CommunityChallenge="community_challenge",e.Prediction="prediction"}(i||(i={})),function(e){e.ActivityFeed="activity_feed",e.ChatCommand="chat_command",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.DeleteModal="delete_modal",e.ModTools="chat_settings",e.ModView="mod_view",e.QuickAction="quick_action",e.RewardSelectionPane="reward_selection_pane"}(a||(a={})),function(e){e.ModViewWidget="mod_view_widget"}(r||(r={})),function(e){e.RewardSelectionPane="reward_selection_pane",e.CreatorsSettings="creators_settings",e.CustomRewardModal="custom_reward_modal",e.AutomaticRewardModal="automatic_reward_modal"}(o||(o={})),function(e){e.CustomRewardCreationModal="custom_reward_creation_modal",e.RewardsPageOnboarding="rewards_page_onboarding",e.ChannelPointsSettings="channel_points_settings"}(s||(s={})),function(e){e.IconSetDownload="icon_set_download",e.GetStartedGuide="get_started_guide"}(d||(d={})),function(e){e.Viewer="viewer",e.Moderator="moderator",e.Broadcaster="broadcaster"}(c||(c={})),function(e){e.Impression="cta_impression",e.Click="cta_click",e.AddReward="add_reward",e.NoticeClick="in_product_notice_click"}(l||(l={})),function(e){e.Paused="paused",e.Unpaused="unpaused",e.BulkCancel="bulk_cancel",e.BulkFulfill="bulk_fulfill"}(u||(u={})),function(e){e.SelectedRedemptions="selected_redemptions",e.AllRedemptions="all_redemptions"}(m||(m={})),function(e){e.Fulfilled="fulfilled",e.Canceled="canceled",e.Reported="reported"}(p||(p={}))},Epr8:function(e,n,t){},F6GT:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return m}));var i,a=t("mrSG"),r=t("/7QA"),o=t("VxoQ"),s=t("VJH5");!function(e){e.Minimum="minimum",e.Expanded="expanded"}(i||(i={}));var d="chat_replies_context_preference";var c="chatSettings";function l(){var e,n=r.m.get(c,{});return Object(a.__assign)({fontSizePreference:o.a.Default,lastUsedFollowerDurations:{},lastUsedSlowModeDurations:{},repliesAppearancePreference:r.p.experiments.getAndTrackAssignment(d)===i.Minimum?o.b.Minimum:o.b.Expanded,showAutoModActions:!0,showMessageFlags:!0,showModerationActions:!0,showModIcons:!1,showTimestamps:!1,viewerChatFilterSettings:(e={},e[s.a.Aggressive]=!0,e[s.a.Identity]=!0,e[s.a.Profanity]=!1,e[s.a.Sexual]=!0,e),zachModeStatus:o.c},n)}function u(e,n){var t=l();t[e]=n,r.m.set(c,t)}function m(e){var n=l();delete n[e],r.m.set(c,n)}},F9p4:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"earningSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsChannelEarningSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"averagePointsPerHour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"claimPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"passiveWatchPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchStreakPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}}]}}],loc:{start:0,end:349}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\nfragment earningSettingsFragment on CommunityPointsChannelEarningSettings {\nid\naveragePointsPerHour\ncheerPoints\nclaimPoints\nfollowPoints\npassiveWatchPoints\nraidPoints\nsubscriptionGiftPoints\nwatchStreakPoints {\npoints\n}\nmultipliers {\n...activeMultipliersFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("NeSQ").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},FHdf:function(e,n,t){"use strict";t.d(n,"m",(function(){return o})),t.d(n,"i",(function(){return s})),t.d(n,"j",(function(){return d})),t.d(n,"l",(function(){return c})),t.d(n,"k",(function(){return l})),t.d(n,"h",(function(){return u})),t.d(n,"g",(function(){return m})),t.d(n,"e",(function(){return p})),t.d(n,"d",(function(){return h})),t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return g})),t.d(n,"a",(function(){return v})),t.d(n,"f",(function(){return b}));var i=t("cr+I"),a=t("SSXq"),r=t("k5yb");function o(e,n){return void 0===n&&(n=""),Object(r.B)(e,"/content/video-producer"+n)}function s(e,n){return o(e,"/edit/"+n)}function d(e,n){return o(e,"/highlighter/"+n)}function c(e,n){return o(e,"/schedule/"+n)}function l(e,n){return o(e,"/publish/"+n)}function u(e,n){return o(e,"/appeal/"+n)}function m(e,n){return void 0===n&&(n=""),Object(r.B)(e,"/content"+n)}function p(e,n){return void 0===n&&(n=""),m(e,"/collections"+n)}function h(e,n){return void 0===n&&(n=""),p(e,"/"+n)}function f(e){return m(e,"/clips")}function g(e){return m(e,"/clips/channel")}function v(e,n,t){var r=i.stringify({tt_content:t.content,tt_medium:t.medium});return Object(a.a)("/"+e+"/clip/"+n+"?"+r)}function b(e){return Object(r.B)(e,"/content/events")}},FQLb:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsDeletedMessageDisplaySetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedMessageDisplaySetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:119}};t.loc.source={body:"query SyncedSettingsDeletedMessageDisplaySetting {\ncurrentUser {\nid\nchatUISettings {\ndeletedMessageDisplaySetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsDeletedMessageDisplaySetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsDeletedMessageDisplaySetting")},FS60:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChatInput_SendCheer"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendCheerInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendCheer"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validationError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:377}};t.loc.source={body:"mutation ChatInput_SendCheer($input: SendCheerInput!) {\nsendCheer(input: $input) {\nid\ncurrentUser {\nid\nbitsBalance\n}\nvalidationError {\ncode\nmessage\nmessageContent {\ntext\nfragments {\ntext\ncontent {\n... on AutoMod {\ntopics {\ntype\nweight\n}\n}\n... on CheermoteToken {\nbitsAmount\nprefix\ntier\n}\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\nlogin\ndisplayName\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatInput_SendCheer=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatInput_SendCheer")},Ff8q:function(e,n,t){"use strict";function i(e){return e.startsWith("@")?e.slice(1):e}t.d(n,"a",(function(){return i}))},Fjqe:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("OCDW"),r=t("Yegi"),o=t("uq9l"),s=(t("0Sbj"),function(e){return i.createElement(a.a,{className:"keyboard-prompt",display:r.h.Flex,alignItems:r.b.Center,background:r.d.Alt,border:!0,borderRadius:r.e.Small,padding:{x:.5}},i.createElement(o.a,{className:"keyboard-prompt--text",color:r.f.Alt2},e.text))})},FzaW:function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"b",(function(){return E})),t.d(n,"a",(function(){return w}));var i=t("1rIY"),a=Object(i.a)("ChannelPointsPredictionContext",{hasAcceptedTOS:!1,isEligibleForPredictions:!1,isInRestrictedRegion:!1,isLoaded:!1,predictions:[],predictionsMap:{},userRecentPredictions:[]}),r=a.context,o=a.withContext,s=t("mrSG"),d=t("q1tI"),c=t("CGXs"),l=t("eirU"),u=t("8XDC"),m=t("0Log"),p=t("wUQP"),h=t("geRD"),f=t("/aPz"),g=t("VlDf"),v=t("w09P"),b=t("8wAl");function y(e,n){var t,i;return(null===(i=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.activePredictionEvents)?e.community.channel.activePredictionEvents.find((function(e){return e.id===n.data.event.id}))?e:v(e,(function(e){return e.community.channel.activePredictionEvents}),(function(e){return Object(s.__spreadArrays)(e,[Object(b.e)(n.data.event)])})):e}function k(e,n){var t;return(null===(t=e.community)||void 0===t?void 0:t.channel)?v(e,(function(e){return e.community.channel}),(function(e){var t,i=(e.activePredictionEvents||[]).map((function(e){return e.id!==n.data.event.id?e:Object(s.__assign)(Object(s.__assign)({},e),Object(b.e)(n.data.event))})),a=(e.lockedPredictionEvents||[]).map((function(e){return e.id!==n.data.event.id?e:Object(s.__assign)(Object(s.__assign)({},e),Object(b.e)(n.data.event))})),r=((null===(t=e.resolvedPredictionEvents)||void 0===t?void 0:t.edges)||[]).map((function(e){return e.node.id!==n.data.event.id?e:Object(s.__assign)(Object(s.__assign)({},e),{node:Object(s.__assign)(Object(s.__assign)({},e.node),Object(b.e)(n.data.event))})}));return Object(s.__assign)(Object(s.__assign)({},e),{activePredictionEvents:i,lockedPredictionEvents:a,resolvedPredictionEvents:{__typename:"PredictionEventConnection",edges:r}})})):e}function S(e,n){var t,i,a;return(null===(a=null===(i=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.self)||void 0===a?void 0:a.recentPredictions)?v(e,(function(e){return e.community.channel.self.recentPredictions}),(function(e){return Object(s.__spreadArrays)(e,[Object(b.f)(n.data.prediction)])})):e}function C(e,n){var t,i,a;return(null===(a=null===(i=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.self)||void 0===a?void 0:a.recentPredictions)?v(e,(function(e){return e.community.channel.self.recentPredictions}),(function(e){return e.map((function(e){return e.id!==n.data.prediction.id?e:Object(s.__assign)(Object(s.__assign)({},e),Object(b.f)(n.data.prediction))}))})):e}var E="copo_predictions_query",w=function(e){var n,t,i,a,o,v,b,w,O,D,M,I,T,j=e.channelID,R=e.channelLogin,P=e.currentUserID,F=e.children,L=Object(p.c)(E),A=Object(l.d)(g,{skip:!L,variables:{channelLogin:R}}),U=A.data,x=A.loading,B=Object(d.useState)({hasAcceptedTOS:!1,isEligibleForPredictions:!1,isInRestrictedRegion:!1,isLoaded:!1,predictions:[],predictionsMap:{},userRecentPredictions:[]}),V=B[0],q=B[1],G=null===(t=null===(n=null==U?void 0:U.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.activePredictionEvents,H=Object(u.a)(G),W=null===(a=null===(i=null==U?void 0:U.community)||void 0===i?void 0:i.channel)||void 0===a?void 0:a.lockedPredictionEvents,z=Object(u.a)(W),Q=null===(v=null===(o=null==U?void 0:U.community)||void 0===o?void 0:o.channel)||void 0===v?void 0:v.resolvedPredictionEvents,Y=Object(u.a)(Q),K=!!(null===(O=null===(w=null===(b=null==U?void 0:U.community)||void 0===b?void 0:b.channel)||void 0===w?void 0:w.predictionSettings)||void 0===O?void 0:O.isEligibleForPredictions),$=null===(D=null==U?void 0:U.currentUser)||void 0===D?void 0:D.predictionsSettings,X=null===(T=null===(I=null===(M=null==U?void 0:U.community)||void 0===M?void 0:M.channel)||void 0===I?void 0:I.self)||void 0===T?void 0:T.recentPredictions,Z=Object(d.useCallback)((function(e,n){Object(h.j)(g,{channelLogin:R},(function(t){return e(t,n)}))}),[R]),J=Object(c.a)(Object(f.u)(j||""),!j||!L,(function(e){return!(e.type===m.PubsubMessageType.CommunityPointsPredictionEventCreated||e.type===m.PubsubMessageType.CommunityPointsPredictionEventUpdated)})),ee=J[0],ne=J[1],te=Object(u.a)(ee);Object(d.useEffect)((function(){if(L&&U&&(!ne||!ne.error)&&ee&&ee!==te)switch(ee.type){case m.PubsubMessageType.CommunityPointsPredictionEventCreated:return void Z(y,ee);case m.PubsubMessageType.CommunityPointsPredictionEventUpdated:return void Z(k,ee);default:return}}),[ee,ne,U,L,te,Z]);var ie=Object(c.a)(Object(f.v)(P||""),!P||!L,(function(e){return!(e.type===m.PubsubMessageType.CommunityPointsPredictionMade||e.type===m.PubsubMessageType.CommunityPointsPredictionUpdated||e.type===m.PubsubMessageType.CommunityPointsPredictionResult)})),ae=ie[0],re=ie[1],oe=Object(u.a)(ae);return Object(d.useEffect)((function(){if(L&&U&&(!re||!re.error)&&ae&&ae!==oe)switch(ae.type){case m.PubsubMessageType.CommunityPointsPredictionMade:return void Z(S,ae);case m.PubsubMessageType.CommunityPointsPredictionUpdated:case m.PubsubMessageType.CommunityPointsPredictionResult:return void Z(C,ae);default:return}}),[ae,re,oe,U,Z,L]),Object(d.useEffect)((function(){var e=!x&&!!(null==U?void 0:U.community);V.isLoaded!==e&&q((function(n){return Object(s.__assign)(Object(s.__assign)({},n),{isLoaded:e})}))}),[x,U,V.isLoaded]),Object(d.useEffect)((function(){!$||$.hasAcceptedTOS===V.hasAcceptedTOS&&$.isInRestrictedRegion===V.isInRestrictedRegion||q((function(e){return Object(s.__assign)(Object(s.__assign)({},e),{hasAcceptedTOS:$.hasAcceptedTOS,isInRestrictedRegion:!!$.isInRestrictedRegion})}))}),[$,V.hasAcceptedTOS,V.isInRestrictedRegion]),Object(d.useEffect)((function(){K!==V.isEligibleForPredictions&&q((function(e){return Object(s.__assign)(Object(s.__assign)({},e),{isEligibleForPredictions:K})}))}),[K,V.isEligibleForPredictions]),Object(d.useEffect)((function(){X&&X!==V.userRecentPredictions&&q((function(e){return Object(s.__assign)(Object(s.__assign)({},e),{userRecentPredictions:X})}))}),[V.userRecentPredictions,X]),Object(d.useEffect)((function(){if(G&&G!==H||W&&W!==z||Q&&Q!==Y){var e=_(U);q((function(n){return Object(s.__assign)(Object(s.__assign)({},n),{predictions:e,predictionsMap:N(e)})}))}}),[G,U,W,H,z,Y,Q]),d.createElement(r.Provider,{value:V},F)},_=function(e){var n,t,i,a,r,o,d;if(!e)return[];var c=(null===(t=null===(n=null==e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.activePredictionEvents)||[],l=(null===(a=null===(i=null==e?void 0:e.community)||void 0===i?void 0:i.channel)||void 0===a?void 0:a.lockedPredictionEvents)||[],u=(null===(d=null===(o=null===(r=null==e?void 0:e.community)||void 0===r?void 0:r.channel)||void 0===o?void 0:o.resolvedPredictionEvents)||void 0===d?void 0:d.edges.map((function(e){return e.node})))||[];return Object(s.__spreadArrays)(c,l,u)},N=function(e){for(var n={},t=0,i=e;t<i.length;t++){var a=i[t];n[a.id]=a}return n}},G9R1:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return f}));var i,a=t("pVnL"),r=t.n(a),o=t("q1tI"),s=t("SWse"),d=t("P+FS"),c=t("HQtB"),l=t("qc9Q"),u=t("wt2C"),m=t("JjwZ"),p=t("OCDW"),h=t("Yegi");!function(e){e.Default="tw-card-img--size-default",e.Size2="tw-card-img--size-2",e.Size3="tw-card-img--size-3",e.Size4="tw-card-img--size-4",e.Size6="tw-card-img--size-6",e.Size8="tw-card-img--size-8",e.Size12="tw-card-img--size-12",e.Size16="tw-card-img--size-16",e.Size24="tw-card-img--size-24",e.Size32="tw-card-img--size-32"}(i||(i={}));var f=function(e){var n={"tw-card-img":!0};return e.size&&e.size!==i.Default&&(n[e.size]=!0),o.createElement(p.a,r()({className:Object(s.a)(n),flexShrink:0,borderRadius:e.borderRadius,overflow:h.n.Hidden},Object(c.a)(e),Object(d.a)(e)),o.createElement(u.b,{ratio:e.aspect?e.aspect:u.c.Aspect16x9,overflow:e.overflow},o.createElement(m.a,Object(l.a)(e))),e.children)};f.displayName="CardImage",f.displayName="CardImage"},GHzV:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("q1tI"),r=t("3sMn"),o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return this.props.hideOnboardingPrompts?null:a.createElement(a.Fragment,null,this.props.children)},n}(a.Component);var s=Object(r.b)((function(e){return{hideOnboardingPrompts:e.hideOnboardingPrompts}}))(o)},GPV9:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("q1tI"),r=t("/MKj"),o=t("2Ygb");t("IobA");function s(){return function(e){var n=e,t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(r,t),r.prototype.render=function(){return a.createElement(n,Object(i.__assign)({},this.props,{fontScaleClassName:"font-scale--"+this.props.fontSizePreference}))},r.displayName=Object(o.a)(r.name,e),r}(a.Component);return Object(r.b)(d)(t)}}function d(e){return{fontSizePreference:e.chat.fontSizePreference}}},GSWs:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetReadableChatColors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetReadableChatColorsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setReadableChatColorsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isReadableChatColorsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:167}};t.loc.source={body:"mutation SyncedSettingsSetReadableChatColors($input: SetReadableChatColorsEnabledInput!) {\nsetReadableChatColorsEnabled(input:$input) {\nisReadableChatColorsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsSetReadableChatColors=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsSetReadableChatColors")},GTqc:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var i=t("DMoW"),a=function(e,n){var t={};if(0===n.fragments.length)return t;var i=-1;return n.fragments.forEach((function(n){var a;if("Emote"===(null===(a=n.content)||void 0===a?void 0:a.__typename)){var r=n.content,o=r.token||"",s=r.emoteID||"";-1!==(i=e.indexOf(o,i))&&(t[i]={startIndex:i,id:s},i+=o.length)}})),t},r=function(e){return!(e.emotes.length<1)&&e.emotes.every((function(e){return e.type===i.rc.BITS_BADGE_TIERS}))}},Gssm:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return l}));var i=t("mrSG"),a=t("q1tI"),r=t("1rIY"),o=t("QlYf"),s=Object(r.a)("ChatIdentityMenuContext",{onShowChatIdentityMenu:function(){return null},chatIdentityVisible:!1}),d=s.context,c=s.withContext,l=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowChatIdentityMenu=function(e,n,i){!t.state.chatIdentityVisible&&e&&Object(o.a)({channelID:n,source:i}),t.setState({chatIdentityVisible:e})},t.state={onShowChatIdentityMenu:t.onShowChatIdentityMenu,chatIdentityVisible:!1},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(d.Provider,{value:this.state},this.props.children)},n}(a.Component)},GzyO:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return u})),t.d(n,"d",(function(){return m})),t.d(n,"e",(function(){return p}));var i=t("mrSG"),a=t("/7QA"),r=t("OpME"),o="twilight.emote_picker_history",s=24,d=[{id:"64138",token:"SeemsGood"},{id:"41",token:"Kreygasm"},{id:"245",token:"ResidentSleeper"},{id:"28087",token:"WutFace"},{id:"86",token:"BibleThump"},{id:"9",token:"<3"},{id:"58765",token:"NotLikeThis"},{id:"81274",token:"VoHiYo"},{id:"88",token:"PogChamp"},{id:"425618",token:"LUL"},{id:"25",token:"Kappa"},{id:"30259",token:"HeyGuys"}];function c(e){var n=h(),t=n[e.id];t?(t.uses++,t.lastUpdatedAt=Date.now()):n[e.id]={emote:e,lastUpdatedAt:Date.now(),uses:1},a.m.set(o,n)}function l(){var e=h();if(!(Object.keys(e).length>=s)){for(var n={},t=0;t<d.length;t++){var r=d[t];e[r.id]||(n[r.id]={emote:r,lastUpdatedAt:t,uses:0})}var c=Object(i.__assign)(Object(i.__assign)({},n),e);a.m.set(o,c)}}function u(){return Object(r.c)(d)}function m(e){var n=h(),t=[],i=!1;return Object.keys(n).forEach((function(a){var r=n[a];if(void 0!==r&&void 0!==e[r.emote.token]){var o=e[r.emote.token].id;o!==a&&(r.emote.id=o,n[o]=r,delete n[o],i=!0),t.push(r)}})),i&&a.m.set(o,n),t.sort((function(e,n){return e.uses>n.uses?-1:n.uses>e.uses?1:e.lastUpdatedAt>n.lastUpdatedAt?-1:n.lastUpdatedAt>e.lastUpdatedAt?1:0})),Object(r.c)(t.slice(0,24).map((function(e){return e.emote})))}function p(){var e=h(),n={};return Object.keys(e).forEach((function(t){void 0!==e[t]&&(n[e[t].emote.token]={count:e[t].uses})})),n}function h(){var e=a.m.get(o,{})||{};return e.undefined&&(delete e.undefined,a.m.set(o,e)),e}},H82h:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t("mrSG"),a=t("/7QA"),r=t("2xye"),o=t("IZXT"),s=t("a6LY"),d=t("xf5M"),c=function(e){switch(e){case s.a.DeleteMessage:case s.a.BanUser:case s.a.UnbanUser:case s.a.TimeoutUser:case s.a.UntimeoutUser:case s.a.ModUser:case s.a.UnmodUser:default:return s.d.Login}},l=function(e){var n=e.actionType,t=e.channelID,l=e.targetUserID,u=e.source,m=e.duration,p=e.page;return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,h,f,g,v,b,y,k,S,C;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=null,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:d,variables:{channelID:t,targetUserID:l}})];case 2:return e=i.sent(),[3,4];case 3:return h=i.sent(),Object(o.d)()?a.k.warn("Moderation action tracking failed query failed."):a.k.errorAndReport(h,"Moderation action tracking failed query failed."),[3,4];case 4:return e&&e.data?(f=e.data,g=f.currentUser,v=f.channel,b=f.target,t===l?y=s.e.Broadcaster:(null===(k=null==g?void 0:g.roles)||void 0===k?void 0:k.isStaff)&&(y=s.e.Staff),(null===(S=null==v?void 0:v.self)||void 0===S?void 0:S.isEditor)?y=s.e.Editor:(null===(C=null==v?void 0:v.self)||void 0===C?void 0:C.isModerator)&&(y=s.e.Mod),a.o.track(r.SpadeEventType.ChatLoginModeration,{action:n,channel:null==v?void 0:v.login,channel_id:null==v?void 0:v.id,target_login:null==b?void 0:b.login,target_user_id:null==b?void 0:b.id,mod_status:y,args:m,page:p,type:c(n),source:u}),[2]):[2]}}))}))}},HAit:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsCheermoteCampaign"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteCampaign"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchedPercent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"minimumBitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsTotal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsPercentageRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canBeSponsored"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:234}};t.loc.source={body:"fragment bitsCheermoteCampaign on CheermoteCampaign {\nid\nbrandImageURL\nbrandName\nthresholds {\nid\nminimumBits\nmatchedPercent\n}\nminimumBitsAmount\nbitsTotal\nbitsUsed\nbitsPercentageRemaining\nuserLimit\nself {\nid\nbitsUsed\ncanBeSponsored\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},HWU2:function(e,n,t){},Heyb:function(e,n,t){},HfAM:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProduct"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"benefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emoteModifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subscriptionProductEmoteModifier"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:645}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/subscribe-button/models/subscription-product-emote-modifier.gql"\nfragment subProduct on SubscriptionProduct {\nid\nurl\nprice\nname\ntier\ninterval {\nunit\n}\nstate\nemotes {\nid\nsetID\ntoken\n}\noffers {\n...subProductOfferFragment\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\nself {\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\nmonths\n}\nbenefit {\nid\ntier\n}\n}\nowner {\nid\ndisplayName\nlogin\nsubscriptionProducts {\nid\ntier\nurl\nprice\nemotes {\nid\ntoken\n}\nemoteModifiers {\n...subscriptionProductEmoteModifier\n}\n}\nstream {\nid\ntype\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("Wd+u").definitions)),i.definitions=i.definitions.concat(r(t("8/YZ").definitions)),e.exports=i},HiyX:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"tenure"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionTenure"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"daysRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"months"},arguments:[],directives:[]}]}}],loc:{start:0,end:62}};t.loc.source={body:"fragment tenure on SubscriptionTenure {\ndaysRemaining\nmonths\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},HjUq:function(e,n,t){},HzXE:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:306}};t.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatRoomBanStatus=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatRoomBanStatus")},I009:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));var i=t("q1tI"),a=t("1rIY"),r=Object(a.a)("ChatRoomStateContext",{displayBadges:[],onBadgesChanged:function(){return null}}),o=r.context,s=r.withContext,d=function(e){var n={displayBadges:e.displayBadges||[],onBadgesChanged:e.onBadgesChanged};return i.createElement(o.Provider,{value:n},e.children)}},IIop:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));var i=t("XIZb"),a=Object(i.a)("ChatConnection"),r=a.withChatServiceManager,o=a.withContext,s=r,d=o((function(e){return{chatConnectionAPI:e.serviceAPI,setChatConnectionAPI:e.setServiceAPI}}))},IKE4:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"badge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Badge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image1x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"NORMAL"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image2x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"DOUBLE"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"image4x"},name:{kind:"Name",value:"imageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"QUADRUPLE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAction"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:170}};t.loc.source={body:"fragment badge on Badge {\nid\nsetID\nversion\ntitle\nimage1x: imageURL(size: NORMAL)\nimage2x: imageURL(size: DOUBLE)\nimage4x: imageURL(size: QUADRUPLE)\nclickAction\nclickURL\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},INxu:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoter"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoterChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:396}};i.loc.source={body:'#import "twilight/features/polls/models/poll-voter-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoter on PollVoter {\nid\nchoices {\n...pollVoterChoice\n}\npoll {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\nuser {\nid\nlogin\ndisplayName\n}\nvotes {\n...pollVoteBreakdown\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("WWj3").definitions)),i.definitions=i.definitions.concat(r(t("/x02").definitions)),i.definitions=i.definitions.concat(r(t("wMQt").definitions)),e.exports=i},IQZc:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("jC1Z"),s=t("YV90"),d=t("LEe6");function c(e,n){return!("CommunityPointsCommunityGoal"===e.__typename||"CommunityPointsCommunityGoal"===n.__typename||e.cost===n.cost&&n.isEnabled)||"CommunityPointsCustomReward"===e.__typename&&"CommunityPointsCustomReward"===n.__typename&&(e.title!==n.title||e.prompt!==n.prompt||e.isUserInputRequired!==n.isUserInputRequired)}var l=function(e){function n(n){var t,i=e.call(this,n)||this,a=(null===(t=n.userRedemptions.find((function(e){return e.reward.id===n.reward.id})))||void 0===t?void 0:t.userRedemptionsCurrentStream)||0,r=Object(d.c)(n.reward,a)||"CommunityPointsCustomReward"===n.reward.__typename&&n.reward.maxPerUserPerStreamSetting.isEnabled&&!n.isLive,o="CommunityPointsCustomReward"===n.reward.__typename&&(!n.reward.isInStock||n.reward.isPaused)||"CommunityPointsCommunityGoal"===n.reward.__typename&&!n.reward.isInStock;return i.state={changed:!1,stockChanged:!1,outOfStock:r||o},i}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){var t,i=e.reward,a=e.rewardMap[e.reward.id];if(!a)return{changed:!1,outOfStock:!1};var r=(null===(t=e.userRedemptions.find((function(n){return n.reward.id===e.reward.id})))||void 0===t?void 0:t.userRedemptionsCurrentStream)||0,o=Object(d.c)(a,r)||"CommunityPointsCustomReward"===e.reward.__typename&&e.reward.maxPerUserPerStreamSetting.isEnabled&&!e.isLive,s="CommunityPointsCustomReward"===a.__typename&&(!a.isInStock||a.isPaused)||"CommunityPointsCommunityGoal"===a.__typename&&!a.isInStock,l=o||s;return{changed:c(i,a),stockChanged:n.stockChanged||n.outOfStock!==l,outOfStock:l}},n.prototype.render=function(){if(this.state.changed&&this.props.renderOnRequirementsChange)return this.props.renderOnRequirementsChange;if(this.state.outOfStock){if(!this.state.stockChanged&&this.props.renderOnInitiallyOutOfStock)return this.props.renderOnInitiallyOutOfStock;if(this.props.renderOnStockChange&&!this.props.ignoreStockChanges)return this.props.renderOnStockChange}return this.props.children||null},n.prototype.componentDidMount=function(){this.props.onRequirementsChange&&this.state.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock&&this.props.onStockChange(this.state.outOfStock)},n.prototype.componentDidUpdate=function(e,n){this.props.onRequirementsChange&&this.state.changed!==n.changed&&this.props.onRequirementsChange(this.state.changed),this.props.onStockChange&&this.state.outOfStock!==n.outOfStock&&this.props.onStockChange(this.state.outOfStock)},n}(a.Component);var u=Object(r.d)(Object(s.b)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,rewardMap:e.rewardMap,userRedemptions:e.userRedemptions}})),Object(o.c)((function(e){return{isLive:e.isLive}})))(l)},InpH:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("eirU"),r=t("QVaV"),o=t("8VXP"),s=function(e){var n,t,s=Object(a.d)(o,{variables:{login:e}}).data,d=null!==(t=null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.displayName)&&void 0!==t?t:null;return Object(i.useMemo)((function(){return Object(r.a)(e,d,!0)}),[e,d])}},IobA:function(e,n,t){},IsZ7:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("q1tI"),a=t("/MKj"),r=t("emD7"),o=t("CGXs"),s=t("/aPz"),d=t("kRBY"),c=function(e){var n,t=e.channelID,c=e.onReceiveMessage,l=e.onReceiveOffenderMessage,u=null===(n=Object(a.e)(d.e))||void 0===n?void 0:n.id,m=Object(o.a)(Object(s.d)(u||"",t),!u||!t)[0],p=Object(r.a)(m),h=Object(o.a)(Object(s.bb)(u||"",t),!u||!t)[0],f=Object(r.a)(h);return i.useEffect((function(){m&&m!==p&&c(m);h&&h!==f&&(l&&l(h))}),[m,c,l,p,f,h]),null}},JN5s:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("/7QA");function a(){return Object(i.d)("Your message is identical to the one you sent within the last 30 seconds.","DuplicatedMessageErrorTray")}},JTkP:function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"a",(function(){return s})),t.d(n,"c",(function(){return d}));var i=t("/7QA"),a=t("DMoW"),r=function(e){switch(e){case a.df.INVALID_UPDATE:return Object(i.d)("This request has already been resolved.","UnbanResolveFormErrorMessage");case a.df.REQUEST_NOT_FOUND:return Object(i.d)("Request not found.","UnbanResolveFormErrorMessage");case a.df.UNAUTHORIZED:return Object(i.d)("You are not authorized to resolve this request.","UnbanResolveFormErrorMessage");case a.df.UNKNOWN:default:return Object(i.d)("Something went wrong while resolving the request. Please try again later.","UnbanResolveFormErrorMessage")}},o=function(e){switch(e){case a.df.REQUEST_NOT_FOUND:return Object(i.d)("Request not found.","CancelUnbanRequestMessage");case a.df.UNAUTHORIZED:return Object(i.d)("You are not authorized to cancel this request.","CancelUnbanRequestMessage");case a.df.UNKNOWN:default:return Object(i.d)("Something went wrong while undoing your unban request.","CancelUnbanRequestMessage")}},s=function(e){switch(e){case a.df.INVALID_UPDATE:return Object(i.d)("Your request has already been acknowledged.","AcknowledgeUnbanRequestError");case a.df.REQUEST_NOT_FOUND:return Object(i.d)("Request not found.","AcknowledgeUnbanRequestError");case a.df.UNAUTHORIZED:return Object(i.d)("You are not authorized to acknowledge this request.","AcknowledgeUnbanRequestError");case a.df.UNKNOWN:default:return Object(i.d)("Something went wrong while acknowledging your unban request. Please try again later.","AcknowledgeUnbanRequestError")}},d=function(e){switch(e){case a.Ob.ALREADY_CREATED:return Object(i.d)("You have already submitted a request. Moderators will review your previously submitted request.","UnbanFormErrorMessage");case a.Ob.NOT_BANNED:return Object(i.d)("You are not currently banned from this channel. Refresh the page to rejoin chat.","UnbanFormErrorMessage");case a.Ob.TOO_SOON_SINCE_BAN:return Object(i.d)("You have to wait a bit to request an unban. Try again soon!","UnbanFormErrorMessage");case a.Ob.UNBAN_REQUESTS_DISABLED:return Object(i.d)("This channel is not currently accepting unban requests.","UnbanFormErrorMessage");case a.Ob.UNKNOWN:default:return Object(i.d)("Something went wrong while submitting your request. Please try again later.","UnbanFormErrorMessage")}}},JXcx:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:203}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\nmutation CreatePoll($input: CreatePollInput!) {\ncreatePoll(input: $input) {\npoll {\nid\nownedBy {\nid\nlatestPoll {\n...poll\n}\n}\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("wAVh").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.CreatePoll=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"CreatePoll")},JkAt:function(e,n,t){"use strict";var i=t("dF3q");t.d(n,"a",(function(){return i.a}))},KGti:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"e",(function(){return l})),t.d(n,"d",(function(){return u})),t.d(n,"b",(function(){return m})),t.d(n,"c",(function(){return p})),t.d(n,"f",(function(){return h})),t.d(n,"h",(function(){return f})),t.d(n,"g",(function(){return g}));var i,a=t("mrSG"),r=t("XmgI"),o=t("ZtEv"),s=t("a1OF"),d=t("aF6k"),c=t("p52R");function l(e){var n=e.data.message,t=n.id,i=n.sent_at,d=n.sender,l=n.content,u=e.data.message.content.text,m=e.data.message.sender.login,p=e.data.content_classification.category,h={badges:null,badgeDynamicData:null,bits:0,color:"",displayName:"",id:"",userID:m||"",username:m||"",userType:c.a.User,emotes:{}},f=Object(s.a)(u,h,r.a);return{type:o.b.AutoMod,autoModType:o.a.MessageRejectedPrompt,id:t,category:p,sent_at:i,sender:d,content:l,rejectedMessage:Object(a.__assign)(Object(a.__assign)({},f),{type:o.b.Message,messageType:o.c.Post,id:t})}}function u(){return{id:Object(d.a)("automod-message-rejected"),type:o.b.AutoMod,autoModType:o.a.MessageRejected}}function m(){return{id:Object(d.a)("automod-message-allowed"),type:o.b.AutoMod,autoModType:o.a.MessageAllowed}}function p(){return{id:Object(d.a)("automod-message-denied"),type:o.b.AutoMod,autoModType:o.a.MessageDenied}}function h(e,n,t,a,r){return{id:Object(d.a)("channel-moderation-action"),type:o.b.ModerationAction,moderationActionType:e,level:i.Channel,createdByLogin:n,createdByUserID:t,args:a,fromAutoMod:r}}function f(e,n,t,a,r,s,c,l){return{id:Object(d.a)("channel-moderation-action"),type:o.b.ModerationAction,moderationActionType:e,level:i.User,createdByLogin:n,createdByUserID:t,targetUserLogin:a,duration:r,reason:s,messageBody:c,messageID:l}}function g(e,n,t,i){return{id:Object(d.a)("channel-moderation-action"),type:o.b.TargetedModerationAction,targetedModerationActionType:e,targetUserID:n,messageBody:t,targetMessageID:i}}!function(e){e[e.Channel=0]="Channel",e[e.User=1]="User"}(i||(i={}))},"KH/h":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestsListCtx"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"20"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestsSortOrder"}},defaultValue:{kind:"EnumValue",value:"NEWEST"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequestStatus"}},defaultValue:{kind:"EnumValue",value:"PENDING"},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}},{kind:"ObjectField",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}},{kind:"ObjectField",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"userID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"unbanRequestsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownMinutes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:526}};i.loc.source={body:'#import "twilight/features/unban-requests/queries/unban-request-fragment.gql"\nquery UnbanRequestsListCtx($channelLogin: String! $limit: Int = 20 $cursor: Cursor $order: UnbanRequestsSortOrder = NEWEST $status: UnbanRequestStatus = PENDING $userID: ID ) {\nchannel(name: $channelLogin) {\nid\nunbanRequests(first: $limit after: $cursor options: { order: $order status: $status userID: $userID }) {\nedges {\ncursor\nnode {\n...unbanRequestFragment\n}\n}\npageInfo {\nhasNextPage\n}\n}\nunbanRequestsSettings {\nisEnabled\ncooldownMinutes\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("PAn0").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.UnbanRequestsListCtx=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"UnbanRequestsListCtx")},KIkj:function(e,n,t){},KrPZ:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsEmoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:74}};t.loc.source={body:"fragment communityPointsEmoteFragment on CommunityPointsEmote {\nid\ntoken\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},KtqB:function(e,n,t){},KuwR:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userCheerInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteGroup"},directives:[]}]}}]}}]}}],loc:{start:0,end:122}};i.loc.source={body:'#import "./cheermote-group-fragment.gql"\nfragment userCheerInfo on User {\ncheer {\nid\ncheerGroups {\n...cheermoteGroup\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("vm36").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},KwB3:function(e,n,t){"use strict";t.d(n,"a",(function(){return Te}));t("7NxT");var i=t("/MKj"),a=t("ANjH"),r=t("yR8l"),o=t("kRBY"),s=t("vSeP"),d=t("IIop"),c=t("knbN"),l=t("nInp"),u=t("2EzP"),m=t("GnwI"),p=t("26nv"),h=t("mrSG"),f=t("q1tI"),g=t("ZS2+"),v=t("/0dD"),b=t("Mj6i"),y=t("jZLd"),k=t("XDQu"),S=t("ilvU"),C=t("Gssm"),E=t("+pBb"),w=t("Tznh"),_=t("RS58"),N=t("+OgX"),O=t("GHzV"),D=t("UBeo"),M=t("jBwP"),I=t("xzy9"),T=t("ikJD"),j=t("3tQW"),R=t("fezU"),P=t("4PN3"),F=t("3kHA"),L=t("ZtEv"),A=t("lZdE"),U=t("htKM"),x=function(e){function n(n){var t=e.call(this,n)||this;return t.getActiveChatters=function(e,n){if(void 0===e&&(e=""),void 0===n&&(n=1/0),t.isDirty&&t.sortChatters(),!e)return t.sortedChatters.slice(0,n);var i=new RegExp("^"+Object(A.a)(e),"i");return t.sortedChatters.filter((function(e){return i.test(e.login)||e.displayName&&i.test(e.displayName)})).slice(0,n)},t.handleMessage=function(e){Object(U.a)(e).forEach((function(e){return t.handleActiveChatter({displayName:e.displayName,login:e.login})}))},t.getActiveChatterLoginFromDisplayName=function(e){return Object.keys(t.activeChatters).find((function(n){return t.activeChatters[n]&&t.activeChatters[n].displayName===e}))||null},t.reset(),t}return Object(h.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.setActiveChattersAPI({getActiveChatters:this.getActiveChatters,getActiveChatterLoginFromDisplayName:this.getActiveChatterLoginFromDisplayName}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)},n.prototype.componentWillUnmount=function(){this.props.setActiveChattersAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage)},n.prototype.render=function(){return null},n.prototype.componentDidUpdate=function(e){this.props.channelLogin!==e.channelLogin&&this.reset(),this.props.currentUserLogin&&this.props.currentUserLogin!==e.currentUserLogin&&this.activeChatterLogins.has(this.props.currentUserLogin)&&(this.isDirty=!0,this.removeActiveChatter(this.props.currentUserLogin)),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage))},n.prototype.reset=function(){this.activeChatterLogins=new Set,this.activeChatters={},this.isDirty=!0,this.sortedChatters=[]},n.prototype.handleActiveChatter=function(e){e.login!==this.props.channelLogin&&e.login!==this.props.currentUserLogin&&(this.activeChatterLogins.has(e.login)?(this.activeChatterLogins.delete(e.login),this.addActiveChatter(e)):(this.addActiveChatter(e),this.trimActiveChatters(),this.isDirty=!0))},n.prototype.addActiveChatter=function(e){this.activeChatterLogins.add(e.login),this.activeChatters[e.login]=e},n.prototype.removeActiveChatter=function(e){this.activeChatterLogins.delete(e),delete this.activeChatters[e]},n.prototype.trimActiveChatters=function(){if(!(this.activeChatterLogins.size<=300))for(var e=this.activeChatterLogins.size-300,n=this.activeChatterLogins.values(),t=0;t<e;t++){var i=n.next().value;this.removeActiveChatter(i)}},n.prototype.sortChatters=function(){var e=this,n=[{displayName:this.props.channelDisplayName||void 0,login:this.props.channelLogin}],t=Object.keys(this.activeChatters).map((function(n){return e.activeChatters[n]}));t.sort((function(e,n){return e.login<n.login?-1:e.login>n.login?1:0})),this.sortedChatters=n.concat(t),this.isDirty=!1},n}(f.Component);var B=Object(a.d)(Object(i.b)((function(e){var n=Object(o.e)(e);return{currentUserLogin:n&&n.login}})),s.a,u.b)(x),V=t("DMoW"),q=t("KGti"),G=t("aF6k"),H=t("IsZ7"),W=function(e){var n=e.channelID,t=f.useContext(u.a).serviceAPI;return null===n?null:f.createElement(H.a,{channelID:n,onReceiveMessage:function(e){var n=e.data.message.id;switch(e.data.status){case V.j.PENDING:null==t||t.handleMessage(Object(q.e)(e));break;case V.j.ALLOWED:null==t||t.handleMessage({id:Object(G.a)("automod-message-approved"),msg_id:n,type:L.b.AutoMod,autoModType:L.a.MessageModApproved});break;case V.j.DENIED:null==t||t.handleMessage({id:Object(G.a)("automod-message-denied"),msg_id:n,type:L.b.AutoMod,autoModType:L.a.MessageModDenied});break;default:return}},onReceiveOffenderMessage:function(e){switch(e.data.status){case V.j.PENDING:null==t||t.handleMessage(Object(q.d)());break;case V.j.ALLOWED:null==t||t.handleMessage(Object(q.b)());break;case V.j.DENIED:null==t||t.handleMessage(Object(q.c)());break;default:return}}})},z=t("6RAr"),Q=t("x7UT"),Y=t("eDVu"),K=t("0Log"),$=t("/aPz"),X=t("w09P");var Z,J=t("olXY"),ee=t("HGFl"),ne=t("lVPZ"),te=t("NAv5");function ie(e,n){var t=Object(te.addSeconds)(e,n);return Math.max(0,Object(te.differenceInSeconds)(t,new Date))}!function(e){e.Banned="msg_banned",e.Timedout="msg_timedout",e.Ratelimit="msg_ratelimit",e.Duplicate="msg_duplicate",e.Subsonly="msg_subsonly",e.EmoteOnly="msg_emoteonly",e.VerifiedEmail="msg_verified_email",e.Slowmode="msg_slowmode",e.Facebook="msg_facebook",e.BlizzardConnect="msg_blizzard",e.R9k="msg_r9k",e.Followers="msg_followersonly",e.FollowersZero="msg_followersonly_zero",e.FollowersFollowed="msg_followersonly_followed",e.ChannelSuspended="msg_channel_suspended",e.Suspended="msg_suspended",e.BadCharacters="msg_bad_characters"}(Z||(Z={}));var ae,re=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.reasons=[],n.updateHandlers=[],n.followTimerRunning=!1,n.slowModeTimerRunning=!1,n.followSecondsRemaining=0,n.slowSecondsRemaining=0,n.lastMessageSentAt=new Date(0),n.getRestrictions=function(){return 0===n.reasons.length?null:n.reasons},n.refetchRestrictions=function(){n.props.data.refetch()},n.updateRestrictionState=function(){var e;if(!n.props.data||!n.props.data.channel)return!1;var t=((e={})[V.S.REQUIRE_VERIFIED_PHONE_NUMBER]=n.shouldEnforcePhoneVerification(),e[V.S.SUBSCRIBERS_ONLY]=n.shouldEnforceSubsOnly(),e[V.S.VERIFIED_ONLY]=n.shouldEnforceVerifiedOnly(),e[V.S.FOLLOWERS_ONLY]=n.shouldEnforceFollowersOnly(),e[V.S.SLOW_MODE]=n.shouldEnforceSlowMode(),e),i=[],a=n.extractReasons(n.props);if(a)for(var r=0,o=a;r<o.length;r++){var s=o[r];if(t[s])if(s===V.S.VERIFIED_ONLY)n.props.data.currentUser&&n.props.data.currentUser.isEmailVerified||i.push(s);else if(s===V.S.FOLLOWERS_ONLY){if(null!==n.getFollowedTime()){if(0===n.props.followerDurationSeconds)continue;if(n.props.followerDurationSeconds>0&&n.followSecondsRemaining<=0)continue}i.push(s)}else s===V.S.SLOW_MODE?n.slowSecondsRemaining>0&&i.push(s):i.push(s)}return n.reasons=i,!0},n.getRemainingFollowSeconds=function(){return!!n.getFollowedTime()?Math.min(n.followSecondsRemaining,n.props.followerDurationSeconds):null},n.getRemainingSlowModeSeconds=function(){return n.slowSecondsRemaining},n.addUpdateHandler=function(e){-1===n.updateHandlers.indexOf(e)&&(n.updateHandlers=n.updateHandlers.concat(e))},n.removeUpdateHandler=function(e){n.updateHandlers=n.updateHandlers.filter((function(n){return n!==e}))},n.updateState=function(){var e=n.updateSlowState();return e=n.updateFollowState()||e,(e=n.updateRestrictionState()||e)&&n.notifyHandlers(),e},n.updateFollowState=function(){var e=n.getFollowedTime(),t=n.followSecondsRemaining,i=t;return e&&(i=ie(e,n.props.followerDurationSeconds),n.followSecondsRemaining=i),n.followTimerRunning&&(null===e||n.followSecondsRemaining<=0||!n.props.followerMode)?(n.stopFollowTimer(),!0):!n.followTimerRunning&&n.props.followerMode&&n.props.followerDuration>0&&e&&0!==e.getTime()?(n.startFollowTimer(),!0):i!==t},n.updateSlowState=function(){if(n.props.data&&n.props.data.channel&&n.props.data.channel.self&&n.props.data.channel.self.lastRecentChatMessageAt){var e=Object(ee.h)(n.props.data.channel.self.lastRecentChatMessageAt);e>n.lastMessageSentAt&&(n.lastMessageSentAt=e)}var t=(new Date).getTime()/1e3,i=n.lastMessageSentAt.getTime()/1e3+n.props.slowModeDuration,a=n.slowSecondsRemaining;return n.slowSecondsRemaining=Math.round(Math.max(i-t,0)),n.slowModeTimerRunning&&(n.slowSecondsRemaining<=0||!n.props.slowMode||!n.shouldEnforceSlowMode())?(n.stopSlowTimer(),!0):n.slowSecondsRemaining>0&&a<=0?(n.startSlowTimer(),!0):n.slowSecondsRemaining!==a},n.notifyHandlers=function(){n.updateHandlers.forEach((function(e){return e()}))},n.onChatEvent=function(e){var t=new Date(0);switch(e.type){case L.b.Message:e.user.userID===n.props.currentUserID&&(t=new Date(e.timestamp));break;case L.b.Notice:Object.values(Z).includes(e.msgid)&&(n.stopSlowTimer(),n.updateRestrictionState(),n.notifyHandlers())}t>n.lastMessageSentAt&&(n.lastMessageSentAt=t,n.updateSlowState()&&(n.updateRestrictionState(),n.notifyHandlers()))},n.startFollowTimer=function(){var e=n.getFollowedTime(),t=n.props.followerDurationSeconds;null===e||t<=0||!n.shouldEnforceFollowersOnly()||(n.followSecondsRemaining=ie(e,t),n.followTimerRunning=!0,n.countdownTimer.start())},n.stopFollowTimer=function(){n.followTimerRunning=!1,n.followSecondsRemaining=0,n.slowModeTimerRunning||n.countdownTimer.stop()},n.startSlowTimer=function(){n.shouldEnforceSlowMode()&&(n.slowModeTimerRunning=!0,n.countdownTimer.start())},n.stopSlowTimer=function(){n.slowModeTimerRunning=!1,n.slowSecondsRemaining=0,n.lastMessageSentAt=new Date(0),n.followTimerRunning||n.countdownTimer.stop()},n.tick=function(){n.updateState()},n.getFollowedTime=function(){return n.props.data&&n.props.data.channel&&n.props.data.channel.self&&n.props.data.channel.self.follower&&n.props.data.channel.self.follower.followedAt?Object(ee.h)(n.props.data.channel.self.follower.followedAt):null},n.extractReasons=function(e){return e.data&&e.data.channel&&e.data.channel.self&&e.data.channel.self.chatRestrictedReasons?e.data.channel.self.chatRestrictedReasons:null},n.extractRequireVerified=function(e){return!!(e.data&&e.data.channel&&e.data.channel.chatSettings)&&e.data.channel.chatSettings.requireVerifiedAccount},n.restrictionIncluded=function(e){var t=n.extractReasons(n.props);return!!t&&-1!==t.indexOf(e)},n.shouldEnforceSubsOnly=function(){return n.props.subsOnlyMode&&n.restrictionIncluded(V.S.SUBSCRIBERS_ONLY)},n.shouldEnforcePhoneVerification=function(){return!0},n.shouldEnforceVerifiedOnly=function(){return!(!n.extractRequireVerified(n.props)||!n.restrictionIncluded(V.S.VERIFIED_ONLY))},n.shouldEnforceFollowersOnly=function(){return n.props.followerMode&&n.restrictionIncluded(V.S.FOLLOWERS_ONLY)},n.shouldEnforceSlowMode=function(){return n.props.slowMode&&n.restrictionIncluded(V.S.SLOW_MODE)},n}return Object(h.__extends)(n,e),n.prototype.componentDidMount=function(){var e=!1;this.props.setChatRestrictionsAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,refetchRestrictions:this.refetchRestrictions,getRestrictions:this.getRestrictions,getRemainingFollowSeconds:this.getRemainingFollowSeconds,getRemainingSlowModeSeconds:this.getRemainingSlowModeSeconds}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent),this.countdownTimer=new ne.a({onInterval:this.tick,intervalMillis:1e3}),this.shouldEnforceFollowersOnly()&&(this.props.followerDuration>0&&this.startFollowTimer(),e=!0),(this.shouldEnforceSubsOnly()||this.shouldEnforceVerifiedOnly())&&(e=!0),this.props.data&&this.props.data.channel&&this.props.data.channel.self&&this.props.data.channel.self.lastRecentChatMessageAt&&(this.lastMessageSentAt=Object(ee.h)(this.props.data.channel.self.lastRecentChatMessageAt)),this.shouldEnforceSlowMode()&&(e=this.updateSlowState()||e),e&&this.updateState()},n.prototype.render=function(){return null},n.prototype.componentWillUnmount=function(){this.stopFollowTimer(),this.stopSlowTimer(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.setChatRestrictionsAPI()},n.prototype.componentDidUpdate=function(e){var n=!1,t=!1;t=this.needsStateUpdate(e)||t,t=this.updateSlowState()||t,t=this.updateFollowState()||t,this.slowModeTimerRunning&&e.slowModeDuration!==this.props.slowModeDuration&&(this.stopSlowTimer(),t=!0),e.pubsub.messages.subscriptionInfo!==this.props.pubsub.messages.subscriptionInfo&&(t=!0,n=!0),e.pubsub.messages.moderatorActions&&e.pubsub.messages.moderatorActions!==this.props.pubsub.messages.moderatorActions&&(n=!0),n&&this.props.data&&this.props.data.refetch(),t&&(this.updateRestrictionState(),this.notifyHandlers()),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},n.prototype.needsStateUpdate=function(e){if((!e.data||e.data.loading)&&this.props.data&&!this.props.data.loading)return!0;var n=this.extractReasons(e),t=this.extractReasons(this.props);if(!n&&t||n&&!t)return!0;if(n&&t&&(n.length!==t.length||n.every((function(e,n){return e===t[n]}))))return!0;if(e.subsOnlyMode!==this.props.subsOnlyMode||e.followerMode!==this.props.followerMode)return!0;if(e.followerDuration!==this.props.followerDuration)return!0;if(this.extractRequireVerified(e)!==this.extractRequireVerified(this.props))return!0;if(e.data&&this.props.data){var i=e.data,a=this.props.data;if(i.currentUser&&a.currentUser&&i.currentUser.isEmailVerified!==a.currentUser.isEmailVerified)return!0;if(a.channel&&a.channel.self){var r=a.channel.self,o=new Date(0),s=!1,d=!(!r.follower||!r.follower.followedAt);if(i.channel&&i.channel.self&&i.channel.self.follower&&i.channel.self.follower.followedAt&&(o=Object(ee.h)(i.channel.self.follower.followedAt),s=!0),s&&!d)return!0;if(d){var c=new Date(0);if(r.follower&&r.follower.followedAt&&(c=Object(ee.h)(r.follower.followedAt)),o.getTime()!==c.getTime())return!0}}}return!1},n}(f.Component);function oe(e){return!e.data||e.data.loading||!e.data.channel||!e.data.channel.id||!e.currentUserID}var se=Object(a.d)(Object(i.b)((function(e){var n=Object(o.e)(e);return{currentUserID:n&&n.id,isStaff:!!(n&&n.roles&&n.roles.isStaff)}})),c.a,u.b,Object(r.a)(J,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(Q.a)([{topic:function(e){return Object($.eb)(e.currentUserID||"")},mapMessageTypesToProps:{"*":"subscriptionInfo"},skip:oe},{topic:function(e){return Object($.H)(e.currentUserID||"",e.data&&e.data.channel&&e.data.channel.id||"")},mapMessageTypesToProps:(ae={},ae[K.PubsubMessageType.ModeratorAdded]="moderatorActions",ae[K.PubsubMessageType.ModeratorRemoved]="moderatorActions",ae),skip:oe,skipMessage:function(e,n){var t=e;return!n.data.currentUser||t.data.target_user_id!==n.data.currentUser.id}}]),Object(Y.a)((function(e){return{query:J,variables:{channelLogin:e.channelLogin},topic:Object($.db)(e.currentUserID||""),type:K.PubsubMessageType.UserPropertiesUpdate,skip:oe(e),mutator:function(e,n){return n&&n.currentUser?void 0===e.changed.email_verified?n:X(n,(function(e){return e.currentUser.isEmailVerified}),(function(){return e.changed.email_verified})):n}}})),Object(Y.a)((function(e){return{query:J,variables:{channelLogin:e.channelLogin},topic:Object($.C)(e.currentUserID||""),types:[K.PubsubMessageType.UserFollowedEvent,K.PubsubMessageType.UserUnfollowedEvent],skip:oe(e),mutator:function(e,n){if(!n||!n.channel||!n.channel.self)return n;if(function(e){return e.type===K.PubsubMessageType.UserFollowedEvent}(e))return e.target_user_id!==n.channel.id?n:n.channel.self.follower?X(n,(function(e){return e.channel.self.follower.followedAt}),(function(){return e.timestamp})):X(n,(function(e){return e.channel.self.follower}),(function(){return{__typename:"FollowerEdge",followedAt:e.timestamp}}));if(function(e){return e.type===K.PubsubMessageType.UserUnfollowedEvent}(e)){if(e.target_user_id!==n.channel.id)return n;if(n.channel.self.follower)return X(n,(function(e){return e.channel.self.follower.followedAt}),(function(){return null}))}return n}}})),Object(M.c)((function(e){return{followerDuration:e.followerDuration,followerDurationSeconds:60*e.followerDuration,followerMode:e.followerMode,slowMode:e.slowMode,slowModeDuration:e.slowModeDuration,subsOnlyMode:e.subsOnlyMode}})))(re),de=t("U9YO"),ce=t("0CaR"),le=t("/7QA"),ue=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.subscribe=function(e){n.unsubscribe(),e.channelID&&e.currentUserID&&(n.unsubscriber=le.l.subscribe({topic:Object($.H)(e.currentUserID,e.channelID),onMessage:n.handleMessage}))},n.unsubscribe=function(){n.unsubscriber&&(n.unsubscriber(),n.unsubscriber=null)},n.handleMessage=function(e){switch(e.data.moderation_action){case K.ModerationActions.Ban:n.addMessage(Object(q.h)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,e.data.args[1]));break;case K.ModerationActions.Delete:n.addMessage(Object(q.h)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],void 0,void 0,e.data.args[1],e.data.args[2]));break;case K.TargetedModerationActions.DeleteNotification:n.addMessage(Object(q.g)(K.TargetedModerationActions.DeleteNotification,e.data.target_user_id,e.data.args[0],e.data.msg_id));break;case K.ModerationActions.Unban:case K.ModerationActions.Timeout:case K.ModerationActions.Untimeout:n.addMessage(Object(q.h)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args[0],e.data.args[1],e.data.args[2]));break;case K.ModerationActions.Mod:case K.ModerationActions.Unmod:n.addMessage(Object(q.h)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.target_user_login));break;case K.ModerationActions.AddBlockedTerm:case K.ModerationActions.AddPermittedTerm:case K.ModerationActions.DeleteBlockedTerm:case K.ModerationActions.DeletePermittedTerm:n.addMessage(Object(q.f)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args,e.data.from_automod));break;case K.ModerationActions.AutoModEnabled:case K.ModerationActions.Clear:case K.ModerationActions.EmoteOnly:case K.ModerationActions.EmoteOnlyOff:case K.ModerationActions.FollowersOnly:case K.ModerationActions.FollowersOnlyOff:case K.ModerationActions.Host:case K.ModerationActions.R9kBeta:case K.ModerationActions.R9kBetaOff:case K.ModerationActions.Raid:case K.ModerationActions.Slow:case K.ModerationActions.SlowOff:case K.ModerationActions.SubsBeta:case K.ModerationActions.SubscribersOnly:case K.ModerationActions.SubscribersOnlyOff:case K.ModerationActions.Unhost:case K.ModerationActions.ModifiedAutoModProperties:case K.ModerationActions.Unraid:n.addMessage(Object(q.f)(e.data.moderation_action,e.data.created_by,e.data.created_by_user_id,e.data.args));break;default:le.k.warn("Unknown moderation action type",e.data.moderation_action)}},n}return Object(h.__extends)(n,e),n.prototype.componentDidMount=function(){this.subscribe(this.props)},n.prototype.componentDidUpdate=function(e){this.props.channelID===e.channelID&&this.props.currentUserID===e.currentUserID||this.subscribe(this.props)},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.render=function(){return null},n.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):le.k.warn("ModerationActionService received an event before the MessageHandlerAPI was available.")},n}(f.Component);var me=Object(a.d)(Object(i.b)((function(e){var n=Object(o.e)(e);return{currentUserID:n&&n.id}})),u.b)(ue),pe=t("k4PX"),he=t("Owek"),fe=t("BJwa"),ge="(?:\\W|^)",ve="(?:$|\\W)",be="PowerUpL DarkMode PowerUpR",ye={failSilently:!0,placeholder:null},ke=g.a.wrap((function(){return t.e(69).then(t.bind(null,"q7q0"))}),"BountyBoardNotification",ye),Se=g.a.wrap((function(){return Promise.all([t.e(0),t.e(70)]).then(t.bind(null,"Ofwf"))}),"ChatCommandHandlers",ye),Ce=g.a.wrap((function(){return t.e(78).then(t.bind(null,"KSjr"))}),"NativeBroadcastNotification",ye),Ee=g.a.wrap((function(){return t.e(80).then(t.bind(null,"T3fw"))}),"Orbis",ye),we=g.a.wrap((function(){return t.e(81).then(t.bind(null,"rg60"))}),"RitualsOnboardingSticky",ye),_e=function(e){function n(n){var t=e.call(this,n)||this;return t.state={hasReceivedInitialRoomState:!1,hostedChannelLogin:null,prevPropsChannelLogin:t.props.channelLogin,userBadges:null,userBadgeDynamicData:null},t.renderNotifications=function(){var e=[];return t.props.firstPageLoaded&&t.props.channelID&&e.push(f.createElement(ke,{key:"bounty-board-notification",channelID:t.props.channelID})),e},t.sendMessage=function(e,n){if(!e||0===e.length||!t.props.authToken)return!1;if(!t.props.chatConnectionAPI)return!1;var i=t.props.chatConnectionAPI.sendMessage(e,n);return(!i||!i.preserveInput)&&(t.parseOutgoingMessage(e),!0)},t.pushMessage=function(e){t.props.messageHandlerAPI&&t.props.messageHandlerAPI.handleMessage(e)},t.onChatEvent=function(e){switch(e.type){case L.b.Hosting:t.hostingHandler(e.hostedChannel);break;case L.b.Unhost:t.hostingHandler(null);break;case L.b.RoomState:t.onRoomStateUpdated(e.state);break;case L.b.BadgesUpdated:t.onBadgesUpdated(e)}},t.hostingHandler=function(e){t.setState({hostedChannelLogin:e}),t.props.onHostingChange&&t.props.onHostingChange(e)},t.createOutgoingTokenMatchers=function(e){t.outgoingTokenMatchers=e.map((function(e){return{token:e,regex:new RegExp(""+ge+e+ve)}}))},t.parseOutgoingMessage=function(e){t.outgoingTokenMatchers.forEach((function(n){n.regex.test(e)&&t.onOutgoingTokenMatch(n.token,e)}))},t.onOutgoingTokenMatch=function(e,n){switch(e){case be:var i=t.props.theme===v.a.Light?v.a.Dark:v.a.Light;t.props.onThemeChange(i);break;default:return}},t.onBadgesUpdated=function(e){t.setState({userBadges:e.badges,userBadgeDynamicData:e.badgeDynamicData||null})},t.onRoomStateUpdated=function(e){t.props.initialStateLoaded||t.props.onRoomStateUpdate(e)},t.determineCommandPermissionLevel=function(){return t.props.userLogin&&t.props.userLogin===t.props.channelLogin?F.b.Broadcaster:t.props.isCurrentUserModerator?F.b.Moderator:t.props.isCurrentUserVIP?F.b.Vip:F.b.Viewer},t.emoteSetsWithModifiers=function(){var e,n;return(null===(n=null===(e=t.props.emoteSetsData)||void 0===e?void 0:e.emoteSets)||void 0===n?void 0:n.map((function(e){var n,t=Object(h.__spreadArrays)((null==e?void 0:e.emotes)||[]);return null===(n=null==e?void 0:e.emotes)||void 0===n||n.forEach((function(e){var n;null===(n=null==e?void 0:e.modifiers)||void 0===n||n.forEach((function(n){t.push({id:e.id+"_"+n.code,token:e.token+"_"+n.code})}))})),Object(h.__assign)(Object(h.__assign)({},e),{emotes:t})})))||[]},t.createOutgoingTokenMatchers([be]),t}return Object(h.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.channelLogin!==n.prevPropsChannelLogin?{prevPropsChannelLogin:e.channelLogin,hostedChannelLogin:null}:null},n.prototype.componentDidMount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent)},n.prototype.componentWillUnmount=function(){this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.onChatEvent)},n.prototype.componentDidUpdate=function(e){e.initialStateLoaded&&(e.followerModeDuration===this.props.followerModeDuration&&e.followerModeEnabled===this.props.followerModeEnabled||this.pushMessage(Object(P.d)(this.props.followerModeEnabled,this.props.followerModeDuration)),e.slowModeEnabled===this.props.slowModeEnabled&&e.slowModeDuration===this.props.slowModeDuration||this.pushMessage(Object(P.k)(this.props.slowModeEnabled,this.props.slowModeDuration))),e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.onChatEvent),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.onChatEvent))},n.prototype.render=function(){var e,n=this.props.emoteSetsData&&this.props.emoteSetsData.emoteSets||[],t=this.props.isHidden||!this.props.rightColumnExpanded&&!this.props.inlineRightColumnExpanded,i=!(!this.props.isEmbedded&&!this.props.isPopout&&t&&!this.props.shouldConnectChat),a=this.determineCommandPermissionLevel();return this.props.firstPageLoaded&&(e=f.createElement(Ee,{channelLogin:this.props.channelLogin,sendMessage:this.sendMessage})),f.createElement(f.Fragment,null,f.createElement(fe.b,{authToken:this.props.authToken,channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRoomHeader:e,chatRules:this.props.chatRules,commandPermissionLevel:a,currentUserDisplayName:this.props.userDisplayName,currentUserLogin:this.props.userLogin,emotes:n,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap||{},firstPageLoaded:this.props.firstPageLoaded,hostedChannelLogin:this.state.hostedChannelLogin,isBackground:this.props.isBackground,isChatRulesOpen:this.props.isChatRulesOpen,isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserVIP:this.props.isCurrentUserVIP,isEmbedded:this.props.isEmbedded,isHidden:this.props.isHidden,isHostMode:!!this.state.hostedChannelLogin,isReadOnly:this.props.isReadOnly,isOwnChannel:this.isOwnChannel,isPopout:this.props.isPopout,isStaff:this.props.isStaff,onChatUnhide:this.props.onChatUnhide,onCloseChatRules:this.props.onCloseChatRules,onPushMessage:this.pushMessage,onSendMessage:this.sendMessage,onShowChatRules:this.props.onShowChatRules,theme:this.props.theme,userBadges:this.state.userBadges,userBadgeDynamicData:this.state.userBadgeDynamicData,userID:this.props.userID,useBaseBackground:this.props.useBaseBackground},this.renderNotifications(),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&f.createElement(Ce,{key:this.props.channelLogin.toLowerCase(),channelLogin:this.props.channelLogin}),this.props.firstPageLoaded&&!this.props.isEmbedded&&!this.props.isPopout&&this.props.channelID&&f.createElement(O.a,null,f.createElement(we,{channelID:this.props.channelID,channelLogin:this.props.channelLogin}))),this.renderCommandHandlers(),f.createElement(B,{channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin}),f.createElement(se,{channelLogin:this.props.channelLogin}),f.createElement(z.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,commandPermissionLevel:a,emoteSets:this.emoteSetsWithModifiers(),isCurrentUserEditor:this.props.isCurrentUserEditor,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:!!this.state.hostedChannelLogin,shouldConnect:i,userID:this.props.userID}),f.createElement(de.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,shouldSeeBlockedAndDeletedMessages:this.props.shouldSeeBlockedAndDeletedMessages,isBackground:!!this.props.isBackground,isCurrentUserModerator:this.props.isCurrentUserModerator,unhideIgnoredUsers:this.props.unhideIgnoredUsers}),f.createElement(ce.a,null),f.createElement(me,{channelID:this.props.channelID}),f.createElement(W,{channelID:this.props.channelID}))},n.prototype.renderCommandHandlers=function(){return this.props.isBackground||!this.props.firstPageLoaded?null:f.createElement(Se,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,chatRules:this.props.chatRules,emoteMap:this.props.emoteSetsData&&this.props.emoteSetsData.emoteMap,isEditor:this.props.isCurrentUserEditor,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,permissionLevel:this.determineCommandPermissionLevel(),sendMessage:this.sendMessage,userID:this.props.userID,userLogin:this.props.userLogin})},Object.defineProperty(n.prototype,"isOwnChannel",{get:function(){return this.props.userID===this.props.channelID},enumerable:!0,configurable:!0}),n}(f.Component);var Ne=Object(M.c)((function(e){return{followerModeDuration:e.followerDuration,followerModeEnabled:e.followerMode,slowModeDuration:e.slowModeDuration,slowModeEnabled:e.slowMode,initialStateLoaded:e.initialStateLoaded,onRoomStateUpdate:function(n){return e.updateRoomState(n)}}}))(_e),Oe=Object(a.d)(Object(i.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isHidden:e.chat.isHidden,isLoggedIn:Object(o.f)(e),rightColumnExpanded:e.ui.rightColumnExpanded,inlineRightColumnExpanded:e.ui.inlineRightColumnExpanded,theme:Object(k.a)(e),unhideIgnoredUsers:e.chat.unhideIgnoredUsers}}),(function(e){return Object(a.b)({onCloseChatRules:function(){return E.M()},onShowChatRules:function(){return E.eb()},onChatUnhide:function(){return E.db()},onThemeChange:function(e){return Object(y.b)(e,{trackingSource:y.a.TypedCommand})}},e)})),Object(m.withLatencyTracking)("ChatRoom",{autoReportInteractive:!0}),Object(b.a)(),d.a,u.b)((function(e){return f.createElement(M.a,{channelLogin:e.channelLogin},f.createElement(R.a,null,f.createElement(w.a,null,f.createElement(j.a,null,f.createElement(T.a,null,f.createElement(I.a,{channelID:e.channelID},f.createElement(N.a,null,f.createElement(D.a,null,f.createElement(_.a,null,f.createElement(pe.a,{channelLogin:e.channelLogin},f.createElement(S.a,{key:e.channelLogin},f.createElement(he.a,{channelLogin:e.channelLogin},f.createElement(C.a,null,f.createElement(Ne,Object(h.__assign)({},e)))))))))))))))})),De=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(h.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.componentDidUpdate=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){var e=this.props.channelData.channel,n=this.props.userData&&this.props.userData.user,t=!1,i=!1,a=!1,r=!1,o=!1;if(n&&e&&e.self){var s=n.login===e.login,d=n.roles&&n.roles.isGlobalMod||!1,c=n.roles&&n.roles.isSiteAdmin||!1;r=n.roles&&n.roles.isStaff||!1,o=e.self.isModerator||s||d,i=e.self.isModerator||s||d||c,t=e.self.isEditor||!1,a=e.self.isVIP||!1}var l=void 0;return e&&e.chatSettings&&e.chatSettings.rules&&e.chatSettings.rules.filter((function(e){return e.trim().length})).length&&(l=e.chatSettings.rules),f.createElement(Oe,{key:this.props.channelLogin,authToken:this.props.sessionUser&&this.props.sessionUser.authToken,channelDisplayName:e&&e.displayName,channelID:e&&e.id,channelLogin:this.props.channelLogin,chatRules:l,clientID:this.props.clientID,isBackground:this.props.isBackground,isCurrentUserEditor:t,isCurrentUserModerator:i,isCurrentUserVIP:a,isEmbedded:!!this.props.isEmbedded,isPopout:!!this.props.isPopout,onHostingChange:this.props.onHostingChange,userDisplayName:this.props.sessionUser&&this.props.sessionUser.displayName,userID:this.props.sessionUser&&this.props.sessionUser.id.toString(),userLogin:this.props.sessionUser&&this.props.sessionUser.login,isStaff:r,shouldSeeBlockedAndDeletedMessages:o,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},n}(f.Component),Me=t("9P+5");var Ie=Object(a.d)(Object(i.b)((function(e){return{sessionUser:Object(o.e)(e)}})),Object(r.a)(p,{name:"channelData",options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(r.a)(Me,{name:"userData",skip:function(e){return!e.sessionUser}}),Object(m.withLatencyTracking)("Chat"))(De),Te=Object(a.d)(s.b,d.b,l.c,u.c,c.b)(Ie)},L64p:function(e,n,t){"use strict";t.d(n,"f",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return l})),t.d(n,"g",(function(){return m})),t.d(n,"h",(function(){return p}));var i=t("k5yb");function a(e,n){return void 0===n&&(n=""),Object(i.B)(e,"/channel-analytics"+n)}function r(e,n){return{pathname:a(e),state:{content:n.content,medium:n.medium},search:n.search}}function o(e,n){return{pathname:a(e,"/notifications"),state:n}}function s(e,n,t){return void 0===t&&(t=location.search),{pathname:a(e,"/referrals"),search:t,state:n}}function d(e,n){return{pathname:a(e,"/payouts"),state:n}}function c(e,n){return void 0===n&&(n=""),Object(i.B)(e,"/achievements"+n)}function l(e){return c(e.channelLogin,"/"+e.id)}function u(e,n){return void 0===n&&(n=""),Object(i.B)(e,"/stream-summary"+n)}function m(e,n){return{pathname:u(e.channelLogin,"/"+e.id+"/referrals"),state:n}}function p(e,n){return u(e.channelLogin,"/"+e.id+"?tt_content="+n.content+"&tt_medium="+n.medium)}},L6L7:function(e,n,t){},LEe6:function(e,n,t){"use strict";function i(e,n){return"CommunityPointsCustomReward"===e.__typename&&e.maxPerUserPerStreamSetting.isEnabled&&n&&n>=e.maxPerUserPerStreamSetting.maxPerUserPerStream}function a(e){var n=e.maxPerStreamSetting,t=e.redemptionsRedeemedCurrentStream;return!!(t&&n.isEnabled&&t>=n.maxPerStream)}function r(e,n){var t=e.cooldownExpiresAt,i=e.globalCooldownSetting;return!!t&&!!(i.isEnabled&&new Date(t).getTime()>n.getTime())}t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}))},MQZ3:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewPollModalQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestPoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"cheer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:301}};i.loc.source={body:'#import "twilight/features/polls/models/poll-settings-fragment.gql"\nquery NewPollModalQuery($id: ID!) {\nchannel: user(id: $id) {\nid\nlatestPoll {\nid\ndurationSeconds\nsettings {\n...pollSettings\n}\n}\ncheer {\nid\n}\n}\ncommunity: user(id: $id) {\nid\nchannel {\nid\ncommunityPointsSettings {\nname\nisEnabled\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("OGC9").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.NewPollModalQuery=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"NewPollModalQuery")},MVDO:function(e,n,t){},MglV:function(e,n,t){},Mj6i:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("yR8l"),r=t("0FG4"),o=t("S4w9");function s(){return Object(a.a)(o,{options:function(){return{variables:{withOwner:!0}}},props:function(e){if(e.data){var n=e.data.currentUser&&e.data.currentUser.emoteSets||[],t=n&&Object(r.b)(n);return{emoteSetsData:Object(i.__assign)(Object(i.__assign)({},e.data),{currentUser:e.data.currentUser||null,emoteMap:t,emoteSets:n})}}return{}},skip:function(e){return!e.isLoggedIn}})}},MkkA:function(e,n,t){"use strict";var i=t("fBrF");t.d(n,"withWatchPartyContext",(function(){return i.b}));var a=t("yJn7");t.o(a,"withWatchPartyContextManager")&&t.d(n,"withWatchPartyContextManager",(function(){return a.withWatchPartyContextManager}));var r=t("t4UF");t.d(n,"withWatchPartyContextManager",(function(){return r.a}))},MvLD:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPollContext_GetViewablePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewablePoll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"poll"},directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoter"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:339}};i.loc.source={body:'#import "twilight/features/polls/models/poll-fragment.gql"\n#import "twilight/features/polls/models/poll-voter-fragment.gql"\nquery ChannelPollContext_GetViewablePoll($login: String!) {\nchannel: user(login: $login) {\nid\nviewablePoll {\n...poll\nself {\nvoter {\n...pollVoter\n}\n}\n}\nself {\nisEditor\nisModerator\n}\n}\ncurrentUser {\nid\nbitsBalance\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("wAVh").definitions)),i.definitions=i.definitions.concat(r(t("INxu").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChannelPollContext_GetViewablePoll=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPollContext_GetViewablePoll")},N2Gh:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}));var i=t("/7QA"),a=t("2xye"),r=t("7Eue"),o=t("uu1w"),s=function(e){switch(e){case o.a.Command:return r.b.Command;case o.a.Emote:return r.b.Emote;case o.a.Hashtag:return r.b.Hashtag;case o.a.Mention:return r.b.Mention;default:return void i.k.warn("Chat Suggestions tracking was passed an unknown autocomplete type.")}},d=function(e){var n=s(e.autocompleteType);if(n){var t={source:e.source,start_character:n};i.o.track(a.SpadeEventType.ChatSuggestion,t)}},c=function(e){var n=s(e.autocompleteType);if(n){var t={channel:e.channelLogin,completed_text:e.completedText,source:e.source,start_character:n,used_reply_suggestion:e.usedReplySuggestion};i.o.track(a.SpadeEventType.ChatSuggestionComplete,t)}}},NEj2:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WithIsStreamLiveQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:86}};t.loc.source={body:"query WithIsStreamLiveQuery($id: ID!) {\nuser(id: $id) {\nid\nstream {\nid\ncreatedAt\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.WithIsStreamLiveQuery=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"WithIsStreamLiveQuery")},NWfm:function(e,n,t){},NeSQ:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"activeMultipliersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsMultiplier"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}}],loc:{start:0,end:85}};t.loc.source={body:"fragment activeMultipliersFragment on CommunityPointsMultiplier {\nreasonCode\nfactor\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},NxUI:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("OCDW"),s=t("Yegi"),d=t("E1Lb"),c=t("Ix37"),l=t("uq9l"),u=t("swlv"),m=(t("6bwK"),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(o.a,{padding:1,display:s.h.Flex,flexDirection:s.i.Row,className:"poll-service-error__service-error",justifyContent:s.m.Between,alignItems:s.b.Center,position:s.o.Relative},a.createElement(o.a,{display:s.h.Flex,flexDirection:s.i.Row},a.createElement(o.a,{className:"poll-service-error__service-error__icon"},a.createElement(d.a,{asset:c.a.Halt})),a.createElement(o.a,{margin:{left:1},display:s.h.Flex,flexDirection:s.i.Column},a.createElement(l.a,null,this.props.message),this.props.showTryAgain&&a.createElement(l.a,{color:s.f.Alt2,fontSize:s.k.Size6},Object(r.d)("Try again in a moment.","Polls--PollServiceError")))),a.createElement(o.a,{position:s.o.Absolute,attachTop:!0,attachRight:!0,className:"poll-service-error__service-error__close"},a.createElement(u.a,{size:u.b.Small,type:u.c.Secondary,onClick:this.props.onClose,"aria-label":Object(r.d)("Close","Polls--PollServiceError"),icon:c.a.Close})))},n}(a.Component))},O4UZ:function(e,n,t){"use strict";t.d(n,"d",(function(){return u})),t.d(n,"c",(function(){return i})),t.d(n,"b",(function(){return p})),t.d(n,"f",(function(){return h})),t.d(n,"a",(function(){return m})),t.d(n,"k",(function(){return g})),t.d(n,"g",(function(){return v})),t.d(n,"i",(function(){return b})),t.d(n,"n",(function(){return y})),t.d(n,"q",(function(){return k})),t.d(n,"p",(function(){return C})),t.d(n,"e",(function(){return f})),t.d(n,"h",(function(){return E})),t.d(n,"m",(function(){return _})),t.d(n,"l",(function(){return N})),t.d(n,"j",(function(){return O})),t.d(n,"o",(function(){return D}));var i,a,r=t("TSYQ"),o=t("cr+I"),s=t("q1tI"),d=t("/7QA"),c=t("ht6z"),l=t("p9DJ"),u={DIRECT_ENTITLEMENT:"DIRECT_ENTITLEMENT",CLAIM_CODE:"CLAIM_CODE",EXTERNAL_OFFER:"EXTERNAL_OFFER"};!function(e){e.Vertical="Vertical",e.Horizontal="Horizontal",e.Default="Vertical"}(i||(i={})),function(e){e.Crown="Crown",e.LootPage="LootPage"}(a||(a={}));var m,p={UNKNOWN_ERROR:"UNKNOWN_ERROR",OFFER_ALREADY_CLAIMED:"OFFER_ALREADY_CLAIMED",UNABLE_TO_SPEND:"UNABLE_TO_SPEND",TOO_MANY_RECENT_SPENDS:"TOO_MANY_RECENT_SPENDS"},h=function(e){switch(e||p.UNKNOWN_ERROR){case p.OFFER_ALREADY_CLAIMED:return Object(d.d)("Oh no! Unable to claim. Another linked Twitch account may have already claimed this content. Click <x:link>here to learn more</x:link>.",{"x:link":function(e){return s.createElement(l.a,{linkTo:"https://www.amazongames.com/en-us/support/twitch-prime/",targetBlank:!0,className:"prime-error__link","data-a-target":"prime-error_link"},e)}},"PrimeError");case p.UNABLE_TO_SPEND:case p.TOO_MANY_RECENT_SPENDS:default:return Object(d.d)("Something has gone wrong. Please try again later.","PrimeError")}};!function(e){e.Seen="SEEN",e.Unseen="UNSEEN",e.Claimed="CLAIMED",e.Overridden="OVERRIDDEN",e.Dismissed="DISMISSED"}(m||(m={}));var f,g=function(e){return e===i.Vertical},v=function(e,n){var t=n===i.Horizontal?"horizontal":"vertical";return r(e,e+"--"+t)},b=function(){return S("seenOffers")},y=function(e){d.m.set("seenOffers",e)},k=function(e,n){return(e&&(e.priority||0===e.priority)?e.priority:99999)-(n&&(n.priority||0===n.priority)?n.priority:99999)},S=function(e){return d.m.get(e,[])},C=function(e,n){return void 0!==e&&void 0!==n&&(!e&&Object(c.a)(n))};!function(e){e.DateOverride="dateOverride",e.CountryCode="countryCode"}(f||(f={}));var E=function(e){var n=location.search,t=o.parse(n);return t&&t[e]||void 0},w=function(e){return e&&!e.loading&&!e.error&&e.currentUser},_=function(e){var n=w(e);return n&&n.hasPrime||!1},N=function(e){return e&&e.loading||!1},O=function(e){var n=w(e);return n&&n.id||""},D=function(e){return!!e&&"#"!==e.charAt(0)}},OBzG:function(e,n,t){},OCTF:function(e,n,t){},OGC9:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettings"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsBitsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityPointsVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"multichoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettingsMultichoice"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsBitsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsBitsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsCommunityPointsVotes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsCommunityPointsVotes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"pollSettingsMultichoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollSettingsMultichoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}],loc:{start:0,end:433}};t.loc.source={body:"fragment pollSettings on PollSettings {\nbitsVotes {\n...pollSettingsBitsVotes\n}\ncommunityPointsVotes {\n...pollSettingsCommunityPointsVotes\n}\nid\nmultichoice {\n...pollSettingsMultichoice\n}\n}\nfragment pollSettingsBitsVotes on PollSettingsBitsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsCommunityPointsVotes on PollSettingsCommunityPointsVotes {\ncost\nisEnabled\n}\nfragment pollSettingsMultichoice on PollSettingsMultichoice {\nisEnabled\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},OJmJ:function(e,n,t){"use strict";t.d(n,"d",(function(){return d})),t.d(n,"e",(function(){return u})),t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return o.b})),t.d(n,"b",(function(){return o.a}));var i=t("mrSG"),a=t("q1tI"),r=t("1rIY"),o=t("3JYT"),s=Object(r.a)("SnackbarContextValue",{addSnackbarToQueue:function(){},removeSnackbarFromQueue:function(){return null},snackbarQueue:new Map}),d=s.context,c=s.withContext;function l(e){return e}function u(e){return c(e||l)}var m=function(e){function n(n){var t=e.call(this,n)||this;return t.addSnackbarToQueue=function(e,n){var i,r=e.props,s=null!==(i=null==n?void 0:n.itemID)&&void 0!==i?i:Math.random()+"-"+Date.now();if(!t.throttledMap.has(s))return t.setState((function(i){var d=i.snackbarQueue;r.type&&r.type===o.b.Error&&Array.from(d.entries()).find((function(e){return e[1].component.props.message===r.message&&(d.delete(e[0]),!0)}));if(d.set(s,{id:s,component:a.cloneElement(e,{id:s,key:s})}),null==n?void 0:n.throttleMS){var c=setTimeout((function(){t.throttledMap.delete(s)}),n.throttleMS);t.throttledMap.set(s,c)}return{snackbarQueue:d}})),s},t.removeSnackbarFromQueue=function(e){t.setState((function(n){var t=n.snackbarQueue;return t.delete(e),{snackbarQueue:t}}))},t.state={addSnackbarToQueue:t.addSnackbarToQueue,removeSnackbarFromQueue:t.removeSnackbarFromQueue,snackbarQueue:new Map},t.throttledMap=new Map,t}return Object(i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.throttledMap.forEach((function(e){clearTimeout(e)})),this.throttledMap.clear()},n.prototype.render=function(){return a.createElement(d.Provider,{value:this.state},this.props.children)},n}(a.Component)},OOag:function(e,n,t){"use strict";t.d(n,"a",(function(){return v})),t.d(n,"b",(function(){return y}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("geRD"),s=t("DMoW"),d=t("zwF8"),c=t("IQZc"),l=t("g+79"),u=t("uq9l"),m=t("B30r"),p=t("UNTo"),h=t("W1jp"),f=t("nAiT"),g=t("EgE3");function v(e){var n=this;return{icon:a.createElement(l.a,{data:e.reward,size:l.b.ExtraSmall}),title:e.reward.title,body:a.createElement(c.a,{onRequirementsChange:function(n){return n?e.setTrayError(Object(f.m)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},onStockChange:function(n){return n?e.setTrayError(Object(f.i)()):e.clearTrayError()},reward:e.reward},a.createElement(u.a,{wordBreak:u.g.BreakWord},e.reward.prompt||void 0)),disableCommands:!0,disableBits:!0,ignoredRestrictions:new Set([s.S.FOLLOWERS_ONLY,s.S.SLOW_MODE,s.S.SUBSCRIBERS_ONLY,s.S.VERIFIED_ONLY]),pointsCost:Object(h.c)(e.reward),sendButtonOverride:d.b.CommunityPointsSpend,sendMessageHandler:{type:d.c.Custom,handleMessage:function(t){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return t.trim()?[4,y(e.channelID,e.reward,e.transactionID,t)]:(b(e),[2,!1]);case 1:return(n=a.sent()).data&&n.data.redeemCommunityPointsCustomReward&&!n.data.redeemCommunityPointsCustomReward.error?(e.clearTray(),Object(g.r)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(b(Object(i.__assign)(Object(i.__assign)({},e),{errorCode:n.data&&n.data.redeemCommunityPointsCustomReward&&n.data.redeemCommunityPointsCustomReward.error&&n.data.redeemCommunityPointsCustomReward.error.code||void 0,message:t})),[2,!1])}}))}))}}}}function b(e){var n=e.message?Object(m.a)(e.errorCode):Object(m.b)();e.setTrayError(n)}function y(e,n,t,a){return r.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(o.a)({channelID:e,cost:Object(h.c)(n),prompt:n.prompt,rewardID:n.id,textInput:a,title:n.title,transactionID:t})))}},Ohqu:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetChatPauseSetting"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatPauseSettingInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatPauseSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};t.loc.source={body:"mutation SyncedSettingsSetChatPauseSetting($input: SetChatPauseSettingInput!) {\nsetChatPauseSetting(input: $input) {\nchatPauseSetting\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsSetChatPauseSetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsSetChatPauseSetting")},OpME:function(e,n,t){"use strict";t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return u})),t.d(n,"d",(function(){return p})),t.d(n,"a",(function(){return h})),t.d(n,"f",(function(){return f})),t.d(n,"e",(function(){return g}));var i=t("mrSG"),a=t("/0dD"),r=t("lZdE"),o=t("cpJf"),s={"B-?\\)":"B)","\\:-?[z|Z|\\|]":":|","\\:-?\\)":":)","\\:-?\\(":":(","\\:-?(p|P)":":P","\\;-?(p|P)":";P","\\:-?[\\\\/]":":/","\\;-?\\)":";)","R-?\\)":"R)",":>":":>","\\:\\&gt\\;":":>","[oO](_|\\.)[oO]":"O_o","\\:-?D":":D","\\:-?(o|O)":":O",">\\\\(":">(",":-?(?:7|L)":":7","\\:-?(S|s)":":S","#-?[\\\\/]":"#/","<\\]":"<]","<3":"<3","\\&lt\\;3":"<3","\\&lt\\;\\]":"<]","\\&gt\\;\\(":">("},d=["1.0","2.0","3.0"],c=new Set([457,33,42,0]);function l(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=a.a.Light);for(var i=[],r=0,o=e;r<o.length;r++){var s=o[r];s&&null!==s.id&&null!==s.token&&i.push(u(s,n,t))}return i}function u(e,n,t){void 0===n&&(n=!0),void 0===t&&(t=a.a.Light);var r=s[e.token]||e.token,o=n?"default":"static",c=t===a.a.Light?"light":"dark",l=d.reduce((function(n,t){var i=n;return i&&(i=i.concat(", ")),i.concat("https://static-cdn.jtvnw.net/emoticons/v2/"+e.id+"/"+o+"/"+c+"/"+t+" "+t+"x")}),"");return Object(i.__assign)(Object(i.__assign)({},e),{displayName:r,srcSet:l})}function m(e){return e.filter((function(e){return!!e&&!!e.id&&!!e.token})).sort((function(e,n){return parseInt(n.id,10)-parseInt(e.id,10)}))}function p(e){for(var n=[],t=0,i=e;t<i.length;t++){var a=i[t];if(a&&a.id&&a.emotes){for(var r={id:a.id,emotes:[]},o=0,s=a.emotes;o<s.length;o++){var d=s[o];d&&d.id&&d.token&&r.emotes.push(d)}n.push(r)}}return n}function h(e){for(var n=[],t=[],i=0,a=e;i<a.length;i++){var r=a[i];if(r&&r.id&&r.emotes){var o={id:r.id,emotes:l(m(r.emotes))};r.owner&&(o.owner=r.owner),c.has(parseInt(r.id,10))?n.push(o):t.push(o)}}return t.concat(n)}var f=function(e,n,t){var i=t||o.c,a=[],s=[],d=[],c=new RegExp("^"+Object(r.a)(n),"i");return e.forEach((function(e){i[e.token]?d.push(e):e.token.match(c)?a.push(e):s.push(e)})),a.sort((function(e,n){return e.token.localeCompare(n.token)})),s.sort((function(e,n){return e.token.localeCompare(n.token)})),d.sort((function(e,n){return i[n.token].count-i[e.token].count})),d.concat(a).concat(s)},g=function(e){var n={};return e.filter((function(e){return!n.hasOwnProperty(e.token)&&(n[e.token]=!0)}))}},OvAg:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IncomingRaidLine_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:146}};t.loc.source={body:"query IncomingRaidLine_Channel($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\ndisplayName\nprofileImageURL(width: 50)\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.IncomingRaidLine_Channel=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"IncomingRaidLine_Channel")},Owek:function(e,n,t){"use strict";t.d(n,"a",(function(){return T})),t.d(n,"b",(function(){return D}));var i=t("mrSG"),a=t("q1tI"),r=t("/MKj"),o=t("ANjH"),s=t("yR8l"),d=t("wUQP"),c=t("XDCx"),l=t("kRBY"),u=t("8D7W"),m=t("DLI4"),p=t("w09P"),h=t("eDVu"),f=t("0Log"),g=t("geRD"),v=t("/aPz"),b=t("1rIY"),y=t("H31v"),k=t("ati1"),S=t("smCe"),C=t("i5+p"),E=t("SUI5"),w=t("MvLD"),_=t("5aDA"),N=Object(b.a)("ChannelPollContext",{viewablePoll:null,selfVoter:null,isUserPollAdmin:!1,bitsBalance:0,topBitsContributor:null,topCommunityPointsContributor:null}),O=N.context,D=N.withContext,M=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.voteInPoll=function(e){return Object(i.__awaiter)(n,void 0,Promise,(function(){var n,t,a,r,o;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:if(!(this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&this.props.data.channel.viewablePoll.ownedBy))return[2,Promise.resolve({data:{voteInPoll:null}})];n=this.props.data.channel.viewablePoll,t=e.variables.input.tokens?e.variables.input.tokens.bits:0,a=t>0,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.props.voteInPoll(e)];case 2:return(r=s.sent()).data.voteInPoll&&!r.data.voteInPoll.error&&Object(g.j)(w,{login:this.props.channelLogin},(function(o){var s=Object(i.__assign)({},o);if(o.channel&&o.channel.viewablePoll&&o.channel.viewablePoll.self){var d=o.channel.viewablePoll.self.voter;if(s=p(s,(function(e){return e.channel.viewablePoll}),(function(e){var r=e.totalVoters,o={},s={};return d||(r=Math.max(e.totalVoters,n.totalVoters+1)),o.total=Math.max(e.votes.total,n.votes.total+1),a?(o.bits=Math.max(e.votes.bits,n.votes.bits+1),s.bits=Math.max(e.tokens.bits,n.tokens.bits+t)):o.base=Math.max(e.votes.bits,n.votes.bits+1),Object(i.__assign)(Object(i.__assign)({},e),{totalVoters:r,votes:Object(i.__assign)(Object(i.__assign)({},e.votes),o),tokens:Object(i.__assign)(Object(i.__assign)({},e.tokens),s)})})),s=p(s,(function(e){return e.channel.viewablePoll.choices}),(function(r){return r.map((function(r){var o=r.totalVoters,s={},c={};if(r.id===e.variables.input.choiceID){var l=n.choices.find((function(e){return e.id===r.id}))||r;d||o++,s.total=Math.max(r.votes.total,l.votes.total+1),a?(s.bits=Math.max(r.votes.bits,l.votes.bits+1),c.bits=Math.max(r.tokens.bits,l.tokens.bits+t)):s.base=Math.max(r.votes.bits,l.votes.bits+1)}return Object(i.__assign)(Object(i.__assign)({},r),{totalVoters:o,votes:Object(i.__assign)(Object(i.__assign)({},r.votes),s),tokens:Object(i.__assign)(Object(i.__assign)({},r.tokens),c)})}))})),r.data.voteInPoll&&r.data.voteInPoll.voter&&(s=p(s,(function(e){return e.channel.viewablePoll.self.voter}),(function(){return r.data.voteInPoll.voter}))),s.currentUser&&s.currentUser.bitsBalance){var c=s.currentUser.bitsBalance-t;s=p(s,(function(e){return e.currentUser.bitsBalance}),(function(){return c}))}}return s})),[2,Promise.resolve(r)];case 3:return o=s.sent(),[2,Promise.reject(o)];case 4:return[2]}}))}))},n.createPoll=function(){n.props.showModal(E.a,{channelID:n.props.data.channel.id,channelLogin:n.props.channelLogin})},n.terminatePoll=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.terminatePoll(Object(g.a)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=t.sent(),[2,Promise.resolve(e)];case 2:return n=t.sent(),[2,Promise.reject(n)];case 3:return[2]}}))}))},n.archivePoll=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,n;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.props.archivePoll(Object(g.a)({pollID:this.props.data.channel.viewablePoll.id}))];case 1:return e=t.sent(),[2,Promise.resolve(e)];case 2:return n=t.sent(),[2,Promise.reject(n)];case 3:return[2]}}))}))},n.getBitsAmount=function(){var e=n.props.data;return e&&e.currentUser&&e.currentUser.bitsBalance?e.currentUser.bitsBalance:0},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=null,n=null;this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(e=this.props.data.channel.viewablePoll,this.props.data.channel.viewablePoll.self&&(n=this.props.data.channel.viewablePoll.self.voter));var t=!(!this.props.user||this.props.user.login!==this.props.channelLogin),i=!!(this.props.user&&this.props.user.roles&&this.props.user.roles.isStaff),r=!1;this.props.data&&this.props.data.channel&&this.props.data.channel.self&&(r=this.props.data.channel.self.isEditor||this.props.data.channel.self.isModerator||i||t);var o={viewablePoll:e,selfVoter:n,isUserPollAdmin:r,bitsBalance:this.getBitsAmount(),topBitsContributor:e&&e.topBitsContributor,topCommunityPointsContributor:e&&e.topCommunityPointsContributor};return this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&!Object(C.e)(this.props.data.channel.viewablePoll.status)&&(o.terminatePoll=this.terminatePoll,o.voteInPoll=this.voteInPoll),this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&(o.archivePoll=this.archivePoll),(this.props.data&&this.props.data.channel&&!this.props.data.channel.viewablePoll||this.props.data&&this.props.data.channel&&this.props.data.channel.viewablePoll&&Object(C.e)(this.props.data.channel.viewablePoll.status))&&(o.createPoll=this.createPoll),a.createElement(O.Provider,{value:o},this.props.children)},n}(a.Component),I=Object(o.d)(Object(s.a)(w,{skip:function(e){return!e.channelLogin||!e.isPollsEnabled},options:function(e){var n;return{variables:{login:null!==(n=e.channelLogin)&&void 0!==n?n:""}}}}),Object(s.a)(_,{name:"voteInPoll"}),Object(s.a)(k,{name:"archivePoll"}),Object(s.a)(S,{name:"terminatePoll"}),Object(h.a)((function(e){return{query:w,variables:{login:e.channelLogin},skip:!(e.data&&e.data.channel&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.channel?Object(v.m)(e.data.channel.id):"",types:[f.PubsubMessageType.PollUpdateEvent,f.PubsubMessageType.PollArchivedEvent,f.PubsubMessageType.PollCompletedEvent,f.PubsubMessageType.PollCreatedEvent,f.PubsubMessageType.PollTerminatedEvent,f.PubsubMessageType.PollModeratedEvent],mutator:function(n,t){var a=Object(C.g)(n.data.poll),r=Object(C.f)(a.status),o=t.channel&&t.channel.viewablePoll&&t.channel.viewablePoll.id===n.data.poll.poll_id;if(!r)return o?p(t,(function(e){return e.channel}),(function(e){return e.viewablePoll=null,e})):t;var s=n.type===f.PubsubMessageType.PollCreatedEvent,d=t.channel&&t.channel.viewablePoll&&t.channel.viewablePoll.id===n.data.poll.poll_id&&t.channel.viewablePoll.votes.total<=a.votes.total;return(s||d)&&(t=p(t,(function(e){return e.channel}),(function(e){return e.viewablePoll=Object(i.__assign)(Object(i.__assign)({},e.viewablePoll),a),e}))),s&&(t=e.user?p(t,(function(e){return e.channel.viewablePoll.self}),(function(e){return Object(i.__assign)(Object(i.__assign)({__typename:"PollSelfEdge"},e),{voter:null})})):p(t,(function(e){return e.channel.viewablePoll.self}),(function(){return null}))),t}}})),Object(h.a)((function(e){return{query:w,variables:{login:e.channelLogin},type:f.PubsubMessageType.UserBitsBalanceUpdate,skip:!(e.data&&e.data.channel&&e.data.currentUser&&e.data.currentUser.id&&e.channelLogin&&e.isPollsEnabled),topic:e.data&&e.data.currentUser?Object(v.Z)(e.data.currentUser.id):"",mutator:function(e,n){return n&&e.message_type===y.b.Balance?(n.currentUser&&e.data&&(n=p(n,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),n):n}}})))(M);var T=Object(o.d)(Object(s.a)(u,{skip:function(e){return!e.channelLogin||!Object(d.c)(m.a)},options:function(e){var n;return{variables:{login:null!==(n=e.channelLogin)&&void 0!==n?n:""}}}}),Object(r.b)((function(e){return{user:Object(l.e)(e)}}),(function(e){return Object(o.b)({showModal:c.e},e)})))((function(e){var n=!!(e.data&&e.data.channel&&e.data.channel.roles&&(e.data.channel.roles.isAffiliate||e.data.channel.roles.isPartner)),t=Object(d.c)(m.a)&&n;return a.createElement(I,Object(i.__assign)({isPollsEnabled:t},e))}))},"P/fi":function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i=t("pVnL"),a=t.n(i),r=t("q1tI"),o=t("P+FS"),s=t("uq9l"),d=t("OCDW"),c=t("Yegi"),l=t("hMTT"),u=function(e){return r.createElement(d.a,a()({padding:{x:.5},margin:{y:.5}},Object(o.a)(e)),r.createElement(s.a,{color:e.overlay?c.f.Overlay:c.f.Alt2,fontSize:c.k.Size6,transform:s.d.Uppercase,bold:!0},e.children))};u.displayName="DropDownMenuHeadingComponent",u.displayName="DropDownMenuHeadingComponent";var m=Object(l.b)(u)},P5MF:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_EmoteCard_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:176}};t.loc.source={body:"query Core_Services_Spade_EmoteCard_User($channelID: ID!) {\nuser(id: $channelID) {\nid\nhasPrime\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\ntier\npurchasedWithPrime\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Core_Services_Spade_EmoteCard_User=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Core_Services_Spade_EmoteCard_User")},P6kH:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return d})),t.d(n,"b",(function(){return c})),t.d(n,"d",(function(){return l})),t.d(n,"e",(function(){return u}));var i,a=t("3Bft"),r=t("DMoW"),o=t("dGMd"),s="139075904";function d(e){var n,t;if(e.emote&&e.emote.type)switch(e.emote.type){case r.rc.TWO_FACTOR:return i.TwoFactor;case r.rc.BITS_BADGE_TIERS:return i.BitsTier;case r.rc.CHANNEL_POINTS:return i.ChannelPoints;case r.rc.SUBSCRIPTIONS:if(!e.emote.owner)return i.Unavailable;if((null===(n=e.emote.owner)||void 0===n?void 0:n.id)===s)return i.LimitedTime;var a=(null===(t=e.emote.token)||void 0===t?void 0:t.split("_"))||[];return e.emote.setID===o.a||a.length>1?i.ChannelPoints:i.Subscription;case r.rc.GLOBALS:return i.Global;case r.rc.PRIME:return i.Prime;case r.rc.TURBO:return i.Turbo;case r.rc.SMILIES:return i.Global;case r.rc.UNKNOWN:return i.Unknown;case r.rc.HYPE_TRAIN:case r.rc.MEGA_COMMERCE:default:return i.LimitedTime}return i.Unknown}function c(e){switch(e){case r.Ue.TIER_1:return a.a.Tier1;case r.Ue.TIER_2:return a.a.Tier2;case r.Ue.TIER_3:return a.a.Tier3;default:return""}}function l(e){for(var n=null,t=null,i=null,a=0,o=e;a<o.length;a++){var s=o[a];switch(s.tier){case r.Ue.TIER_1:n=s;break;case r.Ue.TIER_2:t=s;break;case r.Ue.TIER_3:i=s}}return{tier1:n,tier2:t,tier3:i}}function u(e,n){if(e===n)return!1;switch(e){case r.Ue.TIER_1:return!1;case r.Ue.TIER_2:return n!==r.Ue.TIER_3;case r.Ue.TIER_3:return!0;default:return!1}}!function(e){e[e.Unknown=0]="Unknown",e[e.Prime=1]="Prime",e[e.Turbo=2]="Turbo",e[e.LimitedTime=3]="LimitedTime",e[e.ChannelPoints=4]="ChannelPoints",e[e.Unavailable=5]="Unavailable",e[e.Subscription=6]="Subscription",e[e.BitsTier=7]="BitsTier",e[e.Global=8]="Global",e[e.TwoFactor=9]="TwoFactor"}(i||(i={}))},PAn0:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnbanRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requester"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requesterMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolverMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:211}};t.loc.source={body:"fragment unbanRequestFragment on UnbanRequest {\nid\ncreatedAt\nstatus\nrequester {\nid\nlogin\ndisplayName\nprofileImageURL(width: 50)\n}\nrequesterMessage\nresolvedAt\nresolverMessage\nresolvedBy {\nid\nlogin\ndisplayName\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},PCkP:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityGoalItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCommunityGoal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationDays"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountNeeded"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"smallContribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"perStreamUserMaximumContribution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsContributed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:385}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment communityGoalItem on CommunityPointsCommunityGoal {\nbackgroundColor\ndescription\ndurationDays\nendedAt\namountNeeded\nid\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisInStock\nsmallContribution\nperStreamUserMaximumContribution\npointsContributed\nstartedAt\nstatus\ntitle\ntype\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},QHJn:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pendingSubscription"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PendingSubscription"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}],loc:{start:0,end:80}};t.loc.source={body:"fragment pendingSubscription on PendingSubscription {\nprice\nstartsAt\ntier\ntype\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},QMl3:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCommunityPointsLastViewedContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCommunityPointsLastViewedContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCommunityPointsLastViewedContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastViewedChannelContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastViewedGlobalContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:398}};i.loc.source={body:'#import "twilight/features/community-points/models/last-viewed-content-fragments.gql"\nmutation UpdateCommunityPointsLastViewedContent(\n$input: UpdateCommunityPointsLastViewedContentInput!\n) {\nupdateCommunityPointsLastViewedContent(input: $input) {\nlastViewedChannelContent {\n...lastViewedContentByTypeFragment\n}\nlastViewedGlobalContent {\n...lastViewedContentByTypeAndIDFragment\n}\nerror {\ncode\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("cScm").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.UpdateCommunityPointsLastViewedContent=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"UpdateCommunityPointsLastViewedContent")},QY5S:function(e,n,t){},QfRJ:function(e,n,t){},QlYf:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s}));var i=t("2xye"),a=t("4rCz"),r=function(e){var n={channel_id:e.channelID,source:e.source};a.p.track(i.SpadeEventType.IdentitySettingsMenuClick,n)},o=function(e){var n={channel_id:e.channelID,action:e.action,old_value:e.oldValue,new_value:e.newValue};a.p.track(i.SpadeEventType.IdentitySettingsMenuInteraction,n)},s=function(e){var n={channel_id:e.channelID,cta_click:e.ctaClick,target_url:e.targetURL};a.p.track(i.SpadeEventType.IdentitySettingsMenuClientCTAClick,n)}},R4sh:function(e,n,t){"use strict";function i(e){var n=[e[0],e[1],e[2]].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*n[0]+.7152*n[1]+.0722*n[2]}function a(e,n){var t=i(e)+.05,a=i(n)+.05;return t>a?t/a:a/t}function r(e,n){void 0===n&&(n=1);var t=e.match(/\w\w/g);if(t){var i=t.map((function(e){return parseInt(e,16)}));return"rgba("+i[0]+","+i[1]+","+i[2]+","+n+")"}return"rgba(0,0,0,"+n+")"}t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}))},RA3T:function(e,n,t){e.exports=t.p+"assets/rocket-bbf7daac2ca500eb57e6.svg"},ROQR:function(e,n,t){},RPn2:function(e,n,t){"use strict";t.r(n),t.d(n,"ChatRepliesMessageCardComponent",(function(){return u})),t.d(n,"ChatRepliesMessageCard",(function(){return m}));var i=t("mrSG"),a=t("TSYQ"),r=t("q1tI"),o=t("eirU"),s=t("XjTb"),d=t("X31c"),c=t("GPV9"),l=t("IyK4"),u=(t("yCuH"),function(e){var n,t=Object(o.d)(s,{variables:{messageID:e.message.id||"",channelID:e.channelID||""}}),c=t.data,u=!1;!t.loading&&c&&c.message&&c.message.deletedAt&&(u=!0);var m=null===(n=e.className)||void 0===n?void 0:n.replace("chat-line--inline",""),p=a(m,e.fontScaleClassName);return r.createElement(l.a,{padding:{x:1,y:.5}},r.createElement(d.a,Object(i.__assign)({},e,{isDeleted:u,className:p,disableReplyClick:!0})))}),m=Object(c.a)()(u)},RReG:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return s})),t.d(n,"c",(function(){return d})),t.d(n,"e",(function(){return c}));var i,a=t("/7QA"),r=t("NRne");function o(e){a.o.track(r.a.ChatRepliesThreadClick,{thread_id:e.threadID,channel_id:e.channelID,ui_context:e.uiContext})}function s(e){a.o.track(r.a.ChatRepliesThreadScroll,{msg_id:e.messageID,channel_id:e.channelID,op_user_id:e.opUserID})}function d(e){a.o.track(r.a.ChatRepliesThreadClose,{msg_id:e.messageID,channel_id:e.channelID})}function c(e){a.o.track(r.a.ChatRepliesTrayViewClick,{msg_id:e.messageID,channel_id:e.channelID})}!function(e){e.ThreadIcon="message_thread_icon",e.ContextPill="minumum_context_pill",e.ReplyTray="reply_tray"}(i||(i={}))},RS58:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return l}));var i=t("mrSG"),a=t("q1tI"),r=t("1rIY"),o=t("B9yr"),s=Object(r.a)("ChatInputTrayContext",{setAutocompleteInputRef:function(e){return null},setChatInputRef:function(e){return null},appendToTrayInput:function(e,n){return null}}),d=s.context,c=s.withContext,l=function(e){function n(n){var t=e.call(this,n)||this;return t.setAutocompleteInputRef=function(e){t.autocompleteInputRef=e},t.setChatInputRef=function(e){t.chatInputRef=e},t.appendToTrayInput=function(e,n){if(t.autocompleteInputRef){var i=t.autocompleteInputRef.getValue();t.autocompleteInputRef.setValue(Object(o.a)(i,e)),n&&t.focusInput()}},t.focusInput=function(){t.chatInputRef&&t.chatInputRef.focus()},t.state={setAutocompleteInputRef:t.setAutocompleteInputRef,setChatInputRef:t.setChatInputRef,appendToTrayInput:t.appendToTrayInput},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(d.Provider,{value:this.state},this.props.children)},n}(a.Component)},RhPF:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("tHKy"),a=t("YQhk"),r=Object(i.a)(a.b)},RiD7:function(e,n,t){"use strict";t.d(n,"m",(function(){return o})),t.d(n,"d",(function(){return d})),t.d(n,"a",(function(){return s})),t.d(n,"c",(function(){return h})),t.d(n,"i",(function(){return g})),t.d(n,"j",(function(){return v})),t.d(n,"h",(function(){return c})),t.d(n,"k",(function(){return b})),t.d(n,"n",(function(){return y})),t.d(n,"b",(function(){return l})),t.d(n,"l",(function(){return k})),t.d(n,"g",(function(){return u})),t.d(n,"f",(function(){return m})),t.d(n,"e",(function(){return p})),t.d(n,"p",(function(){return S})),t.d(n,"q",(function(){return C})),t.d(n,"r",(function(){return E})),t.d(n,"o",(function(){return w})),t.d(n,"s",(function(){return _}));var i=t("mrSG"),a=t("/7QA"),r=t("2xye");function o(e){var n={action_name:e.actionName,action_type:e.actionType||s.Click,tracking_id:e.trackingId,checkout_id:e.checkoutId,displayed_balance:e.displayedBalance,emote_level:e.emoteLevel,emote_type:e.emoteType,bits_location:e.location||d.ChatTooltip,bits_card_error:e.bitsCardError,channel_id:e.channelId,user_id:e.userId};a.o.track(r.SpadeEventType.BitsCardInteraction,n)}var s,d={ChatTooltip:"card",GetBitsButton:"get_bits_button",GetBitsButtonTopNav:"topnav",BitsLandingPage:"bits_landing_page"};!function(e){e.Click="click",e.Hover="hover"}(s||(s={}));var c,l,u,m,p,h={BuyMain:"buy_main",Buy100:"buy_100",Buy500:"buy_500",Buy1000:"buy_1000",Buy1500:"buy_1500",Buy2500:"buy_2500",Buy5000:"buy_5000",Buy10000:"buy_10000",Buy25000:"buy_25000",CloseBuy:"buy_close",CloseCard:"menu_close",OpenCard:"menu_open",OpenCardViaCheering:"menu_open_from_cheer",PreviewEmote:"emote_preview",WatchAd:"watch_ad",WatchAnotherAd:"watch_another_ad",CheeringInRoom:"cheering_in_room",NewUserLearnMore:"new_user_learn_more",NewUserSkipTutorial:"new_user_skip_tutorial",NewUserCloseTutorial:"new_user_close_tutorial",NewUserFirstTimePurchaseDiscountClick:"new_user_first_time_purchase_discount_click",NewUserHelpRequested:"new_user_help_requested",SendInvalidCheerAttemptButtonDisabled:"send_invalid_cheer_button_disabled",UserViewingCheerError:"user_viewing_cheer_error",UserViewingCheerRoomsError:"user_viewing_cheer_rooms_error",LoadBitsLandingPage:"load_bits_landing_page",BitsSkusExpShowMore:"bits_skus_experiment_show_more"},f={100:h.Buy100,500:h.Buy500,1e3:h.Buy1000,1500:h.Buy1500,2500:h.Buy2500,5e3:h.Buy5000,1e4:h.Buy10000,25e3:h.Buy25000};function g(e){return e&&f[e]?f[e]:(a.k.errorAndReport(new Error('Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),'Buy Bits card contains improperly rendered offers, or offers unknown to Science. Tracking as "buy_100"'),h.Buy100)}function v(e){var n={distinct_id:a.p.session.deviceID,host:"twitch.tv",request_id:e.requestID,campaign_id:e.campaignID,adblock:e.adblock};a.o.track(r.SpadeEventType.BitsAdsImpression,n)}function b(e){var n=a.o.getLastPageview(),t={location:n&&n.location||"",ad_returned:null,campaign_id:e.campaignID,distinct_id:a.p.session.deviceID,host:"twitch.tv",request_id:e.requestID,request_method:e.requestMethod};a.o.track(r.SpadeEventType.BitsAdsRequest,t)}function y(e){var n={leaderboard_size:e.leaderboardSize,leaderboard_mode:e.leaderboardMode,user_present_in_leaderboard:e.userPresentInLeaderboard,user_id:e.userID,channel_id:e.channelID};a.o.track(r.SpadeEventType.LeaderboardExpandClick,n)}function k(e){var n={transaction_id:e.transactionId,user_id:e.userId,user_login:e.userLogin,channel_id:e.channelId,channel_login:e.channelLogin,action:e.action,badge_amount:e.badgeAmount,emote_id:e.emoteID};a.o.track(r.SpadeEventType.BitsBadgeTierNotification,n)}function S(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return a.o.track(r.SpadeEventType.MegaCheerChatNotificationImpression,{time:Date.now(),transaction_id:e.transaction_id,notification_type:e.notification_type,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function C(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return a.o.track(r.SpadeEventType.MegaCheerChatNotificationAction,{time:Date.now(),transaction_id:e.transaction_id,notification_type:e.notification_type,action:e.action,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function E(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return a.o.track(r.SpadeEventType.MegaCheerChatNotificationShare,{time:Date.now(),body:e.body,transaction_id:e.transaction_id,user_id:e.user_id,initiator_user_id:e.initiator_user_id,channel:e.channel,channel_id:e.channel_id,campaign_domain:e.domain}),[2]}))}))}function w(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return a.o.track(r.SpadeEventType.MegacheerLearnMoreInteraction,{time:Date.now(),source:e.source,user_id:e.user_id}),[2]}))}))}function _(e){var n={user_id:e.userID,state:e.state};a.o.track(r.SpadeEventType.BitsAdsRequestCaptcha,n)}!function(e){e.ShowAdButton="show_ad_button"}(c||(c={})),function(e){e.AutoSkip="AUTO_SKIP",e.Impression="IMPRESSION"}(l||(l={})),function(e){e.CheerAgain="cheer_again",e.SubGiftAgain="gift_again",e.SubGift="gift",e.Thank="thank",e.Share="share"}(u||(u={})),function(e){e.Click="click",e.Dismiss="dismiss"}(m||(m={})),function(e){e.BitsCard="bits_card",e.SubManagement="sub_management",e.SubModalGifting="sub_modal_gifting",e.SubModalMain="sub_modal_main",e.SubButtonCallout="sub_button_callout"}(p||(p={}))},Rjl4:function(e,n,t){"use strict";t.d(n,"e",(function(){return g})),t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return d})),t.d(n,"a",(function(){return c})),t.d(n,"f",(function(){return v})),t.d(n,"g",(function(){return b})),t.d(n,"h",(function(){return y})),t.d(n,"t",(function(){return k})),t.d(n,"o",(function(){return S})),t.d(n,"p",(function(){return C})),t.d(n,"r",(function(){return E})),t.d(n,"s",(function(){return w})),t.d(n,"l",(function(){return _})),t.d(n,"i",(function(){return N})),t.d(n,"m",(function(){return O})),t.d(n,"k",(function(){return D})),t.d(n,"j",(function(){return M})),t.d(n,"q",(function(){return I})),t.d(n,"n",(function(){return R})),t.d(n,"d",(function(){return P}));var i,a,r,o,s,d,c,l=t("/7QA"),u=t("f00E"),m=t("+GjP"),p=t("2xye"),h=t("j3KY"),f=t("O4UZ"),g=function(){return Object(u.c)()};function v(e){l.o.track(p.SpadeEventType.CrownInteraction,{has_prime:e.hasPrime,action:i.Hover,user_agent:navigator.userAgent})}function b(e,n){l.o.track(p.SpadeEventType.CrownInteraction,{has_prime:n.hasPrime,number_of_offers:n.numberOfOffers,action:e?i.Open:i.Close,user_agent:navigator.userAgent})}function y(e){l.o.track(p.SpadeEventType.CrownInteraction,{has_prime:e.hasPrime,number_of_offers:e.numberOfOffers,action:i.OffersLoaded,user_agent:navigator.userAgent})}function k(e){l.o.track(p.SpadeEventType.TwitchPrimeSignUpReferred,e)}function S(e){j(e,a.Click,o.Dismiss)}function C(e){j(e,a.Hover,o.Dismiss)}function E(e){j(e,a.Click,o.StartYourFreeTrial)}function w(e){j(e,a.Hover,o.StartYourFreeTrial)}function _(e,n){j(n,a.Click,e?o.MoreInfo:o.CloseInfo)}function N(e,n,t){T(e,a.Click,n,t)}function O(e){j(e,a.Hover,o.MoreInfo)}function D(e){j(e,a.Hover,o.CloseInfo)}function M(e,n){T(e,a.Hover,n)}function I(e){j(e,a.Impression,o.Offer)}function T(e,n,t,i){var a;switch(t){case f.d.CLAIM_CODE:a=o.GetCode;break;case f.d.EXTERNAL_OFFER:if(i){a=l.p.experiments.getAndTrackAssignment("prime_gaming_cta_text_experiment_fgwp");break}a=l.p.experiments.getAndTrackAssignment("prime_gaming_cta_text_experiment_odp");break;case f.d.DIRECT_ENTITLEMENT:a=l.p.experiments.getAndTrackAssignment("prime_gaming_cta_text_experiment_fgwp");break;default:a=o.LearnMore}a&&j(e,n,a)}function j(e,n,t){l.o.track(p.SpadeEventType.PrimeOfferInteraction,{offer_id:e.offerID,external_url:e.externalURL,index:e.index,element:t,action:n,user_agent:navigator.userAgent,has_prime:e.hasPrime,display_width_type:e.displayWidthType})}function R(e){l.o.track(p.SpadeEventType.PrimeLootPageTryPrimeClick,{button_position:e.buttonPosition,user_agent:navigator.userAgent})}function P(e,n){return Object(m.g)(e,{ingress:h.b,twitchReferral:n})}!function(e){e.Open="click_open",e.Close="click_close",e.Hover="hover",e.OffersLoaded="offers_loaded"}(i||(i={})),function(e){e.Hover="hover",e.Click="click",e.Impression="impression"}(a||(a={})),function(e){e.Hover="hover",e.Click="click",e.Impression="impression"}(r||(r={})),function(e){e.StartYourFreeTrial="start_your_free_trial",e.MoreInfo="more_info",e.CloseInfo="close_info",e.ClaimOffer="claim_offer",e.LearnMore="learn_more",e.GetCode="get_code",e.Offer="offer",e.Dismiss="dismiss"}(o||(o={})),function(e){e.TrackingAlpha="trackingalpha",e.WatchParties="prime_video_watch_party"}(s||(s={})),function(e){e.TopNav="top-nav",e.CenterBanner="center-banner",e.CenterFooter="center-footer"}(d||(d={})),function(e){e.Wide="wide",e.Narrow="narrow"}(c||(c={}))},Ro6I:function(e,n,t){},S4w9:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserEmotes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withOwner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"withOwner"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:216}};t.loc.source={body:"query UserEmotes($withOwner: Boolean!) {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nsetID\ntoken\nmodifiers {\ncode\nname\n}\ntype\n}\nowner @include(if: $withOwner) {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UserEmotes=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UserEmotes")},SCHm:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPoints_Icon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]}]}}]}}],loc:{start:0,end:214}};i.loc.source={body:'#import "twilight/features/community-points/models/point-customization-fragment.gql"\nquery CommunityPoints_Icon($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\n...pointCustomizationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("XBQy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.CommunityPoints_Icon=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"CommunityPoints_Icon")},SUI5:function(e,n,t){"use strict";t.d(n,"a",(function(){return G}));var i,a=t("/MKj"),r=t("ANjH"),o=t("yR8l"),s=t("XDCx"),d=t("JXcx"),c=t("mrSG"),l=t("q1tI"),u=t("/7QA"),m=t("atdg"),p=t("geRD"),h=t("DMoW"),f=t("/7Tk"),g=t("nAiT"),v=t("NxUI"),b=t("OCDW"),y=t("afq6"),k=t("TwdJ"),S=t("CoFg"),C=t("Yegi"),E=t("kOvl"),w=t("UUjt"),_=t("PLT/"),N=t("Uduz"),O=t("5e0Q"),D=t("ku6+"),M=t("3T1B"),I=t("eUaf"),T="hasDismissedChannelPointsPollCallout",j=function(e){function n(n){var t=e.call(this,n)||this;return t.hideBanner=function(){t.setState({isHidden:!0}),t.props.onDismiss()},t.state={isHidden:u.m.get(T+"_"+t.props.channelID,!1)},t}return Object(c.__extends)(n,e),n.prototype.render=function(){return this.state.isHidden?null:l.createElement(b.a,{margin:{bottom:1}},l.createElement(D.a,{message:l.createElement(M.a,{pill:{label:Object(u.d)("New!","NewPollModal--CopoCallout"),type:I.b.Brand},title:Object(u.d)("Channel Points Now Available in Polls!","NewPollModal--CopoCallout"),description:l.createElement(b.a,{margin:{top:.5},color:C.f.Alt2},Object(u.d)("Give your viewers the ability to vote in Polls using their Channel Points by updating the settings below.","NewPollModal--CopoCallout"))}),closeButton:{"aria-label":Object(u.d)("Close","NewPollModal--CopoCallout"),onClick:this.hideBanner}}))},n}(l.Component),R=t("A4KW"),P=t("F+KF"),F=t("E1Lb"),L=t("Ix37"),A=t("uq9l");!function(e){e.AdditionalVoting="poll-settings_additional-voting",e.BitsVoting="poll-settings_bits-voting",e.ChannelPointsVoting="poll-settings_channel-points-voting",e.ServiceError="poll-settings_service-error"}(i||(i={}));var U=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.bitsEnabled,t=e.channelPointsEnabled;return l.createElement(b.a,{margin:{bottom:1}},l.createElement(y.a,{label:Object(u.d)("Settings","Polls--NewPollModal")},(n||t)&&l.createElement(b.a,{margin:{bottom:1}},l.createElement(P.a,{label:Object(u.d)("Allow Additional Votes","Polls--PollSettings"),checked:this.props.allowAdditionalVoting,onChange:this.props.onAllowAdditionalVotingChange,"data-test-selector":i.AdditionalVoting})),n&&l.createElement(b.a,{margin:{bottom:1,left:2}},l.createElement(y.a,{label:"",error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError,errorMessage:this.props.bitsPerVoteError,"data-test-selector":i.BitsVoting},l.createElement(b.a,{display:C.h.Flex,flexDirection:C.i.Row,alignItems:C.b.Center},l.createElement(b.a,{margin:{left:.5,right:1}},l.createElement(P.a,{label:"",checked:this.props.allowVotingWithBits,onChange:this.props.onAllowVotingWithBitsChange})),l.createElement(k.a,{type:k.c.Number,disabled:!this.props.allowVotingWithBits,onChange:this.props.onBitsPerVoteChange,value:void 0!==this.props.bitsPerVote?String(this.props.bitsPerVote):"",maxLength:60,max:1e4,min:1,error:this.props.allowVotingWithBits&&!!this.props.bitsPerVoteError}),l.createElement(b.a,{display:C.h.Flex,margin:{left:1,right:.5}},l.createElement(F.a,{asset:L.a.Bits})),l.createElement(A.a,null,Object(u.d)("Bits per Vote","Polls--PollSettings"))))),t&&l.createElement(b.a,{margin:{bottom:1,left:2}},l.createElement(y.a,{label:"",error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError,errorMessage:this.props.channelPointsPerVoteError,"data-test-selector":i.ChannelPointsVoting},l.createElement(b.a,{display:C.h.Flex,flexDirection:C.i.Row,alignItems:C.b.Center},l.createElement(b.a,{margin:{left:.5,right:1}},l.createElement(P.a,{label:"",checked:this.props.allowVotingWithChannelPoints,onChange:this.props.onAllowVotingWithChannelPointsChange})),l.createElement(k.a,{type:k.c.Number,disabled:!this.props.allowVotingWithChannelPoints,onChange:this.props.onChannelPointsPerVoteChange,value:void 0!==this.props.channelPointsPerVote?String(this.props.channelPointsPerVote):"",max:1e4,maxLength:60,min:1,error:this.props.allowVotingWithChannelPoints&&!!this.props.channelPointsPerVoteError}),l.createElement(b.a,{margin:{left:1,right:.5}},l.createElement(R.b,{channelLogin:this.props.channelLogin})),l.createElement(A.a,null,Object(u.d)("{pointName} per Vote",{pointName:this.props.pointsName},"Polls--PollSettings")))))))},n}(l.Component),x=(t("mziE"),1e4),B=1e6,V=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={pendingCreation:!1,showCreationErrorBox:!1,errorCode:"",titleError:!1,title:"",choices:["","","","",""],choicesError:!1,allowAdditionalVoting:!1,allowVotingWithBits:!1,bitsPerVote:10,bitsPerVoteError:"",allowVotingWithChannelPoints:!1,channelPointsPerVote:200,channelPointsPerVoteError:"",durationMinutes:1},n.renderCallout=function(){var e,t,i,a,r,o=!!(null===(i=null===(t=null===(e=n.props.data.community)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.communityPointsSettings)||void 0===i?void 0:i.isEnabled),s=!!(null===(r=null===(a=n.props.data.channel)||void 0===a?void 0:a.latestPoll)||void 0===r?void 0:r.settings.communityPointsVotes.isEnabled);return!o||s?null:l.createElement(j,{onDismiss:n.dismissCallout,channelID:n.props.channelID})},n.dismissCallout=function(){u.m.set(T+"_"+n.props.channelID,!0)},n.renderTitle=function(){return l.createElement(b.a,{margin:{bottom:1}},l.createElement(y.a,{label:Object(u.d)("Question","Polls--NewPollModal"),error:n.state.titleError,errorMessage:Object(u.d)("* You must provide a question","Polls--NewPollModal")},l.createElement(k.a,{type:k.c.Text,value:n.state.title,onChange:n.onQuestionChange,maxLength:60,error:n.state.titleError})))},n.renderChoices=function(){return l.createElement(b.a,{margin:{bottom:1}},l.createElement(y.a,{label:Object(u.d)("Responses (Minimum 2)","Polls--NewPollModal"),error:n.state.choicesError,errorMessage:Object(u.d)("* You must provide at least two choices","Polls--NewPollModal")},l.createElement(b.a,{margin:{bottom:1}},l.createElement(k.a,{type:k.c.Text,onChange:n.onResponseChanged.bind(n,0),maxLength:25})),l.createElement(b.a,{margin:{bottom:1}},l.createElement(k.a,{type:k.c.Text,onChange:n.onResponseChanged.bind(n,1),maxLength:25})),l.createElement(b.a,{margin:{bottom:1}},l.createElement(k.a,{type:k.c.Text,onChange:n.onResponseChanged.bind(n,2),maxLength:25})),l.createElement(b.a,{margin:{bottom:1}},l.createElement(k.a,{type:k.c.Text,onChange:n.onResponseChanged.bind(n,3),maxLength:25})),l.createElement(b.a,{margin:{bottom:1}},l.createElement(k.a,{type:k.c.Text,onChange:n.onResponseChanged.bind(n,4),maxLength:25}))))},n.renderSettings=function(){var e,t,i=n.props.data,a=i.community,r=i.channel,o=!(!r||!r.cheer),s=!!(null===(t=null===(e=null==a?void 0:a.channel)||void 0===e?void 0:e.communityPointsSettings)||void 0===t?void 0:t.isEnabled);return l.createElement(U,{channelLogin:n.props.channelLogin,pointsName:n.getPointsName(),bitsEnabled:o,channelPointsEnabled:s,allowAdditionalVoting:n.state.allowAdditionalVoting,onAllowAdditionalVotingChange:n.onAllowAdditionalVotingChange,allowVotingWithBits:n.state.allowVotingWithBits,onAllowVotingWithBitsChange:n.onAllowVotingWithBitsChange,onBitsPerVoteChange:n.onBitsPerVoteChange,bitsPerVote:n.state.bitsPerVote,bitsPerVoteError:n.state.bitsPerVoteError,allowVotingWithChannelPoints:n.state.allowVotingWithChannelPoints,onAllowVotingWithChannelPointsChange:n.onAllowVotingWithChannelPointsChange,onChannelPointsPerVoteChange:n.onChannelPointsPerVoteChange,channelPointsPerVote:n.state.channelPointsPerVote,channelPointsPerVoteError:n.state.channelPointsPerVoteError})},n.renderDurationPicker=function(){return l.createElement(b.a,{margin:{bottom:1}},l.createElement(y.a,{label:Object(u.d)("Duration","Polls--NewPollModal")},l.createElement(S.a,{value:String(n.state.durationMinutes),onChange:n.onDurationSelectionChange},l.createElement("option",{value:"1"},Object(u.d)("1m","Polls--NewPollModal")),l.createElement("option",{value:"2"},Object(u.d)("2m","Polls--NewPollModal")),l.createElement("option",{value:"3"},Object(u.d)("3m","Polls--NewPollModal")),l.createElement("option",{value:"5"},Object(u.d)("5m","Polls--NewPollModal")),l.createElement("option",{value:"10"},Object(u.d)("10m","Polls--NewPollModal")))))},n.getPointsName=function(){var e,t,i;return(null===(i=null===(t=null===(e=n.props.data.community)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.communityPointsSettings)||void 0===i?void 0:i.name)||Object(g.c)()},n.closeErrorMessage=function(){n.setState({showCreationErrorBox:!1})},n.onStartPoll=function(){return Object(c.__awaiter)(n,void 0,void 0,(function(){var e,n;return Object(c.__generator)(this,(function(t){switch(t.label){case 0:if(!this.checkInputs())return[2];this.setState({pendingCreation:!0}),e=[],this.state.choices.forEach((function(n){if(""!==n){var t={title:n};e.push(t)}})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.createPoll(Object(p.a)({bitsCost:this.state.bitsPerVote,bitsVoting:this.state.allowVotingWithBits,communityPointsCost:this.state.channelPointsPerVote,isCommunityPointsVotingEnabled:this.state.allowVotingWithChannelPoints,durationSeconds:60*this.state.durationMinutes,ownedBy:this.props.channelID,multichoiceEnabled:!0,title:this.state.title,choices:e}))];case 2:return!(n=t.sent()).data.createPoll||n.data.createPoll.error?(this.setState({showCreationErrorBox:!0,pendingCreation:!1,errorCode:n.data.createPoll&&n.data.createPoll.error?n.data.createPoll.error.code:""}),[2]):(this.props.closeModal(),this.dismissCallout(),this.props.onPollCreated&&this.props.onPollCreated(),[3,4]);case 3:return t.sent(),this.setState({showCreationErrorBox:!0,pendingCreation:!1}),[3,4];case 4:return[2]}}))}))},n.checkInputs=function(){var e=!0;""===n.state.title&&(n.setState({titleError:!0}),e=!1);var t=0;if(n.state.choices.forEach((function(e){""!==e&&t++})),t<2&&(n.setState({choicesError:!0}),e=!1),n.state.allowVotingWithChannelPoints){var i=n.state.channelPointsPerVote||0,a=n.checkChannelPointsInput(i);a&&(n.setState({channelPointsPerVoteError:a}),e=!1)}if(n.state.allowVotingWithBits){var r=n.state.bitsPerVote||0,o=n.checkBitsInput(r);o&&(n.setState({bitsPerVoteError:o}),e=!1)}return e},n.onClose=function(){n.props.closeModal()},n.onQuestionChange=function(e){n.setState({title:e.target.value,titleError:""===e.target.value})},n.onBitsPerVoteChange=function(e){var t=parseInt(e.target.value||"0",10),i=n.checkBitsInput(t);n.setState({bitsPerVote:t,bitsPerVoteError:i})},n.checkBitsInput=function(e){var n="";return e>x?n=Object(u.d)("The maximum Bits per vote is {bits}",{bits:Object(u.f)(x)},"Polls--NewPollModal"):e<=0&&(n=Object(u.d)("The cost per vote must be at least 1 Bits.","Polls--NewPollModal")),n},n.onChannelPointsPerVoteChange=function(e){var t=parseInt(e.target.value||"0",10),i=n.checkChannelPointsInput(t);n.setState({channelPointsPerVote:t,channelPointsPerVoteError:i})},n.checkChannelPointsInput=function(e){var t,i,a,r="";return e>B?r=Object(u.d)("The maximum {pointName} per vote is {points}.",{pointName:n.getPointsName(),points:Object(u.f)(B)},"Polls--NewPollModal"):e<=0&&(r=Object(u.d)("The cost per vote must be at least 1 {pointName}.",{pointName:(null===(a=null===(i=null===(t=n.props.data.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.communityPointsSettings)||void 0===a?void 0:a.name)||Object(u.d)("Channel Point","Polls--NewPollModa")},"Polls--NewPollModal")),r},n.onResponseChanged=function(e,t){var i=t.target.value;n.setState((function(n){var t=n.choices.slice(0);return t[e]=i,{choices:t}}))},n.onAllowVotingWithBitsChange=function(e){var t=e.currentTarget.checked,i=t||n.state.allowVotingWithChannelPoints;n.setState({allowVotingWithBits:t,allowAdditionalVoting:i})},n.onAllowVotingWithChannelPointsChange=function(e){var t=e.currentTarget.checked,i=t||n.state.allowVotingWithBits;n.setState({allowVotingWithChannelPoints:t,allowAdditionalVoting:i})},n.onAllowAdditionalVotingChange=function(e){n.setState({allowAdditionalVoting:e.currentTarget.checked,allowVotingWithBits:e.currentTarget.checked,allowVotingWithChannelPoints:e.currentTarget.checked})},n.onDurationSelectionChange=function(e){var t=parseInt(e.currentTarget.value,10);n.setState({durationMinutes:t})},n.setPreferences=function(){if(n.props.data.channel&&n.props.data.channel.latestPoll){var e=n.props.data.channel.latestPoll,t=Math.round(e.durationSeconds/60);n.setState({allowAdditionalVoting:e.settings.bitsVotes.isEnabled||e.settings.communityPointsVotes.isEnabled,allowVotingWithBits:e.settings.bitsVotes.isEnabled,bitsPerVote:e.settings.bitsVotes.cost||void 0,allowVotingWithChannelPoints:e.settings.communityPointsVotes.isEnabled,channelPointsPerVote:e.settings.communityPointsVotes.cost||void 0,durationMinutes:t})}},n.getErrorMessage=function(){var e=Object(u.d)("Service Error","Polls--NewPollModal");switch(n.state.errorCode){case h.Ib.AUTOMOD_FAILED:e=Object(u.d)("Content does not meet guidelines","Polls--NewPollModal");break;case h.Ib.POLL_ALREADY_ACTIVE:e=Object(u.d)("A poll is already active","Polls--NewPollModal")}return e},n}return Object(c.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.data.loading&&!this.props.data.loading&&this.setPreferences()},n.prototype.componentDidMount=function(){this.props.data.loading||this.setPreferences()},n.prototype.render=function(){if(this.props.data.loading)return l.createElement(f.a,null);var e=Object(u.d)("Start Poll","Polls--NewPollModal"),n=Object(u.d)("Cancel","Polls--NewPollModal");return l.createElement(b.a,{display:C.h.Flex,justifyContent:C.m.Center,className:"new-poll-modal"},l.createElement(E.b,{size:E.a.Medium},l.createElement(w.a,{id:m.a,title:Object(u.d)("Create a New Poll","Polls--NewPollModal"),closeButton:{"aria-label":Object(u.d)("Close","Polls--NewPollModal"),onClick:this.onClose}}),l.createElement(_.a,{padding:{x:4,bottom:1,top:1}},l.createElement(b.a,{display:C.h.Flex,flexDirection:C.i.Column},this.renderCallout(),this.renderTitle(),this.renderChoices(),this.renderSettings(),this.renderDurationPicker(),this.state.showCreationErrorBox&&l.createElement(v.a,{message:this.getErrorMessage(),onClose:this.closeErrorMessage,showTryAgain:""===this.state.errorCode||this.state.errorCode===h.Ib.UNKNOWN}))),l.createElement(N.a,{primaryButtonProps:{"aria-label":e,children:e,onClick:this.onStartPoll,state:this.state.pendingCreation?O.c.Loading:O.c.Default},secondaryButtonProps:{"aria-label":n,children:n,onClick:this.props.closeModal},padding:{x:3,bottom:2}})))},n}(l.Component),q=t("MQZ3");var G=Object(r.d)(Object(a.b)(null,(function(e){return Object(r.b)({closeModal:s.d},e)})),Object(o.a)(d,{name:"createPoll"}),Object(o.a)(q,{options:function(e){return{variables:{id:e.channelID}}}}))(V)},SVRf:function(e,n,t){},SWax:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageParticle"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageParticle"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MessageFragment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"mentionFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automodFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteToken"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"mentionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"automodFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMod"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:643}};t.loc.source={body:"fragment messageContent on MessageContent {\ntext\nfragments {\n...messageParticle\n}\n__typename\n}\nfragment messageParticle on MessageFragment {\ntext\ncontent {\n... on CheermoteToken {\n...cheermoteFragment\n}\n... on Emote {\n...emoteFragment\n}\n... on User {\n...mentionFragment\n}\n... on AutoMod {\n...automodFragment\n}\n__typename\n}\n__typename\n}\nfragment cheermoteFragment on CheermoteToken {\nbitsAmount\nprefix\ntier\n__typename\n}\nfragment emoteFragment on Emote {\nemoteID: id\nsetID\ntoken\n__typename\n}\nfragment mentionFragment on User {\nid\nlogin\ndisplayName\n__typename\n}\nfragment automodFragment on AutoMod {\ntopics {\ntype\nweight\n__typename\n}\n__typename\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},SceP:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsChatCard_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:151}};t.loc.source={body:"query ClipsChatCard_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nthumbnailURL\ntitle\nslug\nurl\ncurator {\nid\ndisplayName\n}\nbroadcaster {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ClipsChatCard_Clip=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ClipsChatCard_Clip")},SkaC:function(e,n,t){},SyZi:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var i=t("q1tI"),a=t("ZGDZ"),r=t("XIEs"),o=t("nAiT"),s=t("LNol"),d=t("Ix37"),c=t("JjwZ"),l=t("OCDW"),u=t("Yegi"),m=t("ALJo"),p=(t("e9QR"),{"channel-points-icon--xsmall":12,"channel-points-icon--small":16,"channel-points-icon--medium":20,"channel-points-icon--large":24,"channel-points-icon--xlarge":50}),h=function(e){var n=e.iconSize||m.a.Medium,t=p[n],a=i.createElement(s.a,{asset:d.a.ChannelPoints,width:t,height:t});if(e.image){var h=f(t,e.image);a=i.createElement(c.a,{className:"channel-points-icon__image",alt:e.name||Object(o.c)(),src:h,srcSet:h===e.image.url?Object(r.a)(e.image):void 0})}return i.createElement(l.a,{className:"channel-points-icon "+n,display:u.h.InlineFlex},a)},f=function(e,n){return e<=a.a.SMALL?n.url:e<=a.a.MEDIUM?n.url2x:e<=a.a.LARGE?n.url4x:n.url}},T84l:function(e,n,t){},TApp:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("ZtEv"),a=t("aF6k");function r(e){return{type:i.b.Info,id:Object(a.a)("info"),message:e}}},TUC3:function(e,n,t){},TqpA:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i,a=t("mrSG"),r=t("TSYQ"),o=t("q1tI"),s=t("4rCz"),d=t("OCDW"),c=t("Yegi"),l=t("swlv"),u=t("Ix37");t("OCTF");!function(e){e.CloseButton="bits-card-wrapper-close-button-selector",e.OuterWrapper="bits-card-wrapper-outer-selector",e.InnerWrapper="bits-card-wrapper-inner-selector"}(i||(i={}));var m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.onUserClose,t=e.children,a=e.className,m=e.dataATarget,p=e.closeDataATarget,h=n?o.createElement(d.a,{position:c.o.Absolute,padding:{top:.5,right:.5},attachRight:!0,attachTop:!0,zIndex:c.t.Above},o.createElement(l.a,{"aria-label":Object(s.d)("close Bits card","BitsCard"),"data-a-target":p,"data-test-selector":i.CloseButton,onClick:n,icon:u.a.Close,type:l.c.Secondary,size:l.b.Small})):null;return o.createElement(d.a,{"data-test-selector":i.OuterWrapper,className:r("bits-card-wrapper",a),"data-a-target":m,display:c.h.Flex,flexDirection:c.i.Column,position:c.o.Absolute,background:c.d.Base,borderRadius:c.e.Large,elevation:3,zIndex:c.t.Above,fullWidth:!0},h,o.createElement(d.a,{"data-test-selector":i.InnerWrapper,display:c.h.Flex,flexDirection:c.i.Column,alignItems:c.b.Center,justifyContent:c.m.Center,flexGrow:1,fullWidth:!0},t))},n.defaultProps={dataATarget:"bits-card",closeDataATarget:"bits-card-close-button"},n}(o.PureComponent)},Tznh:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return g})),t.d(n,"a",(function(){return b}));var i,a,r=t("mrSG"),o=t("q1tI"),s=t("/MKj"),d=t("ANjH"),c=t("yR8l"),l=t("kRBY"),u=t("1rIY"),m=t("+pBb"),p=t("CbHG");!function(e){e.Excluded="control",e.OptIn="opt-in",e.OptOut="opt-out"}(i||(i={})),function(e){e.FilteredMessage="chat_filter_message",e.Onboarding="onboarding",e.Other="other"}(a||(a={}));var h=Object(u.a)("ChatFilterContext",{chatFilterExperimentMembership:i.Excluded,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:function(){return null},showChatFilterSettings:function(){return null}}),f=h.context,g=h.withContext,v=function(e){function n(t){var r=e.call(this,t)||this;return r.hideChatFilterSettings=function(){r.setState({isShowingChatFilterSettings:!1})},r.showChatFilterSettings=function(e){r.setState({chatFilterSettingsSource:e||a.Other,isShowingChatFilterSettings:!0})},r.triggerPropCallbacks=function(){switch(n.getExperimentMembership(r.props)){case i.OptIn:void 0===r.props.viewerChatFilterEnabled&&r.props.disableViewerChatFilter(a.Other);break;case i.OptOut:void 0===r.props.viewerChatFilterEnabled&&r.props.enableViewerChatFilter(a.Other);break;case i.Excluded:}},r.state={chatFilterExperimentMembership:i.OptOut,chatFilterSettingsSource:a.Other,isShowingChatFilterSettings:!1,hideChatFilterSettings:r.hideChatFilterSettings,showChatFilterSettings:r.showChatFilterSettings},r}return Object(r.__extends)(n,e),n.getDerivedStateFromProps=function(e){return{chatFilterExperimentMembership:n.getExperimentMembership(e)}},n.getExperimentMembership=function(e){if(!e.isLoggedIn)return i.OptIn;if("en"!==e.languageCode)return i.Excluded;if(e.data&&e.data.currentUser&&e.data.currentUser.createdAt){return new Date(e.data.currentUser.createdAt)>=new Date("2019-01-18T21:49:42.699Z")?i.OptOut:i.OptIn}return i.Excluded},n.prototype.componentDidMount=function(){this.triggerPropCallbacks()},n.prototype.componentDidUpdate=function(){this.triggerPropCallbacks()},n.prototype.render=function(){return o.createElement(f.Provider,{value:this.state},this.props.children)},n}(o.Component);var b=Object(d.d)(Object(s.b)((function(e){return{isLoggedIn:Object(l.f)(e),languageCode:Object(l.b)(e),viewerChatFilterEnabled:e.chat.viewerChatFilterEnabled}}),(function(e){return Object(d.b)({disableViewerChatFilter:m.S,enableViewerChatFilter:m.X},e)})),Object(c.a)(p,{skip:function(e){return!e.isLoggedIn||"en"!==e.languageCode}}))(v)},U9YO:function(e,n,t){"use strict";t.d(n,"a",(function(){return W}));var i=t("/MKj"),a=t("ANjH"),r=t("yR8l"),o=t("ru7j");var s=t("kRBY"),d=t("2EzP"),c=t("nkgB"),l=t("mrSG"),u=t("q1tI"),m=t("0Log"),p=t("ZtEv"),h=t("aF6k");var f=t("KGti"),g=t("zwF8"),v=t("RcPG"),b=t("htKM"),y=t("lNGo"),k=t("w09P"),S=t("/7QA"),C=t("2ycz"),E=t("XjTb"),w=function(e,n,t){if(n&&t){var i;try{i=S.p.apollo.client.readQuery({query:E,variables:{channelID:t,messageID:n}})}catch(e){return}if(!i)return null;S.p.apollo.client.writeQuery({query:E,variables:{messageID:n},data:D(i,e)})}},_=function(e,n){var t;try{t=e.reply?S.p.apollo.client.readQuery({query:E,variables:{channelID:n,messageID:e.reply.parentMsgId}}):S.p.apollo.client.readQuery({query:E,variables:{channelID:n,messageID:e.id}})}catch(n){return void S.p.apollo.client.writeQuery({query:E,variables:{messageID:e.id},data:{message:{__typename:"Message",id:e.id,sentAt:new Date(e.timestamp).toISOString(),deletedAt:(new Date).toISOString(),text:e.messageBody,replies:null,content:{__typename:"MessageContent",text:e.messageBody,fragments:Object(C.a)(e.messageParts)},sender:{__typename:"User",chatColor:e.user.color||null,displayBadges:[],id:e.user.userID,login:e.user.userLogin,displayName:e.user.userDisplayName}}}})}if(!t)return null;e.reply?S.p.apollo.client.writeQuery({query:E,variables:{messageID:e.reply.parentMsgId},data:N(t,e.id)}):S.p.apollo.client.writeQuery({query:E,variables:{messageID:e.id},data:O(t)})},N=function(e,n){var t,i,a,r;if(!(null===(i=null===(t=e.message)||void 0===t?void 0:t.replies)||void 0===i?void 0:i.nodes))return e;var o=null===(r=null===(a=e.message)||void 0===a?void 0:a.replies)||void 0===r?void 0:r.nodes.map((function(e){return Object(l.__assign)({},e)})),s=o.findIndex((function(e){return e.id===n}));return s<0?e:(o[s]=Object(l.__assign)(Object(l.__assign)({},o[s]),{deletedAt:(new Date).toISOString()}),k(e,(function(e){return e.message.replies.nodes}),(function(){return Object(l.__spreadArrays)(o)})))},O=function(e){return e.message?k(e,(function(e){return e.message}),(function(e){return Object(l.__assign)(Object(l.__assign)({},e),{deletedAt:(new Date).toISOString()})})):e},D=function(e,n){var t,i;return(null===(i=null===(t=e.message)||void 0===t?void 0:t.replies)||void 0===i?void 0:i.nodes)?k(e,(function(e){return e.message.replies.nodes}),(function(e){return Object(l.__spreadArrays)(e,[{__typename:"Message",id:n.id,sentAt:new Date(n.timestamp).toISOString(),deletedAt:null,text:n.messageBody,content:{__typename:"MessageContent",text:n.messageBody,fragments:Object(C.a)(n.messageParts)},sender:{__typename:"User",chatColor:n.user.color||null,displayBadges:[],id:n.user.userID,login:n.user.userLogin,displayName:n.user.userDisplayName}}])})):e},M=t("uIkQ"),I=t("XmgI"),T=t("ptRJ"),j=t("a1OF"),R=t("GTqc"),P=t("Vtno");function F(e,n,t,i,a){n&&e.forEach((function(e){var r=!1;e.forEach((function(e){if(function(e,n){if(e.type===p.b.Message){var t=e.reply;t&&t.parentMsgId===n&&(e.reply=Object(l.__assign)(Object(l.__assign)({},t),{parentDeleted:!0}))}}(e,n),!r){var o=function(e,n){var t=null;switch(e.type){case p.b.Message:t=e;break;case p.b.ChannelPointsReward:case p.b.Resubscription:case p.b.Ritual:t=e.message||null;break;default:return null}if(!t||t.deleted)return null;if(n&&t.id===n)return t;return null}(e,n);o&&(r=!0,o.deleted=!0,o.deletedCount=1,t&&(o.modLogin=t),i&&(o.modActionType=i),a&&a(o))}}))}))}function L(e,n,t,i){var a=e.reduce((function(e,a){return a.reduce((function(e,a){var r=function(e,n){var t=null;switch(e.type){case p.b.Message:t=e;break;case p.b.ChannelPointsReward:case p.b.Resubscription:case p.b.Ritual:t=e.message||null;break;default:return null}if(!t||t.deleted)return null;if(n&&t.user&&n===t.user.userLogin&&t.messageParts)return t;return null}(a,n);if(function(e,n){if(e.type===p.b.Message){var t=e.reply;t&&t.parentUserLogin===n&&(e.reply=Object(l.__assign)(Object(l.__assign)({},t),{parentDeleted:!0}))}}(a,n),r){if(r.deleted=!0,r.banned=!0,t){var o=t.moderationActionType,s=t.createdByLogin,d=t.duration;r.modLogin=s,r.modActionType=o,r.duration=d}return i&&i(r),{lastDeletedMessage:r,deletedCount:e.deletedCount+1}}return e}),e)}),{deletedCount:0}),r=a.lastDeletedMessage,o=a.deletedCount;r&&(r.deletedCount=o)}var A=1e3,U=150,x=40,B=200,V=function(e){function n(n){var t=e.call(this,n)||this;return t.slidingWindowEnd=0,t.paused=!1,t.delayedMessageBuffer=[],t.updateHandlers=[],t.prependHistoricalMessages=function(e){var n=t.props.historicalMessages;if(n!==e&&n){var i=U-t.buffer.length,a=n.slice(-i).reduce((function(e,n){var i=function(e,n){var t,i=e.parentMessage,a=e.sender;if(a){var r=(null===(t=e.content)||void 0===t?void 0:t.text)||"",o=void 0;return(null==i?void 0:i.sender)&&Object(P.b)(n)!==P.a.Control&&(r=Object(j.g)(r,i.sender.displayName).message,o={parentMsgId:i.id,parentDeleted:!!i.deletedAt,parentUid:i.sender.id,parentUserLogin:i.sender.login,parentDisplayName:i.sender.displayName,parentMessageBody:i.content.text}),Object(T.a)(p.c.Post,r,{id:e.id,badges:Object(M.d)(a.displayBadges),badgeDynamicData:null,emotes:Object(R.a)(r,e.content),userID:a.id,username:a.login,displayName:a.displayName,color:a.chatColor||"",userType:"",bits:0},I.a,null,!!e.deletedAt,!1,e.sentAt?new Date(e.sentAt).getTime():void 0,{isHistorical:!0,reply:o})}}(n,t.props.channelID);return i&&e.push(i),e}),[]);a.length>0&&(t.buffer=a.concat(t.buffer),t.notifySubscribers(),t.props.channelID&&Object(y.c)({channelID:t.props.channelID,messageCount:a.length}))}},t.onMessageDeleteSuccess=function(e){_(e,t.props.channelID)},t.handleMessage=function(e){var n,i,a,r,o,s=!1;if(t.messageIncludesBlockedUser(e)){if(!t.props.shouldSeeBlockedAndDeletedMessages)return;e.type===p.b.Message&&(e.hidden=!0)}switch(e.type){case p.b.BadgesUpdated:case p.b.RoomState:return;case p.b.Message:t.uncountedMessages++;var d=e.messageParts[0];if(d&&d.type===v.a.Text&&d.content.startsWith(":act "))return;s=!t.isOwnMessage(e),t.props.tray&&t.props.tray.type===g.a.Reply&&(null===(n=e.reply)||void 0===n?void 0:n.parentMsgId)===(null===(r=null===(a=null===(i=t.props.tray.sendMessageHandler)||void 0===i?void 0:i.additionalMetadata)||void 0===a?void 0:a.reply)||void 0===r?void 0:r.parentMsgId)&&w(e,null===(o=e.reply)||void 0===o?void 0:o.parentMsgId,t.props.channelID);break;case p.b.ChannelPointsReward:case p.b.Resubscription:s=!!e.message&&!t.isOwnMessage(e.message);break;case p.b.ModerationAction:if(e.level===f.a.User&&e.targetUserLogin&&e.targetUserLogin===t.props.currentUserLogin)break;if(!t.props.isCurrentUserModerator)return;if(e.level===f.a.User&&(e.moderationActionType===m.ModerationActions.Ban||e.moderationActionType===m.ModerationActions.Timeout||e.moderationActionType===m.ModerationActions.Delete)){var c=e.moderationActionType,l=e.targetUserLogin,u=e.createdByLogin,h=e.messageID;if(t.moderatedUsers.has(l))return;var b=[t.buffer,t.delayedMessageBuffer.map((function(e){return e.event}))];c===m.ModerationActions.Delete?F(b,h,u,c,t.onMessageDeleteSuccess):t.moderateBuffers(b,l,e);break}break;case p.b.Moderation:if(t.props.isCurrentUserModerator)break;var y=e.moderationType,k=e.userLogin;if(t.moderatedUsers.has(k))return;var S=[t.buffer,t.delayedMessageBuffer.map((function(e){return e.event}))];if(y===p.e.Delete)F(S,e.targetMessageID,void 0,void 0,t.onMessageDeleteSuccess);else t.moderateBuffers(S,k);break;case p.b.Disconnected:return;case p.b.Reconnect:if(t.buffer.find((function(n){return n.id===e.id}))||t.delayedMessageBuffer.find((function(n){return n.event.id===e.id})))return;break;case p.b.Clear:t.clear();break;case p.b.AutoMod:switch(e.autoModType){case p.a.MessageModApproved:case p.a.MessageModDenied:return void[t.buffer,t.delayedMessageBuffer.map((function(e){return e.event}))].forEach((function(n){n.some((function(n){return!(n.type!==p.b.AutoMod||n.autoModType!==p.a.MessageRejectedPrompt||!n.rejectedMessage||n.rejectedMessage.id!==e.msg_id)&&(n.rejectedMessage.deleted=!0,!0)}))}))}}t.delayedMessageBuffer.push({event:e,time:Date.now(),shouldDelay:s})},t.getMessages=function(){return t.buffer.slice(0,t.slidingWindowEnd)},t.unsetModeratedUser=function(e){return function(){t.moderatedUsers.delete(e)}},t.isOwnMessage=function(e){var n=e.user;return!(!t.props.currentUserLogin||!n||n.userLogin!==t.props.currentUserLogin)},t.addUpdateHandler=function(e){-1===t.updateHandlers.indexOf(e)&&(t.updateHandlers=t.updateHandlers.concat(e))},t.removeUpdateHandler=function(e){t.updateHandlers=t.updateHandlers.filter((function(n){return n!==e}))},t.setPaused=function(e){t.paused!==e&&(t.paused=e,e||(t.slidingWindowEnd=Math.min(t.buffer.length,U)),t.notifySubscribers())},t.isPaused=function(){return t.paused},t.hasNewerLeft=function(){return t.slidingWindowEnd<t.buffer.length},t.getUnreadCount=function(){return Math.max(0,t.buffer.length-t.slidingWindowEnd)},t.loadNewer=function(){if(t.hasNewerLeft()){var e=Math.min(t.buffer.length,t.slidingWindowEnd+x),n=Math.max(0,e-U);t.clear(t.buffer.length-n),t.slidingWindowEnd=e-n,t.notifySubscribers()}},t.loadNewest=function(){t.hasNewerLeft()&&(t.clear(U),t.slidingWindowEnd=Math.min(U,t.buffer.length),t.notifySubscribers())},t.notifySubscribers=function(){t.props.isBackground||t.updateHandlers.forEach((function(e){return e()}))},t.delayedMessageBuffer=[],t.buffer=[],t.moderatedUsers=new Set,t.blockedUsers=new Set(t.props.blockedUsers),t.unhideUsers=new Set,t.flushInterval=setInterval((function(){return t.flushRawMessages()}),B),t.uncountedMessages=0,t.chatRateMeasurements=[],t.chatRateMeasurementInterval=setInterval((function(){return t.measureChatRate()}),A),t}return Object(l.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.setMessageBufferAPI({addUpdateHandler:this.addUpdateHandler,removeUpdateHandler:this.removeUpdateHandler,getUnreadCount:this.getUnreadCount,getMessages:this.getMessages,isPaused:this.isPaused,setPaused:this.setPaused,hasNewerLeft:this.hasNewerLeft,loadNewer:this.loadNewer,loadNewest:this.loadNewest}),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage),this.prependHistoricalMessages()},n.prototype.componentWillUnmount=function(){this.props.setMessageBufferAPI(),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.removeMessageHandler(this.handleMessage),clearInterval(this.flushInterval),clearInterval(this.chatRateMeasurementInterval)},n.prototype.render=function(){return null},n.prototype.componentDidUpdate=function(e){e.messageHandlerAPI!==this.props.messageHandlerAPI&&(e.messageHandlerAPI&&e.messageHandlerAPI.removeMessageHandler(this.handleMessage),this.props.messageHandlerAPI&&this.props.messageHandlerAPI.addMessageHandler(this.handleMessage)),this.props.blockedUsers!==e.blockedUsers&&(this.blockedUsers=new Set(this.props.blockedUsers)),this.props.unhideIgnoredUsers!==e.unhideIgnoredUsers&&(this.unhideUsers=new Set(this.props.unhideIgnoredUsers)),e.isBackground&&!this.props.isBackground&&(this.chatRate>5&&this.clear(20),this.notifySubscribers()),this.prependHistoricalMessages(e.historicalMessages)},n.prototype.messageIncludesBlockedUser=function(e){for(var n=0,t=Object(b.a)(e);n<t.length;n++){var i=t[n];if(this.blockedUsers.has(i.id)&&!this.unhideUsers.has(i.id))return!0}return!1},n.prototype.clear=function(e){if(void 0===e&&(e=0),e<=0)return this.buffer=[],this.delayedMessageBuffer=[],void(this.paused=!1);this.paused&&this.buffer.length>=900&&this.setPaused(!1),e<this.buffer.length&&(this.buffer=this.buffer.slice(-e))},n.prototype.isDeletable=function(e){return void 0!==e.deleted},n.prototype.moderateBuffers=function(e,n,t){L(e,n,t,this.onMessageDeleteSuccess),this.moderatedUsers.add(n),setTimeout(this.unsetModeratedUser(n),1e3)},n.prototype.flushRawMessages=function(){var e=this,n=[],t=Date.now(),i=!1,a=0,r=this.slidingWindowEnd;this.delayedMessageBuffer.forEach((function(o){if(o.time<=t-e.delayDuration||!o.shouldDelay){if(e.props.shouldSeeBlockedAndDeletedMessages||!e.isDeletable(o.event)||!o.event.deleted){var s=e.buffer[e.buffer.length-1];!e.props.isLoadingHistoricalMessages&&!e.props.historicalMessages||(null==s?void 0:s.type)!==p.b.Connected||o.event.type===p.b.Connected||e.buffer.find((function(e){return e.type===p.b.LiveMessageSeparator}))||e.buffer.push({type:p.b.LiveMessageSeparator,id:Object(h.a)("live-message-separator")}),e.buffer.push(o.event),i=!0,e.buffer.length>U&&!e.paused&&a++,e.buffer.length<=U&&!e.paused&&r++}}else n.push(o)})),this.delayedMessageBuffer=n,i&&(this.clear(Math.min(900,this.buffer.length-a)),this.slidingWindowEnd=r,this.notifySubscribers())},n.prototype.measureChatRate=function(){3===this.chatRateMeasurements.length&&this.chatRateMeasurements.shift(),this.chatRateMeasurements.push(this.uncountedMessages),this.uncountedMessages=0},Object.defineProperty(n.prototype,"chatRate",{get:function(){return 0===this.chatRateMeasurements.length?0:this.chatRateMeasurements.reduce((function(e,n){return e+n}))/this.chatRateMeasurements.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"delayDuration",{get:function(){return this.props.isCurrentUserModerator?0:this.props.data.user&&this.props.data.user.chatSettings&&this.props.data.user.chatSettings.chatDelayMs||0},enumerable:!0,configurable:!0}),n}(u.Component),q=t("wUQP"),G=t("lMif");var H=t("nInp");var W=Object(a.d)(Object(i.b)((function(e){var n=Object(s.e)(e);return{authToken:Object(s.a)(e),currentUserLogin:n&&n.login,isLoggedIn:Object(s.f)(e),tray:e.chat.activeInputTray}})),Object(r.a)(c,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(r.a)(G,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},props:function(e){var n,t=e.data;return t&&!t.loading&&!t.error&&t.channel&&(n=t.channel.recentChatMessages),{isLoadingHistoricalMessages:!!(null==t?void 0:t.loading),historicalMessages:n}},skip:function(e){return!e.isLoggedIn||!Object(q.c)("chat_history")||!e.isCurrentUserModerator&&"control"===S.p.experiments.getAndTrackAssignment("chat_history")}}),Object(r.a)(o,{props:function(e){return e.data&&!e.data.loading&&!e.data.error&&e.data.currentUser&&e.data.currentUser.blockedUsers?{blockedUsers:e.data.currentUser.blockedUsers.reduce((function(e,n){return n&&n.id&&e.push(n.id),e}),[])}:{blockedUsers:[]}},skip:function(e){return!(e.isLoggedIn||e.authToken)}}),H.b,d.b)(V)},UBeo:function(e,n,t){"use strict";t.d(n,"b",(function(){return b})),t.d(n,"d",(function(){return y})),t.d(n,"a",(function(){return S})),t.d(n,"c",(function(){return C}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("/MKj"),s=t("ANjH"),d=t("/7QA"),c=t("yR8l"),l=t("geRD"),u=t("DMoW"),m=t("kRBY"),p=t("1rIY"),h=t("Ohqu"),f=t("pMvt"),g="chatPauseSetting",v=Object(p.a)("ChatPauseSettingContext",{setValue:function(){return null},value:u.R.SCROLL_ONLY}),b=v.context,y=v.withContext,k=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={value:E()},n.setValue=function(e){var t=n.state.value;if(t!==e&&(n.setState({value:e}),d.m.set(g,e),n.props.isLoggedIn)){var i=n.getMutationInput(e);n.props.setChatPauseSetting(i).catch((function(){t&&(d.m.set(g,t),n.setState({value:t}))}))}},n}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e){return{value:w(e)||E()}},n.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&d.m.set(g,this.state.value)},n.prototype.render=function(){return r.createElement(b.Provider,{value:{setValue:this.setValue,value:this.state.value}},this.props.children)},n.prototype.getMutationInput=function(e){return Object(i.__assign)(Object(i.__assign)({},Object(l.a)({chatPauseSetting:e})),{optimisticResponse:{setChatPauseSetting:{__typename:"SetChatPauseSettingPayload",chatPauseSetting:e}},update:function(n){var t,i;try{i=n.readQuery({query:f})}catch(e){return}if(null===(t=null==i?void 0:i.currentUser)||void 0===t?void 0:t.chatUISettings){var r=a(i,(function(e){return e.currentUser.chatUISettings.chatPauseSetting}),(function(){return e}));n.writeQuery({query:f,data:r})}}})},n}(r.Component);var S=Object(s.d)(Object(o.b)((function(e){var n=Object(m.e)(e);return{isLoggedIn:Object(m.f)(e),userID:n&&n.id}})),Object(c.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(c.a)(h,{name:"setChatPauseSetting"}))(k);function C(e){return{setChatPauseSetting:e.setValue,chatPauseSetting:e.value}}function E(){return d.m.get(g,u.R.SCROLL_ONLY)}function w(e){var n,t,i;return null===(i=null===(t=null===(n=e.data)||void 0===n?void 0:n.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===i?void 0:i.chatPauseSetting}},UNTo:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RedeemCustomReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RedeemCommunityPointsCustomRewardInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"redeemCommunityPointsCustomReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:148}};t.loc.source={body:"mutation RedeemCustomReward($input: RedeemCommunityPointsCustomRewardInput!) {\nredeemCommunityPointsCustomReward(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.RedeemCustomReward=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"RedeemCustomReward")},UUau:function(e,n,t){},Uduz:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var i=t("pVnL"),a=t.n(i),r=t("VbXa"),o=t.n(r),s=t("q1tI"),d=t("P+FS"),c=t("5e0Q"),l=t("OCDW"),u=t("Yegi"),m=t("kOvl"),p=function(){var e=function(e){function n(){return e.apply(this,arguments)||this}return o()(n,e),n.prototype.render=function(){var e=this.props.size===m.a.Small?{fullWidth:!0,flexGrow:1,flexShrink:1}:{};return s.createElement(l.a,a()({display:u.h.Flex,alignItems:u.b.Center,justifyContent:u.m.Start,flexDirection:u.i.RowReverse,padding:this.props.padding},Object(d.a)(this.props)),s.createElement(l.a,e,s.createElement(c.a,a()({type:c.d.Primary,fullWidth:!0},this.props.primaryButtonProps))),s.createElement(l.a,e,this.props.secondaryButtonProps&&s.createElement(l.a,{padding:{right:1}},s.createElement(c.a,a()({type:c.d.Secondary,fullWidth:!0},this.props.secondaryButtonProps)))))},n}(s.Component);return e.displayName="ModalFooter",e.defaultProps={padding:{x:3,y:2}},e}()},Uh2Q:function(e,n,t){"use strict";t.d(n,"a",(function(){return y})),t.d(n,"n",(function(){return _})),t.d(n,"b",(function(){return N})),t.d(n,"c",(function(){return D})),t.d(n,"j",(function(){return M})),t.d(n,"m",(function(){return I})),t.d(n,"l",(function(){return T})),t.d(n,"e",(function(){return j})),t.d(n,"g",(function(){return R})),t.d(n,"f",(function(){return P})),t.d(n,"h",(function(){return F})),t.d(n,"k",(function(){return L})),t.d(n,"d",(function(){return A})),t.d(n,"i",(function(){return U}));var i,a=t("NAv5"),r=t("/7QA"),o=t("HGFl"),s=t("mrSG"),d=t("q1tI"),c=t("/MKj"),l=t("XDQu"),u=t("2tXM"),m=t("RiD7"),p=t("JjwZ"),h=t("p9DJ"),f=t("OCDW"),g=t("uq9l"),v=t("Yegi");t("iJU5");!function(e){e.Container="lazy-carousel-container",e.Prev="lazy-carousel-prev-button",e.Next="lazy-carousel-next-button",e.NavDot="lazy-carousel-nav-dot",e.NavDotContainer="lazy-carousel-nav-dot-container",e.Animation="lazy-carousel-animation-container"}(i||(i={}));var b=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currIndex:0},n.renderEmotes=A().map((function(e){return d.createElement(p.a,{key:e.emoteString,className:"mega-commerce-bitscard__emote",src:e.src,srcSet:{"112w":e.src},sizes:[{size:"28px"}],alt:e.emoteString})})),n.learnMoreElement=function(e){return d.createElement(h.a,{targetBlank:!0,linkTo:D(),onClick:n.learnMoreClick},e)},n.learnMoreClick=function(){Object(m.o)({user_id:n.props.currentUserID||"",source:m.e.BitsCard})},n}return Object(s.__extends)(n,e),n.prototype.render=function(){return d.createElement(f.a,{className:"mega-commerce-bitscard__bg",padding:{x:2,top:2}},d.createElement(f.a,null,d.createElement(g.a,{className:"mega-commerce-banner__title",fontSize:v.k.Size4,fontWeight:v.l.SemiBold,"data-test-selector":"MegaCommerceBitsCardCalloutTitle"},I()),d.createElement(f.a,{padding:{top:.5,bottom:1}},d.createElement(g.a,null,j(this.learnMoreElement)))),d.createElement(f.a,{display:v.h.Flex,justifyContent:v.m.Center,flexDirection:v.i.Row},this.renderEmotes),d.createElement(f.a,{padding:{bottom:1}},d.createElement(u.a,{onClickHelp:this.props.onClickHelp})))},n}(d.Component);var y,k=Object(c.b)((function(e){return{theme:Object(l.a)(e),currentUserID:e.session.user&&e.session.user.id||null}}))(b),S=t("5zXJ");!function(e){e.Cheer="CHEER",e.Subscription="SUBSCRIPTION",e.SubGift="SUBGIFT"}(y||(y={}));var C={startDateDynamicSetting:"megacommerce_holiday_2020_part1_start_date",endDateDynamicSetting:"megacommerce_holiday_2020_part1_end_date",eventDomain:"holiday_2020_megacommerce",eventTestDomain:"holiday_2020_megacommerce",intro:k,MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"holiday-2020-part1-megacommerce-callout-dismissed",getHelpLink:function(){return"https://help.twitch.tv/s/article/hindsight-2020"},getTitle:function(){return Object(r.d)("Hindsight 2020","Holiday2020MegaCommercePart1")},getSubsString:function(e){return Object(r.d)("Celebrate the season with the first collection of 2020-inspired emotes. Through {date}, Subscribe or Gift a Sub to earn emotes and gift them to your community. <x:link>Learn More</x:link>",{date:Object(r.c)(O(C),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart1")},getBitsString:function(e){return Object(r.d)("Celebrate the season with the first collection of 2020-inspired emotes. Through {date}, Cheer at least 300 Bits, Subscribe, or Gift a Sub to earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:Object(r.c)(O(C),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart1")},getResubChatCalloutTitle:function(e){return Object(r.d)("{monthsSubbed, plural, one {Share your # month sub anniversary to get emote rewards!} other {Share your # month sub anniversary to get emote rewards!}}",{monthsSubbed:e},"Holiday2020MegaCommercePart1")},getSubButtonCalloutString:function(e){return C.getBitsString(e)},getSubButtonCalloutEmote:function(){return{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Party/112.png",emoteString:"2020Party"}},getGiftImage:function(e){return e>=100?{"1x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-1x.png","2x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-2x.png","4x":S.g+"/holiday-2020-megacommerce/round1/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}},getSubModalEmotes:function(){return[{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Unroll/112.png",emoteString:"2020Unroll"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Pajamas/112.png",emoteString:"2020Pajamas"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Gift/112.png",emoteString:"2020Gift"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020HomeWork/112.png",emoteString:"2020HomeWork"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Capture/112.png",emoteString:"2020Capture"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Surprise/112.png",emoteString:"2020Surprise"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Rivalry/112.png",emoteString:"2020Rivalry"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Party/112.png",emoteString:"2020Party"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Selfie/112.png",emoteString:"2020Selfie"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Delivery/112.png",emoteString:"2020Delivery"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Suspicious/112.png",emoteString:"2020Suspicious"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020SpeakUp/112.png",emoteString:"2020SpeakUp"}]},getBitsCardEmotes:function(){return[{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Unroll/112.png",emoteString:"2020Unroll"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Pajamas/112.png",emoteString:"2020Pajamas"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Gift/112.png",emoteString:"2020Gift"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020HomeWork/112.png",emoteString:"2020HomeWork"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020SpeakUp/112.png",emoteString:"2020SpeakUp"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Selfie/112.png",emoteString:"2020Selfie"},{src:S.g+"/holiday-2020-megacommerce/round1/emotes/2020Delivery/112.png",emoteString:"2020Delivery"}]}},E={startDateDynamicSetting:"megacommerce_holiday_2020_part2_start_date",endDateDynamicSetting:"megacommerce_holiday_2020_part2_end_date",eventDomain:"holiday_2020_megacommerce",eventTestDomain:"holiday_2020_megacommerce",intro:k,MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"holiday-2020-part2-megacommerce-callout-dismissed",getHelpLink:function(){return"https://help.twitch.tv/s/article/hindsight-2020"},getTitle:function(){return Object(r.d)("Hindsight 2020","Holiday2020MegaCommercePart2")},getSubsString:function(e){return Object(r.d)("Wrap up the year and ring in NYE with new 2020-inspired emotes. When you Subscribe or Gift a Sub through {date}, you’ll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:Object(r.c)(O(E),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart2")},getBitsString:function(e){return Object(r.d)("Wrap up the year and unwrap the second collection of 2020-inspired emotes. When you Cheer at least 300 Bits, Subscribe, or Gift a Sub through {date}, you’ll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:Object(r.c)(O(E),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart2")},getResubChatCalloutTitle:function(e){return Object(r.d)("{monthsSubbed, plural, one {Share your # month sub anniversary to get emote rewards!} other {Share your # month sub anniversary to get emote rewards!}}",{monthsSubbed:e},"Holiday2020MegaCommercePart2")},getSubButtonCalloutString:function(e){return Object(r.d)("Wrap up the year and ring in NYE with new 2020-inspired emotes. When you Cheer at least 300 Bits, Subscribe, or Gift a Sub through {date}, you’ll earn permanent emotes and gift them to your community. <x:link>Learn More</x:link>",{date:Object(r.c)(O(E),{day:"numeric",month:"numeric"}),"x:link":function(n){return e(n)}},"Holiday2020MegaCommercePart2")},getSubButtonCalloutEmote:function(){return{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"}},getGiftImage:function(e){return e>=100?{"1x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/100-gifts-4x.png"}:e>=50?{"1x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/50-gifts-4x.png"}:e>=20?{"1x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/20-gifts-4x.png"}:e>=10?{"1x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/10-gifts-4x.png"}:e>=5?{"1x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-1x.png","2x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-2x.png","4x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/5-gifts-4x.png"}:e>=1?{"1x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-1x.png","2x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-2x.png","4x":S.g+"/holiday-2020-megacommerce/round2/subscriptions/1-gift-4x.png"}:{"1x":"","2x":"","4x":""}},getSubModalEmotes:function(){return[{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Shred/112.png",emoteString:"2020Shred"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Wish/112.png",emoteString:"2020Wish"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Takeout/112.png",emoteString:"2020Takeout"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020MaskUp/112.png",emoteString:"2020MaskUp"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Unity/112.png",emoteString:"2020Unity"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Shhh/112.png",emoteString:"2020Shhh"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Partnered/112.png",emoteString:"2020Partnered"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Drop/112.png",emoteString:"2020Drop"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Celebrate/112.png",emoteString:"2020Celebrate"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Snacking/112.png",emoteString:"2020Snacking"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Glitchy/112.png",emoteString:"2020Glitchy"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Forward/112.png",emoteString:"2020Forward"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Victory/112.png",emoteString:"2020Victory"}]},getBitsCardEmotes:function(){return[{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020ByeGuys/112.png",emoteString:"2020ByeGuys"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Takeout/112.png",emoteString:"2020Takeout"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Snacking/112.png",emoteString:"2020Snacking"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Celebrate/112.png",emoteString:"2020Celebrate"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Shred/112.png",emoteString:"2020Shred"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Victory/112.png",emoteString:"2020Victory"},{src:S.g+"/holiday-2020-megacommerce/round2/emotes/2020Forward/112.png",emoteString:"2020Forward"}]}},w=[C,E];function _(){return!!N()}function N(){if(!w||!w.length)return null;for(var e=0,n=w;e<n.length;e++){var t=n[e],i=r.b.get(t.startDateDynamicSetting,"2020-10-19 14:00:00 GMT-0700");if(!Object(a.isAfter)(Object(o.h)(i),Date.now())){var s=r.b.get(t.endDateDynamicSetting,"2020-10-30 23:59:59 GMT-0700");if(Object(a.isAfter)(Object(o.h)(s),Date.now()))return t}}return null}function O(e){var n=r.b.get(e.endDateDynamicSetting,"2020-05-31T06:59:59Z");return Object(o.h)(n)}function D(){var e=N();if(e)return e.getHelpLink()}function M(e){var n=N();return(n?n.MEGACOMMERCE_CALLOUT_DISMISSED_STORAGE_KEY:"")+(e?"-"+e:"")}function I(){var e=N();return e?e.getTitle():null}function T(e){var n=N();return n?n.getSubsString(e):null}function j(e){var n=N();return n?n.getBitsString(e):null}function R(e){var n=N();return n?n.getSubButtonCalloutString(e):null}function P(){var e=N();return e?e.getSubButtonCalloutEmote():{emoteString:"",src:""}}function F(e){var n=N();return n?n.getGiftImage(e):{"1x":"","2x":"","4x":""}}function L(){var e=N();return e?e.getSubModalEmotes():[]}function A(){var e=N();return e?e.getBitsCardEmotes():[]}function U(e){var n=N();return n?n.getResubChatCalloutTitle(e):""}},Ukwn:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"automaticRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsAutomaticReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultBackgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isHiddenForSubs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumCost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedForIndicatorAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globallyUpdatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:375}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment automaticRewardFragment on CommunityPointsAutomaticReward {\nid\nbackgroundColor\ncost\ndefaultBackgroundColor\ndefaultCost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nisEnabled\nisHiddenForSubs\nminimumCost\ntype\nupdatedForIndicatorAt\ngloballyUpdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},"V8f+":function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var i,a=t("Mg72");function r(e){switch(e){case i.Forward:return[a.d.SlideOverRight,a.d.SlideOverLeft];case i.Back:return[a.d.SlideOverLeft,a.d.SlideOverRight];case i.CloseRewardCenter:return[a.d.SlideOverTop,a.d.SlideOverBottom];case i.OpenRewardCenter:return[a.d.SlideOverBottom,a.d.SlideOverTop];case i.None:default:return a.d.Fade}}!function(e){e.Forward="move-forward",e.Back="move-backward",e.OpenRewardCenter="open-reward-center",e.CloseRewardCenter="close-reward-center",e.None="none"}(i||(i={}))},VAIx:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Messages=0]="Messages",e[e.Timeouts=1]="Timeouts",e[e.Bans=2]="Bans",e[e.ModComments=3]="ModComments"}(i||(i={}))},VIQE:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"communityPointsBalanceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"canRedeemRewardsForFree"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:167}};t.loc.source={body:"fragment communityPointsBalanceFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\nbalance\nactiveMultipliers {\nreasonCode\nfactor\n}\ncanRedeemRewardsForFree\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},VN3V:function(e,n,t){},VZIO:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var i=t("mrSG"),a=t("TSYQ"),r=t("q1tI"),o=t("/7QA"),s=t("DMoW"),d=t("uIkQ"),c=t("BdZw"),l=t("cys1"),u=t("wFyP"),m=t("W7Hf"),p=t("OCDW"),h=(t("KIkj"),function(e){switch(e){case s.i.AGGRESSIVE:return Object(o.d)("hostility","AutoModExplanation");case s.i.SEXUAL:return Object(o.d)("sexual","AutoModExplanation");case s.i.PROFANITY:return Object(o.d)("profanity","AutoModExplanation");case s.i.IDENTITY:return Object(o.d)("identity","AutoModExplanation");default:return null}}),f=function(e){switch(e){case s.j.ALLOWED:return Object(o.d)("Approved","AutoModExplanation");case s.j.DENIED:return Object(o.d)("Denied","AutoModExplanation");case s.j.EXPIRED:return Object(o.d)("Expired","AutoModExplanation");case s.j.PENDING:default:return Object(o.d)("Pending","AutoModExplanation")}},g={id:c.c.id,login:c.c.username,chatColor:c.b,displayName:c.c.displayName,displayBadges:[],__typename:"User"},v=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autoModExplanationGenerator=function(e,t,i){var a=n.props.caughtMessage,d=a.resolvedAt,c=a.status,m=n.props.caughtMessage.modLogsMessage.id;if(i)return Object(o.d)("Held a message.","AutoModExplanation");var p=h(e);if(!p)return Object(o.d)("Held a message for a new/unknown category.","AutoModExplanation");var g=f(c);if(t){var v=r.createElement(u.a,{messageID:m,sender:t,onUsernameClick:null,highContrastUsernameColor:n.props.highContrastUsernameColor,theme:n.props.theme});return d?Object(o.d)("Held a message for reason: {category}. ({status} by {resolver} at {resolvedAt})",{category:p,status:g,resolver:v,resolvedAt:Object(l.b)(new Date(d),!0)},"AutoModExplanation"):Object(o.d)("Held a message for reason: {category}. ({status} by {resolver})",{category:p,status:g,resolver:v},"AutoModExplanation")}return c===s.j.PENDING?Object(o.d)("Held a message for reason: {category}. (Pending review by moderators)",{category:p},"AutoModExplanation"):Object(o.d)("Held a message for reason: {category}. (Expired and not posted to Chat)",{category:p},"AutoModExplanation")},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.channelID,t=e.badgeSets,l=e.currentUserLogin,h=this.props.caughtMessage,f=h.category,v=h.modLogsMessage,b=h.resolver,y=h.status,k=v.sender,S=v.id;if(!k||!S)return r.createElement(p.a,{padding:{x:2,y:1}},Object(o.d)("unable to properly render message","AutoModCaughtMessage"));var C=Object(i.__assign)(Object(i.__assign)({},v),{deletedAt:null,__typename:"Message"}),E=y===s.j.ALLOWED;return r.createElement(p.a,{padding:{x:1,y:.5},key:S+"-automod-caught-message"},r.createElement(p.a,{className:"automod-message"},r.createElement(d.b,{badgeSets:t,badgesToRender:c.a}),r.createElement(u.a,{messageID:S,sender:g,onUsernameClick:null,highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme}),r.createElement("span",{key:"separator"},": "),this.autoModExplanationGenerator(f,b,this.props.hideDetails)),r.createElement(p.a,{padding:{y:0},className:a("flagged-message",{"flagged-message--approved":E,"flagged-message--rejected":!E})},r.createElement(m.a,{channelID:n,showModerationIcons:!1,showTimestamps:!this.props.hideTimestamp,badgeSets:t,currentUserLogin:l,hasModPermissions:!0,message:C,onUsernameClick:null,padding:{x:1,y:.5},highContrastUsernameColor:this.props.highContrastUsernameColor,theme:this.props.theme})))},n}(r.Component)},VaVM:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.ListRewards=0]="ListRewards",e[e.CustomReward=1]="CustomReward",e[e.UnlockRandomEmote=2]="UnlockRandomEmote",e[e.UnlockChosenSubscriberEmote=3]="UnlockChosenSubscriberEmote",e[e.AlreadySubbed=4]="AlreadySubbed",e[e.ModifyEmote=5]="ModifyEmote",e[e.NotEnoughPoints=6]="NotEnoughPoints",e[e.NotLoggedIn=7]="NotLoggedIn",e[e.NotSubbed=8]="NotSubbed",e[e.NotSubOnlyMode=9]="NotSubOnlyMode",e[e.OutOfStock=10]="OutOfStock",e[e.EarnRates=11]="EarnRates",e[e.CommunityGoal=12]="CommunityGoal",e[e.Prediction=13]="Prediction"}(i||(i={}))},Vfsh:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t("q1tI"),a=t("/7QA"),r=t("OCDW"),o=t("Yegi"),s=t("iF2L"),d=t("uq9l"),c=t("swlv"),l=t("Ix37"),u=(t("9Rmp"),function(e){return i.createElement(i.Fragment,null,i.createElement(r.a,{position:o.o.Relative,display:o.h.Flex,flexDirection:o.i.Row,alignItems:o.b.Start,padding:1},i.createElement(r.a,{textAlign:o.q.Left,display:o.h.Flex,flexDirection:o.i.Row,alignItems:o.b.Center},i.createElement(r.a,{padding:{right:1}},i.createElement(s.a,{userLogin:e.channelLogin,alt:e.channelDisplayName?e.channelDisplayName:"",size:40,src:e.channelProfileImageUrl})),i.createElement(r.a,{display:o.h.Flex,flexDirection:o.i.Column},i.createElement(r.a,null,i.createElement(d.a,{"data-test-selector":"chat-rules-display-name",color:o.f.Alt2},e.channelDisplayName)),i.createElement(r.a,null,i.createElement(d.a,{fontWeight:o.l.SemiBold,transform:d.d.Uppercase,type:d.e.H4},Object(a.d)("Chat Rules","ChatInputRevampChatRules"))))),e.onCloseChatRules&&i.createElement(r.a,{attachRight:!0,attachTop:!0,position:o.o.Absolute,margin:{top:.5,right:.5}},i.createElement(c.a,{"data-test-selector":"chat-rules-close-button","aria-label":Object(a.d)("Close","ChatInputRevampChatRules"),type:c.c.Secondary,icon:l.a.Close,onClick:e.onCloseChatRules}))),i.createElement(r.a,{padding:.5},i.createElement(r.a,{"data-test-selector":"chat-rules-list",padding:{x:1,bottom:1}},i.createElement("ul",null,e.chatRules.map((function(e,n){return i.createElement("li",{key:n},e)}))))))})},VlDf:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsPredictionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictionSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligibleForPredictions"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activePredictionEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lockedPredictionEvents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resolvedPredictionEvents"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventEdgeFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recentPredictions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recentPredictionFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionSettingsFragment"},directives:[]}]}}]}}],loc:{start:0,end:802}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-event-fragment.gql"\n#import "twilight/features/community-points/models/prediction-event-edge-fragment.gql"\n#import "twilight/features/community-points/models/prediction-settings-fragment.gql"\n#import "twilight/features/community-points/models/recent-prediction-fragment.gql"\nquery ChannelPointsPredictionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\nid\nchannel {\nid\npredictionSettings {\nisEligibleForPredictions\n}\nactivePredictionEvents {\n...predictionEventFragment\n}\nlockedPredictionEvents {\n...predictionEventFragment\n}\nresolvedPredictionEvents(first: 1) {\nedges {\n...predictionEventEdgeFragment\n}\n}\nself {\nrecentPredictions {\n...recentPredictionFragment\n}\n}\n}\n}\ncurrentUser {\n...predictionSettingsFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("lLrV").definitions)),i.definitions=i.definitions.concat(r(t("mbOb").definitions)),i.definitions=i.definitions.concat(r(t("pqDf").definitions)),i.definitions=i.definitions.concat(r(t("8hyn").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChannelPointsPredictionContext=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPointsPredictionContext")},Vtno:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return r}));var i,a=t("/7QA");function r(e){return a.p.experiments.getAndTrackAssignment("chat_replies",{channel:null!=e?e:void 0})}!function(e){e.Control="control",e.TreatmentA="treatment_a",e.TreatmentB="treatment_b",e.TreatmentC="treatment_c"}(i||(i={}))},VxoQ:function(e,n,t){"use strict";var i,a;t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),function(e){e.Small="small",e.Default="default",e.Bigger="bigger",e.Biggest="biggest"}(i||(i={})),function(e){e.Minimum="minimum",e.Expanded="expanded"}(a||(a={}));var r="control"},"W/3w":function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"d",(function(){return s}));var i=t("/7QA"),a=30,r=[0,-1,10,30,60,1440,10080,43200,129600];function o(e){switch(e){case 0:return Object(i.d)("0 minutes (Any followers)","FollowersOnlyLabel");case-1:return Object(i.d)("Off","FollowersOnlyLabel");case 10:return Object(i.d)("10 minutes (Most used)","FollowersOnlyLabel");case 30:return Object(i.d)("30 minutes","FollowersOnlyLabel");case 60:return Object(i.d)("1 hour","FollowersOnlyLabel");case 1440:return Object(i.d)("1 day","FollowersOnlyLabel");case 10080:return Object(i.d)("1 week","FollowersOnlyLabel");case 43200:return Object(i.d)("1 month","FollowersOnlyLabel");case 129600:return Object(i.d)("3 months","FollowersOnlyLabel");default:return i.k.warn("[FollowersOnlyLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 0:return Object(i.d)("0 min","FollowersOnlyShorthand");case-1:return Object(i.d)("Off","FollowersOnlyShorthand");case 10:return Object(i.d)("10 min","FollowersOnlyShorthand");case 30:return Object(i.d)("30 min","FollowersOnlyShorthand");case 60:return Object(i.d)("1 hr","FollowersOnlyShorthand");case 1440:return Object(i.d)("1 day","FollowersOnlyShorthand");case 10080:return Object(i.d)("1 wk","FollowersOnlyShorthand");case 43200:return Object(i.d)("1 mo","FollowersOnlyShorthand");case 129600:return Object(i.d)("3 mo","FollowersOnlyShorthand");default:return Object(i.d)("custom","FollowersOnlyShorthand")}}},W1jp:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return l})),t.d(n,"e",(function(){return u})),t.d(n,"a",(function(){return m})),t.d(n,"f",(function(){return p})),t.d(n,"g",(function(){return h})),t.d(n,"d",(function(){return f}));var i=t("/7QA"),a=t("RA3T"),r=t.n(a),o=t("DMoW"),s=t("JiyE"),d=t("XIEs");function c(e){return"CommunityPointsAutomaticReward"===e.__typename?e.backgroundColor||e.defaultBackgroundColor:"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.gb.BOOST?s.a.TwitchPurple:e.backgroundColor}function l(e){switch(e.__typename){case"CommunityPointsAutomaticReward":return e.cost||e.defaultCost;case"CommunityPointsCustomReward":default:return e.cost}}function u(e){return"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.gb.BOOST?{src:r.a}:e.image?{src:e.image.url,srcSet:Object(d.a)(e.image)}:{src:e.defaultImage.url,srcSet:Object(d.a)(e.defaultImage)}}function m(e){return"CommunityPointsCommunityGoal"===e.__typename&&e.type===o.gb.BOOST?{src:r.a}:e.image?{src:e.image.url2x,srcSet:{"1x":e.image.url2x,"2x":e.image.url4x}}:{src:e.defaultImage.url2x,srcSet:{"1x":e.defaultImage.url2x,"2x":e.defaultImage.url4x}}}function p(e){if("CommunityPointsCustomReward"===e.__typename)return e.title;switch(e.type){case o.eb.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Highlight My Message","CommunityPointsRewards");case o.eb.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Send a Message in Sub-Only Mode","CommunityPointsRewards");case o.eb.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Choose an Emote to Unlock","CommunityPointsRewards");case o.eb.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Unlock a Random Sub Emote","CommunityPointsRewards");case o.eb.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Modify a Single Emote","CommunityPointsRewards");default:return Object(i.d)("Reward","CommunityPointsRewards")}}function h(e){if("CommunityPointsCustomReward"===e.__typename)return!1;switch(e.type){case o.eb.RANDOM_SUB_EMOTE_UNLOCK:case o.eb.CHOSEN_SUB_EMOTE_UNLOCK:case o.eb.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return!0;default:return!1}}function f(e){if("CommunityPointsCustomReward"===e.__typename)return e.prompt;switch(e.type){case o.eb.SEND_HIGHLIGHTED_MESSAGE:return Object(i.d)("Write something special below and give it some glitz in chat!","CommunityPointsRewards");case o.eb.SINGLE_MESSAGE_BYPASS_SUB_MODE:return Object(i.d)("Type your message below and sneakily bypass chat restrictions.","CommunityPointsRewards");case o.eb.CHOSEN_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to unlock for 24 hours:","CommunityPointsRewards");case o.eb.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:return Object(i.d)("Select an emote to modify & unlock for 24 hours:","CommunityPointsRewards");case o.eb.RANDOM_SUB_EMOTE_UNLOCK:return Object(i.d)("Click below to unlock one random emote to chat with for 24 hours!","CommunityPointsRewards");default:return Object(i.d)("Unlock this reward.","CommunityPointsRewards")}}},W7Hf:function(e,n,t){"use strict";var i=t("9sGC");t.d(n,"a",(function(){return i.a}))},WWj3:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoterChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoterChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pollChoice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:277}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollVoterChoice on PollVoterChoice {\nid\npollChoice {\nid\n}\ntokens {...pollTokenBreakdown}\nvotes {...pollVoteBreakdown}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("/x02").definitions)),i.definitions=i.definitions.concat(r(t("wMQt").definitions)),e.exports=i},"Wd+u":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:348}};t.loc.source={body:"fragment subProductOfferFragment on Offer {\nid\ntplr\nplatform\neligibility {\nisEligible\n}\ngiftType\nlisting {\nchargeModel {\ninternal {\npreviewPrice {\nid\ncurrency\nexponent\nprice\ntotal\ndiscount {\nprice\ntotal\n}\n}\nplan {\ninterval {\nduration\nunit\n}\n}\n}\n}\n}\npromotion {\nid\nname\npromoDisplay {\ndiscountPercent\ndiscountType\n}\npriority\n}\nquantity {\nmin\nmax\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},WeGZ:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.Error="error",e.Info="info",e.Success="success",e.Warning="warning"}(i||(i={}))},WytW:function(e,n,t){"use strict";t.d(n,"j",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"g",(function(){return s})),t.d(n,"h",(function(){return d})),t.d(n,"d",(function(){return c})),t.d(n,"f",(function(){return l})),t.d(n,"a",(function(){return u})),t.d(n,"e",(function(){return m})),t.d(n,"c",(function(){return p})),t.d(n,"q",(function(){return f})),t.d(n,"n",(function(){return v})),t.d(n,"k",(function(){return y})),t.d(n,"p",(function(){return S})),t.d(n,"o",(function(){return E})),t.d(n,"l",(function(){return N})),t.d(n,"m",(function(){return D})),t.d(n,"i",(function(){return M}));t("mr+n");var i=t("4G6/"),a=t("Ff8q");function r(e){return/^[\/]/.test(e)}function o(){return"/clear"}function s(){return"/subscribers"}function d(){return"/subscribersoff"}function c(){return"/followersoff"}function l(e){return"/followers "+e}function u(e){return"/color "+e}function m(){return"/emoteonly"}function p(){return"/emoteonlyoff"}var h=/^\/w(?:$|\s+)(\S+)?\s*(.+)?/i;function f(e){var n=e.trim().match(h);return n?{recipientLogin:n[1]&&Object(a.a)(n[1])||null,body:n[2]||null}:null}var g=/^\/host\s+(\S+)$/i;function v(e){var n=e.trim().match(g);return n?{recipientLogin:Object(a.a)(n[1])}:null}var b=/^\/ban\s+(\S+)(?:\s+(.+))?$/;function y(e){var n=e.trim().match(b);return n&&n[1]?{banTarget:Object(a.a)(n[1]),reason:n[2]||null}:null}var k=/^\/timeout\s+(\S+)(?:\s+(\S+))?(?:\s+(.+))?$/;function S(e){var n=!0,t=e.trim().match(k);if(!t||!t[1])return null;var r=Object(a.a)(t[1]),o=t[2]||null,s=t[3]||null,d=null;if(null!==o){var c=Number(o);if(Number.isNaN(c)){var l=Object(i.b)(o||"");!l||Number.isNaN(l)?n=!1:d=l}else d=c}return{validArguments:n,banTarget:r,rawDuration:o,durationSeconds:d,reason:s}}var C=/^\/slow(?:\s+(\d+)?)?$/;function E(e){var n=e.trim().match(C);return n?{duration:n[1]&&Number(n[1])||null}:null}var w=["blue","blueviolet","cadetblue","chocolate","coral","dodgerblue","firebrick","goldenrod","green","hotpink","orangered","red","seagreen","springgreen","yellowgreen"],_=/^\/color\s+(#[A-Fa-f0-9]{6}|[A-Za-z]+)$/;function N(e){var n=e.trim().match(_);if(!n)return null;var t=n[1];return t.startsWith("#")||-1!==w.indexOf(t.toLowerCase())?{color:t}:null}var O=/^\/help(?:\s+(\S+)?)?$/i;function D(e){var n=e.trim().match(O);return n?{command:n[1]}:null}function M(e){var n=e.commandArgs;if(n&&n.length>0){var t=n[0];if(t.isRequired)return"["+t.name+"]"}}},X31c:function(e,n,t){"use strict";t.d(n,"a",(function(){return X}));var i,a=t("mrSG"),r=t("TSYQ"),o=t("q1tI"),s=t("/MKj"),d=t("ANjH"),c=t("/7QA"),l=t("ZS2+"),u=t("8Ad5"),m=t("DMoW"),p=t("uIkQ"),h=t("+pBb"),f=t("eU9H"),g=t("0Log"),v=t("cys1"),b=t("oK83"),y=t("IyK4"),k=t("uq9l"),S=t("p9DJ");!function(e){e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution"}(i||(i={}));var C,E=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isCurrentUserModerator,t=e.isCurrentUserStaff,a=e.deletedMessageDisplay;if(n||t){var r={chatChannelID:this.props.channelID,chatChannelLogin:this.props.channelLogin,messageAuthorID:this.props.message.user.userID,messageSourceID:this.props.message.id,emoteSourceType:b.a.chat,disableChatCard:!0};if(a===m.fc.DETAILED&&n){var s=this.props.message,d=s.modLogin,l=s.modActionType,u=s.duration,p=Object(c.d)("(Deleted)","ChatLine");return l&&l===g.ModerationActions.Ban&&d&&(p=Object(c.d)("(Banned by {modLogin})",{modLogin:d},"ChatLine")),l&&l===g.ModerationActions.Timeout&&(d&&u?p=Object(c.d)("({duration}s Timeout by {modLogin})",{duration:u,modLogin:d},"ChatLine"):d&&(p=Object(c.d)("(Timeout by {modLogin})",{modLogin:d},"ChatLine"))),l&&l===g.ModerationActions.Delete&&d&&(p=Object(c.d)("(Deleted by {modLogin})",{modLogin:d},"ChatLine")),o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":"chat-deleted-message-placeholder","data-test-selector":i.ChatDeletedMessagePlaceholder},o.createElement("span",{className:"chat-line__message--deleted-detailed"},Object(v.g)(this.props.message.messageParts,r)),o.createElement(y.a,{padding:{left:.5}},o.createElement(k.a,{type:k.e.Span,"data-test-selector":i.ChatDeletedMessageAttribution},p)))}return this.props.alwaysShowMessage?Object(v.g)(this.props.message.messageParts,r):o.createElement("span",{key:"deleted",className:"chat-line__message--deleted","data-a-target":"chat-deleted-message-placeholder"},o.createElement(S.a,{linkTo:"",onClick:this.props.setAlwaysShowMessage,"data-test-selector":i.ChatDeletedMessagePlaceholder},"<"+Object(c.d)("message deleted","ChatLine")+">"))}return o.createElement("span",{key:"deleted",className:"chat-line__message--deleted-notice","data-a-target":"chat-deleted-message-placeholder","data-test-selector":i.ChatDeletedMessagePlaceholder},""+Object(c.d)("message deleted by a moderator.","ChatLine"))},n}(o.PureComponent),w=t("OCDW"),_=t("Yegi"),N=t("XC6p"),O=t("E1Lb"),D=t("Ix37");!function(e){e.Icon="reply-context-pill-icon"}(C||(C={}));var M,I=function(e){var n=Object(c.d)("Replying to @{displayName}: ",{displayName:e.reply.parentDisplayName},"ReplyContextPill"),t=Object(c.d)("(message deleted)","ReplyContextPill"),i=o.createElement(k.a,{lines:2,wordBreak:k.g.BreakWord},e.reply.parentDeleted?n.concat(t):n.concat(e.reply.parentMessageBody));return o.createElement(w.a,{display:_.h.Inline},o.createElement(N.a,{label:i,options:{placement:"top",modifiers:[{name:"offset",options:{offset:[0,5]}}]}},o.createElement(w.a,{display:_.h.InlineFlex,alignItems:_.b.Center,className:"reply-context-pill",borderRadius:_.e.Rounded},o.createElement(w.a,{"data-test-selector":C.Icon,display:_.h.Flex,alignItems:_.b.Center,position:_.o.Absolute,className:"reply-context-pill__icon",cursor:e.onIconClick?_.g.Pointer:_.g.Auto,onClick:e.onIconClick,onKeyDown:function(n){e.onIconClick&&"Enter"===n.key&&(n.preventDefault(),e.onIconClick())},tabIndex:0},o.createElement(O.a,{asset:D.a.Comments})),o.createElement(w.a,{className:"reply-context-pill__text"},o.createElement(k.a,{color:_.f.Alt2,fontWeight:_.l.SemiBold},e.reply.parentDisplayName)))))},T=t("Vtno"),j=t("LNol");t("KtqB");!function(e){e.DeletedMessage="parent-message-deleted"}(M||(M={}));var R,P=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.repliesExperimentValue=Object(T.b)(n.props.channelID),n.deletedMessage=o.createElement(k.a,{"data-test-selector":M.DeletedMessage,italic:!0,type:k.e.Span},Object(c.d)("message deleted by a moderator.","ReplyLine")),n}return Object(a.__extends)(n,e),n.prototype.render=function(){switch(this.repliesExperimentValue){case T.a.TreatmentA:return this.renderTreatmentA();case T.a.TreatmentB:return this.renderTreatmentB();case T.a.TreatmentC:return this.renderTreatmentC();default:return null}},n.prototype.renderTreatmentA=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,a=e.message,r="@"+n,s=Object(c.d)("Replying to {username}: {message}",{username:i?o.createElement(w.a,{as:"span",className:"reply-line--mentioned"},r):r,message:t?this.deletedMessage:a},"ReplyLine");return o.createElement(w.a,{display:_.h.Flex,color:_.f.Alt2},o.createElement(j.a,{asset:D.a.Smallcomments,width:17,height:17}),o.createElement(w.a,{padding:{left:.5},overflow:_.n.Hidden},o.createElement(k.a,{ellipsis:!0,fontSize:_.k.Size7},s)))},n.prototype.renderTreatmentB=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,a=e.message,r=Object(c.d)("{username}: {message}",{username:i?o.createElement(w.a,{as:"span",className:"reply-line--mentioned"},n):n,message:t?this.deletedMessage:a},"ReplyLine");return o.createElement(w.a,null,o.createElement(w.a,{className:"reply-line--treatment-b",display:_.h.InlineFlex,color:_.f.Alt2,padding:{x:1},background:_.d.Alt},o.createElement(j.a,{asset:D.a.Smallcomments,width:17,height:17}),o.createElement(w.a,{padding:{left:.5},overflow:_.n.Hidden},o.createElement(k.a,{ellipsis:!0,fontSize:_.k.Size7},r))))},n.prototype.renderTreatmentC=function(){var e=this.props,n=e.displayName,t=e.isDeleted,i=e.isReplyToMe,a=e.message,r="@"+n,s=Object(c.d)("In reply to {username}: {message}",{username:i?o.createElement(w.a,{as:"span",className:"reply-line--mentioned"},r):r,message:t?this.deletedMessage:a},"ReplyLine");return o.createElement(w.a,{className:"reply-line--highlighted-line",display:_.h.Flex,color:_.f.Alt2},o.createElement(w.a,{padding:{left:1},overflow:_.n.Hidden},o.createElement(k.a,{ellipsis:!0,fontSize:_.k.Size7},s)))},n}(o.PureComponent),F=t("ZVTe"),L=t("6wGa"),A=t("EE1E"),U=t("fezU"),x=t("ZtEv"),B=t("zwF8"),V=t("VxoQ"),q=t("RReG"),G=t("Ar2k"),H=t("oBNK"),W=t("swlv"),z=(t("uYvD"),l.a.wrap((function(){return t.e(71).then(t.bind(null,"RPn2"))}),"ChatRepliesMessageCard")),Q=l.a.wrap((function(){return t.e(72).then(t.bind(null,"oyYY"))}),"ChatRepliesOPCard"),Y="chat-hidden-message-placeholder",K="chat-hidden-username-placeholder";!function(e){e.ChatLineMessage="chat-line-message",e.ChatDeletedMessagePlaceholder="chat-deleted-message-placeholder",e.ChatDeletedMessagePlaceholderBrief="chat-deleted-message-placeholder-brief",e.ChatHiddenMessagePlaceholder="chat-hidden-message-placeholder",e.ChatHiddenUserNameLink="chat-hidden-username-link",e.ChatHiddenUsernamePlaceholder="chat-hidden-username-placeholder",e.ChatDeletedMessageAttribution="chat-deleted-message-attribution",e.ChatMessageHighlight="chat-message-highlight",e.ChatMessageSeparator="chat-message-separator",e.ChatReplyButton="chat-reply-button"}(R||(R={}));var $=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.tooltipLabel=n.props.reply?Object(c.d)("See thread","ChatLine"):Object(c.d)("Click to reply","ChatLine"),n.chatRepliesTreatment=Object(T.b)(n.props.channelID),n.setTooltipRef=function(e){return n.tooltipRef=e},n.showTooltip=function(){n.tooltipRef&&n.props.tooltipLayer.show({from:n.tooltipRef,direction:H.c.Top,align:H.b.Right,label:n.tooltipLabel})},n.hideTooltip=function(){n.props.tooltipLayer.hide()},n.renderReplyLine=function(){var e=n.props,t=e.channelID,i=e.currentUserID,a=e.currentUserLogin,r=e.reply,s=e.repliesAppearancePreference;return!r||s!==V.b.Expanded&&!n.isReplyToOrFromSelf()?null:o.createElement(P,{channelID:t,displayName:r.parentDisplayName,message:r.parentMessageBody,isDeleted:!!r.parentDeleted,isReplyToMe:void 0!==a&&void 0!==i&&i===r.parentUid})},n.isReplyToOrFromSelf=function(){var e=n.props,t=e.reply,i=e.message,a=e.currentUserID;if(!t||!a)return!1;var r=i.user.userID===a,o=a===t.parentUid;return r||o},n.renderReplyContextPill=function(){var e=n.props,t=e.reply,i=e.repliesAppearancePreference;return t&&i===V.b.Minimum?o.createElement(I,{reply:t,onIconClick:n.onIconClick}):null},n.renderModerationIcons=function(){if(!(n.props.isCurrentUserModerator&&n.props.showModerationIcons&&n.props.message.user.userID&&n.props.channelID))return null;var e=!0;return void 0!==n.props.canDelete&&(e=n.props.canDelete),o.createElement(L.a,{targetUserID:n.props.message.user.userID,canDelete:e,confirmModerationAction:n.props.confirmModerationAction,channelID:n.props.channelID,isMessageDeleted:n.props.message.deleted,isMessageBanned:n.props.message.banned,senderLogin:n.props.message.user.userLogin,messageID:n.props.message.id})},n.renderMessageBody=function(){if(n.props.isHidden&&!n.state.alwaysShowMessage&&n.props.isCurrentUserModerator){var e=Object(c.d)("message hidden from blocked user","ChatLine");return o.createElement("span",{key:"hidden_message",className:"chat-line__message--hidden","data-a-target":Y},o.createElement(S.a,{linkTo:"",onClick:n.hiddenMessageClickHandler,"data-test-selector":R.ChatHiddenMessagePlaceholder},"<"+e+">"))}if(n.props.isDeleted)return o.createElement(E,{channelID:n.props.channelID,channelLogin:n.props.channelLogin,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,deletedMessageDisplay:n.props.deletedMessageDisplay,message:n.props.message,alwaysShowMessage:n.state.alwaysShowMessage,setAlwaysShowMessage:n.alwaysShowMessage});var t={chatChannelID:n.props.channelID,chatChannelLogin:n.props.channelLogin,messageAuthorID:n.props.message.user.userID,messageSourceID:n.props.message.id,emoteSourceType:b.a.chat,isHighlighted:n.props.isHighlighted},i=Object(v.g)(n.props.message.messageParts,t);return n.props.isHighlighted?o.createElement("span",{className:"chat-line__message-body--highlighted"},i):i},n.setMessageTray=function(){var e=n.props,t=e.message;(0,e.setTray)({icon:o.createElement(f.a,{asset:D.a.Reply}),title:Object(v.a)(t.user.userDisplayName),body:o.createElement(z,Object(a.__assign)({},n.props)),inputValue:"",renderBodyOutside:!0,type:B.a.Reply,sendButtonOverride:B.b.Reply,disableBits:!0,disableChat:t.deleted,sendMessageHandler:{type:B.c.Reply,additionalMetadata:{reply:{parentDeleted:t.deleted,parentMsgId:t.id,parentMessageBody:t.messageBody,parentUid:t.user.userID,parentUserLogin:t.user.userLogin,parentDisplayName:t.user.userDisplayName}}}})},n.renderMessageAuthor=function(){var e=n.props,t=e.badgeSets,i=e.message,a=e.tabbable,r=e.theme,s=e.useHighContrastColors;return n.props.isHidden&&!n.state.alwaysShowMessage&&n.props.isCurrentUserModerator?o.createElement("span",{key:"hidden_username",className:"chat-line__username--hidden","data-a-target":K,"data-test-selectors":R.ChatHiddenUsernamePlaceholder},o.createElement(S.a,{linkTo:"",onClick:n.hiddenMessageClickHandler,"data-test-selector":R.ChatHiddenUserNameLink},Object(c.d)("User Hidden","ChatLine"))):o.createElement(w.a,{className:"chat-line__username-container",display:_.h.InlineBlock},n.renderModerationIcons(),o.createElement(p.b,{badgeSets:t,badgesToRender:i.badges,dynamicData:i.badgeDynamicData,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,tabbable:a,usesSchemaBadges:n.props.usesSchemaBadges}),o.createElement("span",{className:"chat-line__username",onClick:n.openViewerCard,onKeyDown:n.openViewerCard,role:"button",tabIndex:!1===a?-1:0},o.createElement(F.a,{userData:i.user,highContrastUsernameColor:s,theme:r})))},n.onMessageClick=function(){var e=n.props,t=e.channelID,i=e.message,a=e.reply;n.props.hideViewerCard(),a?(n.setOPCardTray(a),t&&Object(q.b)({threadID:a.parentMsgId,channelID:t,uiContext:q.a.ThreadIcon})):n.chatRepliesTreatment!==T.a.Control&&(n.setMessageTray(),t&&Object(q.e)({messageID:i.id,channelID:t}))},n.onIconClick=function(){var e=n.props,t=e.channelID,i=e.reply;n.props.hideViewerCard(),i&&(n.setOPCardTray(i),t&&Object(q.b)({threadID:i.parentMsgId,channelID:t,uiContext:q.a.ContextPill}))},n.setOPCardTray=function(e){n.props.setTray({icon:o.createElement(f.a,{asset:D.a.Conversations}),title:Object(v.c)(),body:o.createElement(Q,{channelID:n.props.channelID,channelLogin:n.props.channelLogin,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:n.props.useHighContrastColors,deletedMessageDisplay:n.props.deletedMessageDisplay,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,currentUserID:n.props.currentUserID,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,confirmModerationAction:n.props.confirmModerationAction,theme:n.props.theme,reply:e,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,highlightMessageID:n.props.message.user.userID!==n.props.currentUserID?n.props.message.id:void 0}),inputValue:"",disableCommands:!0,renderBodyOutside:!0,type:B.a.Reply,sendButtonOverride:B.b.Reply,disableBits:!0,callOnClose:function(){return n.trackChatRepliesThreadClose(e)},disableChat:e.parentDeleted,sendMessageHandler:{type:B.c.Reply,additionalMetadata:{reply:{parentDeleted:e.parentDeleted,parentMsgId:e.parentMsgId,parentMessageBody:e.parentMessageBody,parentUid:e.parentUid,parentUserLogin:e.parentUserLogin,parentDisplayName:e.parentDisplayName}}}})},n.trackChatRepliesThreadClose=function(e){var t=n.props.channelID;t&&Object(q.c)({messageID:e.parentMsgId,channelID:t})},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n.hiddenMessageClickHandler=function(e){n.alwaysShowMessage(e),n.props.message.user.userID&&n.props.onHiddenMessageClick(n.props.message.user.userID)},n.openViewerCard=function(e){n.isKeyboardEvent(e)&&e.keyCode!==u.a.Space&&e.keyCode!==u.a.Enter||n.props.onUsernameClick(n.props.message.user.userLogin,b.b.chat_message,n.props.message.id,e.currentTarget.getBoundingClientRect().bottom)},n.addEventListeners=function(){n.tooltipRef&&(n.tooltipRef.addEventListener("mouseenter",n.showTooltip),n.tooltipRef.addEventListener("mouseleave",n.hideTooltip))},n.removeEventListeners=function(){n.tooltipRef&&(n.tooltipRef.removeEventListener("mouseenter",n.showTooltip),n.tooltipRef.removeEventListener("mouseleave",n.hideTooltip))},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){this.addEventListeners()},n.prototype.componentWillUnmount=function(){this.removeEventListeners()},n.prototype.render=function(){var e=this,n=this.props,t=n.className,i=n.currentUserLogin,a=n.deletedCount,s=n.deletedMessageDisplay,d=n.disableReplyClick,l=n.isCurrentUserModerator,u=n.isDeleted,p=n.isHistorical,h=n.message,f=n.reply,g=n.showTimestamps,b=n.tabbable,y=n.theme,S=n.useHighContrastColors;if(u&&l&&s===m.fc.BRIEF)return a&&a>0?o.createElement(w.a,{className:"chat-line__status"},o.createElement(k.a,{type:k.e.Span,"data-a-target":"chat-deleted-message-placeholder","data-test-selector":R.ChatDeletedMessagePlaceholderBrief},Object(c.d)("{numDeleted, plural, one {# message was deleted by a moderator.} other {# messages were deleted by a moderator.}}",{numDeleted:a},"ChatLine"))):null;var C={},E=": ";if(h.messageType===x.c.Action){var N=h.user.color;S&&N&&(N="#"+Object(A.a)(N,y)),C={color:N},E=" "}var O=g||p?Object(v.m)(h.timestamp):null,M=h.user.userLogin===i&&!f||!f&&u||d;return o.createElement("div",{className:r(t,"chat-line__message"),"data-a-target":"chat-line-message","data-test-selector":R.ChatLineMessage,style:C,tabIndex:!1===b?-1:0},o.createElement(w.a,{position:_.o.Relative},this.chatRepliesTreatment!==T.a.Control&&!M&&o.createElement(w.a,{"data-test-selector":R.ChatMessageHighlight,borderRadius:_.e.Medium,className:"chat-line__message-highlight",position:_.o.Absolute}),o.createElement(w.a,{position:_.o.Relative,className:r({"chat-line__message-container":this.chatRepliesTreatment!==T.a.Control})},this.chatRepliesTreatment===T.a.TreatmentA&&this.renderReplyLine(),o.createElement(w.a,null,o.createElement(w.a,{display:_.h.Inline,className:"chat-line__no-background"},O,this.renderMessageAuthor(),o.createElement("span",{key:"separator","aria-hidden":"true","data-test-selector":R.ChatMessageSeparator},E),this.chatRepliesTreatment===T.a.TreatmentA&&!this.isReplyToOrFromSelf()&&this.renderReplyContextPill(),this.renderMessageBody()))),this.chatRepliesTreatment!==T.a.Control&&!M&&o.createElement(w.a,{background:_.d.Base,borderRadius:_.e.Medium,className:"chat-line__reply-icon",elevation:1,position:_.o.Absolute,refDelegate:this.setTooltipRef},o.createElement(W.a,{"aria-label":this.tooltipLabel,icon:f?D.a.Conversations:D.a.Reply,"data-test-selector":R.ChatReplyButton,onClick:function(){return e.onMessageClick()}}))))},n.prototype.isKeyboardEvent=function(e){return void 0!==e.keyCode},n}(o.Component);var X=Object(d.d)(Object(s.b)(void 0,(function(e){return Object(d.b)({setTray:h.bb,onHiddenMessageClick:h.fb},e)})),Object(G.c)(),Object(U.c)((function(e){return{onUsernameClick:e.onShowViewerCard,hideViewerCard:e.hideViewerCard}})))($)},X9Go:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return l}));var i=t("mrSG"),a=t("q1tI"),r=t("1rIY"),o=Object(r.a)("ModerationTrackingContext",{}),s=o.context,d=o.withContext;function c(e){return Object(i.__assign)({},e)}var l=function(e){return a.useContext(s).page?a.createElement(a.Fragment,null,e.children):a.createElement(s.Provider,{value:{page:e.page}},e.children)}},XBQy:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointCustomizationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:206}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment pointCustomizationFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nname\nimage {\n...pointsImageFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},XIEs:function(e,n,t){"use strict";function i(e){return{"1x":e.url,"2x":e.url2x,"4x":e.url4x}}t.d(n,"a",(function(){return i}))},XIZb:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("q1tI"),r=t("4rCz"),o=t("1rIY");function s(e){var n={setServiceAPI:function(){r.l.warn("The "+e+" chat service attempted to register its API without a provider.")}},t=Object(o.a)(e,n),s=t.context,d=t.withContext;return{context:s,withChatServiceManager:function(e){return function(t){var r=a.useContext(s),o=a.useState(),d=o[0],c=o[1],l=a.useMemo((function(){return{serviceAPI:d,setServiceAPI:c}}),[d]);return r!==n?a.createElement(e,Object(i.__assign)({},t)):a.createElement(s.Provider,{value:l},a.createElement(e,Object(i.__assign)({},t)))}},withContext:d}}},XKWF:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o}));var i=t("vRsq"),a=t("DMoW");function r(e){switch(e.toUpperCase()){case a.Hf.VIEWS:return a.Hf.VIEWS;case a.Hf.TIME:return a.Hf.TIME;default:return null}}function o(e){switch(e){case i.g.Newest:return a.Hf.TIME;case i.g.Popular:return a.Hf.VIEWS;default:return e}}t.d(n,"a",(function(){return a.Hf}))},XRPh:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var i=t("/MKj"),a=t("ANjH"),r=t("kRBY"),o=t("bBAb"),s=t("ikJD"),d=t("fezU"),c=t("mrSG"),l=t("q1tI"),u=t("XmgI"),m=t("4h+t"),p=t("j0ar"),h=t("oK83"),f=t("a1OF"),g=(t("SVRf"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.emoteClickHandler=function(e){n.props.emote.emoteID&&n.props.onEmoteClick({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin||"",emoteID:n.props.emote.emoteID,emoteCode:n.props.emote.alt||"",sourceID:n.props.sourceID||"",emoteSourceType:n.props.sourceType?n.props.sourceType:h.a.unknown,referrerID:n.props.referrerID||"",initialTopOffset:e.currentTarget.getBoundingClientRect().bottom})},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e,n,t=this,i=this.props.emote.alt||"",a=this.props.emote.images;if(this.props.emote.cheerAmount){var r=this.props.bitsConfig&&this.props.bitsConfig.indexedActions[i.toLowerCase()];r||(r=Object(m.b)("Cheer"));var o=r.orderedTiers.find((function(e){return e.bits<=t.props.emote.cheerAmount}));o||(o=r.orderedTiers[0]),a=Object(u.d)(r,o.bits,void 0,this.props.isEmoteAnimationsEnabled),i+=" "+this.props.emote.cheerAmount.toString(),e=l.createElement("strong",{className:"chat-line__message--cheer-amount",style:{color:this.props.emote.cheerColor}},this.props.emote.cheerAmount)}return!this.props.emote.cheerAmount&&this.props.emote.emoteID&&(a=Object(f.b)(this.props.emote.emoteID,this.props.isEmoteAnimationsEnabled)),n=l.createElement(p.a,{alt:i,cheerText:e,className:"chat-line__message--emote",srcKey:"1x",srcSet:a}),this.props.emote.cheerAmount||this.props.disableCard?n:l.createElement("div",{onClick:this.emoteClickHandler,className:"chat-line__message--emote-button","data-test-selector":"emote-button"},n)},n}(l.Component));var v=Object(a.d)(Object(i.b)((function(e){return{user:Object(r.e)(e)}})),Object(d.c)((function(e){return{onEmoteClick:e.onShowEmoteCard}})),Object(s.c)((function(e){return{isEmoteAnimationsEnabled:e.value}})),Object(o.b)((function(e){return{bitsConfig:e.bitsConfig}})))(g);v.displayName="Emote"},XeJ1:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("nxZp"),a=t("ehEd"),r={normalizeRecord:function(e){return new i.a({id:e._id,name:e.name,logo:new URL(e.logo||a.a),bio:e.bio,createdAt:new Date(e.created_at),displayName:e.display_name,type:e.type,updatedAt:new Date(e.updated_at)})},serializeRecord:function(e){return{_id:e.id,name:e.name,logo:e.logo.toString(),bio:e.bio,created_at:e.createdAt.toISOString(),display_name:e.displayName,type:e.type,updated_at:e.updatedAt.toISOString()}}}},XjTb:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatReplies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"messageID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"message"},directives:[]},{kind:"Field",name:{kind:"Name",value:"replies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"message"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:204}};i.loc.source={body:'#import "twilight/features/message/fragments/message-fragment.gql"\nquery ChatReplies($messageID: ID! $channelID: ID!) {\nmessage(id: $messageID) {\n...message\nreplies {\nnodes {\n...message\n}\ntotalCount\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("jy35").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.ChatReplies=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"ChatReplies")},XjhS:function(e,n,t){},"Y/1R":function(e,n,t){"use strict";t.d(n,"a",(function(){return Un}));var i,a=t("mrSG"),r=t("q1tI"),o=t("BdZw"),s=t("/MKj"),d=t("ANjH"),c=t("fezU"),l=t("5zC2"),u=t("k8pZ"),m=t("uIkQ"),p=t("cys1"),h=t("fxMP"),f=t("OCDW"),g=t("uq9l");!function(e){e.Timestamp="extension-message-timestamp",e.ExtensionName="extension-message-name"}(i||(i={}));var v=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onExtensionNameClick=function(e){var t=n.props.message;n.props.onExtensionNameClick(t.extension.clientID,t.extension.version,t.id,e.currentTarget.getBoundingClientRect().bottom)},n}return Object(a.__extends)(n,e),n.prototype.render=function(){if(!this.props.installedExtensions)return null;var e=this.props.message;if(!this.props.installedExtensions.some((function(n){var t=n.extension;return t.clientId===e.extension.clientID&&t.version===e.extension.version})))return null;var n=this.props.message.extension.displayBadges;return r.createElement(f.a,{padding:{x:2,y:.5}},r.createElement("div",{id:this.props.message.id,className:"room-message"},this.renderTimestamp(),r.createElement(m.b,{badgeSets:this.props.badgeSets,badgesToRender:n}),this.renderMessageAuthor(this.props.message.extension),r.createElement("span",null,": "),this.renderMessageBody()))},n.prototype.renderTimestamp=function(){return this.props.showTimestamps?r.createElement("span",{key:"timestamp",className:"room-message__timestamp","data-test-selector":i.Timestamp},Object(p.b)(new Date(this.props.message.sentAt))):null},n.prototype.renderMessageBody=function(){var e=Object(h.f)(this.props.message);return Object(p.g)(e,{forceClipsNetworkRequest:!0})},n.prototype.renderMessageAuthor=function(e){return r.createElement("button",{onClick:this.onExtensionNameClick,"data-test-selector":i.ExtensionName},r.createElement("span",{key:e.clientID+"-"+e.version+"-messageauthor"},r.createElement("span",{key:"username-display",style:{color:e.chatColor}},r.createElement(g.a,{bold:!0},e.displayName))))},n}(r.Component);var b=Object(d.d)(Object(s.b)((function(e,n){return{installedExtensions:n.channelID?Object(u.a)(e,n.channelID):null}})),Object(c.c)((function(e){return{onExtensionNameClick:e.onShowExtensionMessageCard}})),Object(l.c)({name:"extensionsForChannel",skip:function(e){return!e.channelID||!!e.installedExtensions},options:function(e){return{variables:{channelID:e.channelID||""}}}}))(v),y=t("ZtEv"),k=t("/7QA"),S=t("QVaV"),C=t("8SX2"),E=t("oK83"),w=t("Yegi"),_=t("LNol"),N=t("Ix37"),O=function(e){var n=e.event,t=n.promoGiftTotal,i=n.promoName,a=n.user,o=r.createElement(C.a,{contentID:a.id,login:a.username,sourceType:E.b.chat_message},Object(S.a)(a.username,a.displayName)),s=i&&t?Object(k.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!        They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{promoGiftTotal:t,promoName:i,recipientButton:o},"AnonGiftPaidUpgradeNoticeLine"):Object(k.d)("{recipientButton} is continuing the Gift Sub they got from an anonymous gifter!",{recipientButton:o},"AnonGiftPaidUpgradeNoticeLine");return r.createElement(f.a,{alignItems:w.b.Start,display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2,display:w.h.Flex,flexDirection:w.i.Column,flexShrink:0,margin:{right:.5}},r.createElement(_.a,{asset:N.a.Ghost})),r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},s))};O.displayName="AnonGiftPaidUpgradeNoticeLine";var D=t("r7KY"),M=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},e.moderationIcons,r.createElement(O,{event:e.message}))};M.displayName="AnonGiftPaidUpgradeLine";var I=t("0WFu"),T=function(e){var n=e.event,t=r.createElement(C.a,{contentID:n.recipientID,login:n.recipientLogin,sourceType:E.b.chat_message},Object(S.a)(n.recipientLogin,n.recipientDisplayName));return r.createElement(f.a,{alignItems:w.b.Start,display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2,display:w.h.Flex,flexDirection:w.i.Column,flexShrink:0,margin:{right:.5}},r.createElement(_.a,{asset:N.a.Ghost})),r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},function(e,n,t){return t>1?"custom"===e.plan?Object(k.d)("{giftMonths, plural, one {An anonymous gifter gifted # month to {recipientButton}!} other {An anonymous gifter gifted # months to {recipientButton}!}}",{giftMonths:t,recipientButton:n},"AnonSubGiftNoticeLine"):Object(k.d)("{giftMonths, plural, one {An anonymous gifter gifted # month of Tier {tierNumber} to {recipientButton}!} other {An anonymous gifter gifted # months of Tier {tierNumber} to {recipientButton}!}}",{giftMonths:t,tierNumber:Object(I.b)(e.plan)||1,recipientButton:n},"AnonSubGiftNoticeLine"):"custom"===e.plan?Object(k.d)("An anonymous gifter gave {recipientButton} a Sub!",{recipientButton:n},"AnonSubGiftNoticeLine"):Object(k.d)("An anonymous gifter gave {recipientButton} a Tier {tierNumber} Sub!",{recipientButton:n,tierNumber:Object(I.b)(e.plan)||1},"AnonSubGiftNoticeLine")}(n.methods,t,n.giftMonths)))};T.displayName="AnonSubGiftNoticeLine";var j=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(T,{event:e.message}))};j.displayName="AnonSubGiftLine";var R=function(e){var n=e.event,t=n.channel,i=n.massGiftCount,a=n.plan,o="custom"===a?Object(k.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:t,massGiftCount:i},"AnonSubMysteryGiftNoticeLine"):Object(k.d)("{massGiftCount, plural,        one {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!}        other {An anonymous gifter is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:t,massGiftCount:i,tierNumber:Object(I.b)(a)||1},"AnonSubMysteryGiftNoticeLine");return r.createElement(f.a,{alignItems:w.b.Start,display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2,display:w.h.Flex,flexDirection:w.i.Column,flexShrink:0,margin:{right:.5}},r.createElement(_.a,{asset:N.a.Ghost})),r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},o))};R.displayName="AnonSubMysteryGiftNoticeLine";var P=t("xZ3y"),F=function(e){var n=e.event.threshold,t=e.badgeSets.getBadge(P.a,n.toString()),i=Object(k.d)("{text} Bits badge!",{text:Object(P.b)(t,n)},"BitsBadgeTierNotification");return r.createElement(f.a,{display:w.h.Flex},r.createElement(_.a,{height:20,width:20,asset:N.a.Bits,type:_.b.Alt2}),r.createElement(f.a,{color:w.f.Alt2,padding:{left:.5},display:w.h.Inline},Object(k.d)("{userLogin} just earned a new <x:bold>{boldedBadgeText}</x:bold>",{userLogin:r.createElement(C.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:E.b.chat_message},Object(S.a)(e.event.user.userID,e.event.user.displayName)),boldedBadgeText:i,"x:bold":function(e){return r.createElement(g.a,{color:w.f.Base,bold:!0,type:g.e.Span},e)}},"BitsBadgeTierNotification")))};F.displayName="BitsBadgeTierNoticeLine";var L=t("X31c"),A=function(e){var n=null;return e.message.message.messageParts&&e.message.message.messageParts.length>0&&(n=r.createElement(f.a,{padding:{top:.5}},r.createElement(L.a,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:e.message.message.deleted,isHidden:e.message.message.hidden,message:e.message.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay}))),r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(F,{event:e.message,badgeSets:e.badgeSets}),n)};A.displayName="BitsBadgeTierMessage";var U=function(e){return r.createElement(f.a,{className:"chat-line__bits-charity",padding:{right:2,y:.5}},Object(p.d)(e.message))};U.displayName="BitsCharityLine";var x=t("DMoW"),B=function(e){var n=e.message,t=e.primaryColorHex,i=r.useMemo((function(){return r.createElement(C.a,{contentID:n.userID,login:n.login,sourceType:E.b.chat_message},Object(S.a)(n.login,n.displayName))}),[n]),a=r.useMemo((function(){var e=Object(k.d)("{user} is about to launch a Small Celebration!",{user:i},"CelebrationPurchaseLine");switch(n.intensity){case x.M.SMALL:return e;case x.M.MEDIUM:return Object(k.d)("{user} is about to launch a Medium Celebration!",{user:i},"CelebrationPurchaseLine");case x.M.LARGE:return Object(k.d)("{user} is about to launch a Large Celebration!",{user:i},"CelebrationPurchaseLine");default:return e}}),[n,i]);return r.createElement(D.a,{primaryColorHex:t},r.createElement(f.a,{display:w.h.InlineFlex,flexWrap:w.j.Wrap},r.createElement(g.a,{type:g.e.Span,color:w.f.Alt2},a)))},V=t("4rCz"),q=t("A4KW"),G=t("YV90"),H=(t("ZhMv"),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){if(!this.props.event.reward||!this.props.isChannelPointsFeatureFlagOn)return this.props.children?r.createElement(r.Fragment,null,this.props.children):null;var e=Object(V.d)("{user} redeemed {reward}",{user:this.props.event.displayName,reward:this.props.event.reward.name},"ChannelPointsRewardLine");this.props.children&&(e=Object(V.d)("Redeemed {reward}",{reward:this.props.event.reward.name},"ChannelPointsRewardLine"));var n=this.props.children;if(this.props.children){var t=r.Children.only(this.props.children);n=r.cloneElement(t,{className:"chat-line--inline",isHighlighted:this.props.event.reward.isHighlighted})}return r.createElement(D.a,{primaryColorHex:this.props.primaryColorHex,background:null},r.createElement(f.a,{color:w.f.Alt2},e,r.createElement(f.a,{className:"channel-points-reward-line__icon",display:w.h.Inline,verticalAlign:w.r.Middle},r.createElement(q.b,null)),Object(V.f)(this.props.event.reward.cost)),n&&r.createElement(f.a,{margin:{top:.5}},n))},n}(r.Component));var W=Object(G.b)((function(e){return{isChannelPointsFeatureFlagOn:e.isChannelPointsFeatureFlagOn,pointIcon:e.pointIcon,rewardMap:e.rewardMap}}))(H),z=function(){return r.createElement(f.a,{className:"chat-line__status"},Object(k.d)("Chat was cleared by a moderator","ChatLine"))};z.displayName="ChatClearedLine";var Q=function(){return r.createElement(f.a,{className:"chat-line__status","data-a-target":"chat-welcome-message"},r.createElement(g.a,{type:g.e.Span},Object(k.d)("Welcome to the chat room!","ChatLine")))};Q.displayName="ChatConnectedLine";var Y=function(e){return e.message.reason?r.createElement(f.a,{className:"chat-line__status"},r.createElement(g.a,{type:g.e.Span},Object(k.d)("You have been disconnected from chat for the following reason: {reason}",{reason:e.message.reason},"ChatLine"))):r.createElement(f.a,{className:"chat-line__status"},r.createElement(g.a,{type:g.e.Span},Object(k.d)("Sorry, we were unable to connect to chat. Attempting to reconnect...","ChatLine")))};Y.displayName="ChatDisconnectedLine";var K=function(e){var n,t=e.channelLogin,i=e.event,a=e.primaryColorHex,o=i.challengeName,s=i.displayName,d=i.userContribution,c=i.hasMultipleChallenges,l=i.otherContributors.size;return n=0===l?Object(V.d)("{user} has contributed {pointIcon} {amount} total to the {challengeName} challenge",{user:s,pointIcon:r.createElement(f.a,{display:w.h.InlineFlex,verticalAlign:w.r.Top},r.createElement(q.b,null)),amount:Object(V.f)(d),challengeName:o},"CommunityChallengeContributionLine"):c?Object(V.d)("{otherViewerCount, plural, one {{viewerName} and # other contributed to {streamerName}'s community challenges}       other {{viewerName} and # others contributed to {streamerName}'s community challenges}}",{viewerName:s,otherViewerCount:l,streamerName:t},"CommunityChallengeContributionLine"):Object(V.d)("{otherViewerCount, plural, one {{viewerName} and # other contributed to the {challengeName} challenge}       other {{viewerName} and # others contributed to the {challengeName} challenge}}",{viewerName:s,otherViewerCount:l,challengeName:o},"CommunityChallengeContributionLine"),r.createElement(D.a,{primaryColorHex:a,background:null},r.createElement(f.a,{display:w.h.InlineFlex,flexWrap:w.j.Wrap},r.createElement(g.a,{type:g.e.Span,color:w.f.Alt2},n)))},$=function(e){return r.createElement(f.a,{className:"chat-line__status"},Object(p.e)(e.message))};$.displayName="EmoteOnlyModeLine";var X=function(e){var n=r.createElement(f.a,{display:w.h.Block},r.createElement(C.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:E.b.chat_message},r.createElement(g.a,{color:w.f.Link},Object(S.a)(e.event.user.username,e.event.user.displayName)))),t=new Date;t.setDate(1),t.setMonth(parseInt(e.event.benefitEndMonth,10)-1);var i=Object(k.d)("{userLogin} <x:strong> Extended </x:strong> their Tier 1 subscription through {benefitEndMonth}!",{userLogin:n,benefitEndMonth:Object(k.c)(t,{month:"long"}),"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span},e)}},"ExtendSubscriptionNoticeLine");return r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2},r.createElement(_.a,{asset:N.a.Star})),r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,i)))};X.displayName="ExtendSubscriptionNoticeLine";var Z=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(f.a,{display:w.h.Flex,justifyContent:w.m.Between},r.createElement(f.a,null,r.createElement(X,{event:e.message})),r.createElement(f.a,{alignItems:w.b.End},e.moderationIcons)))};Z.displayName="ExtendSubLine";var J=function(e){return r.createElement(f.a,{color:w.f.Alt2,display:w.h.Inline},Object(k.d)("{userLogin} just made their first cheer!",{userLogin:r.createElement(C.a,{contentID:e.event.message.id,login:e.event.message.user.userLogin,sourceType:E.b.chat_message},Object(S.a)(e.event.message.user.userLogin,e.event.message.user.userDisplayName))},"FirstCheerNoticeLine"))};J.displayName="FirstCheerNoticeLine";var ee=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(J,{event:e.message}),r.createElement(f.a,null,r.createElement(L.a,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:e.message.message.deleted,isHidden:e.message.message.hidden,message:e.message.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay})))};ee.displayName="FirstCheerMessage";var ne=function(e){return r.createElement(f.a,{className:"chat-line__status"},Object(p.f)(e.message))};ne.displayName="FollowerOnlyModeLine";var te=function(e){var n=e.event,t=r.createElement(C.a,{contentID:n.user.id,login:n.user.username,sourceType:E.b.chat_message},Object(S.a)(n.user.username,n.user.displayName)),i=r.createElement(C.a,{contentID:n.user.id,login:n.senderLogin,sourceType:E.b.chat_message},Object(S.a)(n.senderLogin,n.senderName));return r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},n.promoName&&n.promoGiftTotal?Object(k.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!            They're one of {promoGiftTotal} gift subs to continue this {promoName}.",{gifterButton:i,promoGiftTotal:n.promoGiftTotal,promoName:n.promoName,recipientButton:t},"GiftPaidUpgradeNoticeLine"):Object(k.d)("{recipientButton} is continuing the Gift Sub they got from {gifterButton}!",{gifterButton:i,recipientButton:t},"GiftPaidUpgradeNoticeLine"))};te.displayName="GiftPaidUpgradeNoticeLine";var ie=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},e.moderationIcons,r.createElement(te,{event:e.message}))};ie.displayName="GiftPaidUpgradeLine";var ae;t("OBzG");!function(e){e[e.MOD_ICONS=0]="MOD_ICONS",e[e.MESSAGE=1]="MESSAGE"}(ae||(ae={}));var re=function(e){var n=e.event,t=e.moderationIcons;return r.createElement(f.a,{className:"gift-pay-forward-line",color:w.f.Alt2,margin:{y:.5},padding:{right:2,y:.5}},t&&r.createElement(f.a,{"data-test-selector":ae.MOD_ICONS},t),r.createElement(f.a,{"data-test-selector":ae.MESSAGE},function(e){var n=e.user.displayName,t=e.priorGifter.displayName;if(e.type===y.b.CommunityPayForward)return e.priorGifter.anonymous?Object(V.d)("{sender} is paying forward the Gift they got from an anonymous gifter to the community!",{sender:n},"GiftPayForwardLine"):Object(V.d)("{sender} is paying forward the Gift they got from {priorGifter} to the community!",{sender:n,priorGifter:t},"GiftPayForwardLine");var i=e.recipient.displayName;return e.priorGifter.anonymous?Object(V.d)("{sender} is paying forward the Gift they got from an anonymous gifter to {recipient}!",{sender:n,recipient:i},"GiftPayForwardLine"):Object(V.d)("{sender} is paying forward the Gift they got from {priorGifter} to {recipient}!",{sender:n,priorGifter:t,recipient:i},"GiftPayForwardLine")}(n)))};re.displayName="GiftPayForwardLine";var oe=function(e){return r.createElement(f.a,{className:"chat-line__status"},r.createElement(g.a,{type:g.e.Span},Object(k.d)("Now hosting {channel}",{channel:e.message.hostedChannel},"ChatLine")))};oe.displayName="HostingLine";var se=t("u5aL"),de=t("dsMP"),ce=t("amaQ"),le=t("+pBb"),ue=t("swlv"),me=t("FMdv"),pe=t("4Nlk"),he=t("5e0Q"),fe=(t("T84l"),function(e){function n(n){var t=e.call(this,n)||this;return t.state={contextMenuOpen:!1,hideCTA:!1,isHidden:!1},t.toggleContextMenu=function(){var e=t.state.contextMenuOpen;t.setState({contextMenuOpen:!e})},t.onContextMenuClickout=function(){t.setState({contextMenuOpen:!1})},t.hideOnContextMenuAction=function(e){if(void 0!==e)return function(){e(),t.setState({isHidden:!0})}},t.actionClick=t.actionClick.bind(t),t.showCTA=t.showCTA.bind(t),t}return Object(a.__extends)(n,e),n.prototype.render=function(){if(this.state.isHidden)return null;var e=this.props.event.callout,n=void 0===this.props.messageIndex||this.props.messageIndex<6;return r.createElement(f.a,{border:!0,background:w.d.Alt,borderRadius:w.e.Medium,margin:{x:2,y:.5}},r.createElement(f.a,{display:w.h.Flex,flexDirection:w.i.Row,alignItems:w.b.Center,className:"inline-private-callout-line__header"},r.createElement(_.a,{asset:N.a.Lock,width:14,height:14}),r.createElement(f.a,{padding:{left:.5}},r.createElement(g.a,{color:w.f.Alt2}," ",Object(k.d)("Only visible to you","InlineChatPrivateCallout")," "))),r.createElement(f.a,{display:w.h.Flex,alignItems:w.b.Center,padding:1,borderTop:!0},e.icon&&r.createElement(f.a,{className:"inline-private-callout-line__icon",margin:{right:1},padding:e.hideIconBackground?void 0:.5,display:w.h.Flex,flexGrow:0,flexShrink:0,alignItems:w.b.Center,justifyContent:w.m.Center,background:e.hideIconBackground?void 0:w.d.Base,borderRadius:w.e.Rounded,border:!e.hideIconBackground},e.icon),r.createElement(f.a,{flexGrow:1,padding:{right:1}},r.createElement(g.a,{color:w.f.Base,bold:!0,type:g.e.Span},e.title)),e.cta&&this.renderButton(e),e.contextMenuProps&&r.createElement(f.a,{color:w.f.Base,position:w.o.Relative,padding:{top:.5,bottom:1,x:.5}},r.createElement(se.a,{onClickOut:this.onContextMenuClickout},r.createElement(ue.a,{icon:N.a.More,onClick:this.toggleContextMenu,"aria-label":"more options"}),r.createElement(me.a,{show:this.state.contextMenuOpen,direction:n?pe.b.BottomRight:pe.b.TopRight,offsetX:"12px"},r.createElement(de.a,{event:e.contextMenuProps.event,onPin:this.hideOnContextMenuAction(e.contextMenuProps.onPin),onHide:this.hideOnContextMenuAction(e.contextMenuProps.onHide),onSkip:this.hideOnContextMenuAction(e.contextMenuProps.onSkip)}))))),e.withReminderText&&r.createElement(f.a,{borderTop:!0,background:w.d.Base,padding:{left:1}},r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},Object(k.d)("You will be reminded later","InlinePrivateCallout"))))},n.prototype.renderButton=function(e){var n;return e.action?n=e.action:this.props.event.tray&&(n=this.actionClick),n?r.createElement(f.a,{visibility:this.state.hideCTA?w.s.Hidden:w.s.Visible},r.createElement(he.a,{onClick:n,size:he.b.Small,children:e.cta})):null},n.prototype.actionClick=function(){if(this.props.event.tray){var e=this.props.event.tray;e.callOnClose=this.showCTA,e.sendMessageHandler&&e.sendMessageHandler.params&&(e.sendMessageHandler.params.privateCalloutTrackingContext=ce.c.Chat),this.props.setTray(e),this.setState({hideCTA:!0}),Object(ce.f)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.props.event.callout.trackingType,privateCalloutSID:this.props.event.callout.privateSID,clickType:this.props.event.callout.trackingClickType,uiContext:ce.c.Chat})}},n.prototype.showCTA=function(){this.setState({hideCTA:!1})},n}(r.Component));var ge=Object(d.d)(Object(s.b)(void 0,(function(e){return Object(d.b)({setTray:le.bb},e)})))(fe),ve=function(e){return e.channelLogin&&e.currentUserLogin?r.createElement(ge,{event:e.event,channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserID:e.currentUserID,messageIndex:e.messageIndex}):null};ve.displayName="InlinePrivateCalloutLine";var be=t("XC6p"),ye=(t("yiuk"),function(){return r.createElement(f.a,{className:"chat-line__message",display:w.h.Flex,alignItems:w.b.Center},r.createElement(f.a,{className:"live-message-separator-line__hr",flexGrow:1,margin:{right:1}}),r.createElement(be.a,{label:Object(k.d)("Chat messages above were sent in the past hour","LiveMessageSeparatorLine"),options:{placement:"top-start"}},r.createElement(g.a,{color:w.f.Live,type:g.e.Span},Object(k.d)("New","ChatLine"))))});ye.displayName="LiveMessageSeparatorLine";var ke=t("KGti"),Se=t("5zf8"),Ce=t("x0+1"),Ee=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e=this.props.moderationActionEvent,n=e.createdByLogin,t=null;if(e.moderationActionType===y.d.AutoModEnabled)t=Object(k.d)("AutoMod has been enabled for this channel.","ModerationActionLine");else if(e.level===ke.a.Channel)switch(e.moderationActionType){case y.d.Clear:t=Object(k.d)("{user} cleared chat for this room.",{user:n},"ModerationActionLine");break;case y.d.EmoteOnly:t=Object(k.d)("{user} enabled emote-only mode for this room.",{user:n},"ModerationActionLine");break;case y.d.EmoteOnlyOff:t=Object(k.d)("{user} disabled emote-only for this room.",{user:n},"ModerationActionLine");break;case y.d.FollowersOnly:var i=(e.args||[""]).join(" ").trim(),a=parseInt(i,10);t=a?Object(k.d)("{user} enabled {length} followers-only mode for this room.",{user:n,length:Object(Se.b)(60*a)},"ModerationActionLine"):Object(k.d)("{user} enabled followers-only mode for this room.",{user:n},"ModerationActionLine");break;case y.d.FollowersOnlyOff:t=Object(k.d)("{user} disabled followers-only mode for this room.",{user:n},"ModerationActionLine");break;case y.d.R9kBeta:t=Object(k.d)("{user} enabled unique-chat mode for this room.",{user:n},"ModerationActionLine");break;case y.d.R9kBetaOff:t=Object(k.d)("{user} disabled unique-chat mode for this room.",{user:n},"ModerationActionLine");break;case y.d.Slow:var o=(e.args||["30"]).join(" ").trim(),s=parseInt(o,10);t=Object(k.d)("{user} enabled {slowTime}-second slow mode for this room.",{user:n,slowTime:s},"ModerationActionLine");break;case y.d.SlowOff:t=Object(k.d)("{user} disabled slow mode for this room.",{user:n},"ModerationActionLine");break;case y.d.SubscribersOnly:t=Object(k.d)("{user} enabled subscribers-only mode for this room.",{user:n},"ModerationActionLine");break;case y.d.SubscribersOnlyOff:t=Object(k.d)("{user} disabled subscribers-only mode for this room.",{user:n},"ModerationActionLine");break;default:var d=e.args&&e.args.join(" ").trim(),c=d&&d.length>0?"/"+e.moderationActionType+" "+d:""+e.moderationActionType;t=Object(k.d)("{user} used: {command}.",{user:e.createdByLogin,command:c},"ModerationActionLine")}else{var l=e.targetUserLogin,u=e.duration,m=e.reason,p=e.messageBody;switch(e.moderationActionType){case y.d.Timeout:t=e.level===ke.a.User&&this.props.currentUserLogin&&l===this.props.currentUserLogin?u&&m?Object(k.d)("{duration, plural, one {You were timed out for # second. Reason: {reason}.} other {You were timed out for # seconds. Reason: {reason}.}}",{duration:u,reason:m},"ModerationActionLine"):u?Object(k.d)("{duration, plural, one {You were timed out for # second.} other {You were timed out for # seconds.}}",{duration:u},"ModerationActionLine"):m?Object(k.d)("You were timed out. Reason: {reason}.",{reason:m},"ModerationActionLine"):Object(k.d)("You were timed out.","ModerationActionLine"):u&&m?Object(k.d)("{duration, plural, one {{user} timed out {target} for # second. Reason: {reason}.} other {{user} timed out {target} for # seconds. Reason: {reason}.}}",{user:n,target:l,duration:u,reason:m},"ModerationActionLine"):u?Object(k.d)("{duration, plural, one {{user} timed out {target} for # second.} other {{user} timed out {target} for # seconds.}}",{user:n,target:l,duration:u},"ModerationActionLine"):Object(k.d)("{user} timed out {target}.",{user:n,target:l},"ModerationActionLine");break;case y.d.Ban:t=!n&&m?Object(k.d)("You were banned. Reason: {reason}.",{reason:m},"ModerationActionLine"):n?m?Object(k.d)("{user} banned {target}. Reason: {reason}.",{user:n,target:l,reason:m},"ModerationActionLine"):Object(k.d)("{user} banned {target}.",{user:n,target:l},"ModerationActionLine"):Object(k.d)("You were banned.","ModerationActionLine");break;case y.d.Untimeout:t=Object(k.d)("{user} removed time out on {target}.",{user:n,target:l},"ModerationActionLine");break;case y.d.Unban:t=Object(k.d)("{user} removed ban on {target}.",{user:n,target:l},"ModerationActionLine");break;case y.d.Mod:t=Object(k.d)("{user} granted moderator privileges to {target}.",{user:n,target:l},"ModerationActionLine");break;case y.d.Unmod:t=Object(k.d)("{user} removed moderator privileges for {target}.",{user:n,target:l},"ModerationActionLine");break;case y.d.Delete:var h=p||"";t=r.createElement(Ce.a,{targetLogin:l,moderatorLogin:n,messageBody:h});break;default:return null}}return t?r.createElement(f.a,{className:"chat-line__status","data-a-target":"moderation-action"},r.createElement(g.a,{type:g.e.Span},t)):null},n}(r.Component),we=function(e){return e.isCurrentUserModerator&&e.showModerationActions||e.moderationActionEvent.level===ke.a.User&&e.moderationActionEvent.targetUserLogin&&e.moderationActionEvent.targetUserLogin===e.currentUserLogin?r.createElement(Ee,{moderationActionEvent:e.moderationActionEvent,currentUserLogin:e.currentUserLogin}):null},_e=function(e){return e.isCurrentUserModerator&&!e.showModerationActions?e.deletedMessageDisplay===x.fc.BRIEF?null:r.createElement(f.a,{className:"chat-line__moderation"},Object(p.h)(e.message)):null};_e.displayName="ModerationLine";var Ne,Oe=t("p9DJ"),De="https://www.twitch.tv/settings/connections";!function(e){e.Kickback="msg_blizzard",e.Enabled="blizzard_connect_on",e.Disabled="blizzard_connect_off",e.AlreadyEnabled="already_blizzard_mode_on",e.AlreadyDisabled="already_blizzard_mode_off"}(Ne||(Ne={}));var Me=function(e){var n=null;switch(e.type){case Ne.Kickback:var t=r.createElement(Oe.a,{targetBlank:!0,linkTo:De},De);n=Object(k.d)("You must connect your Blizzard account to send messages in this room. You can connect your Blizzard account in your Twitch settings at {settingsLink}",{settingsLink:t},"BlizzardConnectModeNoticeLine");break;case Ne.Enabled:n=Object(k.d)("This room now requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Ne.Disabled:n=Object(k.d)("This room no longer requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Ne.AlreadyEnabled:n=Object(k.d)("This room already requires a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;case Ne.AlreadyDisabled:n=Object(k.d)("This room does not require a Blizzard account connection to chat.","BlizzardConnectModeNoticeLine");break;default:return null}return r.createElement(f.a,null,n)};function Ie(e){return{bad_host_error:Object(k.d)("There was a problem hosting. Please try again in a minute.","HostNoticeLine"),bad_unhost_error:Object(k.d)("There was a problem exiting host mode. Please try again in a minute.","HostNoticeLine"),bad_host_self:Object(k.d)("A channel cannot host itself.","HostNoticeLine"),bad_host_hosting:Object(k.d)("This channel is already hosting.","HostNoticeLine"),bad_host_rate_exceeded:Object(k.d)("Host target cannot be changed more than 3 times every half hour.","HostNoticeLine"),bad_host_rejected:Object(k.d)("This channel is unable to be hosted.","HostNoticeLine"),not_hosting:Object(k.d)("No channel is currently being hosted.","HostNoticeLine"),hosts_remaining:Object(k.d)("{num, plural, one {# host command remaining this half hour.} other {# host commands remaining this half hour.}}",{num:Te(e)},"HostNoticeLine"),host_target_went_offline:Object(k.d)("{channel} has gone offline. Exiting host mode.",{channel:Te(e)},"HostNoticeLine")}}function Te(e){return e.split(" ")[0]}Me.displayName="BlizzardConnectNoticeLine";var je=function(e){return r.createElement("span",null,Ie(e.message.message)[e.message.msgid])};function Re(){return{raid_error_self:Object(k.d)("You cannot raid your own channel.","RaidErrorSelfMessage"),raid_error_forbidden:Object(k.d)("You cannot raid this channel.","RaidErrorAlreadyRaidingMessage"),raid_error_already_raiding:Object(k.d)("You already have a raid in progress.","RaidErrorForbiddenMessage"),raid_error_too_many_viewers_to_raid:Object(k.d)("Sorry, raids can only support up to 20,000 viewers right now.","RaidErrorTooManyViewersMessage"),raid_error_unexpected:Object(k.d)("There was a problem starting the raid. Please try again in a minute.","RaidErrorUnexpectedMessage"),unraid_error_unexpected:Object(k.d)("There was a problem stopping the raid. Please try again in a minute.","UnraidErrorUnexpectedMessage"),unraid_error_no_active_raid:Object(k.d)("You do not have an active raid.","UnraidErrorNoActiveRaidMessage"),raid_notice_restricted_chat:Object(k.d)("This channel has follower or subscriber only chat.","RaidNoticeRestrictedChatMessage"),raid_notice_mature:Object(k.d)("This channel is intended for mature audiences.","RaidNoticeMatureMessage"),raid_notice_owner:Object(k.d)("This channel has started a raid, type {unraidCommand} if you want to cancel.",{unraidCommand:"/unraid"},"RaidNoticeOwnerMessage")}}je.displayName="HostNoticeLine";var Pe=function(e){return r.createElement("span",null,Re()[e.message.msgid])};Pe.displayName="RaidNoticeLine";var Fe=t("yR8l"),Le=t("+kC+"),Ae=t("cr+I"),Ue=Object(d.d)(Object(Fe.a)(Le,{options:function(e){return{variables:{login:e.channelLogin}}}}))((function(e){var n=e.data;if(n.loading)return null;var t=null;if(!n.error&&n.user&&n.user.subscriptionProducts&&n.user.subscriptionProducts.length>0){var i=n.user.subscriptionProducts.find((function(e){return!!e&&!!e.url}));i&&(t=i.url)}if(!t)return r.createElement(f.a,null,Object(k.d)("This room is in subscribers only mode.","SubsOnlyUpsellLine"));var a=r.createElement(Oe.a,{targetBlank:!0,linkTo:t+"?"+Ae.stringify({ref:"subscriber_only_mode_chat"})},t);return r.createElement(f.a,null,Object(k.d)("This room is in subscribers only mode. To talk, purchase a channel subscription at {productLink}",{productLink:a},"SubsOnlyUpsellLine"))})),xe="timeout_success",Be="untimeout_success",Ve="ban_success",qe="unban_success",Ge="delete_message_success",He=function(e){var n=e.message;if(function(e){return e.msgid in Re()}(n))return r.createElement(f.a,{className:"chat-line__status"},r.createElement(Pe,{message:n}));if(function(e){return e.msgid in Ie(e.message)}(n))return r.createElement(f.a,{className:"chat-line__status"},r.createElement(je,{message:n}));switch(n.msgid){case"msg_subsonly":return r.createElement(f.a,{className:"chat-line__status"},r.createElement(Ue,{channelLogin:e.channelLogin}));case Ne.Kickback:case Ne.Enabled:case Ne.Disabled:case Ne.AlreadyEnabled:case Ne.AlreadyDisabled:return r.createElement(f.a,{className:"chat-line__status"},r.createElement(Me,{type:n.msgid}))}if(e.isCurrentUserModerator)switch(n.msgid){case Ge:case xe:case Ve:return null;case Be:case qe:if(e.showModerationActions)return null}return r.createElement(f.a,{className:"chat-line__status"},n.message)};He.displayName="NoticeLine";var We=function(e){var n=Object(k.d)("{receiver} received a {giftName} from the Community Gift Chest, courtesy of {sender}!",{receiver:r.createElement(g.a,{bold:!0,type:g.e.Span},e.event.receiver),giftName:e.event.giftName,sender:r.createElement(g.a,{bold:!0,type:g.e.Span},e.event.sender)},"PrimeCommunityGiftReceivedNoticeLine");return r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,n)))};We.displayName="PrimePaidUpgradeNoticeLine";var ze=t("3Bft"),Qe=t("+GjP"),Ye=t("2xye"),Ke=t("j3KY"),$e=t("Rjl4"),Xe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.referralID=Object($e.e)(),n.onTryPrimeClick=function(){Object($e.t)({tp_refcode:n.referralID,medium:Ye.PageviewMedium.Chat,content:Ye.PageviewContent.TwitchPrimeSubNotification,tp_campaign:$e.b.TrackingAlpha})},n}return Object(a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.channel,t=e.reference,i=e.text,a=Object(Qe.g)("https://gaming.amazon.com/",{ingress:Ke.b,reference:t,channel:n,twitchReferral:this.referralID});return r.createElement(Oe.a,{onClick:this.onTryPrimeClick,className:"chat-line__message--link",linkTo:a,targetBlank:!0,rel:"noopener"},i)},n}(r.PureComponent),Ze=function(e){var n=r.createElement(f.a,{display:w.h.Block},r.createElement(C.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:E.b.chat_message},r.createElement(g.a,{color:w.f.Link},Object(S.a)(e.event.user.username,e.event.user.displayName)))),t=null;return t=e.event.plan===ze.a.Custom?Object(k.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:prime-gaming-link>Prime Gaming</x:prime-gaming-link> sub to a Paid sub!",{userLogin:n,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span},e)},"x:prime-gaming-link":function(n){return Je(e.event.channel,"primetopaid",n)}},"PrimePaidUpgradeNoticeLine"):Object(k.d)("{userLogin} <x:strong>Converted</x:strong> from a <x:prime-gaming-link>Prime Gaming</x:prime-gaming-link> sub to a Tier {tierNumber} sub!",{tierNumber:Object(I.b)(e.event.plan)||1,userLogin:n,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span},e)},"x:prime-gaming-link":function(n){return Je(e.event.channel,"primetopaid",n)}},"PrimePaidUpgradeNoticeLine"),r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2},r.createElement(_.a,{asset:N.a.Star})),r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,t)))},Je=function(e,n,t){return r.createElement(Xe,{channel:e,reference:n,text:t})};Ze.displayName="PrimePaidUpgradeNoticeLine";var en=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(f.a,{display:w.h.Flex,justifyContent:w.m.Between},r.createElement(f.a,{alignItems:w.b.Start},r.createElement(Ze,{event:e.message})),r.createElement(f.a,{alignItems:w.b.End},e.moderationIcons)))};en.displayName="PrimePaidUpgradeLine";var nn=function(e){return r.createElement(f.a,{className:"chat-line__status"},Object(p.i)(e.message))};nn.displayName="R9KModeLine";var tn=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(g.a,{color:w.f.Alt2},Object(k.d)("The raid has been cancelled.","RaidCancelMessage")))};tn.displayName="RaidCanceledLine";var an=t("iF2L"),rn=t("OvAg"),on=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e=this.props.message.params,n=this.props.data,t=n.channel,i=n.loading,a=n.error;if(i||a||!t||!t.displayName)return null;var o=Object(k.d)("{displayName} is raiding with a party of {viewerCount}.",{displayName:r.createElement("strong",null,t.displayName),viewerCount:r.createElement("strong",null,e.viewerCount)},"RaidIncomingMessage");return r.createElement(f.a,{display:w.h.Flex,alignItems:w.b.Center},r.createElement(an.a,{alt:t.displayName,src:t.profileImageURL,userLogin:t.login,size:30}),r.createElement(f.a,{color:w.f.Base,margin:{left:1}},o))},n}(r.Component),sn=Object(Fe.a)(rn,{options:function(e){return{variables:{channelLogin:e.message.params.login}}}})(on),dn=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(sn,{message:e.message}))};dn.displayName="RaidLine";var cn=t("JiyE"),ln=(t("/HFR"),r.Children.only(N.b[N.a.Star].path.props.children)),un=function(e){return r.createElement("svg",{className:"animated-tier-star animated-tier-star--tier-"+e.tier+" "+(e.className||""),viewBox:"0 0 20 20",width:"20",height:"20",overflow:"visible"},r.createElement("defs",null,r.createElement("linearGradient",{x1:"0%",x2:"100%",y1:"0%",y2:"100%",id:"swipe-gradient"},r.createElement("stop",{offset:"0%","stop-color":cn.a.TwitchPurple}),r.createElement("stop",{offset:"100%","stop-color":cn.a.Purple12})),r.createElement("clipPath",{id:"star-mask",className:"animated-tier-star__star-mask"},ln)),r.createElement("g",{className:"animated-tier-star__star"},ln),r.createElement("g",{width:"20",height:"20",className:"animated-tier-star__swipe-mask",clipPath:"url(#star-mask)"},r.createElement("g",{className:"animated-tier-star__swipe-group"},r.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--1",fill:"url(#swipe-gradient)"}),r.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--2",fill:"url(#swipe-gradient)"}),r.createElement("rect",{className:"animated-tier-star__swipe animated-tier-star__swipe--3",fill:"url(#swipe-gradient)"}))))};function mn(e){var n=e.methods.prime?r.createElement(_.a,{asset:N.a.CrownFilled,type:_.b.Brand}):r.createElement(_.a,{asset:N.a.Star});switch(e.methods.plan){case ze.b.Tier2:n=r.createElement(un,{tier:2});break;case ze.b.Tier3:n=r.createElement(un,{tier:3})}return n}var pn=t("IyK4"),hn=function(e){var n,t=r.createElement(pn.a,{display:w.h.Block,key:"chatter-name"},r.createElement("span",null,r.createElement(C.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:E.b.chat_message},r.createElement(g.a,{color:w.f.Link,type:g.e.Span},Object(S.a)(e.event.user.username,e.event.user.displayName))))),i=null,a=Object(k.d)("{streak, plural, one {currently on a {streak} month streak!} other {currently on a {streak} month streak!}}",{streak:e.event.streakMonths||0},"ResubNoticeV2Line");if(e.event.wasGift&&e.event.multiMonthGiftInfo&&e.event.multiMonthGiftInfo.giftMonthBeingRedeemed>0&&e.event.multiMonthGiftInfo.giftedMonths>1)if(e.event.multiMonthGiftInfo.anonGift)i=Object(k.d)("{giftedMonths, plural, one {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of <x:strong>anonymous</x:strong> has entered month {monthNumber}.}other {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of <x:strong>anonymous</x:strong> has entered month {monthNumber}.}}",{userLogin:t,giftedMonths:e.event.multiMonthGiftInfo.giftedMonths,monthNumber:e.event.multiMonthGiftInfo.giftMonthBeingRedeemed,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line");else{var o=r.createElement(C.a,{contentID:e.event.multiMonthGiftInfo.gifterId,login:e.event.multiMonthGiftInfo.gifterLogin,sourceType:E.b.chat_message},Object(S.a)(e.event.multiMonthGiftInfo.gifterLogin,e.event.multiMonthGiftInfo.gifterName));i=Object(k.d)("{giftedMonths, plural, one {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of {gifterButton} has entered month {monthNumber}.}other {{userLogin} {giftedMonths} month <x:strong>Gift Subscription</x:strong> courtesy of {gifterButton} has entered month {monthNumber}.}}",{gifterButton:o,userLogin:t,giftedMonths:e.event.multiMonthGiftInfo.giftedMonths,monthNumber:e.event.multiMonthGiftInfo.giftMonthBeingRedeemed,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line")}else if(e.event.multiMonthInfo&&e.event.multiMonthInfo.multiMonthDuration>1&&0===e.event.multiMonthInfo.multiMonthTenure){var s=Object(k.d)("{multiMonths, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} month in advance.}other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} months in advance.}}",{tierNumber:Object(I.b)(e.event.methods.plan)||1,userLogin:t,multiMonths:null===(n=e.event.multiMonthInfo)||void 0===n?void 0:n.multiMonthDuration,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line"),d=void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(k.d)("{cumulative, plural, one {They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,streakMessage:a,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line"):Object(k.d)("{cumulative, plural, one {They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line");i=r.createElement(r.Fragment,null,s," ",d)}else i=e.event.methods.prime?e.event.cumulativeMonths<2?Object(k.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>",{userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:"text"},e)},"x:prime-gaming-link":function(n){return fn(e.event.channel,"resubscription",n)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(k.d)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,userLogin:t,streakMessage:a,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)},"x:prime-gaming-link":function(n){return fn(e.event.channel,"resubscription",n)}},"ResubNoticeV2Line"):Object(k.d)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>. They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)},"x:prime-gaming-link":function(n){return fn(e.event.channel,"resubscription",n)}},"ResubNoticeV2Line"):e.event.methods.plan!==ze.a.Custom?e.event.cumulativeMonths<2?Object(k.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}.",{tierNumber:Object(I.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:"text"},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(k.d)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,tierNumber:Object(I.b)(e.event.methods.plan)||1,userLogin:t,streakMessage:a,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line"):Object(k.d)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}. They've subscribed for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,tierNumber:Object(I.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line"):e.event.cumulativeMonths<2?Object(k.d)("{userLogin} <x:strong>Subscribed</x:strong>.",{userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:"text"},e)}},"ResubNoticeV2Line"):e.event.shouldShareStreakTenure&&void 0!==e.event.streakMonths&&e.event.streakMonths>0?Object(k.d)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} month</x:strong>, {streakMessage}} other {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>, {streakMessage}}}",{cumulative:e.event.cumulativeMonths,userLogin:t,streakMessage:a,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line"):Object(k.d)("{cumulative, plural, one {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} month</x:strong>!} other {{userLogin} <x:strong>Subscribed</x:strong> for <x:strong>{cumulative} months</x:strong>!}}",{cumulative:e.event.cumulativeMonths,userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"ResubNoticeV2Line");var c=mn(e.event);return r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2},c),r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,i)))},fn=function(e,n,t){return r.createElement(Xe,{channel:e,reference:n,text:t})};hn.displayName="ResubNoticeV2Line";var gn=function(e){var n=e.message,t=null;return n.message&&(t=r.createElement(L.a,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay})),r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(f.a,{display:w.h.Flex,justifyContent:w.m.Between},r.createElement(hn,{event:n}),!t&&r.createElement(f.a,{alignItems:w.b.End},e.moderationIcons)),t&&r.createElement(f.a,{margin:{top:.5}},t))};gn.displayName="ResubLine";var vn=t("Uh2Q"),bn=function(e){if(!(e.event.messageID&&e.event.userLogin&&e.event.displayName))return null;var n=r.createElement(C.a,{contentID:e.event.messageID,login:e.event.userLogin,sourceType:e.event.sourceType},e.event.displayName),t=Object(k.d)("{count} emotes shared!",{count:e.event.totalRewardCount},"RewardGiftNoticeLine"),i=function(e,n,t){switch(e){case vn.a.Subscription:return Object(k.d)("{selectedCount, plural, one {{gifterButton}'s Sub shared rewards to {selectedCount} other in chat.} other {{gifterButton}'s Sub shared rewards to {selectedCount} others in chat.}}",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLineUpdate");case vn.a.SubGift:return Object(k.d)("{gifterButton}'s Gift shared rewards to {selectedCount} others in chat.",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLine");case vn.a.Cheer:default:return Object(k.d)("{gifterButton}'s Cheer shared rewards to {selectedCount} others in chat.",{gifterButton:n,selectedCount:t},"RewardGiftNoticeLine")}}(e.event.triggerType,n,e.event.selectedCount),a=function(e){switch(e){case vn.a.Subscription:return N.a.Star;case vn.a.SubGift:return N.a.Gift;case vn.a.Cheer:default:return N.a.Bits}}(e.event.triggerType);return r.createElement(f.a,{className:"reward-gift-user-notice",margin:{y:.5}},r.createElement(f.a,{display:w.h.Flex,alignItems:w.b.Start},r.createElement(f.a,{color:w.f.Alt2,margin:{right:.5}},r.createElement(_.a,{asset:a})),r.createElement(f.a,null,r.createElement(g.a,{bold:!0,color:w.f.Link},t),r.createElement(g.a,{color:w.f.Alt2},i))))};var yn=function(e){var n=e.event.message,t=n.user.isIntl?n.user.userDisplayName+" ("+n.user.userLogin+")":n.user.userDisplayName,i=Object(k.d)("{user} is new here. Say hello!",{user:r.createElement(C.a,{contentID:n.id,login:n.user.userLogin,sourceType:E.b.chat_message},"@",t)},"NewChatterRitual");return r.createElement(f.a,{color:w.f.Alt2},i)};yn.displayName="RitualNoticeLine";var kn=function(e){var n=e.message;return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(yn,{event:n}),r.createElement(L.a,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,className:"chat-line--inline",currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay}))};kn.displayName="RitualLine";var Sn=function(e){return r.createElement(f.a,{className:"chat-line__status"},Object(p.j)(e.message.moderatorLogins))};Sn.displayName="RoomModsLine";var Cn=function(e){return r.createElement(f.a,{className:"chat-line__status"},Object(p.k)(e.message))};Cn.displayName="SlowModeLine";var En=function(e){var n=e.event,t=r.createElement(C.a,{contentID:n.user.id,login:n.user.username,sourceType:E.b.chat_message},Object(S.a)(n.user.username,n.user.displayName)),i=r.createElement(C.a,{contentID:n.user.id,login:n.recipientLogin,sourceType:E.b.chat_message},Object(S.a)(n.recipientLogin,n.recipientDisplayName)),a=null;return a="custom"===n.methods.plan?function(e,n,t,i){return i>1?1===t?Object(k.d)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} gifted # months to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):t>1?Object(k.d)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} gifted # months to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):Object(k.d)("{giftMonths, plural, one {{gifterButton} gifted # month to {recipientButton}!} other {{gifterButton} gifted # months to {recipientButton}!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):1===t?Object(k.d)("{gifterButton} gifted a Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine"):t>1?Object(k.d)("{gifterButton} gifted a Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):Object(k.d)("{gifterButton} gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine")}(t,i,n.senderCount,n.giftMonths):function(e,n,t,i,a){return a>1?1===t?Object(k.d)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):t>1?Object(k.d)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):Object(k.d)("{giftMonths, plural, one {{gifterButton} gifted # month of Tier {tierNumber} to {recipientButton}!} other {{gifterButton} gifted # months of Tier {tierNumber} to {recipientButton}!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):1===t?Object(k.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine"):t>1?Object(k.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t,tierNumber:i},"SubGiftNoticeLine"):Object(k.d)("{gifterButton} gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine")}(t,i,n.senderCount,Object(I.b)(n.methods.plan)||1,n.giftMonths),r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},a)};En.displayName="SubGiftNoticeLine";var wn=function(e){var n=e.event,t=r.createElement(pn.a,{display:w.h.Block},r.createElement("span",null,r.createElement(C.a,{contentID:n.user.id,login:n.user.username,sourceType:E.b.chat_message},r.createElement(g.a,{color:w.f.Link,type:g.e.Span},Object(S.a)(n.user.username,n.user.displayName))))),i=r.createElement(C.a,{contentID:n.user.id,login:n.recipientLogin,sourceType:E.b.chat_message},Object(S.a)(n.recipientLogin,n.recipientDisplayName)),a=null;return a="custom"===n.methods.plan?function(e,n,t,i){return i>1?1===t?Object(k.d)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} Gifted # months to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):t>1?Object(k.d)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} Gifted # months to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):Object(k.d)("{giftMonths, plural, one {{gifterButton} Gifted # month to {recipientButton}!} other {{gifterButton} Gifted # months to {recipientButton}!}}",{gifterButton:e,giftMonths:i,recipientButton:n},"SubGiftNoticeLine"):1===t?Object(k.d)("{gifterButton} Gifted a Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine"):t>1?Object(k.d)("{gifterButton} Gifted a Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):Object(k.d)("{gifterButton} Gifted a subscription to {recipientButton}!",{gifterButton:e,recipientButton:n},"SubGiftNoticeLine")}(t,i,n.senderCount,n.giftMonths):function(e,n,t,i,a){return a>1?1===t?Object(k.d)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}! It's their first Gift Sub in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):t>1?Object(k.d)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}! They've given {senderCount} Gift Subs in the channel!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n,senderCount:t},"SubGiftNoticeLine"):Object(k.d)("{giftMonths, plural, one {{gifterButton} Gifted # month of Tier {tierNumber} to {recipientButton}!} other {{gifterButton} Gifted # months of Tier {tierNumber} to {recipientButton}!}}",{gifterButton:e,giftMonths:a,tierNumber:i,recipientButton:n},"SubGiftNoticeLine"):1===t?Object(k.d)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}! It's their first Gift Sub in the channel!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine"):t>1?Object(k.d)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}! They've given {senderCount} Gift Subs in the channel!",{gifterButton:e,recipientButton:n,senderCount:t,tierNumber:i},"SubGiftNoticeLine"):Object(k.d)("{gifterButton} Gifted a Tier {tierNumber} Sub to {recipientButton}!",{gifterButton:e,recipientButton:n,tierNumber:i},"SubGiftNoticeLine")}(t,i,n.senderCount,Object(I.b)(n.methods.plan)||1,n.giftMonths),r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2},r.createElement(_.a,{asset:N.a.Gift,type:_.b.Alt})),r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,a)))};wn.displayName="SubGiftNoticeLine";var _n=function(e){var n=e.message,t="experiment"===k.p.experiments.getAndTrackAssignment("gifting_user_notice_standardization");if("274598607"===n.user.userID){var i={channel:n.channel,giftMonths:n.giftMonths,id:n.id,methods:n.methods,recipientDisplayName:n.recipientDisplayName,recipientID:n.recipientID,recipientLogin:n.recipientLogin,type:y.b.AnonSubGift};return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(T,{event:i}))}return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},e.moderationIcons,t?r.createElement(wn,{event:n}):r.createElement(En,{event:n}))};_n.displayName="SubGiftLine";var Nn=function(e){var n=e.event,t=r.createElement(C.a,{contentID:n.user.id,login:n.user.username,sourceType:E.b.chat_message},Object(S.a)(n.user.username,n.user.displayName)),i=null;return i="custom"===n.plan?function(e,n,t,i){return 1===i?Object(k.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine"):i>1?Object(k.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i},"SubMysteryGiftNoticeLine"):Object(k.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount):function(e,n,t,i,a){return 1===i?Object(k.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine"):i>1?Object(k.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):Object(k.d)("{massGiftCount, plural, one {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount,Object(I.b)(n.plan)||1),r.createElement(g.a,{color:w.f.Alt2,type:g.e.Span},i)};Nn.displayName="SubMysteryGiftNoticeLine";var On=function(e){var n=e.event,t=r.createElement(pn.a,{display:w.h.Block},r.createElement("span",null,r.createElement(C.a,{contentID:n.user.id,login:n.user.username,sourceType:E.b.chat_message},r.createElement(g.a,{color:w.f.Link,type:g.e.Span},Object(S.a)(n.user.username,n.user.displayName))))),i=null;return i="custom"===n.plan?function(e,n,t,i){return 1===i?Object(k.d)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine"):i>1?Object(k.d)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i},"SubMysteryGiftNoticeLine"):Object(k.d)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Sub to {channel}'s community!} other {{gifterButton} Is gifting {massGiftCount} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount):function(e,n,t,i,a){return 1===i?Object(k.d)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. It's their first Gift Sub in the channel!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. It's their first Gift Sub in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine"):i>1?Object(k.d)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community. They've gifted a total of {senderCount} in the channel!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community. They've gifted a total of {senderCount} in the channel!}}",{channel:n,gifterButton:e,massGiftCount:t,senderCount:i,tierNumber:a},"SubMysteryGiftNoticeLine"):Object(k.d)("{massGiftCount, plural, one {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Sub to {channel}'s community!} other {{gifterButton} Is gifting {massGiftCount} Tier {tierNumber} Subs to {channel}'s community!}}",{channel:n,gifterButton:e,massGiftCount:t,tierNumber:a},"SubMysteryGiftNoticeLine")}(t,n.channel,n.massGiftCount,n.senderCount,Object(I.b)(n.plan)||1),r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2},r.createElement(_.a,{asset:N.a.Gift,type:_.b.Alt})),r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,i)))};On.displayName="SubMysteryGiftNoticeLine";var Dn=function(e){var n=e.message,t="experiment"===k.p.experiments.getAndTrackAssignment("gifting_user_notice_standardization");if("274598607"===n.user.userID){var i={type:y.b.AnonSubMysteryGift,id:n.id,channel:n.channel,plan:n.plan,massGiftCount:n.massGiftCount};return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(R,{event:i}))}return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},e.moderationIcons,t?r.createElement(On,{event:n}):r.createElement(Nn,{event:n}))};Dn.displayName="SubMysteryGiftLine";var Mn=function(e){return r.createElement(f.a,{className:"chat-line__status"},Object(p.l)(e.message))};Mn.displayName="SubOnlyModeLine";var In=function(e){var n,t=r.createElement(pn.a,{display:w.h.Block,key:"chatter-name"},r.createElement("span",null,r.createElement(C.a,{contentID:e.event.user.id,login:e.event.user.username,sourceType:E.b.chat_message},r.createElement(g.a,{color:w.f.Link,type:g.e.Span},Object(S.a)(e.event.user.username,e.event.user.displayName))))),i=null;i=e.event.methods.prime?Object(k.d)("{userLogin} <x:strong>Subscribed</x:strong> with <x:prime-gaming-link>Prime</x:prime-gaming-link>",{userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:"text"},e)},"x:prime-gaming-link":function(n){return Tn(e.event.channel,"subscription",n)}},"SubNoticeV2Line"):e.event.methods.plan===ze.a.Custom?Object(k.d)("{userLogin} <x:strong>Subscribed</x:strong>",{userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:"text"},e)}},"SubNoticeV2Line"):e.event.multiMonthInfo&&e.event.multiMonthInfo.multiMonthDuration>1&&0===e.event.multiMonthInfo.multiMonthTenure?Object(k.d)("{multiMonths, plural, one {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} month in advance.}other {{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber} for {multiMonths} months in advance.}}",{tierNumber:Object(I.b)(e.event.methods.plan)||1,userLogin:t,multiMonths:null===(n=e.event.multiMonthInfo)||void 0===n?void 0:n.multiMonthDuration,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:e},e)}},"SubNoticeV2Line"):Object(k.d)("{userLogin} <x:strong>Subscribed</x:strong> at Tier {tierNumber}",{tierNumber:Object(I.b)(e.event.methods.plan)||1,userLogin:t,"x:strong":function(e){return r.createElement(g.a,{bold:!0,type:g.e.Span,key:"text"},e)}},"SubNoticeV2Line");var a=mn(e.event);return r.createElement(f.a,{display:w.h.Flex},r.createElement(f.a,{color:w.f.Alt2},a),r.createElement(f.a,{margin:{left:.5}},r.createElement(g.a,null,i)))},Tn=function(e,n,t){return r.createElement(Xe,{channel:e,reference:n,text:t})};In.displayName="SubNoticeV2Line";var jn=function(e){return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(f.a,{display:w.h.Flex,justifyContent:w.m.Between},r.createElement(f.a,{alignItems:w.b.Start},r.createElement(In,{event:e.message})),r.createElement(f.a,{alignItems:w.b.End},e.moderationIcons)))};jn.displayName="SubscriptionLine";var Rn=t("0Log"),Pn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.render=function(){var e=this.props.targetedModerationActionEvent,n=null;switch(e.targetedModerationActionType){case Rn.TargetedModerationActions.DeleteNotification:var t=e.messageBody||"";n=r.createElement(Ce.a,{messageBody:t,targetIsCurrentUser:!0})}return n?r.createElement(f.a,{className:"chat-line__status"},r.createElement(g.a,{type:g.e.Span},n)):null},n}(r.Component),Fn=function(e){return e.isCurrentUserModerator?null:r.createElement(Pn,{targetedModerationActionEvent:e.targetedModerationActionEvent})},Ln=function(){return r.createElement(f.a,{className:"chat-line__status"},r.createElement(g.a,{type:g.e.Span},Object(k.d)("No longer hosting.","ChatLine")))};Ln.displayName="UnhostLine";var An=t("6wGa"),Un=(t("NWfm"),function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(n,e),n.prototype.shouldComponentUpdate=function(e){var n;if(e.isCurrentUserModerator!==this.props.isCurrentUserModerator)return!0;if(e.showModerationIcons!==this.props.showModerationIcons)return!0;if(e.showTimestamps!==this.props.showTimestamps)return!0;if(e.useHighContrastColors!==this.props.useHighContrastColors)return!0;if(e.theme!==this.props.theme)return!0;if(e.repliesAppearancePreference!==this.props.repliesAppearancePreference)return!0;if(e.badgeSets!==this.props.badgeSets)return!0;switch(e.message.type){case y.b.Message:if(e.message.deleted||(null===(n=e.message.reply)||void 0===n?void 0:n.parentDeleted))return!0;break;case y.b.ChannelPointsReward:case y.b.Resubscription:case y.b.Ritual:if(e.message.message&&e.message.message.deleted)return!0;break;case y.b.AutoMod:if(e.message.autoModType===y.a.MessageRejectedPrompt&&(e.showAutoModActions!==this.props.showAutoModActions||e.message.rejectedMessage.deleted))return!0;break;case y.b.Hosting:case y.b.Unhost:case y.b.SlowMode:case y.b.SubscriberOnlyMode:case y.b.FollowerOnlyMode:case y.b.EmoteOnlyMode:case y.b.R9KMode:case y.b.Clear:case y.b.Unraid:case y.b.Notice:case y.b.ModerationAction:if(e.showModerationActions!==this.props.showModerationActions)return!0;break;case y.b.Moderation:if(e.showModerationActions!==this.props.showModerationActions||e.deletedMessageDisplay!==this.props.deletedMessageDisplay)return!0}return!1},n.prototype.render=function(){var e=this.props,n=e.message,t=null;if(e.isCurrentUserModerator){if(e.showModerationActions)switch(n.type){case y.b.Hosting:case y.b.Unhost:case y.b.SlowMode:case y.b.SubscriberOnlyMode:case y.b.FollowerOnlyMode:case y.b.EmoteOnlyMode:case y.b.R9KMode:case y.b.Clear:case y.b.Unraid:return null}if(e.showModerationIcons&&e.channelID)switch(n.type){case y.b.Subscription:case y.b.SubGift:case y.b.SubMysteryGift:case y.b.Resubscription:case y.b.GiftPaidUpgrade:case y.b.AnonGiftPaidUpgrade:case y.b.PrimePaidUpgrade:case y.b.CommunityPayForward:case y.b.StandardPayForward:t=r.createElement(An.a,{canDelete:!0,channelID:e.channelID,renderNewVersion:!0,senderLogin:n.user.username,targetUserID:n.user.userID})}}switch(n.type){case y.b.AutoMod:return r.createElement(o.d,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showAutoModActions:e.showAutoModActions,showModerationIcons:e.showModerationIcons,theme:e.theme,useHighContrastColors:!!e.useHighContrastColors});case y.b.ModerationAction:return r.createElement(we,{currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,moderationActionEvent:n,showModerationActions:e.showModerationActions});case y.b.TargetedModerationAction:return r.createElement(Fn,{isCurrentUserModerator:e.isCurrentUserModerator,targetedModerationActionEvent:n});case y.b.Connected:return r.createElement(Q,null);case y.b.Disconnected:return r.createElement(Y,{message:n});case y.b.Hosting:return r.createElement(oe,{message:n});case y.b.Unhost:return r.createElement(Ln,null);case y.b.LiveMessageSeparator:return r.createElement(ye,null);case y.b.Message:return e.onRenderReportChatSent&&n.user.userLogin===e.currentUserLogin&&e.onRenderReportChatSent(),r.createElement(L.a,{channelID:e.channelID,channelLogin:e.channelLogin,badgeSets:e.badgeSets,message:n,isDeleted:n.deleted,isHidden:n.hidden,reply:n.reply,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isHistorical:n.isHistorical,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,confirmModerationAction:e.confirmModerationAction,theme:e.theme,deletedCount:n.deletedCount,hideBroadcasterTooltip:e.hideBroadcasterTooltip,repliesAppearancePreference:e.repliesAppearancePreference});case y.b.FirstCheerMessage:return r.createElement(ee,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case y.b.BitsBadgeTierMessage:return r.createElement(A,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case y.b.Moderation:return r.createElement(_e,{deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showModerationActions:e.showModerationActions});case y.b.Subscription:return r.createElement(jn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.SubGift:return r.createElement(_n,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.AnonSubGift:return r.createElement(j,{message:n,primaryColorHex:e.primaryColorHex});case y.b.SubMysteryGift:return r.createElement(Dn,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.AnonSubMysteryGift:return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(R,{event:n}));case y.b.CommunityPayForward:case y.b.StandardPayForward:return r.createElement(re,{event:n,moderationIcons:t});case y.b.RewardGift:return r.createElement(D.a,{primaryColorHex:e.primaryColorHex},r.createElement(bn,{event:n}));case y.b.BitsCharity:return r.createElement(U,{message:n});case y.b.Resubscription:return r.createElement(gn,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case y.b.GiftPaidUpgrade:return r.createElement(ie,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.AnonGiftPaidUpgrade:return r.createElement(M,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.PrimeCommunityGiftReceivedEvent:return r.createElement(D.a,{primaryColorHex:this.props.primaryColorHex},r.createElement(We,{event:n}));case y.b.PrimePaidUpgrade:return r.createElement(en,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.ExtendSubscription:return r.createElement(Z,{message:n,moderationIcons:t,primaryColorHex:e.primaryColorHex});case y.b.RoomMods:return r.createElement(Sn,{message:n});case y.b.SlowMode:return r.createElement(Cn,{message:n});case y.b.SubscriberOnlyMode:return r.createElement(Mn,{message:n});case y.b.FollowerOnlyMode:return r.createElement(ne,{message:n});case y.b.EmoteOnlyMode:return r.createElement($,{message:n});case y.b.R9KMode:return r.createElement(nn,{message:n});case y.b.Clear:return r.createElement(z,null);case y.b.Notice:return r.createElement(He,{channelLogin:e.channelLogin,isCurrentUserModerator:e.isCurrentUserModerator,message:n,showModerationActions:e.showModerationActions});case y.b.Info:return r.createElement(f.a,{className:"chat-line__status"},n.message);case y.b.InlinePrivateCallout:return r.createElement(ve,{event:n,channelID:e.channelID,channelLogin:e.channelLogin,currentUserLogin:e.currentUserLogin,currentUserID:e.currentUserID,messageIndex:e.messageIndex});case y.b.Raid:return r.createElement(dn,{message:n,primaryColorHex:e.primaryColorHex});case y.b.Unraid:return r.createElement(tn,{primaryColorHex:e.primaryColorHex});case y.b.Ritual:return r.createElement(kn,{badgeSets:e.badgeSets,channelID:e.channelID,channelLogin:e.channelLogin,confirmModerationAction:e.confirmModerationAction,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,deletedMessageDisplay:e.deletedMessageDisplay,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,message:n,primaryColorHex:e.primaryColorHex,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors});case y.b.ExtensionMessage:return r.createElement(b,{badgeSets:e.badgeSets,channelID:e.channelID,currentUserLogin:e.currentUserLogin,message:n,showTimestamps:e.showTimestamps});case y.b.ChannelPointsReward:return r.createElement(W,{event:n,primaryColorHex:e.primaryColorHex},n.message&&r.createElement(L.a,{badgeSets:e.badgeSets,confirmModerationAction:e.confirmModerationAction,channelID:e.channelID,channelLogin:e.channelLogin,currentUserID:e.currentUserID,currentUserDisplayName:e.currentUserDisplayName,currentUserLogin:e.currentUserLogin,isCurrentUserModerator:e.isCurrentUserModerator,isCurrentUserStaff:e.isCurrentUserStaff,isDeleted:n.message.deleted,isHidden:n.message.hidden,message:n.message,showModerationIcons:e.showModerationIcons,showTimestamps:e.showTimestamps,useHighContrastColors:!!e.useHighContrastColors,deletedMessageDisplay:e.deletedMessageDisplay,repliesAppearancePreference:e.repliesAppearancePreference}));case y.b.CommunityChallengeContribution:return r.createElement(K,{channelLogin:e.channelLogin,event:n,primaryColorHex:e.primaryColorHex});case y.b.CelebrationPurchase:return r.createElement(B,{message:n,primaryColorHex:e.primaryColorHex});default:return null}},n}(r.Component))},Y3y8:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return l}));var i=t("w09P"),a=t("yR8l"),r=t("eDVu"),o=t("0Log"),s=t("/aPz"),d=t("/gva");function c(){return Object(a.a)(d,{name:"currentUserBannedStatusData",options:function(e){var n;return{variables:{channelLogin:null!==(n=e.channelLogin)&&void 0!==n?n:""}}},skip:function(e){return!e.channelLogin||!e.firstPageLoaded}})}function l(){return Object(r.a)((function(e){return{variables:{channelLogin:e.channelLogin},query:d,skip:!e.sessionUser||!e.channelID||!e.firstPageLoaded,topic:e.sessionUser&&e.channelID?Object(s.q)(""+(e.sessionUser&&e.sessionUser.id)):"",type:o.PubsubMessageType.ChatRoomsUserModAction,mutator:function(n,t){return e.sessionUser&&e.channelID&&t.channel&&t.channel.self&&n.data.target_id===e.sessionUser.id&&n.data.channel_id===e.channelID&&("ban"===n.data.action?t=i(t,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!0,expiresAt:n.data.expires_at||null,expiresInMs:n.data.expires_in_ms||null,__typename:"ChatRoomBanStatus"}})):"unban"===n.data.action?t=i(t,(function(e){return e.channel.self.banStatus}),(function(){return null})):"timeout"===n.data.action&&(t=i(t,(function(e){return e.channel.self.banStatus}),(function(){return{isPermanent:!1,expiresAt:n.data.expires_at||null,expiresInMs:n.data.expires_in_ms||null,__typename:"ChatRoomBanStatus"}})))),t}}}))}},Y8CJ:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return l}));var i,a=t("mrSG"),r=t("q1tI"),o=t("1rIY");!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.RECONNECTING=1]="RECONNECTING",e[e.CONNECTED=2]="CONNECTED"}(i||(i={}));var s=Object(o.a)("ChatConnectionStateContext",{chatConnectionState:i.DISCONNECTED,updateChatConnectionState:function(){return null}}),d=s.context,c=s.withContext,l=function(e){function n(n){var t=e.call(this,n)||this;return t.updateChatConnectionState=function(e){t.setState({chatConnectionState:e})},t.state={chatConnectionState:i.DISCONNECTED,updateChatConnectionState:t.updateChatConnectionState},t}return Object(a.__extends)(n,e),n.prototype.render=function(){return r.createElement(d.Provider,{value:this.state},this.props.children)},n}(r.Component)},YV90:function(e,n,t){"use strict";var i=t("ZaoE");t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return i.b}))},"YkT+":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsRewardRedemptionContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsUserFragment"},directives:[]}]}}]}}],loc:{start:0,end:215}};i.loc.source={body:'#import "twilight/features/community-points/models/user-fragment.gql"\nquery CommunityPointsRewardRedemptionContext($channelLogin: String!) {\ncommunity: user(login: $channelLogin) {\n...communityPointsUserFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("1mB7").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.CommunityPointsRewardRedemptionContext=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"CommunityPointsRewardRedemptionContext")},ZEQw:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"d",(function(){return r})),t.d(n,"a",(function(){return o}));var i="subscribe_to_channel",a="turbo",r="visit_url",o="broadcaster"},ZGDZ:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.SMALL=28]="SMALL",e[e.MEDIUM=56]="MEDIUM",e[e.LARGE=112]="LARGE"}(i||(i={}))},ZJzD:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"messageSender"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:187}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nfragment messageSender on User {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\n...badge\n}\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},ZUUl:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var i=t("4rCz");function a(e,n){return function(t,a){e({dispatch:t,getState:a},n,i.q.apollo.client)}}function r(e,n){return function(t,a){e({dispatch:t,getState:a},n,i.q.apollo.client,i.p)}}},ZVTe:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("TSYQ"),a=t("q1tI"),r=t("EE1E"),o=(t("2e6W"),function(e){var n,t=e.userData.color;e.highContrastUsernameColor&&t&&(t="#"+Object(r.a)(t,e.theme));var o=[a.createElement("span",{key:"username-display",className:"chat-author__display-name","data-a-target":"chat-message-username","data-a-user":e.userData.userLogin,"data-test-selector":"message-username",style:{color:t}},e.userData.userDisplayName)];if(e.userData.isIntl){var s=i(((n={})["chat-author__intl-login"]=!e.highlighted,n["chat-author__intl-login--highlighted"]=e.highlighted,n));o.push(a.createElement("span",{key:"username-login",style:{color:t},className:s,"data-test-selector":"message-username-canonical"}," ("+e.userData.userLogin+")"))}return a.createElement("span",{key:e.userData.userID+"-authorlabel"},o)})},ZaoE:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var i=t("1rIY"),a=Object(i.a)("ChannelPointsContext",{activeMultipliers:[],automaticRewards:[],balance:0,channelID:null,channelLogin:null,communityGoals:[],customRewards:[],displayName:null,emoteVariants:[],isChannelPointsEnabled:!1,isChannelPointsFeatureFlagOn:!1,isCurrentUserModerator:!1,isLoaded:!1,pointIcon:null,pointName:null,raidPointAmount:0,rewardMap:{},earning:null,userRedemptions:[],changedModificationIDs:new Set,changedRewardIDs:new Set}),r=a.context,o=a.withContext},Zb44:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestsSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unbanRequestsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownMinutes"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:131}};t.loc.source={body:"query UnbanRequestsSettings($channelID: ID!) {\nchannel(id: $channelID) {\nid\nunbanRequestsSettings {\nisEnabled\ncooldownMinutes\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnbanRequestsSettings=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnbanRequestsSettings")},ZhMv:function(e,n,t){},Zmj1:function(e,n,t){"use strict";t.d(n,"m",(function(){return u})),t.d(n,"g",(function(){return m})),t.d(n,"b",(function(){return p})),t.d(n,"h",(function(){return h})),t.d(n,"i",(function(){return f})),t.d(n,"d",(function(){return g})),t.d(n,"c",(function(){return v})),t.d(n,"j",(function(){return b})),t.d(n,"k",(function(){return y})),t.d(n,"l",(function(){return k})),t.d(n,"a",(function(){return S})),t.d(n,"e",(function(){return C})),t.d(n,"f",(function(){return E})),t.d(n,"n",(function(){return w})),t.d(n,"o",(function(){return _}));var i=t("mrSG"),a=t("w09P"),r=t("geRD"),o=t("qaaX"),s=t("q1g8"),d=t("8wAl"),c=t("LEe6"),l=t("xahZ");function u(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?a(e,(function(e){return e.community.channel.communityPointsSettings}),(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{image:n.data.settings.image?Object(d.d)(n.data.settings.image):null,isEnabled:n.data.settings.is_enabled,name:n.data.settings.name})})):e}function m(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.automaticRewards}),(function(e){return e.map((function(e){return e.type!==n.data.updated_reward.reward_type?e:Object(i.__assign)(Object(i.__assign)({},e),Object(d.a)(n.data.updated_reward))}))})):e}function p(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return Object(i.__spreadArrays)(e,[Object(d.b)(n.data.community_goal)])})):e}function h(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return e.map((function(e){return e.id!==n.data.community_goal.id?e:Object(i.__assign)(Object(i.__assign)({},e),Object(d.b)(n.data.community_goal))}))})):e}function f(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return e.map((function(e){return e.id!==n.data.contribution.goal.id?e:Object(i.__assign)(Object(i.__assign)({},e),Object(d.b)(n.data.contribution.goal))}))})):e}function g(e,n){var t,i,r;return(null===(r=null===(i=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.communityPointsSettings)||void 0===r?void 0:r.goals)?a(e,(function(e){return e.community.channel.communityPointsSettings.goals}),(function(e){return e.filter((function(e){return e.id!==n.data.community_goal.id}))})):e}function v(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return Object(i.__spreadArrays)(e,[Object(d.c)(n.data.new_reward)])})):e}function b(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.customRewards)?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.data.updated_reward.id?e:Object(i.__assign)(Object(i.__assign)({},e),Object(d.c)(n.data.updated_reward))}))})):e}function y(e,n){var t,r,o;return(null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.communityPointsSettings)||void 0===o?void 0:o.customRewards)?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.data.redemption.reward.id?e:Object(i.__assign)(Object(i.__assign)({},e),{redemptionsRedeemedCurrentStream:n.data.redemption.reward.redemptions_redeemed_current_stream})}))})):e}function k(e,n){var t,r,o,s;if(!(null===(s=null===(o=null===(r=null===(t=e.community)||void 0===t?void 0:t.channel)||void 0===r?void 0:r.self)||void 0===o?void 0:o.communityPoints)||void 0===s?void 0:s.userRedemptions))return e;if(!n.data.num_user_redemptions)return e;var d=n.data.redemption.reward.id;if(e.community.channel.self.communityPoints.userRedemptions.find((function(e){return e.reward.id===d})))return a(e,(function(e){return e.community.channel.self.communityPoints.userRedemptions}),(function(e){return e.map((function(e){return e.reward.id!==d?e:Object(i.__assign)(Object(i.__assign)({},e),{userRedemptionsCurrentStream:n.data.num_user_redemptions||0})}))}));var c={__typename:"CommunityPointsCustomRewardUserRedemption",reward:{__typename:"CommunityPointsCustomReward",id:d},userRedemptionsCurrentStream:n.data.num_user_redemptions};return a(e,(function(e){return e.community.channel.self.communityPoints.userRedemptions}),(function(e){return Object(i.__spreadArrays)(e,[c])}))}function S(e){var n,t,i,r;return(null===(r=null===(i=null===(t=null===(n=e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.communityPoints)||void 0===r?void 0:r.userRedemptions)?a(e,(function(e){return e.community.channel.self.communityPoints.userRedemptions}),(function(){return[]})):e}function C(e,n){return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.data.deleted_reward.id?e:Object(i.__assign)(Object(i.__assign)({},e),{isEnabled:!1})}))})):e}function E(e,n,t){var i,r,o;if(!(null===(o=null===(r=null===(i=null==e?void 0:e.community)||void 0===i?void 0:i.channel)||void 0===r?void 0:r.self)||void 0===o?void 0:o.communityPoints)||n.data.channel_last_viewed_content.user_id!==t||n.data.channel_last_viewed_content.channel_id!==e.community.channel.id)return e;var s=[];return n.data.channel_last_viewed_content&&(s=n.data.channel_last_viewed_content.last_viewed_content.map((function(e){return{__typename:"CommunityPointsLastViewedContentByType",contentType:e.content_type,lastViewedAt:e.last_viewed_at}}))),a(e,(function(e){return e.community.channel.self.communityPoints.lastViewedContent}),(function(){return s}))}function w(e,n,t){var i;if(!(null===(i=null==e?void 0:e.currentUser)||void 0===i?void 0:i.communityPoints)||n.data.global_last_viewed_content.user_id!==t)return e;var r=[];return n.data.global_last_viewed_content&&(r=n.data.global_last_viewed_content.last_viewed_content.map((function(e){return{__typename:"CommunityPointsLastViewedContentByTypeAndID",contentID:e.content_id,contentType:e.content_type,lastViewedAt:e.last_viewed_at}}))),a(e,(function(e){return e.currentUser.communityPoints.lastViewedContent}),(function(){return r}))}function _(e,n,t){Object(r.j)(l,{channelLogin:e,includeGoalTypes:Object(s.a)(o.b)},(function(e){return function(e,n,t){var r,o,s;return(null===(s=null===(o=null===(r=e.community)||void 0===r?void 0:r.channel)||void 0===o?void 0:o.communityPointsSettings)||void 0===s?void 0:s.customRewards)?a(e,(function(e){return e.community.channel.communityPointsSettings.customRewards}),(function(e){return e.map((function(e){return e.id!==n.id?e:Object(i.__assign)(Object(i.__assign)({},n),{isInStock:!(Object(c.b)(n)||n.maxPerStreamSetting.isEnabled&&!t)})}))})):e}(e,n,t)}))}},ZtEv:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return r})),t.d(n,"a",(function(){return o})),t.d(n,"f",(function(){return d}));var i,a,r,o,s=t("0Log");t.d(n,"d",(function(){return s.ModerationActions})),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Hosting=14]="Hosting",e[e.Unhost=15]="Unhost",e[e.Hosted=16]="Hosted",e[e.Subscription=17]="Subscription",e[e.Resubscription=18]="Resubscription",e[e.GiftPaidUpgrade=19]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=20]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=21]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=22]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=23]="ExtendSubscription",e[e.SubGift=24]="SubGift",e[e.AnonSubGift=25]="AnonSubGift",e[e.Clear=26]="Clear",e[e.RoomMods=27]="RoomMods",e[e.RoomState=28]="RoomState",e[e.Raid=29]="Raid",e[e.Unraid=30]="Unraid",e[e.Ritual=31]="Ritual",e[e.Notice=32]="Notice",e[e.Info=33]="Info",e[e.BadgesUpdated=34]="BadgesUpdated",e[e.Purchase=35]="Purchase",e[e.BitsCharity=36]="BitsCharity",e[e.CrateGift=37]="CrateGift",e[e.RewardGift=38]="RewardGift",e[e.SubMysteryGift=39]="SubMysteryGift",e[e.AnonSubMysteryGift=40]="AnonSubMysteryGift",e[e.StandardPayForward=41]="StandardPayForward",e[e.CommunityPayForward=42]="CommunityPayForward",e[e.FirstCheerMessage=43]="FirstCheerMessage",e[e.BitsBadgeTierMessage=44]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=45]="InlinePrivateCallout",e[e.ChannelPointsReward=46]="ChannelPointsReward",e[e.CommunityChallengeContribution=47]="CommunityChallengeContribution",e[e.CelebrationPurchase=48]="CelebrationPurchase",e[e.LiveMessageSeparator=49]="LiveMessageSeparator"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action"}(a||(a={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(r||(r={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(o||(o={}));var d=new Set(["usage_clear","usage_commercial","usage_host","usage_unhost","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},ZuCe:function(e,n,t){},ZuiC:function(e,n,t){"use strict";t.d(n,"n",(function(){return r})),t.d(n,"t",(function(){return o})),t.d(n,"l",(function(){return s})),t.d(n,"s",(function(){return d})),t.d(n,"m",(function(){return c})),t.d(n,"r",(function(){return l})),t.d(n,"o",(function(){return u})),t.d(n,"u",(function(){return m})),t.d(n,"p",(function(){return p})),t.d(n,"v",(function(){return h})),t.d(n,"d",(function(){return f})),t.d(n,"z",(function(){return g})),t.d(n,"e",(function(){return v})),t.d(n,"A",(function(){return b})),t.d(n,"f",(function(){return y})),t.d(n,"B",(function(){return k})),t.d(n,"c",(function(){return S})),t.d(n,"y",(function(){return C})),t.d(n,"k",(function(){return E})),t.d(n,"q",(function(){return w})),t.d(n,"i",(function(){return _})),t.d(n,"E",(function(){return N})),t.d(n,"h",(function(){return O})),t.d(n,"D",(function(){return D})),t.d(n,"g",(function(){return M})),t.d(n,"C",(function(){return I})),t.d(n,"a",(function(){return T})),t.d(n,"w",(function(){return j})),t.d(n,"j",(function(){return R})),t.d(n,"F",(function(){return P})),t.d(n,"b",(function(){return F})),t.d(n,"x",(function(){return L}));var i=t("mrSG"),a=t("/7QA"),r="vodChat.comments.DELETED_SUCCESS",o=function(e){return Object(i.__assign)({type:r},e)},s="vodChat.comments.CREATED_SUCCESS",d=function(e){return Object(i.__assign)({type:s},e)},c="vodChat.comments.CREATE_FAILED",l=function(e){return{type:c,createError:e}},u="vodChat.comments.DISPLAY_ERROR",m=function(e){return{type:u,errorMessage:e}},p="vodChat.comments.UPDATED_SUCCESS",h=function(e){return Object(i.__assign)({type:p},e)},f="vodChat.comments.CURSOR_RECEIVED",g=function(e){return Object(i.__assign)({type:f},e)},v="vodChat.comments.OFFSET_RECEIVED",b=function(e){return Object(i.__assign)({type:v},e)},y="vodChat.comments.QUERY_FAILED",k=function(){return{type:y}},S="vodChat.comments.CLEARED",C=function(){return{type:S}},E="vodChat.comments.COOLDOWN_ENDED",w=function(){return{type:E}},_="vodChat.comments.SYNC_ENABLED",N=function(){return{type:_}},O="vodChat.comments.SYNC_DISABLED",D=function(){return{type:O}},M="vodChat.comments.REPLAY_FILTER_CHANGED",I=function(e){return a.m.set("videoChat.is_replay_mode",e),{type:M,isReplayFilterOn:e}},T="vodChat.comments.CHAT_REPLAY_ERROR_HIDE",j=function(){return{type:T}},R="vodChat.comments.TIMESTAMP_MODE_CHANGED",P=function(e){return a.m.set("videoChat.hide_timestamps",e),{type:R,hideTimestamps:e}},F="vodChat.comments.REQUEST_CHAT_SETTINGS",L=function(){return{type:F,isReplayFilterOn:a.m.get("videoChat.is_replay_mode",!1),hideTimestamps:a.m.get("videoChat.hide_timestamps",!1)}}},a1OF:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"g",(function(){return h})),t.d(n,"c",(function(){return f})),t.d(n,"f",(function(){return g})),t.d(n,"d",(function(){return v})),t.d(n,"e",(function(){return b})),t.d(n,"b",(function(){return y}));var i=t("mrSG"),a=t("/7QA"),r=t("/0dD"),o=t("oe5X"),s=t("0FG4"),d=t("kRBY"),c=t("Vtno");var l=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],u={};function m(e,n,t,a,r,o,s,d,l){var u;void 0===a&&(a=null),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===d&&(d=Date.now()),void 0===l&&(l={});var m,p,v,b,y=(m=n.displayName,p=n.username,b=!1,(v=m)?v.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,n){return e||n}))&&(b=!0):v=p,{userDisplayName:v,isIntl:b});if((null===(u=l.reply)||void 0===u?void 0:u.parentDisplayName)&&Object(c.b)(l.channelID)!==c.a.Control){var k=h(e,l.reply.parentDisplayName,n.emotes);e=k.message,n.emotes=k.emotes}return{badges:n.badges||{},badgeDynamicData:n.badgeDynamicData||{},bits:n.bits,user:Object(i.__assign)(Object(i.__assign)({},y),{userLogin:n.username,userID:n.userID,userType:n.userType,color:n.color||f(n.userID)}),messageParts:g(e,n.emotes||{},n.bits,t,n.username,a||void 0),messageBody:e,deleted:r,banned:s,hidden:o,timestamp:d,reply:l.reply}}function p(e,n){var t=e.length+2,i={};return Object.keys(n).forEach((function(e){i[parseInt(e,10)-t]={startIndex:n[e].startIndex-t,id:n[e].id}})),i}function h(e,n,t){return void 0===t&&(t={}),0===e.indexOf("@"+n+" ")?{message:e.replace("@"+n+" ",""),emotes:p(n,t)}:{message:e,emotes:t}}function f(e,n){return void 0===n&&(n=15),"number"!=typeof u[e]&&(u[e]=Math.floor(Math.random()*n)),l[u[e]]}function g(e,n,t,i,r,c){var l=Object(d.e)(a.p.store.getState()),u={cheers:t?i:void 0,emotes:{type:s.a.Position,map:n},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:r,sessionUser:l},flags:c};return Object(o.a)(e,u)}function v(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function b(e,n,t,i){return void 0===t&&(t=!0),void 0===i&&(i=r.a.Light),"https://static-cdn.jtvnw.net/emoticons/v2/"+e+"/"+(t?"default":"static")+"/"+(i===r.a.Light?"light":"dark")+"/"+Math.min(Math.ceil(n),3)+".0"}function y(e,n){return void 0===n&&(n=!0),{dark:{"1x":b(e,1,n,r.a.Dark),"2x":b(e,2,n,r.a.Dark),"4x":b(e,4,n,r.a.Dark)},light:{"1x":b(e,1,n,r.a.Light),"2x":b(e,2,n,r.a.Light),"4x":b(e,4,n,r.a.Light)},themed:!0}}},a6LY:function(e,n,t){"use strict";var i,a,r,o,s;t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"e",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return s})),function(e){e.DeleteMessage="delete",e.BanUser="ban",e.UnbanUser="unban",e.TimeoutUser="timeout",e.UntimeoutUser="untimeout",e.ModUser="mod",e.UnmodUser="unmod"}(i||(i={})),function(e){e.QuickModButtons="quick_mod_buttons",e.ChatCommand="chat_command",e.ModerationCard="moderation_card",e.DashboardBannedChatters="dashboard_banned_chatters",e.AutoModWidget="automod_widget_buttons",e.ModViewContextBar="mod_view_context_bar",e.ReadOnly="read_only",e.UnbanRequestWidget="unban_request"}(a||(a={})),function(e){e.Broadcaster="broadcaster",e.Staff="staff",e.Editor="editor",e.Mod="mod"}(r||(r={})),function(e){e.ChannelPage="channel_page",e.Dashboard="dashboard",e.DesktopPopout="desktop",e.Embed="embed",e.ModView="mod_view",e.LiveDashboard="live_dashboard",e.MultiStream="multi_stream",e.Popout="popout",e.Spotlight="spotlight",e.StreamManager="stream_manager",e.WatchParty="watch_party"}(o||(o={})),function(e){e.Channel="channel",e.Login="login"}(s||(s={}))},aF6k:function(e,n,t){"use strict";function i(e){var n=Math.random().toString(36).substring(2,6);return e+"-"+Date.now()+"-"+n}t.d(n,"a",(function(){return i}))},ahza:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return m})),t.d(n,"g",(function(){return p})),t.d(n,"h",(function(){return h})),t.d(n,"c",(function(){return f})),t.d(n,"e",(function(){return g})),t.d(n,"d",(function(){return v})),t.d(n,"f",(function(){return b}));var i=t("cr+I"),a=t("b6Yk"),r=t("pU2t");var o="content_offset_seconds",s="cursor",d="comment_id";function c(e){return"/v5/videos/"+e+"/comments"}function l(e){return u(e).toString()+"/replies"}function u(e){return"/v5/videos/comments/"+e}function m(e){var n;n=g(e)?l(e.parentId):c(e.contentId);var t={body:Object(r.g)(e)};return a.a.post(n,t)}function p(e){try{if(function(e){return"commentID"in e}(e))return function(e){var n={};void 0!==e.cursor&&(n[s]=e.cursor);var t=l(e.commentID)+"?"+i.stringify(n);return a.a.getOrThrow(t).then((function(e){return Object(r.e)(e.body)}))}(e);var n={};v(e)?n[s]=e.cursor:b(e)&&(n[o]=""+e.offset,void 0!==e.highlightedMessageID&&(n[d]=e.highlightedMessageID));var t=c(e.videoID)+"?"+i.stringify(n);return a.a.getOrThrow(t).then((function(n){return Object(r.d)(n.body,e.bitsConfig)}))}catch(e){return Promise.reject(e)}}function h(e){var n=u(e.comment.id),t={body:{state:e.state}};return a.a.putOrThrow(n,t).then((function(n){return Object(r.f)(n.body,e.comment)}))}function f(e){var n=u(e.id);return a.a.delete(n)}function g(e){return"parentId"in e}function v(e){return"cursor"in e}function b(e){return"offset"in e}},aipz:function(e,n,t){},amaQ:function(e,n,t){"use strict";t.d(n,"d",(function(){return i})),t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"e",(function(){return l})),t.d(n,"f",(function(){return u})),t.d(n,"g",(function(){return m}));var i,a,r,o,s=t("mrSG"),d=t("/7QA"),c=t("2xye");!function(e){e.AppointedModerator="appointed_moderator",e.MegacheerEmoteRecipient="megacheer_emote_recipient",e.Resub="re_sub",e.PinnedResub="pinned_re_sub",e.CheerBadgeGrant="cheer_badge_grant",e.CommunitySubGift="community_sub_gift",e.CommunityPointsReward="community_points_reward",e.HypeTrainRewards="hype_train_rewards",e.ReplyByKeyboard="reply_by_keyboard"}(i||(i={})),function(e){e.Dismiss="dismiss",e.Remind="remind_later",e.Pin="pin_callout",e.SkipMonthlyAlert="skip_monthly_alert",e.Message="chat_message_send"}(a||(a={})),function(e){e.Share="click_share",e.Options="options_menu",e.Thank="click_thank",e.NoAction="no_action",e.ShowReward="click_show_reward",e.Gift="click_gift",e.OpenModView="open_mod_view",e.OpenEmotePicker="open_emote_picker"}(r||(r={})),function(e){e.PrivateCallout="private_callout",e.Chat="private_callout_chat"}(o||(o={}));var l=function(e){d.o.track(c.SpadeEventType.PrivateCalloutAction,Object(s.__assign)(Object(s.__assign)({},p(e)),{action:e.action,ui_context:e.uiContext,msg_body:e.msgBody,used_prompt:e.usedPrompt}))},u=function(e){d.o.track(c.SpadeEventType.PrivateCalloutClick,Object(s.__assign)(Object(s.__assign)({},p(e)),{click_type:e.clickType,ui_context:e.uiContext}))},m=function(e){d.o.track(c.SpadeEventType.PrivateCalloutImpression,Object(s.__assign)(Object(s.__assign)({},p(e)),{has_cta:e.hasCTA}))};function p(e){return{channel_id:e.channelID,channel_login:e.channelLogin,callout_type:e.calloutType,private_callout_sid:e.privateCalloutSID}}},ati1:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ArchivePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ArchivePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archivePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:94}};t.loc.source={body:"mutation ArchivePoll($input: ArchivePollInput!) {\narchivePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ArchivePoll=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ArchivePoll")},b5C3:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("q1tI"),a=t("vHGB"),r=function(e){var n=e.badgesToRender,t=e.badgeSets,r=e.hideBroadcasterTooltip,o=e.tabbable;if(!n)return null;var s,d=[];s=n,Array.isArray(s)?d=n.map((function(n){var s=t.getBadge(n.setID,n.version);return null===s?null:e.usesSchemaBadges?i.createElement(a.a,{key:s.setID+"/"+s.version,schemaBadge:s,tabbable:o,hideTooltip:"broadcaster"===s.setID&&r}):i.createElement(a.a,{key:s.setID+"/"+s.version,badge:s,tabbable:o,hideTooltip:"broadcaster"===s.setID&&r})})):function(e){return!Array.isArray(e)}(n)&&(d=Object.keys(n).map((function(s){var d=n[s],c=t.getBadge(s,d);if(null===c)return null;var l=e.dynamicData&&e.dynamicData[c.setID];return e.usesSchemaBadges?i.createElement(a.a,{key:c.setID+"/"+c.version,schemaBadge:c,dynamicData:l,tabbable:o,hideTooltip:"broadcaster"===c.setID&&r}):i.createElement(a.a,{key:c.setID+"/"+c.version,badge:c,dynamicData:l,tabbable:o,hideTooltip:"broadcaster"===c.setID&&r})})));var c=d.filter((function(e){return null!==e}));return i.createElement("span",null,c)};r.displayName="BadgeList"},bBAb:function(e,n,t){"use strict";t.d(n,"b",(function(){return S})),t.d(n,"a",(function(){return E}));var i=t("mrSG"),a=t("q1tI"),r=t("ANjH"),o=t("yR8l"),s=t("0Log"),d=t("/aPz"),c=t("1rIY"),l=t("DMoW");function u(e){var n,t,i={__typename:"Cheermote",id:"",prefix:e.prefix,type:m(e.type),campaign:null,tiers:[]},a=e.tiers.map((function(e){return{__typename:"CheermoteTier",id:e.id,bits:e.min_bits,canShowInBitsCard:e.show_in_bits_card}}));return i.tiers=a,e.campaign&&(i.campaign=(n=e.campaign,t={__typename:"CheermoteCampaign",id:n.id,brandName:n.brand_name,brandImageURL:n.brand_image_url,minimumBitsAmount:n.min_bits_to_be_sponsored,bitsTotal:n.total_bits,bitsUsed:n.used_bits,bitsPercentageRemaining:n.used_bits/n.total_bits,userLimit:n.user_limit,thresholds:[],self:null},p(n.sponsored_amount_thresholds).forEach((function(e,n){t.thresholds.push({__typename:"CheermoteCampaignThreshold",id:"",minimumBits:n,matchedPercent:e})})),t)),i}function m(e){var n=l.W.UNKNOWN;switch(e){case"channel_custom":n=l.W.CUSTOM;break;case"global_first_party":n=l.W.FIRST_PARTY;break;case"global_third_party":n=l.W.THIRD_PARTY;break;case"sponsored":n=l.W.SPONSORED;break;default:n=l.W.UNKNOWN}return n}var p=function(e){return Object.keys(e).reduce((function(n,t){return n.set(t,e[t])}),new Map)},h=t("4h+t"),f=t("0Lz3"),g=t("w09P"),v=t("jmnl"),b=t("91gA"),y=Object(c.a)("BitsConfigContext",{bitsConfig:Object(h.c)(),bitsEnabled:!1,bitsCardOpen:!1,setBitsCardOpenState:function(e){}}),k=y.context,S=y.withContext,C=function(e){function n(n){var t=e.call(this,n)||this;return t.setBitsCardOpenState=function(e){t.setState({bitsCardOpen:e})},t.state={bitsConfig:Object(h.c)(),bitsEnabled:!1,bitsCardOpen:!1,setBitsCardOpenState:t.setBitsCardOpenState},t}return Object(i.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){var t,a,r,o=!1;if(e.globalData.cheerConfig){var s=e.globalData.cheerConfig.groups;e.data&&((null===(a=null===(t=e.data.channel)||void 0===t?void 0:t.cheer)||void 0===a?void 0:a.cheerGroups)&&(s=Object(i.__spreadArrays)(s,e.data.channel.cheer.cheerGroups)),o=!(!e.data.channel||!e.data.channel.cheer)),r=Object(f.b)(e.globalData.cheerConfig.displayConfig,s)}else r=Object(h.c)();return Object(i.__assign)(Object(i.__assign)({},n),{bitsConfig:r,bitsEnabled:o})},n.prototype.render=function(){return a.createElement(k.Provider,{value:this.state},this.props.children)},n.prototype.componentDidUpdate=function(e,n){this.state.bitsCardOpen&&this.props.channelLogin?(this.updatesUnsubscriber||this.subscribeToUpdates(),this.actionsUnsubscriber||this.subscribeToActions()):this.state.bitsCardOpen&&this.props.channelLogin||this.unsubscribe(),this.state.bitsCardOpen&&!n.bitsCardOpen&&this.props.data&&this.props.data.refetch()},n.prototype.subscribeToUpdates=function(){var e=this;this.updatesUnsubscriber=Object(d.X)({query:b,variables:{login:this.props.channelLogin},topic:Object(d.f)(),types:[s.PubsubMessageType.BitsCampaignTotalUpdate,s.PubsubMessageType.BitsCampaignComplete],mutator:function(e,n){if(n.channel&&n.channel.cheer&&n.channel.cheer.cheerGroups){if(e.type===s.PubsubMessageType.BitsCampaignTotalUpdate)return g(n,(function(e){return e.channel.cheer.cheerGroups}),(function(n){return n.map((function(n){return Object(i.__assign)(Object(i.__assign)({},n),{nodes:n.nodes.map((function(n){return n&&n.campaign&&n.campaign&&n.campaign.id===e.campaign_id?Object(i.__assign)(Object(i.__assign)({},n),{campaign:Object(i.__assign)(Object(i.__assign)({},n.campaign),{bitsUsed:e.used_amount})}):n}))})}))}));if(e.type===s.PubsubMessageType.BitsCampaignComplete)return g(n,(function(e){return e.channel.cheer.cheerGroups}),(function(n){return n.map((function(n){return Object(i.__assign)(Object(i.__assign)({},n),{nodes:n.nodes.filter((function(n){return!n||!n.campaign||n.campaign.id!==e.campaign_id}))})}))}))}return n},skipMessage:function(){return!e.state.bitsCardOpen||!e.props.channelLogin}})},n.prototype.subscribeToActions=function(){var e=this;this.actionsUnsubscriber=Object(d.X)({query:v,variables:{login:this.props.channelLogin},topic:Object(d.e)(""+(this.props.data&&this.props.data.channel&&this.props.data.channel.id)),types:[s.PubsubMessageType.BitsCampaignAddCheermoteEvent,s.PubsubMessageType.BitsCampaignRemoveCheermoteEvent],mutator:function(e,n){if(n.channel&&n.channel.cheer&&n.channel.cheer.cheerGroups){if(e.type===s.PubsubMessageType.BitsCampaignAddCheermoteEvent){var t=e,a=u(t.cheer),r=n.channel.cheer.cheerGroups.findIndex((function(e){return e.templateURL===t.template}));return r>-1?g(n,(function(e){return e.channel.cheer.cheerGroups[r].nodes}),(function(e){return Object(i.__spreadArrays)([a],e)})):g(n,(function(e){return e.channel.cheer.cheerGroups}),(function(e){return Object(i.__spreadArrays)(e,[{__typename:"CheermoteGroup",templateURL:t.template,nodes:[a]}])}))}if(e.type===s.PubsubMessageType.BitsCampaignRemoveCheermoteEvent){var o=e;return g(n,(function(e){return e.channel.cheer.cheerGroups}),(function(e){return e.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{nodes:e.nodes.filter((function(e){return!e||!e.campaign||e.campaign.id!==o.campaign_id}))})}))}))}}return n},skipMessage:function(){return!e.state.bitsCardOpen||!e.props.channelLogin}})},n.prototype.unsubscribe=function(){this.updatesUnsubscriber&&(this.updatesUnsubscriber(),this.updatesUnsubscriber=null),this.actionsUnsubscriber&&(this.actionsUnsubscriber(),this.actionsUnsubscriber=null)},n}(a.Component),E=Object(r.d)(Object(o.a)(v,{skip:function(e){return!e.channelLogin},options:function(e){var n;return{variables:{login:null!==(n=e.channelLogin)&&void 0!==n?n:""},fetchPolicy:"cache-and-network"}}}),Object(o.a)(b,{name:"globalData",options:{fetchPolicy:"cache-and-network"}}))(C)},bjUr:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Chat=0]="Chat",e[e.ViewerList=1]="ViewerList"}(i||(i={}))},bq0i:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i,a=t("mrSG"),r=t("w09P"),o=t("q1tI"),s=t("f00E"),d=t("58CV"),c=t("oBNK"),l=t("OCDW"),u=t("Yegi");!function(e){e.BalloonInsideClickDetector="balloon-inside-click-detector",e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(i||(i={}));var m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showBalloon:!!n.props.openByDefault,hasInteracted:!!n.props.openByDefault},n.toggleBalloonId=Object(s.b)(),n.handleButtonClick=function(e){n.props.preventDefault&&e.preventDefault(),n.props.stopPropagation&&e.stopPropagation(),n.setState((function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}}),(function(){n.props.onToggle&&n.props.onToggle(!n.state.showBalloon)}))},n.handleGlobalClick=function(e){e.target.matches('[data-toggle-balloon-id="'+n.toggleBalloonId+'"] *')||n.hideBalloon()},n.handleInsideBalloonClick=function(){n.hideBalloon()},n.handleMouseEnter=function(){n.props.preventMountingContentOnHover||n.state.hasInteracted||n.setState({hasInteracted:!0})},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.openByDefault&&document.addEventListener("click",this.handleGlobalClick,!0)},n.prototype.componentDidUpdate=function(e,n){n.showBalloon!==this.state.showBalloon&&(this.state.showBalloon?document.addEventListener("click",this.handleGlobalClick,!0):document.removeEventListener("click",this.handleGlobalClick,!0))},n.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!0)},n.prototype.render=function(){var e=this,n=o.Children.toArray(this.props.children);if(2!==n.length)throw new Error("ToggleBalloonWrapper should only be given two children: a clickable and a Balloon");var t,s=n[0],m=n[1];if(s.type===d.a){var p=s,h=r(p.props.dropdown,(function(n){return n.onClick=e.handleButtonClick,n}));t=o.cloneElement(p,{dropdown:h})}else t=o.cloneElement(s,{onClick:this.handleButtonClick});var f=null;(this.state.hasInteracted||this.props.alwaysMountBalloonContent)&&(f=o.cloneElement(m,{show:this.state.showBalloon}),this.props.hideBalloonOnInsideClick&&(f=o.createElement("div",{"data-test-selector":i.BalloonInsideClickDetector,onClick:this.handleInsideBalloonClick},f)));var g=t;return this.props.tooltipProps&&(g=o.createElement(c.a,Object(a.__assign)({},this.props.tooltipProps),t)),o.createElement(l.a,{"data-toggle-balloon-id":this.toggleBalloonId,display:this.props.display,position:u.o.Relative},o.createElement("div",{style:{display:"inherit"},onMouseEnter:this.handleMouseEnter,"data-test-selector":i.MouseEnterDetector},g),f)},n.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},n.prototype.hideBalloon=function(){var e=this;this.setState({showBalloon:!1},(function(){e.props.onToggle&&e.props.onToggle(!0)}))},n}(o.Component)},buTd:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.AppointedModerator="appointed-moderator",e.BitsBadgeTier="bits-badge-tier",e.ShareResub="share-resub",e.ThankSubGifter="thank-sub-gifter",e.MegaBenefactorRewards="mega-benefactor-rewards",e.MegaRecipientRewards="mega-recipient-rewards",e.CommunityPointsRewards="community-points-rewards",e.HypeTrainRewards="hype-train-rewards",e.ReplyByKeyboard="reply-by-keyboard",e.Drop="drop"}(i||(i={}))},cFyR:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"c",(function(){return d})),t.d(n,"a",(function(){return x}));var i=t("1rIY"),a=t("VaVM"),r=t("V8f+"),o=Object(i.a)("RewardRedemptionContext",{closeRewardCenter:function(){return null},isRewardCenterOpen:!1,openReward:function(){return null},openEarnRatesList:function(){return null},resetTransactionID:function(){return null},rewardCenterState:{type:a.a.ListRewards},transactionID:"",direction:r.a.OpenRewardCenter,setDirection:function(){return null}}),s=o.context,d=o.withContext,c=t("mrSG"),l=t("q1tI"),u=t("/MKj"),m=t("ANjH"),p=t("yR8l"),h=t("jC1Z"),f=t("f00E"),g=t("DMoW"),v=t("+pBb"),b=t("jBwP"),y=t("FzaW"),k=t("Zmj1"),S=t("A4cy"),C=t("OOag"),E=t("W1jp"),w=t("/7QA"),_=t("geRD"),N=t("zwF8"),O=t("IQZc"),D=t("g+79"),M=t("uq9l"),I=t("B30r"),T=t("ApRi"),j=t("nAiT"),R=t("EgE3");function P(e){var n=e.message?Object(I.c)(e.errorCode):Object(I.b)();e.setTrayError(n)}var F=t("gb2O");function L(e){var n=e.message?Object(I.c)(e.errorCode):Object(I.b)();e.setTrayError(n)}var A=t("YkT+"),U=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isRewardCenterOpen:!1,rewardCenterState:{type:a.a.ListRewards},transactionID:Object(f.c)(),direction:r.a.OpenRewardCenter},n.resetTransactionID=function(){n.setState({transactionID:Object(f.c)()})},n.setDirection=function(e){n.setState({direction:e})},n.closeRewardCenter=function(){n.setState({isRewardCenterOpen:!1,direction:r.a.CloseRewardCenter}),n.closeTimeout=setTimeout((function(){n.setState({rewardCenterState:{type:a.a.ListRewards}})}),0)},n.openEarnRatesList=function(){var e=n.getViewerType();Object(R.t)(R.b.RewardSelectionPane,e,n.props.channelID||"",n.props.channelLogin),n.setDirection(r.a.Forward),n.openRewardCenterToState({type:a.a.EarnRates})},n.openReward=function(e){var t,i=null==e?void 0:e.direction,r=null==e?void 0:e.reward,o=null==e?void 0:e.contentUpdateEnabled;if(i&&n.setDirection(i),r){var s=n.checkRewardEligibility(r),d=null;if(s)if(d=Object(f.c)(),n.setState({transactionID:d}),"CommunityPointsAutomaticReward"===r.__typename)switch(r.type){case g.eb.SEND_HIGHLIGHTED_MESSAGE:n.openHighlightedMesssageReward(r,d);break;case g.eb.SINGLE_MESSAGE_BYPASS_SUB_MODE:n.openSubsOnlyMessageReward(r,d);break;case g.eb.CHOSEN_SUB_EMOTE_UNLOCK:n.openRewardCenterToState({type:a.a.UnlockChosenSubscriberEmote,reward:r});break;case g.eb.RANDOM_SUB_EMOTE_UNLOCK:n.openRewardCenterToState({type:a.a.UnlockRandomEmote,reward:r});break;case g.eb.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK:n.openRewardCenterToState({type:a.a.ModifyEmote,reward:r})}else"CommunityPointsCommunityGoal"===r.__typename?n.openRewardCenterToState({type:a.a.CommunityGoal,reward:r},!1,null==e?void 0:e.viewUUID):"PredictionEvent"===r.__typename?n.openRewardCenterToState({type:a.a.Prediction,reward:r},!1,null==e?void 0:e.viewUUID):n.openCustomReward(r,d);var c=!1;if("CommunityPointsCustomReward"===r.__typename&&r.maxPerUserPerStreamSetting.isEnabled){var l=(null===(t=n.props.userRedemptions.find((function(e){return e.reward.id===r.id})))||void 0===t?void 0:t.userRedemptionsCurrentStream)||0;l&&l>=r.maxPerUserPerStreamSetting.maxPerUserPerStream&&(c=!0)}var u=!0;"PredictionEvent"===r.__typename&&(n.props.balance<1||n.props.isInRestrictedRegion||n.props.currentUserID===n.props.channelID||n.isModerator)&&(u=!1),"CommunityPointsCommunityGoal"!==r.__typename&&Object(R.q)({channelID:n.props.channelID||"",channelLogin:n.props.channelLogin,isUserEligible:s&&!c&&u,reward:r,transactionID:d,userBalance:n.props.balance,viewTrackingID:(null==e?void 0:e.viewUUID)||n.state.viewTrackingID||"",contentUpdateEnabled:!!(null==e?void 0:e.contentUpdateEnabled)})}else n.openRewardCenterToState({type:a.a.ListRewards},!!o)},n}return Object(c.__extends)(n,e),Object.defineProperty(n.prototype,"isCurrentUserSubscribed",{get:function(){var e,n;return!!(null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===n?void 0:n.subscriptionBenefit)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isModerator",{get:function(){var e,n;return!!(null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.self)||void 0===n?void 0:n.isModerator)},enumerable:!0,configurable:!0}),n.prototype.render=function(){return l.createElement(s.Provider,{value:Object(c.__assign)(Object(c.__assign)({},this.state),{closeRewardCenter:this.closeRewardCenter,openReward:this.openReward,openEarnRatesList:this.openEarnRatesList,resetTransactionID:this.resetTransactionID,setDirection:this.setDirection})},this.props.children)},n.prototype.componentWillUnmount=function(){this.closeTimeout&&clearTimeout(this.closeTimeout)},n.prototype.validateCooldownIsInStock=function(e){var n=e.cooldownExpiresAt,t=null!==n?new Date(n):n,i=new Date;!e.isInStock&&e.globalCooldownSetting.isEnabled&&t&&i.getTime()>t.getTime()&&Object(k.o)(this.props.channelLogin,e,!!this.props.isLive)},n.prototype.openRewardCenterToState=function(e,n,t){if(void 0===n&&(n=!1),!this.state.isRewardCenterOpen){var i=t||Object(f.c)();this.setState({viewTrackingID:i,direction:r.a.OpenRewardCenter}),e.type===a.a.ListRewards&&(Object(R.v)(this.props.channelLogin,this.props.channelID||"",i,n),this.props.updateTimestamps())}this.setState({isRewardCenterOpen:!0,rewardCenterState:e})},n.prototype.checkRewardEligibility=function(e){var n=Object(S.a)(e,{isUserSubscribed:this.isCurrentUserSubscribed,isChannelSubsOnlyMode:this.props.subsOnlyMode});return this.props.currentUserID?"CommunityPointsAutomaticReward"!==e.__typename||n.nonSubOnlyReward?("CommunityPointsAutomaticReward"===e.__typename||"CommunityPointsCustomReward"===e.__typename)&&Object(E.c)(e)>this.props.balance&&!Object(E.g)(e)?(this.openRewardCenterToState({type:a.a.NotEnoughPoints,reward:e}),!1):"CommunityPointsCustomReward"!==e.__typename||n.subOnlyReward?!("CommunityPointsAutomaticReward"===e.__typename&&!n.subsModeRequiredReward)||(this.openRewardCenterToState({type:a.a.NotSubOnlyMode,reward:e}),!1):(this.openRewardCenterToState({type:a.a.NotSubbed,reward:e}),!1):(this.openRewardCenterToState({type:a.a.AlreadySubbed,reward:e}),!1):(this.openRewardCenterToState({type:a.a.NotLoggedIn,reward:e}),!1)},n.prototype.openHighlightedMesssageReward=function(e,n){this.props.channelID&&(this.props.setTray(function(e){var n=this;return{icon:l.createElement(D.a,{data:e.reward,size:D.b.ExtraSmall}),title:Object(E.f)(e.reward),body:l.createElement(O.a,{onRequirementsChange:function(n){return n?e.setTrayError(Object(j.m)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},l.createElement(M.a,null,Object(E.d)(e.reward))),pointsCost:Object(E.c)(e.reward),sendButtonOverride:N.b.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:N.c.Custom,handleMessage:function(t){return Object(c.__awaiter)(n,void 0,void 0,(function(){var n;return Object(c.__generator)(this,(function(i){switch(i.label){case 0:return t.trim()?[4,w.p.apollo.client.mutate(Object(c.__assign)({mutation:T},Object(_.a)({channelID:e.channelID,cost:Object(E.c)(e.reward),message:t,transactionID:e.transactionID})))]:(P(e),[2,!1]);case 1:return(n=i.sent()).data&&n.data.sendHighlightedChatMessage&&!n.data.sendHighlightedChatMessage.error?(e.clearTray(),Object(R.r)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(P(Object(c.__assign)(Object(c.__assign)({},e),{errorCode:n.data&&n.data.sendHighlightedChatMessage&&n.data.sendHighlightedChatMessage.error&&n.data.sendHighlightedChatMessage.error.code||g.we.UNKNOWN,message:t})),[2,!1])}}))}))}}}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},n.prototype.openSubsOnlyMessageReward=function(e,n){this.props.channelID&&(this.props.setTray(function(e){var n=this;return{ignoredRestrictions:new Set([g.S.SUBSCRIBERS_ONLY]),icon:l.createElement(D.a,{data:e.reward,size:D.b.ExtraSmall}),title:Object(E.f)(e.reward),body:l.createElement(O.a,{onRequirementsChange:function(n){return n?e.setTrayError(Object(j.m)(e.channelDisplayName||e.channelLogin,(function(){e.clearTray(),e.openReward()}))):e.clearTrayError()},reward:e.reward},l.createElement(M.a,null,Object(E.d)(e.reward))),pointsCost:Object(E.c)(e.reward),sendButtonOverride:N.b.CommunityPointsSpend,disableBits:!0,disableCommands:!0,sendMessageHandler:{type:N.c.Custom,handleMessage:function(t){return Object(c.__awaiter)(n,void 0,void 0,(function(){var n;return Object(c.__generator)(this,(function(i){switch(i.label){case 0:return t.trim()?[4,w.p.apollo.client.mutate(Object(c.__assign)({mutation:F},Object(_.a)({channelID:e.channelID,cost:Object(E.c)(e.reward),message:t,transactionID:e.transactionID})))]:(L(e),[2,!1]);case 1:return(n=i.sent()).data&&n.data.sendChatMessageThroughSubscriberMode&&!n.data.sendChatMessageThroughSubscriberMode.error?(e.clearTray(),Object(R.r)({channelID:e.channelID,channelLogin:e.channelLogin,reward:e.reward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}),[2,!0]):(L(Object(c.__assign)(Object(c.__assign)({},e),{errorCode:n.data&&n.data.sendChatMessageThroughSubscriberMode&&n.data.sendChatMessageThroughSubscriberMode.error&&n.data.sendChatMessageThroughSubscriberMode.error.code||void 0,message:t})),[2,!1])}}))}))}}}}({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter())},n.prototype.openCustomReward=function(e,n){if(this.validateCooldownIsInStock(e),e.isUserInputRequired){if(!this.props.channelID)return;this.props.setTray(Object(C.a)({channelDisplayName:this.props.channelDisplayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,clearTray:this.props.clearTray,clearTrayError:this.props.clearTrayError,openReward:this.openReward,reward:e,setTrayError:this.props.setTrayError,transactionID:n,viewTrackingID:this.state.viewTrackingID||""})),this.closeRewardCenter()}else this.openRewardCenterToState({type:a.a.CustomReward,reward:e})},n.prototype.getViewerType=function(){return this.props.channelID===this.props.currentUserID?R.j.Broadcaster:this.isModerator?R.j.Moderator:R.j.Viewer},n}(l.Component);var x=Object(m.d)(Object(p.a)(A,{options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(u.b)(void 0,(function(e){return Object(m.b)({clearTray:v.K,clearTrayError:v.L,setTray:v.bb,setTrayError:v.cb},e)})),Object(y.d)((function(e){return{isInRestrictedRegion:e.isInRestrictedRegion}})),Object(b.c)((function(e){return{subsOnlyMode:e.subsOnlyMode}})),Object(h.c)((function(e){return{isLive:e.isLive}})))(U)},cScm:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsLastViewedContentByType"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastViewedAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsLastViewedContentByTypeAndID"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastViewedAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:243}};t.loc.source={body:"fragment lastViewedContentByTypeFragment on CommunityPointsLastViewedContentByType {\ncontentType\nlastViewedAt\n}\nfragment lastViewedContentByTypeAndIDFragment on CommunityPointsLastViewedContentByTypeAndID {\ncontentID\ncontentType\nlastViewedAt\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},cpJf:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"b",(function(){return r})),function(e){e.Chat="stream_chat",e.Feeds="feeds",e.Room="chatroom",e.Whisper="whisper",e.VodChat="vod-chat"}(i||(i={}));var a={TriHard:{count:196568036},Kappa:{count:192158118},"4Head":{count:155758710},PogChamp:{count:151485090},cmonBruh:{count:146352878},BibleThump:{count:56472964},WutFace:{count:45069031},Kreygasm:{count:41387580},DansGame:{count:38097659},hi5F:{count:34986404},SMOrc:{count:34734484},KappaPride:{count:34262839},VoHiYo:{count:27886434},SwiftRage:{count:24561900},ResidentSleeper:{count:24438298},EleGiggle:{count:19891526},FailFish:{count:19118343},NotLikeThis:{count:18802905},Keepo:{count:18351415},BabyRage:{count:18220906},MingLee:{count:18026207},pbfSSH:{count:16911241},forsenE:{count:14960299},HeyGuys:{count:14851569},ANELE:{count:14648986},PJSalt:{count:14438861}},r=["354","49106","4339","48","25","55338","70433","1902","68856","81103","76171","27509"]},cw0r:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("q1tI"),r=t("wUQP"),o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(n,e),n.prototype.render=function(){return Object(r.c)(this.props.name,{defaultThreshold:this.props.defaultThreshold})?a.createElement(a.Fragment,null,this.props.children):null},n}(a.Component)},cys1:function(e,n,t){"use strict";t.d(n,"g",(function(){return se})),t.d(n,"h",(function(){return de})),t.d(n,"d",(function(){return ce})),t.d(n,"k",(function(){return le})),t.d(n,"j",(function(){return ue})),t.d(n,"f",(function(){return me})),t.d(n,"e",(function(){return pe})),t.d(n,"l",(function(){return he})),t.d(n,"i",(function(){return fe})),t.d(n,"b",(function(){return ge})),t.d(n,"m",(function(){return ve})),t.d(n,"n",(function(){return be})),t.d(n,"a",(function(){return ye})),t.d(n,"c",(function(){return ke}));var i,a=t("q1tI"),r=t("/7QA"),o=t("gvGA"),s=t("5zf8"),d=t("4rCz"),c=t("mrSG"),l=t("yR8l"),u=t("+GjP"),m=t("2xye"),p=t("RGzP"),h=t("uq9l"),f=t("Yegi"),g=t("OCDW"),v=t("p8fB"),b=t("G9R1"),y=t("wt2C"),k=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={hasImageLoadingError:!1},n.handleImageError=function(){n.setState({hasImageLoadingError:!0})},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=r.a.defaultStreamPreviewURL;return!this.state.hasImageLoadingError&&this.props.imageURL&&(e=this.props.imageURL),a.createElement(b.a,{aspect:y.c.Aspect16x9,alt:this.props.altText,src:e,onError:this.handleImageError})},n}(a.Component),S=(t("Epr8"),"https://static-cdn.jtvnw.net/emoticons/v1/58765/2.0"),C={ERROR:"chat-card-error",TITLE:"chat-card-title",DESCRIPTION:"chat-card-description"},E=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderErrorCard=function(){var e=a.createElement("img",{"data-test-selector":C.ERROR,src:S,className:"chat-card__error-img",alt:""});return n.renderCardContent(e,n.props.error)},n.renderCardContent=function(e,n){var t,i;return n?(t=a.createElement(h.a,{bold:!0,"data-test-selector":C.TITLE,title:n.title},n.title),i=a.createElement(h.a,{color:f.f.Alt2,"data-test-selector":C.DESCRIPTION},n.description)):(e=a.createElement(p.a,{overlay:!0}),t=a.createElement(p.a,{width:180}),i=a.createElement(p.a,{width:120})),a.createElement(g.a,{display:f.h.Flex,flexWrap:f.j.NoWrap,padding:.5,className:"chat-card"},a.createElement(g.a,{className:"chat-card__preview-img",background:f.d.Alt2,display:f.h.Flex,alignItems:f.b.Center,justifyContent:f.m.Center,flexShrink:0},e),a.createElement(g.a,{display:f.h.Flex,alignItems:f.b.Center,overflow:f.n.Hidden},a.createElement(g.a,{padding:{left:1},fullWidth:!0},a.createElement(g.a,{className:"chat-card__title",ellipsis:!0},t),a.createElement(g.a,{ellipsis:!0},i))))},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e;if(this.props.error)e=this.renderErrorCard();else if(this.props.data){var n=Object(u.g)(this.props.data.contentURL,{tt_medium:m.PageviewMedium.Chat,tt_content:m.PageviewContent.ChatCard}),t=a.createElement(k,{altText:this.props.data.title,key:this.props.data.previewImageURL,imageURL:this.props.data.previewImageURL});e=a.createElement(g.a,{background:f.d.Base,borderRadius:f.e.Medium,display:f.h.Flex,fullWidth:!0},a.createElement(v.a,{linkTo:n,targetBlank:!0,type:v.b.Alpha,borderRadius:f.e.Medium},this.renderCardContent(t,{title:this.props.data.title,description:this.props.data.description})))}else e=this.renderCardContent();return a.createElement(g.a,{borderRadius:f.e.Medium,elevation:1},e)},n}(a.Component),w=t("SceP"),_={isTimedOut:!1},N=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state=_,n.timeoutID=null,n}return Object(c.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){return e.data.clip&&n.isTimedOut?{isTimedOut:!1}:null},n.prototype.componentDidMount=function(){var e=this;this.props.data.clip||(this.timeoutID=setTimeout((function(){e.setState({isTimedOut:!0})}),5e3))},n.prototype.componentDidUpdate=function(e){!e.data.clip&&this.props.data.clip&&this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},n.prototype.render=function(){var e=this.props.data,n=e.clip,t=e.error,i=e.loading;return t||this.state.isTimedOut?a.createElement(E,{error:{title:Object(r.d)("Something went wrong","ClipsChatCard"),description:Object(r.d)("We couldn't find that Clip","ClipsChatCard")}}):i||!n?a.createElement(E,null):a.createElement(E,{data:{title:n.title||(n.broadcaster&&n.broadcaster.displayName?Object(r.d)("Clip of {broadcaster}",{broadcaster:n.broadcaster.displayName},"ClipsChatCard"):""),description:n.curator&&n.curator.displayName?Object(r.d)("Clipped by {curator}",{curator:n.curator.displayName},"ClipsChatCard"):"",previewImageURL:n.thumbnailURL,contentURL:n.url}})},n}(a.Component),O=Object(l.a)(w,{options:function(e){return{variables:{slug:e.slug},notifyOnNetworkStatusChange:!0,fetchPolicy:e.forceNetworkRequest?"cache-first":"cache-only"}}})(N),D=t("TSYQ"),M=t("gTu3"),I=(t("lpj/"),(i={})[M.a.Default]="",i[M.a.Recipient]="mention-fragment--recipient",i[M.a.Sender]="mention-fragment--sender",i),T=function(e){var n=e.isAtMention?"@":"",t=D("mention-fragment",I[e.currentUserMentionRelation]);return a.createElement("span",{className:t,"data-a-target":"chat-message-mention"},""+n+e.recipient)};T.displayName="MentionFragment";var j,R=t("QVaV"),P=t("sU0Q"),F=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=this.props.data,n=e.video,t=e.error;if(e.loading||!n)return a.createElement(E,null);if(t||!n.owner||!n.owner.login||!n.publishedAt||!n.title)return a.createElement(E,{error:{title:Object(r.d)("Something went wrong","VideoChatCard"),description:Object(r.d)("We couldn't find that video","VideoChatCard")}});var i=a.createElement(h.a,null,Object(r.c)(new Date(n.publishedAt),"medium"),a.createElement("span",null," · "),Object(R.a)(n.owner.login,n.owner.displayName));return a.createElement(E,{data:{title:n.title,description:i,previewImageURL:n.previewThumbnailURL,contentURL:this.props.url}})},n}(a.Component),L=Object(l.a)(P,{options:function(e){return{variables:{videoID:e.id},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-first"}}})(F),A=t("ZtEv"),U=t("RcPG"),x=t("p9DJ"),B=t("x0+1"),V=t("XRPh"),q=t("u5aL"),G=t("ANjH"),H=t("3sMn"),W=t("Tznh"),z=t("VJH5"),Q=t("5e0Q"),Y=t("afq6"),K=t("Mpot");!function(e){e.CancelButton="flagged-fragment-cancel",e.ConfirmButton="flagged-fragment-confirm",e.FeedbackButton="flagged-fragment-feedback",e.FeedbackNo="flagged-fragment-no",e.FeedbackYes="flagged-fragment-yes",e.SettingsLink="flagged-fragment-settings",e.Title="flagged-fragment-title"}(j||(j={}));var $=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={feedbackSelection:null,textShown:!1},n.hasTrackedImpression=!1,n.showSettings=function(){n.props.showChatFilterSettings(W.c.FilteredMessage),n.props.updateChatConfigState({isSettingsOpen:!0}),n.props.onDismissBalloon()},n.showText=function(){n.props.onShowText(),n.setState({textShown:!0}),r.o.track(m.SpadeEventType.ChatFilterMessageInteraction,n.getCommonTrackingProps())},n.onAffirmativeFeedbackSelected=function(){n.setState({feedbackSelection:!0})},n.onNegativeFeedbackSelected=function(){n.setState({feedbackSelection:!1})},n.onSubmit=function(){n.props.onDismissBalloon(),r.o.track(m.SpadeEventType.ChatFilterFeedbackInteraction,Object(c.__assign)(Object(c.__assign)({},n.getCommonTrackingProps()),{value:n.state.feedbackSelection?n.getAffirmativeText():n.getNegativeText()}))},n}return Object(c.__extends)(n,e),n.prototype.render=function(){var e=this,n=Object(r.d)("Cancel","FlaggedFragmentBalloonContent");return this.state.textShown?a.createElement(g.a,{padding:1},a.createElement(Y.a,{label:Object(r.d)("Help improve our filters. Was this message correctly hidden?","FlaggedFragmentBalloonContent")},a.createElement(K.a,{label:this.getAffirmativeText(),name:"flagged-fragment-feedback",onChange:this.onAffirmativeFeedbackSelected,"data-test-selector":j.FeedbackYes}),a.createElement(K.a,{label:this.getNegativeText(),name:"flagged-fragment-feedback",onChange:this.onNegativeFeedbackSelected,"data-test-selector":j.FeedbackNo})),a.createElement(g.a,{display:f.h.Flex,justifyContent:f.m.End},a.createElement(g.a,{margin:{right:1}},a.createElement(Q.a,{onClick:this.props.onDismissBalloon,type:Q.d.Secondary,"data-test-selector":j.CancelButton},n)),a.createElement(Q.a,{disabled:null===this.state.feedbackSelection,onClick:this.onSubmit,"data-test-selector":j.FeedbackButton},Object(r.d)("Submit","FlaggedFragmentBalloonContent")))):(this.hasTrackedImpression||(r.o.track(m.SpadeEventType.ChatFilterMessageImpression,this.getCommonTrackingProps()),this.hasTrackedImpression=!0),a.createElement(g.a,{padding:1},a.createElement(h.a,{bold:!0,type:h.e.H6,"data-test-selector":j.Title},this.getCategoryTitle()),Object(r.d)("Would you like to see this message? It has been hidden for you based on your <x:link>Chat Filter settings</x:link>.",{"x:link":function(n){return a.createElement(x.a,{onClick:e.showSettings,"data-test-selector":j.SettingsLink},n)}},"FlaggedFragmentBalloonContent"),a.createElement(g.a,{display:f.h.Flex,justifyContent:f.m.End},a.createElement(g.a,{margin:{right:1}},a.createElement(Q.a,{onClick:this.props.onDismissBalloon,type:Q.d.Secondary,"data-test-selector":j.CancelButton},n)),a.createElement(Q.a,{onClick:this.showText,"data-test-selector":j.ConfirmButton},Object(r.d)("Show Message","FlaggedFragmentBalloonContent")))))},n.prototype.getCategoryTitle=function(){var e=this.props.messagePart.categories;return 1!==Object.values(e).filter((function(e){return!!e})).length?Object(r.d)("Message Blocked","FlaggedFragmentBalloonContent"):e[z.a.Aggressive]?Object(r.d)("Hostile Message Blocked","FlaggedFragmentBalloonContent"):e[z.a.Identity]?Object(r.d)("Discriminatory Message Blocked","FlaggedFragmentBalloonContent"):e[z.a.Sexual]?Object(r.d)("Sexually Explicit Message Blocked","FlaggedFragmentBalloonContent"):Object(r.d)("Profanity Blocked","FlaggedFragmentBalloonContent")},n.prototype.getAffirmativeText=function(){return Object(r.d)("Yes","FlaggedFragmentBalloonContent")},n.prototype.getNegativeText=function(){return Object(r.d)("No","FlaggedFragmentBalloonContent")},n.prototype.getCommonTrackingProps=function(){var e=this.props.messagePart;return{channel_id:this.props.channelID||"",channel:this.props.channelLogin||"",msg_uuid:this.props.messageID||"",word:e.originalText,aggressive_language_detected:!!e.categories[z.a.Aggressive],explicit_language_detected:!!e.categories[z.a.Sexual],identity_language_detected:!!e.categories[z.a.Identity],profane_language_detected:!!e.categories[z.a.Profanity]}},n}(a.Component);var X,Z=Object(G.d)(Object(W.d)((function(e){return e})),Object(H.b)((function(e){return{updateChatConfigState:function(n){return e.updateChatConfigState(n)},isSettingsOpen:e.isSettingsOpen}})))($),J=(t("VN3V"),function(e){var n,t=e.content,i=e.highlightType,r=e.disableTextSelection,o=D("text-fragment",((n={})["text-fragment--moderated-highlight"]=i===U.a.ModeratedText,n["text-fragment--selection-disabled"]=r,n));return a.createElement("span",{className:o,"data-a-target":"chat-message-text"},t)}),ee=t("4Nlk"),ne=t("IyK4"),te=t("mDIl"),ie=t("YQhk");t("UUau");!function(e){e.Balloon="flagged-fragment-balloon",e.Container="flagged-fragment-container",e.Target="flagged-fragment-span"}(X||(X={}));var ae=function(e){function n(n){var t=e.call(this,n)||this;return t.state={active:!1,balloonDirection:ee.b.TopCenter,balloonXOffset:0,displayed:!1},t.setTopRef=function(e){t.topRef=e},t.setBalloonContentRef=function(e){t.balloonContentRef=e,t.state.active&&t.setState(Object(c.__assign)({},t.getBalloonState()))},t.onClickOut=function(){t.setState({active:!1})},t.onClick=function(){t.setState({active:!0})},t.onShowText=function(){t.setState({displayed:!0},(function(){t.setState(Object(c.__assign)({},t.getBalloonState()))}))},t.onDismissBalloon=function(){t.setState({active:!1})},t.placeholder=new Array(n.messagePart.length+1).join("*"),t}return Object(c.__extends)(n,e),n.prototype.render=function(){return this.state.active?a.createElement("span",{ref:this.setTopRef,"data-test-selector":X.Container},a.createElement(ne.a,{display:f.h.Inline,position:f.o.Relative},a.createElement(q.a,{onClickOut:this.onClickOut},this.renderContent(),a.createElement(te.a,{direction:this.state.balloonDirection,offsetX:this.state.balloonXOffset+"px",show:!0,size:ie.a.Medium},a.createElement("span",{ref:this.setBalloonContentRef,"data-test-selector":X.Balloon}),a.createElement(Z,Object(c.__assign)({},this.props,{onDismissBalloon:this.onDismissBalloon,onShowText:this.onShowText})))))):a.createElement("span",{ref:this.setTopRef,"data-test-selector":X.Container},this.renderContent())},n.prototype.renderContent=function(){var e={"flagged-fragment":!(this.state.displayed&&!this.state.active),"flagged-fragment--active":this.state.active};return this.state.displayed?a.createElement("span",{className:D(e),"data-test-selector":X.Target},se(this.props.messagePart.content)):a.createElement("span",{className:D(e),onClick:this.onClick,"data-test-selector":X.Target},a.createElement(J,{content:this.placeholder}))},n.prototype.getBalloonState=function(){if(this.balloonContentRef&&this.topRef&&this.topRef.offsetParent){var e=this.topRef.offsetParent.getBoundingClientRect(),n=this.balloonContentRef.getBoundingClientRect(),t=this.state.balloonDirection;n.top<e.top&&(t=ee.b.BottomCenter);var i=e.left+20,a=n.left;return{balloonDirection:t,balloonXOffset:this.state.balloonXOffset-(a-i)}}return{balloonDirection:ee.b.TopCenter,balloonXOffset:0}},n}(a.Component),re=(t("Ro6I"),function(e){var n=e.displayText,t=e.url,i=e.highlighted;return a.createElement(x.a,{className:D("link-fragment",{"link-fragment--highlighted":i}),linkTo:t,targetBlank:!0,rel:"noreferrer noopener"},n)});function oe(e,n,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var r=n.content,o=r.displayText,s=r.url;return i?a.createElement(J,{key:"message-span-"+e,content:o}):a.createElement(re,{key:e+"-link",highlighted:t,displayText:o,url:s})}function se(e,n,t){void 0===n&&(n={}),void 0===t&&(t=!1);var i=null,r=e.reduce((function(r,s,d){var c=[];switch(d>0&&e[d-1].type!==U.a.Text&&s.type!==U.a.Text&&c.push(" "),s.type){case U.a.Text:case U.a.ModeratedText:var l=s.content,u=s.type;c.push(a.createElement(J,{key:d,content:l,highlightType:u,disableTextSelection:n.disableTextSelection}));break;case U.a.FlaggedSegment:c.push(a.createElement(ae,{key:d,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,messageID:n.messageSourceID,messagePart:s}));break;case U.a.CurrentUserHighlight:c.push(a.createElement(T,{isAtMention:!1,currentUserMentionRelation:M.a.Recipient,recipient:s.content,key:d}));break;case U.a.Mention:c.push(a.createElement(T,{isAtMention:!0,currentUserMentionRelation:s.content.currentUserMentionRelation,recipient:s.content.recipient,key:d}));break;case U.a.Emote:c.push(a.createElement(V.a,{key:d,emote:s.content,channelID:n.chatChannelID,channelLogin:n.chatChannelLogin,sourceID:n.messageSourceID,sourceType:n.emoteSourceType,referrerID:n.messageAuthorID,disableCard:t}));break;case U.a.Link:c.push(oe(d,s,n.isHighlighted,n.disableLinks));break;case U.a.ClipLink:i||n.disableChatCard||(i=a.createElement(o.a,{key:d+"-ErrorBoundary"},a.createElement(O,{slug:s.content.slug,forceNetworkRequest:n.forceClipsNetworkRequest}))),c.push(oe(d,s,n.isHighlighted,n.disableLinks));break;case U.a.VideoLink:i||n.disableChatCard||(i=a.createElement(L,{key:d,id:s.content.id,url:s.content.url})),c.push(oe(d,s,n.isHighlighted,n.disableLinks))}return r.concat(c)}),[]);return i&&(r=r.concat(i)),r}function de(e){if(e.moderationType===A.e.Delete){var n=e,t=n.userLogin,i=n.body;return a.createElement(B.a,{targetLogin:t,messageBody:i})}if((e=e).moderationType===A.e.Ban)return e.reason?a.createElement("span",{className:"chat-line__moderation--ban-with-reason"},Object(r.d)("{userLogin} has been banned. Reason: {reason}",{userLogin:e.userLogin,reason:e.reason},"ChatLine")):a.createElement("span",{className:"chat-line__moderation--ban"},Object(r.d)("{userLogin} is now banned from this channel.",{userLogin:e.userLogin},"ChatLine"));if(e.reason&&e.duration){var o=Object(r.d)("{duration, plural, one {{userLogin} has been timed out for # second. Reason: {reason}} other {{userLogin} has been timed out for # seconds. Reason: {reason}}}",{duration:e.duration,reason:e.reason,userLogin:e.userLogin},"ChatLine");return a.createElement("span",{className:"chat-line__moderation--timeout-with-reason"},o)}return e.duration?a.createElement("span",{className:"chat-line__moderation--timeout"},Object(r.d)("{duration, plural, one {{userLogin} has been timed out for # second.} other {{userLogin} has been timed out for # seconds.}}",{userLogin:e.userLogin,duration:e.duration},"ChatLine")):void 0}function ce(e){var n=e.daysLeft;0===n&&(n=e.hoursLeft);var t,i={bitsTotal:a.createElement("strong",null,Object(d.f)(e.total,{style:"currency",currency:"USD"})),charityName:a.createElement("strong",null,e.charityName),learnMoreURL:a.createElement(x.a,{linkTo:e.learnMore,targetBlank:!0},e.learnMore),hashtag:a.createElement("strong",null,e.hashtag),timeRemaining:Object(d.f)(n)};return a.createElement("span",null,0===e.daysLeft?(t=i,Object(r.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more hours to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:t.bitsTotal,charityName:t.charityName,timeRemaining:t.timeRemaining,hashtag:t.hashtag,learnMoreURL:t.learnMoreURL},"ChatLine")):function(e){return Object(r.d)("{bitsTotal} total raised so far for {charityName}! {timeRemaining} more days to show support. Cheer and include {hashtag}. Learn More at {learnMoreURL}",{bitsTotal:e.bitsTotal,charityName:e.charityName,timeRemaining:e.timeRemaining,hashtag:e.hashtag,learnMoreURL:e.learnMoreURL},"ChatLine")}(i))}function le(e){var n=e.enabled?Object(r.d)("This room is now in slow mode. You may send messages every {length} seconds.",{length:e.length},"ChatLine"):Object(r.d)("This room is no longer in slow mode.","ChatLine");return a.createElement("span",null,n)}function ue(e){var n;if(e.length>0){var t=e.join(", ");n=Object(r.d)("The moderators of this channel are: {moderatorList}",{moderatorList:t},"ChatLine")}else n=Object(r.d)("There are no moderators of this channel.","ChatLine");return a.createElement("span",null,n)}function me(e){if(e.enabled){var n=0===e.length?Object(r.d)("This room is in followers-only mode.","ChatLine"):Object(r.d)("This room is now in {length} followers-only mode.",{length:Object(s.b)(60*e.length)},"ChatLine");return a.createElement("span",null,n)}return a.createElement("span",null,Object(r.d)("This room is no longer in followers-only mode.","ChatLine"))}function pe(e){return e.enabled?a.createElement("span",null,Object(r.d)("This room is now in emote-only mode.","ChatLine")):a.createElement("span",null,Object(r.d)("This room is no longer in emote-only mode.","ChatLine"))}function he(e){var n=e.enabled?Object(r.d)("This room is now in subscriber-only mode.","ChatLine"):Object(r.d)("This room is no longer in subscriber-only mode.","ChatLine");return a.createElement("span",null,n)}function fe(e){return e.enabled?a.createElement("span",null,Object(r.d)("This room is now in unique-chat mode.","ChatLine")):a.createElement("span",null,Object(r.d)("This room is no longer in unique-chat mode.","ChatLine"))}function ge(e,n){void 0===n&&(n=!1);var t=n?e.getHours():e.getHours()%12;n||0!==t||(t=12);var i=t.toString(),a=e.getMinutes(),r=a.toString();return a<10&&(r="0"+r),n&&t<10&&(i="0"+i),i+":"+r}function ve(e,n){return void 0===n&&(n=!1),a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},ge(new Date(e),n))}function be(e){return a.createElement("span",{key:"timestamp",className:"chat-line__timestamp","data-a-target":"chat-timestamp","data-test-selector":"chat-timestamp"},function(e,n){void 0===n&&(n={});var t=r.p.intl.getLanguageCode()||"en";return Intl.DateTimeFormat(t,n).format(e)}(new Date(e),{hour:"numeric",minute:"numeric"}))}function ye(e){return Object(r.d)("Replying to @{username}:",{username:e},"ChatLine")}function ke(){return Object(r.d)("Thread","ChatLine")}},dF3q:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("/7QA"),r=t("Ix37"),o=t("swlv"),s=i.memo((function(e){var n=r.a.Emoticons;return i.createElement(o.a,{disabled:e.buttonDisabled,icon:n,"aria-label":Object(a.d)("Emote picker","EmotePickerButton"),type:e.isActive?o.c.Primary:o.c.Secondary,onClick:e.onClick,"data-a-target":"emote-picker-button"})}))},dGMd:function(e,n,t){"use strict";t.d(n,"a",(function(){return f})),t.d(n,"b",(function(){return b})),t.d(n,"e",(function(){return y})),t.d(n,"c",(function(){return k})),t.d(n,"d",(function(){return S})),t.d(n,"f",(function(){return C}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("/7QA"),s=t("S4w9"),d=t("geRD"),c=t("DMoW"),l=t("g+79"),u=t("W1jp"),m=t("zdrs"),p=t("2zj6"),h=t("8XBm"),f="300238151",g="436872863",v="channel_points";function b(e){return{icon:r.createElement(l.a,{data:e.reward,size:l.b.ExtraSmall}),title:Object(o.d)("Share Your New Emote","EmoteReward"),body:Object(o.d)("That's a fancy emote you've got there. Share it! You can also get some more.","EmoteReward"),inputValue:e.inputValue,disableCommands:!0}}function y(e,n,t){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:h},Object(d.a)({channelID:e,cost:Object(u.c)(n),transactionID:t})))}function k(e,n,t,a){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:m},Object(d.a)({channelID:e,emoteID:t,cost:Object(u.c)(n),transactionID:a})))}function S(e,n,t,a){return o.p.apollo.client.mutate(Object(i.__assign)({mutation:p},Object(d.a)({channelID:e,emoteID:t,cost:Object(u.c)(n),transactionID:a})))}function C(e){Object(d.j)(s,{withOwner:!0},(function(n){return a(n,(function(e){return e.currentUser.emoteSets}),(function(n){var t=n.filter((function(e){return e.id===f})).length>0;return n=t?n.map((function(n){if(n.id===f){var t=Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:f,type:c.rc.CHANNEL_POINTS,__typename:"Emote"});return a(n,(function(e){return e.emotes}),(function(n){return n?-1!==n.findIndex((function(n){return n&&n.id===e.id}))?n:Object(i.__spreadArrays)(n,[t]):[t]}))}return n})):Object(i.__spreadArrays)(n,[{id:f,emotes:[Object(i.__assign)(Object(i.__assign)({},e),{modifiers:null,setID:f,type:c.rc.CHANNEL_POINTS,__typename:"Emote"})],__typename:"EmoteSet",owner:{__typename:"User",id:g,login:v,displayName:v,profileImageURL:null}}])}))}))}},"dIU+":function(e,n,t){"use strict";t.r(n);var i=t("qYg/");t.d(n,"FollowButton",(function(){return i.a})),t.d(n,"FollowButtonUIType",(function(){return i.b})),t.d(n,"PublicProps",(function(){return i.c}))},dKR6:function(e,n,t){},dsMP:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("OCDW"),s=t("uq9l"),d=t("Yegi"),c=t("5e0Q"),l=t("6tZN"),u=t("Ix37"),m=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showSkipConfirmation:!1},n.showSkipConfirmation=function(){n.setState({showSkipConfirmation:!0})},n.hideSkipConfirmation=function(){n.setState({showSkipConfirmation:!1})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=Object(r.d)("We can show your {monthsSubbed} month sub anniversary reminder to you again later, or choose to:",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubCallout"),n=Object(r.d)("You will not be able to share your {monthsSubbed} month sub anniversary reminder again. Future anniversary reminders will still show.",{monthsSubbed:this.props.event.cumulativeTenureMonths},"ShareResubContextMenu");return this.state.showSkipConfirmation?a.createElement(o.a,null,a.createElement(s.a,null,n),a.createElement(o.a,{padding:{y:2},display:d.h.Flex,justifyContent:d.m.End},a.createElement(o.a,{margin:{right:.5}},a.createElement(c.a,{onClick:this.hideSkipConfirmation,size:c.b.Small,children:Object(r.d)("Go back","ShareResubContextMenu"),type:c.d.Secondary})),a.createElement(c.a,{onClick:this.props.onSkip,size:c.b.Small,children:Object(r.d)("Okay","ShareResubContextMenu")}))):a.createElement(o.a,null,a.createElement(s.a,{bold:!0,color:d.f.Alt2},Object(r.d)("Change when you'll see this","ShareResubCallout")),a.createElement(o.a,{padding:{y:.5}},a.createElement(s.a,{color:d.f.Alt2},e)),a.createElement(o.a,{fullWidth:!0,border:!0,margin:{y:.5}}),this.props.onPin&&a.createElement(l.a,{label:Object(r.d)("Pin this here","ShareResubContextMenu"),onClick:this.props.onPin,figure:{icon:u.a.Pin}}),this.props.onHide&&a.createElement(l.a,{label:Object(r.d)("Show on next visit","ShareResubContextMenu"),onClick:this.props.onHide,figure:{icon:u.a.EventsReminderAdd}}),this.props.onSkip&&a.createElement(l.a,{label:Object(r.d)("Skip this month's alert","ShareResubContextMenu"),onClick:this.showSkipConfirmation,figure:{icon:u.a.VisibilityHidden}}))},n}(a.Component)},e7rh:function(e,n,t){},e9PT:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AutoModSender"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"senderID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"senderID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}}]}}],loc:{start:0,end:178}};i.loc.source={body:'#import "twilight/features/message/fragments/message-sender/sender-fragment.gql"\nquery AutoModSender($senderID: ID! $channelID: ID!) {\nuser (id: $senderID) {\n...messageSender\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("ZJzD").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.AutoModSender=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"AutoModSender")},e9QR:function(e,n,t){},eJ65:function(e,n,t){"use strict";var i=t("bq0i");t.d(n,"a",(function(){return i.a}))},eU9H:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("OCDW"),r=t("Yegi"),o=t("LNol"),s=function(e){return i.createElement(a.a,{display:r.h.Flex,alignItems:r.b.Center},i.createElement(o.a,{asset:e.asset}))}},ebRM:function(e,n,t){"use strict";t.d(n,"c",(function(){return u})),t.d(n,"f",(function(){return m})),t.d(n,"e",(function(){return p})),t.d(n,"d",(function(){return h})),t.d(n,"a",(function(){return f})),t.d(n,"g",(function(){return g})),t.d(n,"b",(function(){return v}));var i=t("mrSG"),a=t("SDEh"),r=t("DMoW"),o=t("lhih"),s=t("5zXJ"),d=t("KriR"),c=t("XmgI"),l=t("RiD7");function u(e){return e.type!==r.t.AD&&"BitsAdOffer"!==e.__typename&&(h(e)&&null!==e.promotion&&e.promotion.type===o.b)}function m(e){return!(!e||e.type===r.t.AD||"BitsAdOffer"===e.__typename)&&(h(e)&&null!==e.promotion&&e.promotion.id===o.a)}function p(e){return e.type!==r.t.AD&&"BitsAdOffer"!==e.__typename&&(h(e)&&null!==e.promotion&&e.promotion.type===o.c)}function h(e){return e.type===r.t.BUNDLE&&"BitsBundleOffer"===e.__typename&&null!==e.promotion&&!!e.promotion}function f(e){var n=0,t=0,i=0,a=0;return e.forEach((function(e){e.cheerAmount&&(e.alt!==s.r?(n=Math.max(n,e.cheerAmount),t=t?Math.min(t,e.cheerAmount):e.cheerAmount,i+=e.cheerAmount):a+=e.cheerAmount)})),{total:i,bonus:a,smallestCheermote:t,largestCheermote:n}}function g(e){var n=e.messageBits,t=n.total,a=n.largestCheermote,r=n.smallestCheermote;if(t){var o={cheerAboveMaxBitsPerEmote:a>s.o,totalAboveBalance:t>e.balance,totalBelowCheerMinimum:t<e.cheerMinimumBits,totalBelowEmoteMinimum:r<e.emoteMinimumBits,inputLongerThanMaxBitsMessage:e.inputValue.length>s.n,inputStartsWithCommand:e.inputValue.startsWith("/")&&!e.inputValue.startsWith("/me")||e.inputValue.startsWith(".")&&!e.inputValue.startsWith(".me"),cheerContainsInvalidDisplayOnlyCheermotes:Object(c.c)(e.inputValue,e.bitsConfig)};if(Object.keys(o).some((function(e){return o[e]})))return Object(i.__assign)({canSpend:!1},o)}return{canSpend:!0}}function v(e){if(e.trackBitsCardInteraction(Object(l.i)(e.bitsAmount),{actionType:l.a.Click,location:e.location}),e.checkoutFormDispatch&&!e.forcePopup){var n={offerID:e.offerID||"",quantity:1,trackingContext:{source:d.a.GetBitsMenu,tenantTracking:{tracking_id:e.trackingID,bits_checkout_id:e.checkoutID}}};return e.closeAllBits&&e.location&&e.location===l.d.GetBitsButtonTopNav&&e.closeAllBits(),void e.checkoutFormDispatch(n)}var t=e.purchaseUrl;if(t){var i=t.replace("{channelID}",e.channelID)+"&tr_id="+e.trackingID+"&co_id="+e.checkoutID,r=window.open(i,"Twitch","width=1024,height=1024,scrollbars=yes");return!r||Object(a.c)()?(e.closeAllBits&&e.closeAllBits(),void e.trackBitsCardInteraction(l.c.CloseCard,{location:e.location})):(r.focus(),r)}}},ehEd:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r}));var i="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_150x150.png",a=function(e){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/1.0"},r=function(e){return"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/2.0 2x"}},esZd:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("q1tI"),r=t("2Ygb");function o(e){return function(n){return function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(o,t),o.prototype.render=function(){return a.createElement(n,Object(i.__assign)({},e(this.props)))},o.displayName=Object(r.a)(o.name,n),o}(a.Component)}}},fBrF:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}));var i,a=t("mrSG"),r=t("q1tI"),o=t("1rIY"),s=(i=Object(o.a)("WatchPartyContext",{isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,updateWatchPartyActive:function(){return null},allowChatOnPageDuringWatchParty:function(){return null}})).context,d=i.withContext,c=function(e){function n(n){var t=e.call(this,n)||this;return t.updateWatchPartyActive=function(e){t.setState({isWatchPartyActive:e})},t.allowChatOnPageDuringWatchParty=function(e){t.setState({canChatOnPageDuringWatchParty:e})},t.state={isWatchPartyActive:!1,canChatOnPageDuringWatchParty:!1,allowChatOnPageDuringWatchParty:t.allowChatOnPageDuringWatchParty,updateWatchPartyActive:t.updateWatchPartyActive},t}return Object(a.__extends)(n,e),n.prototype.render=function(){return r.createElement(s.Provider,{value:this.state},this.props.children)},n}(r.Component)},fDzC:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestModChatLogs"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"Cursor"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"modChatLogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}},{kind:"Argument",name:{kind:"Name",value:"includeTargetedActions"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeMessageCount"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"includeAutoModCaughtMessages"},value:{kind:"BooleanValue",value:!0}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestAutoModCaughtMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestChatMessage"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"unbanRequestTargetedModAction"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestChatMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestAutoModCaughtMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoModCaughtMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modLogsMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fragments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Emote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"emoteID"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"unbanRequestTargetedModAction"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ModLogsTargetedModActionsEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"details"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"details"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TargetedModActionDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}],loc:{start:0,end:1556}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\nquery UnbanRequestModChatLogs($channelID: ID! $cursor: Cursor) {\nbadges {\n...badge\n}\nuser(id: $channelID) {\nid\nlogin\nbroadcastBadges {\n...badge\n}\n}\nchannel(id: $channelID) {\nid\nself {\nmodChatLogs(\nafter: $cursor\nfirst: 5\norder: DESC\nincludeTargetedActions: false\nincludeMessageCount: false\nincludeAutoModCaughtMessages: true\n) {\nedges {\nnode {\n...unbanRequestAutoModCaughtMessage\n...unbanRequestChatMessage\n...unbanRequestTargetedModAction\n}\ncursor\n}\n}\n}\n}\n}\n# fragment for chat message\nfragment unbanRequestChatMessage on ModLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n__typename\n}\n__typename\n}\n__typename\n}\n# fragment for chat message caught by automod\nfragment unbanRequestAutoModCaughtMessage on AutoModCaughtMessage {\nid\nstatus\nmodLogsMessage {\nid\nsentAt\ncontent {\ntext\nfragments {\ntext\ncontent {\n... on Emote {\nemoteID: id\nsetID\ntoken\n}\n... on User {\nid\n}\n__typename\n}\n}\n__typename\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelID: $channelID) {\nid\nsetID\nversion\n}\n__typename\n}\n__typename\n}\n__typename\n}\nfragment unbanRequestTargetedModAction on ModLogsTargetedModActionsEntry {\nid\naction\ntimestamp\nchannel {\nid\nlogin\n}\ntarget {\nid\nlogin\n}\ndetails {\n...details\n}\n__typename\n}\nfragment details on TargetedModActionDetails {\nbannedAt\ndurationSeconds\nexpiresAt\nreason\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("IKE4").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.UnbanRequestModChatLogs=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"UnbanRequestModChatLogs")},fI4C:function(e,n,t){"use strict";t.d(n,"c",(function(){return h})),t.d(n,"d",(function(){return f})),t.d(n,"b",(function(){return g})),t.d(n,"a",(function(){return v})),t.d(n,"m",(function(){return b})),t.d(n,"l",(function(){return y})),t.d(n,"f",(function(){return k})),t.d(n,"g",(function(){return S})),t.d(n,"e",(function(){return C})),t.d(n,"i",(function(){return E})),t.d(n,"h",(function(){return w})),t.d(n,"j",(function(){return _})),t.d(n,"k",(function(){return N}));var i=t("mrSG"),a=t("/7QA"),r=t("vRsq"),o=t("2xye"),s=t("L9xt"),d=t("IZXT"),c=t("I6K6"),l=t("ahza"),u=t("DpwM"),m=t("BQs+"),p=t("CJLt"),h="replay_mode",f="timestamp_mode",g="on",v="off",b=function(e){a.o.track(s.SpadeEventType.VideoChatSettingChanged,e)},y=function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,l,u,h;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.p.apollo.client.query({query:p,variables:{videoCreatorID:e.channelId,videoID:e.contentId}})];case 1:return t=i.sent().data,l={channel:t.video.owner.login,channel_id:Number(e.channelId),game:t.video.game?t.video.game.name:null,location:"vod",share_platform:m.a.Link,share_context:o.ShareItemContext.Chomment,shared_item_id:Object(r.q)(e.contentId),shared_item_type:Object(c.a)(t.video.broadcastType),shared_item_url:n.toString(),partner:t.video.owner.roles.isPartner,source_item_id:e.id,source_item_type:o.SourceItemType.Chomment},u=O(e,t,m.a.Link),a.o.track(s.SpadeEventType.ChommentUIAction,u),a.o.track(s.SpadeEventType.ShareItem,l),[3,3];case 2:return h=i.sent(),Object(d.d)()?a.k.warn(h.toString(),y.name):a.k.errorAndReport(h.toString(),y.name),[3,3];case 3:return[2]}}))}))},k=function(e,n){var t=e.users[0],i=e.comments[0];return{channel:n.user.login,channel_id:Number(i.channelId),comment_id:i.id,comment_state:i.state,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:t.name,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,reply_to_comment_id:Object(u.h)(i)?i.parentId:null,user_id:Number(t.id),vod_id:Number(i.contentId),vod_title:n.video.title,vod_ts:i.contentOffset,vod_type:Object(c.a)(n.video.broadcastType)}},S=function(e,n,t){return{author_id:Number(e.comment.commenter),author_login:t.users[1].login,channel:t.users[0].login,channel_id:Number(e.comment.channelId),comment_id:e.comment.id,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.session.user.login,user_id:Number(n.session.user.id),vod_id:Number(e.comment.contentId),vod_title:t.video.title,vod_type:Object(c.a)(t.video.broadcastType),vod_ts:e.comment.contentOffset}},C=function(e,n,t){return{action:"ban_user",author_id:Number(e.bannedUser),channel_id:Number(e.targetChannel),event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.session.user.login,target_user_id:Number(e.bannedUser),user_id:Number(n.session.user.id),vod_id:Number(t.video.id),vod_title:t.video.title,vod_type:Object(c.a)(t.video.broadcastType),vod_ts:e.comment.contentOffset}},E=function(e,n,t){return{action:"delete",author_id:Number(e.commenter),author_login:t.users[1].login,channel:t.users[0].login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.session.user.login,reply_to_comment_id:e.parentId?e.parentId:null,user_id:Number(n.session.user.id),vod_id:Number(e.contentId),vod_title:t.video.title,vod_type:Object(c.a)(t.video.broadcastType),vod_ts:e.contentOffset}},w=function(e,n,t){var i=null,a=Object.keys(n.vodChat.comments.comments.parentComments);if(a.length>0){var r=a[0];i=n.vodChat.comments.comments.parentComments[r].channelId}return{action:"create",channel_id:i?Number(i):null,comment_body:e.message,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.session.user?n.session.user.login:null,reply_to_comment_id:Object(l.e)(e)?e.parentId:null,user_id:n.session.user?Number(n.session.user.id):null,vod_id:Number(t.video.id),vod_title:t.video.title,vod_ts:Object(l.e)(e)?null:Number(e.contentOffsetSeconds),vod_type:Object(c.a)(t.video.broadcastType)}},_=function(e,n,t){var i=e.comment.id,a=e.comment.channelId;return{action:e.state===u.c?"publish":"unpublish",channel_id:Number(a),comment_id:i,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.session.user.login,user_id:Number(n.session.user.id),vod_id:Number(t.video.id),vod_title:t.video.title,vod_ts:e.comment.contentOffset,vod_type:Object(c.a)(t.video.broadcastType)}},N=function(e,n,t){return{action:"sync_vod_to_time",author_id:Number(e.commenter),channel:t.user.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:t.video.game?t.video.game.name:null,login:n.session.user?n.session.user.login:null,user_id:n.session.user?Number(n.session.user.id):null,vod_id:Number(e.contentId),vod_title:t.video.title,vod_ts:e.contentOffset,vod_type:Object(c.a)(t.video.broadcastType)}},O=function(e,n,t){return{action:"share",author_id:Number(e.commenter),channel:n.video.owner.login,channel_id:Number(e.channelId),comment_id:e.id,event_source:"frontend",game:n.video.game?n.video.game.name:null,login:n.currentUser?n.currentUser.login:null,user_id:n.currentUser?Number(n.currentUser.id):null,vod_id:Number(e.contentId),vod_title:n.video.title,vod_ts:e.contentOffset,vod_type:Object(c.a)(n.video.broadcastType),share_platform:t}}},fIj0:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:186}};t.loc.source={body:"query VideoChatChannelAndVideoTrackingContext($videoCreatorID: ID $videoID: ID) {\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\nuser(id: $videoCreatorID) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChatChannelAndVideoTrackingContext=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChatChannelAndVideoTrackingContext")},fQWD:function(e,n,t){"use strict";var i=t("vHGB");t.d(n,"a",(function(){return i.a}))},fezU:function(e,n,t){"use strict";t.d(n,"b",(function(){return p})),t.d(n,"c",(function(){return h})),t.d(n,"a",(function(){return g}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("kRBY"),s=t("1rIY"),d=t("3sMn"),c=t("1MDS"),l=t("0Hf3"),u=t("oK83"),m=Object(s.a)("ViewerCardContext",{viewerCardOptions:null,onShowViewerCard:function(){return null},onShowExtensionMessageCard:function(){return null},onShowEmoteCard:function(){return null},hideViewerCard:function(){return null}}),p=m.context,h=m.withContext,f=function(e){function n(n){var t=e.call(this,n)||this;return t.onShowViewerCard=function(e,n,i,a){t.setState((function(t){var r=t.viewerCardOptions;return r&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:u.c.Viewer,initialTopOffset:a,sourceID:i,sourceType:n,targetID:e}}}))},t.onShowExtensionMessageCard=function(e,n,i,a){t.setState((function(t){var r=t.viewerCardOptions;return r&&r.viewerCardType===u.c.Extension&&r.targetID===e?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:u.c.Extension,initialTopOffset:a,sourceID:i,targetID:e,extensionVersion:n}}}))},t.onShowEmoteCard=function(e){t.setState((function(n){var t=n.viewerCardOptions;return t&&t.viewerCardType===u.c.Emote&&t.emoteID===e.emoteID?{viewerCardOptions:null}:{viewerCardOptions:{viewerCardType:u.c.Emote,initialTopOffset:e.initialTopOffset||0,sourceID:e.sourceID,emoteSourceType:e.emoteSourceType,targetID:e.referrerID,emoteID:e.emoteID,emoteCode:e.emoteCode}}})),Object(c.c)({emoteLocation:Object(c.b)(e.emoteSourceType),emoticonID:e.emoteID,chatChannel:e.channelLogin,chatChannelID:e.channelID?e.channelID:"",referrerUserID:e.referrerID,action:c.a.Open,msgID:e.sourceID,isLoggedIn:Object(o.f)(r.p.store.getState())})},t.hideViewerCard=function(e){t.setState({viewerCardOptions:null}),e&&Object(l.i)(e)},t.state={viewerCardOptions:null,onShowViewerCard:t.props.onUsernameClick||t.onShowViewerCard,onShowExtensionMessageCard:t.onShowExtensionMessageCard,onShowEmoteCard:t.onShowEmoteCard,hideViewerCard:t.hideViewerCard},t}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){!e.onUsernameClick&&this.props.onUsernameClick&&this.setState({onShowViewerCard:this.props.onUsernameClick})},n.prototype.render=function(){return a.createElement(p.Provider,{value:this.state},this.props.children)},n}(a.Component);var g=Object(d.b)((function(e){return{onUsernameClick:e.onUsernameClick}}))(f)},fnDh:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SquadStream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamMember"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"squadStreamMember"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}}],loc:{start:0,end:186}};t.loc.source={body:"fragment squadStreamData on SquadStream {\nid\nstatus\nmembers {\n...squadStreamMember\n}\nowner {\nid\n}\n}\nfragment squadStreamMember on User {\nid\nlogin\ndisplayName\nprofileImageURL(width:150)\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},frkH:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DenyRejectedChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DenyRejectedChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"denyRejectedChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:138}};t.loc.source={body:"mutation Chat_DenyRejectedChatMessage($input: DenyRejectedChatMessageInput!) {\ndenyRejectedChatMessage(input: $input) {\nmessage {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_DenyRejectedChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_DenyRejectedChatMessage")},"fuk+":function(e,n,t){"use strict";t.d(n,"k",(function(){return a})),t.d(n,"g",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"e",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"b",(function(){return c})),t.d(n,"l",(function(){return l})),t.d(n,"h",(function(){return u})),t.d(n,"m",(function(){return m})),t.d(n,"f",(function(){return p})),t.d(n,"a",(function(){return h})),t.d(n,"j",(function(){return g})),t.d(n,"i",(function(){return v}));var i=t("k5yb");function a(e,n){return void 0===n&&(n=""),Object(i.B)(e,"/settings/revenue"+n)}function r(e){return a(e,"/payout-onboarding")}function o(e){return a(e,"/cheerbadges")}function s(e){return a(e,"/leaderboards")}function d(e){return a(e,"/hype-train")}function c(e){return a(e,"/celebrations")}function l(e){return a(e,"/upgrade-terms")}function u(e){return a(e,"/payouts")}function m(e){return a(e,"/view-terms")}function p(e){return a(e,"/merch-by-amazon")}function h(e){return a(e,"/affiliate-rev-share")}function f(e,n){return void 0===n&&(n=""),a(e,"/subscription"+n)}function g(e){return f(e,"/ticket")}function v(e){return f(e,"/badges")}},fxMP:function(e,n,t){"use strict";t.d(n,"a",(function(){return l})),t.d(n,"e",(function(){return u})),t.d(n,"f",(function(){return m})),t.d(n,"g",(function(){return p})),t.d(n,"d",(function(){return h})),t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return g}));var i=t("i6WW"),a=t("6j5V"),r=t("XmgI"),o=t("4h+t"),s=t("gTu3"),d=t("RcPG"),c=t("a1OF"),l="/me ";function u(e,n,t,i){var a=e.content.text.startsWith(l);return p(e.content.fragments,a,t,n||Object(o.c)(),e.sender&&e.sender.login||void 0,i)}function m(e,n){return p(e.content.fragments,!1,n)}function p(e,n,t,o,u,m){void 0===m&&(m=!0);var p=[];return e.forEach((function(e,h){if(null!==e){var f=e.content||{__typename:"Text"};switch(f.__typename){case"Emote":if(!f.emoteID)return;p.push({type:d.a.Emote,content:{alt:e.text,emoteID:f.emoteID,images:Object(c.b)(f.emoteID,m)}});break;case"CheermoteToken":if(!o)return;var g=f.prefix,v=f.bitsAmount,b=f.tier,y=o.indexedActions[g],k=y&&y.tiers.find((function(e){return e.bits===b})),S=o.tiers.find((function(e){return e.bits===b}));k?p.push({type:d.a.Emote,content:{alt:g,images:Object(r.d)(y,b),cheerAmount:v,cheerColor:null==S?void 0:S.color}}):p.push(Object(a.a)(e.text));break;case"User":var C=s.a.Default;t&&f.login===t?C=s.a.Recipient:t&&u&&u===t&&(C=s.a.Sender),p.push({type:d.a.Mention,content:{recipient:e.text.slice(1),currentUserMentionRelation:C}});break;case"AutoMod":p.push({type:d.a.ModeratedText,content:e.text});break;default:var E=Object(i.a)(e.text,{parseClips:!0,parseVods:!0});if(E)p=p.concat(E);else{var w=e.text;n&&0===h&&w.startsWith(l)&&(w=w.substr(3)),p.push(Object(a.a)(w))}}}})),p}function h(e){return e.map((function(e){var n={text:e.text,content:null,__typename:"RoomMessageFragment"},t=e.cheermote,i=e.emoticon,a=e.mention,r=e.text;return t?n.content={bitsAmount:t.bits_amount,prefix:t.prefix,tier:t.tier,__typename:"CheermoteToken"}:i?n.content={emoteID:i.id,setID:i.set_id,token:r,__typename:"Emote"}:a&&(n.content={id:a.user_id,login:a.login,displayName:a.display_name,__typename:"User"}),n}))}function f(e){return e.map((function(e){return{setID:e.id,version:e.version,__typename:"Badge"}}))}var g=function(e){return e.map((function(e){var n;return e.emoticon?{__typename:"MessageFragment",text:e.text,content:{__typename:"Emote",emoteID:e.emoticon.emoticonID,setID:e.emoticon.emoticonSetID,token:null}}:(null===(n=e.automod)||void 0===n?void 0:n.topics)?{__typename:"MessageFragment",text:e.text,content:{__typename:"AutoMod",topics:Object.entries(e.automod.topics).map((function(e){return{__typename:"AutoModTopic",type:e[0],weight:e[1]}}))}}:{__typename:"MessageFragment",text:e.text,content:null}}))}},"g+79":function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return v}));var i,a,r=t("mrSG"),o=t("TSYQ"),s=t("q1tI"),d=t("4rCz"),c=t("A4KW"),l=t("W1jp"),u=t("IyK4"),m=t("Yegi"),p=t("OCDW"),h=t("JjwZ"),f=t("uq9l"),g=t("eUaf");t("rCSd");!function(e){e.Cost="cost"}(i||(i={})),function(e){e.ExtraSmall="reward-icon--extra-small",e.Small="reward-icon--small",e.Medium="reward-icon--medium",e.Large="reward-icon--large"}(a||(a={}));var v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(n,e),n.prototype.render=function(){var e,n=o(((e={"reward-icon":!0})[this.props.size||a.Medium]=!0,e["reward-icon__animated"]=!!this.props.animateOnHover,e));return s.createElement(u.a,{alignItems:m.b.Center,className:n,borderRadius:this.props.rounded?m.e.Rounded:m.e.Medium,display:m.h.Flex,flexDirection:m.i.Column,justifyContent:m.m.Center,position:m.o.Relative},s.createElement("div",{style:this.customStyles},this.updateIndicatorPill,this.icon,this.cost))},Object.defineProperty(n.prototype,"customStyles",{get:function(){var e=Object(l.b)(this.props.data);return e?{backgroundColor:e}:{}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"icon",{get:function(){var e=this.props.animateOnHover?Object(l.a)(this.props.data):Object(l.e)(this.props.data),n=o({"reward-icon__image":!0,"reward-icon__image--raised":!!this.props.showCost&&this.props.size===a.Large,"reward-icon__image--extra-small":this.props.size===a.ExtraSmall});return s.createElement(p.a,{className:n,display:m.h.Flex,justifyContent:m.m.Center},s.createElement(p.a,{position:m.o.Relative},s.createElement(h.a,Object(r.__assign)({alt:Object(l.f)(this.props.data)},e))))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cost",{get:function(){return this.props.showCost&&this.props.size===a.Large?s.createElement(p.a,{attachBottom:!0,alignItems:m.b.Center,borderRadius:m.e.Small,className:"reward-icon__cost",margin:{y:1},padding:{x:.5},position:m.o.Absolute,"data-test-selector":i.Cost,justifyContent:m.m.Center,display:m.h.Flex,color:m.f.Overlay},s.createElement(p.a,{margin:{right:.5},display:m.h.Flex},s.createElement(c.b,{channelLogin:this.props.channelLogin,iconSize:c.a.XSmall})),s.createElement(f.a,{fontSize:m.k.Size7},Object(d.f)(Object(l.c)(this.props.data)))):null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"updateIndicatorPill",{get:function(){return this.props.showUpdatedContentIndicator&&this.props.size===a.Large?s.createElement(p.a,{attachTop:!0,margin:{top:.5},position:m.o.Absolute},s.createElement(g.a,{label:Object(d.d)("New!","RewardIcon"),type:g.b.Brand})):null},enumerable:!0,configurable:!0}),n}(s.Component)},gDzh:function(e,n,t){},gO1k:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_DeleteChatMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteChatMessageInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteChatMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responseCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:182}};t.loc.source={body:"mutation Chat_DeleteChatMessage($input: DeleteChatMessageInput!) {\ndeleteChatMessage(input: $input) {\nresponseCode\nmessage {\nid\nsender {\nid\nlogin\ndisplayName\n}\ncontent {\ntext\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.Chat_DeleteChatMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"Chat_DeleteChatMessage")},gTu3:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},gb2O:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendSubsOnlyMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendChatMessageThroughSubscriberModeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendChatMessageThroughSubscriberMode"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:163}};t.loc.source={body:"mutation SendSubsOnlyMessage($input: SendChatMessageThroughSubscriberModeInput!) {\nsendChatMessageThroughSubscriberMode(input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SendSubsOnlyMessage=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SendSubsOnlyMessage")},gq8D:function(e,n,t){"use strict";t.d(n,"a",(function(){return v}));var i=t("o0o1"),a=t.n(i),r=t("yXPU"),o=t.n(r),s=t("pVnL"),d=t.n(s),c=t("VbXa"),l=t.n(c),u=t("q1tI"),m=t("SWse"),p=t("IyK4"),h=t("Yegi"),f=t("Mg72"),g=function(e){function n(){var n;return(n=e.apply(this,arguments)||this).refHandler=function(e){n.props.refDelegate&&n.props.refDelegate(e,n.props.id)},n.onExitComplete=function(){n.props.onExitComplete&&n.props.onExitComplete(n.props.id)},n.onTransformEnd=function(){n.props.onTransformEnd&&n.props.onTransformEnd(n.props.id)},n}return l()(n,e),n.prototype.render=function(){var e=!this.props.moveStyles&&!this.props.prepareForTransform,n={};return!1===this.props.transition.show&&void 0===this.props.exitStyles?n.position="absolute":!1===this.props.transition.show&&this.props.exitStyles?n=this.props.exitStyles:this.props.moveStyles&&(n=this.props.moveStyles),u.createElement(f.a,{key:this.props.id,show:!!this.props.transition.show,type:this.props.transition.type||f.d.ScaleOver,transitionInitialMount:!!this.props.transition.transitionInitialMount,duration:this.props.transition.duration,onExitComplete:this.onExitComplete,injectChild:!0},u.createElement("div",{key:this.props.id,ref:this.refHandler,style:d()({},n,{transitionProperty:e?"transform, opacity":"opacity",transitionTimingFunction:"ease"}),onTransitionEnd:this.onTransformEnd},this.props.child))},n}(u.Component);g.displayName="TransitionGroupItem";var v=function(e){function n(){var n;return(n=e.apply(this,arguments)||this).state={childMap:{},initialRenderComplete:!1},n.containerRef=void 0,n.childRefMap={},n.currentlyTransitioningKeys=[],n.setContainerRef=function(e){n.containerRef=e},n.setItemRef=function(e,t){e&&(n.childRefMap[t]=e)},n.onTransformEnd=function(e){n.currentlyTransitioningKeys=n.currentlyTransitioningKeys.filter((function(n){return n!==e}))},n.deleteChild=function(e){e in n.state.childMap&&(delete n.childRefMap[e],n.setState((function(n){var t=d()({},n.childMap);return delete t[e],{childMap:t}})))},n.measureItems=function(e){var t={};return e.filter((function(e){return e in n.childRefMap})).forEach((function(e){e in t||(t[e]=n.childRefMap[e].getBoundingClientRect())})),t},n.setTransforms=function(){var e=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){n.setState((function(e){var i=e.childMap,a=d()({},i),r=t.moved,o=t.exited,s=t.container,c=r,l=n.measureItems(Object.keys(r));return Object.keys(c).forEach((function(e){var n=c[e].left-l[e].left,t=c[e].top-l[e].top;a[e].moveStyles={transform:"translate3d("+n+"px, "+t+"px,0)"},a[e].prepareForTransform=!1})),Object.keys(o).forEach((function(e){var n=o[e],t=n.left-(s?s.left:0),i=n.top-(s?s.top:0);a[e].exitStyles={top:i+"px",left:t+"px",position:"absolute",width:n.width+"px",height:n.height+"px"}})),{childMap:a}}),e)})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.clearMoveStyles=function(e){n.setState((function(n){var t=d()({},n.childMap);return e.forEach((function(e){return t[e].moveStyles=void 0})),{childMap:t}}))},n.ensureLayoutReflow=function(){var e=n.childRefMap[Object.keys(n.childRefMap)[0]];e&&e.scrollTop},n}l()(n,e),n.getDerivedStateFromProps=function(e,n){var t,i,a,r=n.childMap,o=(t=e.children,a={},null==(i=u.Children.map(t,(function(e){return e})))||i.forEach((function(e){if(null!==e.key){var n={id:e.key,transition:{show:!0},child:e};a[e.key]=n}})),a);if(!n.initialRenderComplete)return{childMap:o,initialRenderComplete:!0};var s=function(e,n){var t=Object.keys(e).filter((function(n){return!0===e[n].transition.show}));return Object.keys(n).filter((function(n,i){return t[i]!==n&&n in e}))}(r,o),d=function(e,n){function t(t){return t in n?n[t]:e[t]}e=e||{},n=n||{};var i,a=Object.create(null),r=[];for(var o in e)o in n?r.length&&(a[o]=r,r=[]):r.push(o);var s={};for(var d in n){if(a[d])for(i=0;i<a[d].length;i++){var c=a[d][i];s[a[d][i]]=t(c)}s[d]=t(d)}for(i=0;i<r.length;i++)s[r[i]]=t(r[i]);return s}(r,o);return Object.keys(d).forEach((function(e){var n=e in r,t=e in o,i=s.includes(e);n&&(d[e].moveStyles=r[e].moveStyles,d[e].exitStyles=r[e].exitStyles,d[e].transition=r[e].transition),d[e].prepareForTransform=i,t&&!n?(d[e].transition.show=!0,d[e].transition.transitionInitialMount=!0):!t&&n?d[e].transition.show=!1:t&&n&&!1===d[e].transition.show&&(d[e].transition.show=!0,d[e].exitStyles=void 0)})),{childMap:d}};var t=n.prototype;return t.getSnapshotBeforeUpdate=function(){var e=this.state.childMap,n=Object.keys(e).filter((function(n){return!0===e[n].prepareForTransform})),t=Object.keys(e).filter((function(n){return!1===e[n].transition.show&&!e[n].exitStyles}));return 0===n.length&&0===t.length?null:{moved:this.measureItems([].concat(n,this.currentlyTransitioningKeys)),exited:this.measureItems(t),container:t.length&&this.containerRef?this.containerRef.getBoundingClientRect():void 0}},t.componentDidUpdate=function(e,n,t){var i=this;if(t&&0!==Object.keys(t).length){var a=Object.keys(t.moved);this.setTransforms(t).then((function(){a&&(i.ensureLayoutReflow(),i.clearMoveStyles(a),i.currentlyTransitioningKeys=a.filter((function(e){return!(e in t.exited)})))}))}},t.render=function(){var e=this;if(!this.state.childMap)return null;var n=Object.keys(this.state.childMap).map((function(n){var t=e.state.childMap[n];return u.createElement(g,d()({},t,{key:n,transition:d()({},t.transition,{duration:e.props.duration,type:e.props.transitionType}),refDelegate:e.setItemRef,onExitComplete:e.deleteChild,onTransformEnd:e.onTransformEnd}))}));return u.createElement(p.a,{position:h.o.Relative},u.createElement("div",{className:Object(m.a)(this.props.className,"tw-transition-group"),ref:this.setContainerRef},this.props.component?u.cloneElement(this.props.component,void 0,n):n))},n}(u.Component);v.displayName="TransitionGroup"},h4kp:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionOutcomeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionOutcome"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalUsers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topPredictors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"points"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:149}};t.loc.source={body:"fragment predictionOutcomeFragment on PredictionOutcome {\nid\ncolor\ntitle\ntotalPoints\ntotalUsers\ntopPredictors {\nid\npoints\nuser {\nid\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},hO8c:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}));var i=t("mrSG"),a=t("q1tI"),r=t("1rIY"),o=Object(r.a)("PrivateCalloutQueueContext",{callouts:[],pinnedCallout:null,pinCallout:function(e){return null},pushCallout:function(e){return null},popCallout:function(){return null},clearCalloutType:function(e){return null},unpinCallout:function(){return null}}),s=o.context,d=o.withContext,c=function(e){function n(n){var t=e.call(this,n)||this;return t.popCallout=function(){t.setState((function(e){return{callouts:Object(i.__spreadArrays)(e.callouts.slice(1))}}))},t.pushCallout=function(e,n){if(void 0===n&&(n=!1),n)for(var a=0,r=t.state.callouts;a<r.length;a++){if(r[a].event.type===e.event.type)return}t.setState((function(n){return{callouts:Object(i.__spreadArrays)(n.callouts,[e])}}))},t.clearCalloutType=function(e){t.setState((function(n){return{callouts:Object(i.__spreadArrays)(n.callouts.filter((function(n){return n.event.type!==e})))}}))},t.pinCallout=function(e){t.setState({pinnedCallout:e})},t.unpinCallout=function(){t.setState({pinnedCallout:null})},t.state={callouts:[],pinnedCallout:null,pinCallout:t.pinCallout,pushCallout:t.pushCallout,popCallout:t.popCallout,clearCalloutType:t.clearCalloutType,unpinCallout:t.unpinCallout},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(s.Provider,{value:this.state},this.props.children)},n}(a.Component)},hgww:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"availableClaimFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableClaim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:109}};t.loc.source={body:"fragment availableClaimFragment on User {\nchannel {\nid\nself {\ncommunityPoints {\navailableClaim {\nid\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},ht6z:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("/7QA");function a(e){var n=i.b.get("prime_blocked_regions",[]);return!!e&&!n.includes(e.toUpperCase())}},htKM:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("ZtEv");function a(e){switch(e.type){case i.b.Message:return[{displayName:e.user.userDisplayName,id:e.user.userID,login:e.user.userLogin}];case i.b.Ritual:return[{displayName:e.message.user.userDisplayName,id:e.message.user.userID,login:e.message.user.userLogin}];case i.b.Raid:return[{displayName:e.params.displayName,id:e.params.userID,login:e.params.login}];case i.b.Resubscription:case i.b.Subscription:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username}];case i.b.SubGift:return[{displayName:e.user.displayName,id:e.user.userID,login:e.user.username},{displayName:e.recipientDisplayName,id:e.recipientID,login:e.recipientLogin}];case i.b.ChannelPointsReward:case i.b.CommunityChallengeContribution:return[{displayName:e.displayName,id:e.userID,login:e.login}];default:return[]}}},"i5+p":function(e,n,t){"use strict";t.d(n,"j",(function(){return o})),t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return d})),t.d(n,"f",(function(){return c})),t.d(n,"e",(function(){return l})),t.d(n,"g",(function(){return u})),t.d(n,"d",(function(){return p})),t.d(n,"i",(function(){return h})),t.d(n,"c",(function(){return g})),t.d(n,"h",(function(){return v}));var i=t("DMoW"),a=t("4rCz"),r=t("SSXq");function o(e){return e.sort((function(e,n){return e.votes.total>n.votes.total?-1:e.votes.total<n.votes.total?1:0}))}function s(e){return Object(r.a)("/popout/"+e+"/poll")}function d(e){return document.location.origin+"/popout/"+e+"/poll"}function c(e){return e===i.Hd.ACTIVE||e===i.Hd.COMPLETED||e===i.Hd.TERMINATED}function l(e){return e===i.Hd.COMPLETED||e===i.Hd.TERMINATED||e===i.Hd.ARCHIVED||e===i.Hd.MODERATED}function u(e){var n=null;e.top_bits_contributor&&(n=function(e){return{__typename:"PollTopBitsContributor",bitsAmount:e.bits_contributed,user:{__typename:"User",id:e.user_id,displayName:e.display_name}}}(e.top_bits_contributor));var t,i,a=null;return e.top_channel_points_contributor&&(a={__typename:"PollTopCommunityPointsContributor",communityPointsAmount:(t=e.top_channel_points_contributor).channel_points_contributed,user:{__typename:"User",id:t.user_id,displayName:t.display_name}}),{__typename:"Poll",id:e.poll_id,choices:(i=e.choices,void 0===i?[]:i.map((function(e){return{__typename:"PollChoice",id:e.choice_id,title:e.title,tokens:{__typename:"PollTokenBreakdown",bits:void 0!==e.tokens.bits?e.tokens.bits:0,communityPoints:void 0!==e.tokens.channel_points?e.tokens.channel_points:0,id:e.choice_id},totalVoters:void 0!==e.total_voters?e.total_voters:0,votes:{__typename:"PollVoteBreakdown",total:void 0!==e.votes.total?e.votes.total:0,base:void 0!==e.votes.base?e.votes.base:0,communityPoints:void 0!==e.votes.channel_points?e.votes.channel_points:0,bits:void 0!==e.votes.bits?e.votes.bits:0,id:e.choice_id}}}))),durationSeconds:e.duration_seconds,remainingDurationMilliseconds:e.remaining_duration_milliseconds,ownedBy:{__typename:"User",id:e.owned_by},createdBy:{__typename:"User",id:e.created_by},startedAt:e.started_at,endedAt:e.ended_at,status:e.status,title:e.title,tokens:{__typename:"PollTokenBreakdown",id:e.poll_id,bits:e.tokens.bits,communityPoints:e.tokens.channel_points},votes:{__typename:"PollVoteBreakdown",id:e.poll_id,total:e.votes.total,base:e.votes.base,bits:e.votes.bits,communityPoints:e.votes.channel_points},totalVoters:e.total_voters,settings:{__typename:"PollSettings",id:e.poll_id,multichoice:{__typename:"PollSettingsMultichoice",isEnabled:e.settings.multi_choice.is_enabled},bitsVotes:{__typename:"PollSettingsBitsVotes",isEnabled:e.settings.bits_votes.is_enabled,cost:e.settings.bits_votes.cost},communityPointsVotes:{__typename:"PollSettingsCommunityPointsVotes",isEnabled:e.settings.channel_points_votes.is_enabled,cost:e.settings.channel_points_votes.cost}},topBitsContributor:n,topCommunityPointsContributor:a}}function m(e,n,t){return"pollsVoteAgainDialog__"+t+"_"+e+"_"+(n||"anonymous")}function p(e,n,t){return a.n.get(m(e,n,t),!0)}function h(e,n,t,i){return a.n.set(m(e,n,t),i)}function f(e,n){return"isPollDismissed_"+e+"_"+(n||"anonymous")}function g(e,n){return a.n.get(f(e,n),!1)}function v(e,n,t){a.n.set(f(e,n),t)}},i6WW:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("RcPG"),a=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/((?:\\w|_|-|=)+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),r=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/((\\w|_|-|=)+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");var s=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,10}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function d(e,n){void 0===n&&(n={});var t=[],d=e.match(s);if(!d)return null;var c=d[0],l=e.indexOf(c);if(l>0){if("@"===e[l-1])return null;t.push({type:i.a.Text,content:e.slice(0,l)})}var u=d[1],m=d[2];(function(e){var n,t=e[e.length-1];if(")"!==t)return!1;n="(";for(var i=0,a=0,r=e.length-1;a<r;a++){var o=e[a];o===n?i++:o===t&&(i=Math.max(i-1,0))}return 0===i})(c)&&(c=c.slice(0,-1),m=m.slice(0,-1));var p=""+(u||"https://")+m;if(n.parseClips&&function(e){void 0===e&&(e="");var n=a.test(e)&&!e.includes("clips.twitch.tv/2017/"),t=r.test(e);return n||t}(p)){var h=function(e){void 0===e&&(e="");var n=e.match(a);if(n&&n.length>0&&void 0!==n.index)return n[1];var t=e.match(r);return t&&t.length>0&&void 0!==t.index?t[2]:""}(p);if("create"!==h)return t.push({type:i.a.ClipLink,content:{slug:h,url:p,displayText:c}}),t}if(n.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(p)){var f=function(e){void 0===e&&(e="");var n=e.match(o);return null===n?"":n&&n.length>0&&void 0!==n.index?n[1]:""}(p);return t.push({type:i.a.VideoLink,content:{id:f,url:p,displayText:c}}),t}return t.push({type:i.a.Link,content:{displayText:c,url:p}}),l+c.length<e.length&&t.push({type:i.a.Text,content:e.slice(l+c.length,e.length)}),t}},iJU5:function(e,n,t){},ikJD:function(e,n,t){"use strict";t.d(n,"b",(function(){return k})),t.d(n,"c",(function(){return S})),t.d(n,"a",(function(){return E}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("/MKj"),s=t("ANjH"),d=t("/7QA"),c=t("yR8l"),l=t("eDVu"),u=t("0Log"),m=t("geRD"),p=t("/aPz"),h=t("kRBY"),f=t("1rIY"),g=t("wXos"),v=t("3vmv"),b="emoteAnimationsEnabled",y=Object(f.a)("EmoteAnimationsSettingContext",{setValue:function(){return null},value:!0}),k=y.context,S=y.withContext,C=function(e){function n(n){var t=e.call(this,n)||this;return t.setValue=function(e){if(t.setState({localOverride:e}),d.m.set(b,e),t.props.isLoggedIn){var n=Object(i.__assign)(Object(i.__assign)({},Object(m.a)({isEmoteAnimationsEnabled:e})),{optimisticResponse:{setEmoteAnimationsEnabled:{__typename:"SetEmoteAnimationsEnabledPayload",isEmoteAnimationsEnabled:e}},update:function(n){var t;try{t=n.readQuery({query:v})}catch(e){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var i=a(t,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e}));n.writeQuery({query:v,data:i})}}});t.props.setEmoteAnimations(n)}},t.state={},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return r.createElement(k.Provider,{value:{setValue:this.setValue,value:this.value}},this.props.children)},n.prototype.componentDidUpdate=function(e){var n,t,i;if(this.hasData(this.props)&&!this.hasData(e)){var a=null===(i=null===(t=null===(n=this.props.data)||void 0===n?void 0:n.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===i?void 0:i.isEmoteAnimationsEnabled;null!=a?d.m.set(b,a):this.setValue(this.value)}},n.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(n.prototype,"value",{get:function(){var e,n,t;if(void 0!==this.state.localOverride)return this.state.localOverride;var i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===n?void 0:n.chatUISettings)||void 0===t?void 0:t.isEmoteAnimationsEnabled;return null!=i?i:d.m.get(b,!0)},enumerable:!0,configurable:!0}),n}(r.Component);var E=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(h.f)(e)}})),Object(c.a)(v,{skip:function(e){return!e.isLoggedIn}}),Object(l.a)((function(e){var n,t;return{query:v,topic:Object(p.cb)((null===(t=null===(n=e.data)||void 0===n?void 0:n.currentUser)||void 0===t?void 0:t.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==u.PubsubMessageType.UserPreferencesEmoteAnimations},type:u.PubsubMessageType.UserPreferencesEmoteAnimations,mutator:function(e,n){return n=a(n,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e.new_value}))}}})),Object(c.a)(g,{name:"setEmoteAnimations"}))(C)},ilCE:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RaidUpsell_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"targetChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"targetChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sourceChannel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"sourceChannelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};t.loc.source={body:"query RaidUpsell_Channel($targetChannelLogin: String $sourceChannelLogin: String) {\ntargetChannel: user(login: $targetChannelLogin) {\nid\nlogin\ndisplayName\n}\nsourceChannel: user(login: $sourceChannelLogin) {\nid\nstream {\nid\nviewersCount\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.RaidUpsell_Channel=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"RaidUpsell_Channel")},ilvU:function(e,n,t){"use strict";t.d(n,"c",(function(){return m})),t.d(n,"e",(function(){return p})),t.d(n,"b",(function(){return g})),t.d(n,"d",(function(){return v})),t.d(n,"a",(function(){return b}));var i=t("q1tI"),a=t("f00E"),r=t("1rIY"),o=t("mrSG"),s=t("uGUt"),d=function(e,n){var t=e.highlights[e.currentIndex];switch(n.type){case s.a.PushHighlight:var i=e.highlights.findIndex((function(e){return e.id===n.id}));if(i>=0){var r={event:n.event,expanded:e.highlights[i].expanded,id:n.id,viewUUID:n.viewUUID};return Object(o.__assign)(Object(o.__assign)({},e),{highlights:c(e.highlights,r,i)})}var d={event:n.event,expanded:!1,id:n.id,viewUUID:n.viewUUID},u=e.currentIndex;t&&t.expanded&&(u+=1);var m=t&&t.expanded||e.listAllView;return Object(o.__assign)(Object(o.__assign)({},e),{highlights:l(e.highlights,d,u),notifications:m?Object(o.__spreadArrays)([n.id],e.notifications):e.notifications});case s.a.RemoveHighlight:var p=e.highlights.filter((function(e){return e.id!==n.id})),h=e.notifications.filter((function(e){return e!==n.id})),f=e.currentIndex;f>p.length-1&&(f=Math.max(p.length-1,0));var g=e.listAllView,v=e.uuid;return 0===p.length&&(g=!1,v=Object(a.c)()),{highlights:p,currentIndex:f,notifications:h,listAllView:g,uuid:v};case s.a.MoveToHighlight:var b=e.highlights.findIndex((function(e){return e.id===n.id}));if(b>=0){var y=e.highlights[b],k=n.shouldExpand?c(e.highlights,Object(o.__assign)(Object(o.__assign)({},y),{expanded:!0}),b):e.highlights;return Object(o.__assign)(Object(o.__assign)({},e),{highlights:k,currentIndex:b,notifications:[],listAllView:!1})}return e;case s.a.ToggleExpanded:var S=e.highlights.findIndex((function(e){return e.id===n.id}));if(S>=0){var C=e.highlights[S];return C.expanded=!C.expanded,Object(o.__assign)(Object(o.__assign)({},e),{highlights:c(e.highlights,C,S)})}return e;case s.a.OpenListAllView:return Object(o.__assign)(Object(o.__assign)({},e),{listAllView:!0});case s.a.CloseListAllView:return Object(o.__assign)(Object(o.__assign)({},e),{notifications:[],listAllView:!1});default:return e}},c=function(e,n,t){return e.map((function(e,i){return i===t?n:e}))},l=function(e,n,t){return Object(o.__spreadArrays)(e.slice(0,t),[n],e.slice(t))},u=Object(r.a)("HighlightStackDispatchContext",(function(){return null})),m=u.context,p=u.withContext,h={highlights:[],notifications:[],currentIndex:0,listAllView:!1,uuid:Object(a.c)()},f=Object(r.a)("HighlightStackContext",h),g=f.context,v=f.withContext,b=function(e){var n=i.useReducer(d,h),t=n[0],a=n[1];return i.createElement(m.Provider,{value:a},i.createElement(g.Provider,{value:t},e.children))}},"j+2s":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatList_Badges"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selectedBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"squadStream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"squadStreamData"},directives:[]}]}}]}}]}}],loc:{start:0,end:381}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/squad-stream/models/squad-stream-fragment.gql"\nquery ChatList_Badges($channelLogin: String!) {\nbadges {\n...badge\n}\nuser(login: $channelLogin) {\nid\nprimaryColorHex\nbroadcastBadges {\n...badge\n}\nself {\nselectedBadge {\n...badge\n}\ndisplayBadges {\n...badge\n}\n}\nsquadStream {\n...squadStreamData\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("IKE4").definitions)),i.definitions=i.definitions.concat(r(t("fnDh").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChatList_Badges=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChatList_Badges")},j0ar:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var i=t("mrSG"),a=t("TSYQ"),r=t("q1tI"),o=t("x1M1"),s=t("OCDW"),d=t("Yegi"),c=t("oBNK"),l=t("uq9l"),u=(t("9KaG"),function(e){function n(n){var t=e.call(this,n)||this;return t.onMouseOver=function(){t.setState({isHovering:!0})},t.onMouseOut=function(){t.setState({isHovering:!1})},t.renderImage=function(){var e=null,n=a("chat-image",{"chat-image__animated":!!t.props.cheerText},t.props.className);if(t.props.srcSet.themed)e=r.createElement(o.a,{alt:t.props.alt,className:n,defaultRes:t.props.srcKey,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,sources:t.props.srcSet});else{for(var i=[],s=0,d=Object.keys(t.props.srcSet.sources);s<d.length;s++){var c=d[s];i.push(t.props.srcSet.sources[c]+" "+c)}e=r.createElement("img",{className:n,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,src:t.props.srcSet.sources[t.props.srcKey],srcSet:i.join(","),alt:t.props.alt})}return e},t.state={isHovering:!1},t}return Object(i.__extends)(n,e),n.prototype.render=function(){var e,n=r.createElement(r.Fragment,null,r.createElement(s.a,{className:"chat-image__container",display:d.h.InlineBlock,textAlign:d.q.Center},this.renderImage()),this.props.cheerText);return e=this.state.isHovering?r.createElement(c.a,{direction:this.props.tooltipDirection||c.c.Top,label:this.props.alt,display:d.h.Inline,offsetY:"0.9rem","data-a-target":"emote-name"},n):r.createElement("span",{"data-a-target":"emote-name"},n),this.props.cheerText?r.createElement(l.a,{type:l.e.Span,whiteSpace:l.f.NoWrap},e):e},n}(r.Component))},j53S:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("q1tI"),r=t("5zf8"),o=t("lVPZ"),s=function(e){function n(n){var t=e.call(this,n)||this;return t.setTimeRemaining=function(){t.state.remainingTimeSeconds>0?t.setState((function(e){return{remainingTimeSeconds:e.remainingTimeSeconds-1}})):t.props.onCompletion&&(t.countdownTimer.stop(),t.props.onCompletion())},t.state={remainingTimeSeconds:n.timeToCountDownFromSeconds},t}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.countdownTimer=new o.a({onInterval:this.setTimeRemaining,intervalMillis:1e3}),this.countdownTimer.start()},n.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},n.prototype.render=function(){return a.createElement(a.Fragment,null,Object(r.b)(this.state.remainingTimeSeconds,this.props.durationStyle||r.a.Humanized))},n}(a.Component)},jBwP:function(e,n,t){"use strict";t.d(n,"b",(function(){return S})),t.d(n,"c",(function(){return C})),t.d(n,"a",(function(){return E}));var i=t("q1tI"),a=t("CGXs"),r=t("eirU"),o=t("8XDC"),s=t("0Log"),d=t("/aPz"),c=t("1rIY"),l=t("W/3w"),u=t("mr+n"),m=t("92xe"),p=t("w09P"),h=t("geRD"),f=function(e,n){return Object(h.j)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.subscriptionProducts[0].hasSubOnlyChat}),(function(){return e}))}))},g=function(e,n){return Object(h.j)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.chatSettings.isEmoteOnlyModeEnabled}),(function(){return e}))}))},v=function(e,n){return Object(h.j)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.chatSettings.followersOnlyDurationMinutes}),(function(){return e}))}))},b=function(e,n){return Object(h.j)(m,{login:n},(function(n){return p(n,(function(e){return e.channel.chatSettings.slowModeDurationSeconds}),(function(){return e}))}))},y={canSubscribe:!1,emoteOnlyMode:!1,followerDuration:l.a,followerMode:!1,slowMode:!1,slowModeDuration:u.a,subsOnlyMode:!1,updateRoomState:function(){return null},initialStateLoaded:!1},k=Object(c.a)("ChatRoomStateContext",y),S=k.context,C=k.withContext,E=function(e){var n,t,c,l,u,p,h,k,C,E,w,_,N,O=i.useState(!1),D=O[0],M=O[1],I=Object(r.d)(m,{variables:{login:e.channelLogin}}),T=I.data,j=I.loading,R=null===(n=null==T?void 0:T.channel)||void 0===n?void 0:n.id,P=R&&Object(d.U)(R),F=Object(a.a)(P||"",!R,(function(e){return e.type!==s.PubsubMessageType.StreamChatRoomUpdate}))[0],L=Object(o.a)(F),A=function(e){var n,t,i,a,o=Object(r.d)(m,{variables:{login:e}}).data,s=(null===(n=null==o?void 0:o.channel)||void 0===n?void 0:n.chatSettings)||{},d=s.isEmoteOnlyModeEnabled,c=s.followersOnlyDurationMinutes,l=s.slowModeDurationSeconds,u=!!d,p=null!=c?c:null,h=null!=l?l:null,y=(null===(a=null===(i=null===(t=null==o?void 0:o.channel)||void 0===t?void 0:t.subscriptionProducts)||void 0===i?void 0:i[0])||void 0===a?void 0:a.hasSubOnlyChat)||!1;return function(n){var t,i,a,r=n.data.room.modes,s=r.emote_only_mode_enabled,d=r.slow_mode_duration_seconds,c=r.followers_only_duration_minutes,l=r.subscribers_only_mode_enabled;l!==y&&(null===(i=null===(t=null==o?void 0:o.channel)||void 0===t?void 0:t.subscriptionProducts)||void 0===i?void 0:i[0])?f(l,e):(null===(a=null==o?void 0:o.channel)||void 0===a?void 0:a.chatSettings)&&(s!==u&&g(s,e),p!==c&&v(c,e),h!==d&&b(d,e))}}(e.channelLogin),U=i.useState(!1),x=U[0],B=U[1],V=!!(null===(c=null===(t=null==T?void 0:T.channel)||void 0===t?void 0:t.subscriptionProducts)||void 0===c?void 0:c[0]);i.useEffect((function(){if(F&&L!==F){var e=F;A(e),V||B(e.data.room.modes.subscribers_only_mode_enabled)}}),[F,V,A,L]);var q=!!(null===(u=null===(l=null==T?void 0:T.channel)||void 0===l?void 0:l.chatSettings)||void 0===u?void 0:u.isEmoteOnlyModeEnabled),G=null===(h=null===(p=null==T?void 0:T.channel)||void 0===p?void 0:p.chatSettings)||void 0===h?void 0:h.followersOnlyDurationMinutes,H=null===(C=null===(k=null==T?void 0:T.channel)||void 0===k?void 0:k.chatSettings)||void 0===C?void 0:C.slowModeDurationSeconds,W=q,z=null!=G?G:-1,Q=null!==G,Y=null!==H,K=null!=H?H:-1,$=null===(w=null===(E=null==T?void 0:T.channel)||void 0===E?void 0:E.subscriptionProducts)||void 0===w?void 0:w[0],X=!!$,Z=null!==(_=null==$?void 0:$.hasSubOnlyChat)&&void 0!==_?_:x,J=i.useCallback((function(e){D||(void 0!==e.subsOnly&&B(e.subsOnly),M(!0))}),[D]),ee=i.useMemo((function(){return{canSubscribe:X,emoteOnlyMode:W,followerDuration:z,followerMode:Q,slowMode:Y,slowModeDuration:K,subsOnlyMode:Z,initialStateLoaded:D,updateRoomState:J}}),[X,W,z,Q,D,Y,K,Z,J]);return j||!(null===(N=null==T?void 0:T.channel)||void 0===N?void 0:N.chatSettings)?i.createElement(S.Provider,{value:y},e.children):i.createElement(S.Provider,{value:ee},e.children)}},jC1Z:function(e,n,t){"use strict";t.d(n,"c",(function(){return p})),t.d(n,"b",(function(){return h})),t.d(n,"d",(function(){return g})),t.d(n,"a",(function(){return v}));var i=t("mrSG"),a=t("q1tI"),r=t("CGXs"),o=t("eirU"),s=t("0Log"),d=t("/aPz"),c=t("1rIY"),l=t("kxrW"),u=t("NEj2"),m=Object(c.a)("IsStreamLiveContext",{broadcastID:void 0,isLive:!1,onStreamStatusChange:function(){},streamCreatedAt:void 0}),p=m.withContext,h=m.context,f=function(e){return e};function g(e){return p(f)(e)}var v=function(e){var n=e.channelID,t=a.useState({broadcastID:void 0,isLive:!1,onStreamStatusChange:function(e){c((function(n){return Object(i.__assign)(Object(i.__assign)({},n),{isLive:e===l.a.Online})}))},streamCreatedAt:void 0}),s=t[0],c=t[1],m=s.broadcastID,p=s.isLive,f=s.streamCreatedAt,g=Object(r.a)(n?Object(d.gb)(e.channelID):"",!n)[0],v=Object(o.d)(u,{pollInterval:n?3e5:void 0,skip:!n||b(g)||!!(y(g)&&p&&m&&f),variables:{id:n}}),k=v.data,S=v.refetch;return a.useEffect((function(){var e;if(b(g)&&(m||p||f))c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{broadcastID:void 0,isLive:!1,streamCreatedAt:void 0})}));else{if(y(g)&&!p)return c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isLive:!0})})),void S();var n=null===(e=null==k?void 0:k.user)||void 0===e?void 0:e.stream,t=null==n?void 0:n.id,a=null==n?void 0:n.createdAt;!b(g)&&t&&t!==m&&a&&a!==f&&c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{broadcastID:t,isLive:!0,streamCreatedAt:a})}))}}),[m,k,p,g,S,f]),a.createElement(h.Provider,{value:s},e.children)};function b(e){return(null==e?void 0:e.type)===s.PubsubMessageType.ChannelStreamDown}function y(e){return(null==e?void 0:e.type)===s.PubsubMessageType.ChannelStreamUp}},jPLR:function(e,n,t){},jgvh:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CancelUnbanRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CancelUnbanRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cancelUnbanRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unbanRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:145}};t.loc.source={body:"mutation CancelUnbanRequest($input: CancelUnbanRequestInput!) {\ncancelUnbanRequest(input: $input) {\nunbanRequest {\nid\nstatus\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.CancelUnbanRequest=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"CancelUnbanRequest")},jmnl:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BitsConfigContext_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"userCheerInfo"},directives:[]}]}}]}}],loc:{start:0,end:174}};i.loc.source={body:'#import "twilight/features/bits/models/user-cheer-info-fragment.gql"\nquery BitsConfigContext_Channel($login: String!) {\nchannel: user(login: $login) {\nid\n...userCheerInfo\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("KuwR").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.BitsConfigContext_Channel=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"BitsConfigContext_Channel")},jv9u:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t("q1tI"),a=t("/7QA"),r=t("OCDW"),o=t("Yegi"),s=t("cwzQ"),d=t("uq9l"),c=function(){return i.createElement(r.a,{padding:1,display:o.h.Flex,alignItems:o.b.Center,justifyContent:o.m.Center,flexDirection:o.i.Column,fullWidth:!0},i.createElement(s.a,{delay:0}),i.createElement(r.a,{padding:{top:2}},i.createElement(d.a,{italic:!0},Object(a.d)("Fetching Bits","BitsCard"))))}},jy35:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"message"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageSender"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:242}};i.loc.source={body:'#import "twilight/features/message/fragments/message-sender/sender-fragment.gql"\n#import "./message-content-fragment.gql"\nfragment message on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nsender {\n...messageSender\n}\n__typename\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("ZJzD").definitions)),i.definitions=i.definitions.concat(r(t("SWax").definitions)),e.exports=i},k4PX:function(e,n,t){"use strict";t.d(n,"a",(function(){return B}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("/MKj"),s=t("ANjH"),d=t("yR8l"),c=t("jC1Z"),l=t("eDVu"),u=t("0Log"),m=t("wUQP"),p=t("geRD"),h=t("/aPz"),f=t("DMoW"),g=t("kRBY"),v=t("qaaX"),b=t("emD7"),y=t("/7QA"),k=t("CGXs"),S=t("jBwP"),C=t("ZtEv"),E=t("aF6k");var w=t("2EzP"),_=t("BXoJ");var N=Object(s.d)(w.b,Object(S.c)((function(e){return{slowMode:e.slowMode}})))((function(e){var n=e.channelID,t=e.currentUserID,i=e.rewardMap,a=e.slowMode,o=e.messageHandlerAPI,s=Object(r.useRef)(),d=Object(r.useRef)([]),c=Object(k.a)(Object(h.t)(n||""),!n,(function(e){return e.type!==u.PubsubMessageType.CommunityPointsCommunityGoalContributed})),l=c[0],p=c[1],g=Object(b.a)(l),S=Object(r.useCallback)((function(e){if(o){if(e.length){var n=t&&e.find((function(e){return e.msg.data.contribution.user.id===t}))||e[0];if(Object(m.c)(v.b)||n.challenge.type!==f.gb.BOOST){var i,a=n.msg.data.contribution,r=e.some((function(e){return e.challenge.id!==n.challenge.id})),s=e.filter((function(e){return e.msg.data.contribution.user.id!==a.user.id})).map((function(e){return e.msg.data.contribution.user.display_name})),d=(i={challengeName:Object(_.b)(n.challenge),userContribution:a.total_contribution,displayName:a.user.display_name,userID:a.user.id,login:a.user.login,hasMultipleChallenges:r,otherContributors:new Set(s)},{type:C.b.CommunityChallengeContribution,id:Object(E.a)("community-challenge-contribution"),challengeName:i.challengeName,displayName:i.displayName,userContribution:i.userContribution,login:i.login,userID:i.userID,hasMultipleChallenges:i.hasMultipleChallenges,otherContributors:i.otherContributors});o.handleMessage(d)}}}else y.k.warn("ChallengeEventHandler received an event before the MessageHandlerAPI was available.")}),[t,o]),w=Object(r.useCallback)((function(){var e=a?15e3:1e4;s.current=setTimeout((function(){clearTimeout(s.current),s.current=void 0,d.current.length&&(S(d.current),d.current=[],w())}),e)}),[S,a]);return Object(r.useEffect)((function(){return function(){clearTimeout(s.current)}}),[]),Object(r.useEffect)((function(){if(!(p&&p.error||!l||l===g)){var e=l,n=e.data.contribution.goal.id,t=i[n];t&&"CommunityPointsCommunityGoal"===t.__typename&&e.data.contribution.amount&&e.data.contribution.amount===e.data.contribution.stream_contribution&&(d.current.push({msg:e,challenge:t}),s.current||(S(d.current),d.current=[],w()))}}),[S,l,g,i,w,p]),null})),O=t("5RPi"),D=t("pTg8"),M=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.unsubscribe=function(){n.unsubscriber&&(n.unsubscriber(),n.unsubscriber=null)},n.handleMessage=function(e){if(e.type===u.PubsubMessageType.CommunityPointsRedeemed&&!e.data.redemption.user_input){var t=Object(O.a)({id:e.data.redemption.id,reward:Object(D.a)(n.props.rewardMap,e.data.redemption.reward.id),userDisplayName:e.data.redemption.user.display_name,userID:e.data.redemption.user.id,userLogin:e.data.redemption.user.login});n.addMessage(t)}},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.subscribe()},n.prototype.componentDidUpdate=function(e){this.props.channelID!==e.channelID&&this.subscribe()},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.render=function(){return null},n.prototype.subscribe=function(){this.unsubscribe(),this.props.channelID&&(this.unsubscriber=y.l.subscribe({topic:Object(h.t)(this.props.channelID),onMessage:this.handleMessage}))},n.prototype.addMessage=function(e){this.props.messageHandlerAPI?this.props.messageHandlerAPI.handleMessage(e):y.k.warn("RewardEventHandler received an event before the MessageHandlerAPI was available.")},n}(r.Component),I=Object(w.b)(M),T=t("q1g8"),j=t("QMl3"),R=t("ZaoE"),P=t("xahZ"),F=t("FzaW"),L=t("Zmj1"),A=t("cFyR"),U=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.updateTimestamps=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,r,o;return Object(i.__generator)(this,(function(s){switch(s.label){case 0:return e=null===(o=this.props.data.community)||void 0===o?void 0:o.id,n=this.props.currentUserID,e&&n?[4,this.props.updateLastViewedContentMutation(Object(p.a)({channelID:e,viewedContent:[f.hb.AUTOMATIC_REWARD,f.hb.CUSTOM_REWARD]}))]:[2];case 1:return t=s.sent(),(r=t.data.updateCommunityPointsLastViewedContent)&&!r.error&&r.lastViewedChannelContent&&r.lastViewedGlobalContent?(this.props.data.updateQuery((function(e){var n,t,o,s;return(null===(o=null===(t=null===(n=e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===o?void 0:o.communityPoints)&&(null===(s=e.currentUser)||void 0===s?void 0:s.communityPoints)?a(e,(function(e){return{community:Object(i.__assign)(Object(i.__assign)({},e.community),{channel:Object(i.__assign)(Object(i.__assign)({},e.community.channel),{self:Object(i.__assign)(Object(i.__assign)({},e.community.channel.self),{communityPoints:Object(i.__assign)(Object(i.__assign)({},e.community.channel.self.communityPoints),{lastViewedContent:r.lastViewedChannelContent})})})}),currentUser:Object(i.__assign)(Object(i.__assign)({},e.currentUser),{communityPoints:{__typename:"CommunityPointsUserProperties",lastViewedContent:r.lastViewedGlobalContent}})}})):e})),[2]):[2]}}))}))},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.rewardMap,n=this.changedModificationIDs,t=this.changedRewardIDs;return r.createElement(R.a.Provider,{value:{activeMultipliers:this.activeMultipliers,automaticRewards:this.automaticRewards,balance:this.balance,channelID:this.props.data.community&&this.props.data.community.id,communityGoals:this.communityGoals,customRewards:this.customRewards,channelLogin:this.props.channelLogin,displayName:this.props.data.community&&this.props.data.community.displayName,emoteVariants:this.emoteVariants,isChannelPointsEnabled:this.isChannelPointsEnabled,isChannelPointsFeatureFlagOn:!0,isCurrentUserModerator:!!(this.props.data.community&&this.props.data.community.self&&this.props.data.community.self.isModerator),isLoaded:!!this.props.data.community,pointIcon:this.pointIcon,pointName:this.pointName,raidPointAmount:this.raidPointAmount,earning:this.earning,userRedemptions:this.userRedemptions,rewardMap:e,changedModificationIDs:n,changedRewardIDs:t}},r.createElement(F.a,{channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID},r.createElement(I,{channelID:this.props.data.community&&this.props.data.community.id,rewardMap:e}),r.createElement(N,{channelID:this.props.data.community&&this.props.data.community.id,currentUserID:this.props.currentUserID,rewardMap:e}),r.createElement(c.a,{channelID:this.props.data.community&&this.props.data.community.id},r.createElement(A.a,{balance:this.balance,channelDisplayName:this.props.data.community&&this.props.data.community.displayName,channelID:this.props.data.community&&this.props.data.community.id,channelLogin:this.props.channelLogin,currentUserID:this.props.currentUserID,updateTimestamps:this.updateTimestamps,userRedemptions:this.userRedemptions},this.props.children))))},Object.defineProperty(n.prototype,"activeMultipliers",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints&&e.community.channel.self.communityPoints.activeMultipliers?e.community.channel.self.communityPoints.activeMultipliers:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"automaticRewards",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.automaticRewards?e.community.channel.communityPointsSettings.automaticRewards:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"balance",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.self&&e.community.channel.self.communityPoints?e.community.channel.self.communityPoints.canRedeemRewardsForFree?1/0:e.community.channel.self.communityPoints.balance:0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"communityGoals",{get:function(){var e,n,t,i=(null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.communityPointsSettings)||void 0===t?void 0:t.goals)||[],a=i;return Object(m.c)(v.b)||(a=i.filter((function(e){return e.type!==f.gb.BOOST}))),a},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"customRewards",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.customRewards?e.community.channel.communityPointsSettings.customRewards:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isChannelPointsEnabled",{get:function(){var e=this.props.data;return!!(e.community&&e.community.channel&&e.community.channel.communityPointsSettings)&&e.community.channel.communityPointsSettings.isEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIcon",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.image:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointName",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"raidPointAmount",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings?e.community.channel.communityPointsSettings.raidPointAmount:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rewardMap",{get:function(){for(var e={},n=0,t=this.automaticRewards;n<t.length;n++){var i=t[n];e[i.id]=i}for(var a=0,r=this.customRewards;a<r.length;a++){var o=r[a];e[o.id]=o}for(var s=0,d=this.communityGoals;s<d.length;s++){var c=d[s];e[c.id]=c}return e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"emoteVariants",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.emoteVariants?e.community.channel.communityPointsSettings.emoteVariants:[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"earning",{get:function(){var e=this.props.data;return e.community&&e.community.channel&&e.community.channel.communityPointsSettings&&e.community.channel.communityPointsSettings.earning?e.community.channel.communityPointsSettings.earning:null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"userRedemptions",{get:function(){var e,n,t,i;return(null===(i=null===(t=null===(n=null===(e=this.props.data.community)||void 0===e?void 0:e.channel)||void 0===n?void 0:n.self)||void 0===t?void 0:t.communityPoints)||void 0===i?void 0:i.userRedemptions)||[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isUsersFirstVisitToChannel",{get:function(){var e,n,t,i,a,r;return!!(null===(r=null===(a=null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.communityPoints)||void 0===a?void 0:a.lastViewedContent)||void 0===r?void 0:r.every((function(e){return null===e.lastViewedAt})))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"changedModificationIDs",{get:function(){var e,n,t,i,a,r=new Set,o=null===(a=null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===n?void 0:n.communityPoints)||void 0===t?void 0:t.lastViewedContent)||void 0===i?void 0:i.find((function(e){return e.contentID===f.eb.CHOSEN_MODIFIED_SUB_EMOTE_UNLOCK})))||void 0===a?void 0:a.lastViewedAt;return this.props.currentUserID&&!this.isUsersFirstVisitToChannel&&o?(this.emoteVariants.forEach((function(e){e.modifications.forEach((function(e){new Date(o)<new Date(e.globallyUpdatedForIndicatorAt)&&r.add(e.id)}))})),r):r},enumerable:!0,configurable:!0}),n.prototype.isCustomRewardUpdated=function(e,n){return!!(null===n||n&&new Date(n)<new Date(e.updatedForIndicatorAt))},n.prototype.isAutomaticRewardUpdated=function(e,n){var t,i,a,r,o,s=null===(o=null===(r=null===(a=null===(i=null===(t=this.props.data)||void 0===t?void 0:t.currentUser)||void 0===i?void 0:i.communityPoints)||void 0===a?void 0:a.lastViewedContent)||void 0===r?void 0:r.find((function(n){return n.contentID===e.type})))||void 0===o?void 0:o.lastViewedAt;return null===s||null===n||(!!(s&&new Date(s)<new Date(e.globallyUpdatedForIndicatorAt))||!!(n&&e.updatedForIndicatorAt&&new Date(n)<new Date(e.updatedForIndicatorAt)))},Object.defineProperty(n.prototype,"changedRewardIDs",{get:function(){var e,n,t,i,a,r,o,s=this,d=new Set,c=(null===(a=null===(i=null===(t=null===(n=null===(e=this.props.data)||void 0===e?void 0:e.community)||void 0===n?void 0:n.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.communityPoints)||void 0===a?void 0:a.lastViewedContent)||[];if(!this.props.currentUserID||!c.length||this.isUsersFirstVisitToChannel)return d;var l=null===(r=c.find((function(e){return e.contentType===f.hb.CUSTOM_REWARD})))||void 0===r?void 0:r.lastViewedAt;this.customRewards.filter((function(e){return e.isEnabled})).forEach((function(e){s.isCustomRewardUpdated(e,l)&&d.add(e.id)}));var u=null===(o=c.find((function(e){return e.contentType===f.hb.AUTOMATIC_REWARD})))||void 0===o?void 0:o.lastViewedAt;return this.automaticRewards.filter((function(e){return e.isEnabled})).forEach((function(e){s.isAutomaticRewardUpdated(e,u)&&d.add(e.id)})),d},enumerable:!0,configurable:!0}),n}(r.Component);var x=Object(s.d)(Object(o.b)((function(e){var n=Object(g.e)(e);return{currentUserID:n&&n.id}})),Object(d.a)(P,{options:function(e){return{variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},fetchPolicy:"cache-and-network"}}}),Object(d.a)(j,{name:"updateLastViewedContentMutation"}),Object(l.a)((function(e){return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},skip:!e.data.community,topic:Object(h.t)(""+(e.data.community&&e.data.community.id)),types:[u.PubsubMessageType.CommunityPointsAutomaticRewardUpdated,u.PubsubMessageType.CommunityPointsCommunityGoalContributed,u.PubsubMessageType.CommunityPointsCommunityGoalCreated,u.PubsubMessageType.CommunityPointsCommunityGoalDeleted,u.PubsubMessageType.CommunityPointsCommunityGoalUpdated,u.PubsubMessageType.CommunityPointsCustomRewardCreated,u.PubsubMessageType.CommunityPointsCustomRewardDeleted,u.PubsubMessageType.CommunityPointsCustomRewardUpdated,u.PubsubMessageType.CommunityPointsSettings,u.PubsubMessageType.CommunityPointsRedeemed],mutator:function(e,n){switch(e.type){case u.PubsubMessageType.CommunityPointsSettings:return Object(L.m)(n,e);case u.PubsubMessageType.CommunityPointsAutomaticRewardUpdated:return Object(L.g)(n,e);case u.PubsubMessageType.CommunityPointsCommunityGoalContributed:return Object(L.i)(n,e);case u.PubsubMessageType.CommunityPointsCommunityGoalCreated:return Object(L.b)(n,e);case u.PubsubMessageType.CommunityPointsCommunityGoalDeleted:return Object(L.d)(n,e);case u.PubsubMessageType.CommunityPointsCommunityGoalUpdated:return Object(L.h)(n,e);case u.PubsubMessageType.CommunityPointsCustomRewardCreated:return Object(L.c)(n,e);case u.PubsubMessageType.CommunityPointsCustomRewardDeleted:return Object(L.e)(n,e);case u.PubsubMessageType.CommunityPointsCustomRewardUpdated:return Object(L.j)(n,e);case u.PubsubMessageType.CommunityPointsRedeemed:return Object(L.k)(n,e);default:return n}}}})),Object(l.a)((function(e){var n,t,i,r;return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},topic:Object(h.H)(e.currentUserID||"",(null===(t=null===(n=e.data)||void 0===n?void 0:n.community)||void 0===t?void 0:t.id)||""),types:[u.PubsubMessageType.ModeratorAdded,u.PubsubMessageType.ModeratorRemoved],skip:!e.currentUserID||!(null===(r=null===(i=e.data)||void 0===i?void 0:i.community)||void 0===r?void 0:r.id),skipMessage:function(n){var t,i;return e.currentUserID===(null===(i=null===(t=e.data)||void 0===t?void 0:t.community)||void 0===i?void 0:i.id)||n.data.target_user_id!==e.currentUserID},mutator:function(e,n){var t;if(!(null===(t=null==n?void 0:n.community)||void 0===t?void 0:t.self))return n;switch(e.type){case u.PubsubMessageType.ModeratorAdded:return a(n,(function(e){return e.community.self.isModerator}),(function(){return!0}));case u.PubsubMessageType.ModeratorRemoved:return a(n,(function(e){return e.community.self.isModerator}),(function(){return!1}));default:return n}}}})),Object(l.a)((function(e){return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},topic:Object(h.w)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[u.PubsubMessageType.CommunityPointsMultipliersUpdated],mutator:function(n,t){if(!e.data.community||n.data.active_multipliers&&e.data.community.id!==n.data.active_multipliers.channel_id||!t.community||!t.community.channel||!t.community.channel.self)return t;var i=[];return n.data.active_multipliers&&(i=n.data.active_multipliers.multipliers.map((function(e){return{__typename:"CommunityPointsMultiplier",reasonCode:e.reason_code,factor:e.factor}}))),t.community.channel.self.communityPoints?a(t,(function(e){return e.community.channel.self.communityPoints.activeMultipliers}),(function(){return i})):a(t,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:0,activeMultipliers:i,canRedeemRewardsForFree:!1,lastViewedContent:null,userRedemptions:[]}}))}}})),Object(l.a)((function(e){return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},topic:Object(h.w)(""+e.currentUserID),skip:!e.data.community||!e.currentUserID,types:[u.PubsubMessageType.CommunityPointsEarned,u.PubsubMessageType.CommunityPointsSpent],mutator:function(n,t){if(!e.data.community||n.data.balance&&e.data.community.id!==n.data.balance.channel_id||!t.community||!t.community.channel||!t.community.channel.self)return t;var i=n.data.balance.balance;return t.community.channel.self.communityPoints?a(t,(function(e){return e.community.channel.self.communityPoints.balance}),(function(){return i})):a(t,(function(e){return e.community.channel.self.communityPoints}),(function(){return{__typename:"CommunityPointsProperties",availableClaim:null,balance:i,activeMultipliers:null,canRedeemRewardsForFree:!1,lastViewedContent:null,userRedemptions:[]}}))}}})),Object(l.a)((function(e){return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},topic:Object(h.w)(""+e.currentUserID),skip:!e.data||!e.currentUserID,types:[u.PubsubMessageType.CommunityPointsChannelLastViewedContentUpdated,u.PubsubMessageType.CommunityPointsGlobalLastViewedContentUpdated],mutator:function(n,t){switch(n.type){case u.PubsubMessageType.CommunityPointsChannelLastViewedContentUpdated:return Object(L.f)(t,n,e.currentUserID);case u.PubsubMessageType.CommunityPointsGlobalLastViewedContentUpdated:return Object(L.n)(t,n,e.currentUserID);default:return t}}}})),Object(l.a)((function(e){return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},topic:Object(h.w)(""+e.currentUserID),skip:!e.data||!e.currentUserID,types:[u.PubsubMessageType.CommunityPointsRedeemed],mutator:function(e,n){switch(e.type){case u.PubsubMessageType.CommunityPointsRedeemed:return Object(L.l)(n,e);default:return n}}}})),Object(l.a)((function(e){return{query:P,variables:{channelLogin:e.channelLogin,includeGoalTypes:Object(T.a)(v.b)},topic:Object(h.gb)(""+(e.data.community&&e.data.community.id)),skip:!e.data.community,types:[u.PubsubMessageType.ChannelStreamDown],mutator:function(e,n){switch(e.type){case u.PubsubMessageType.ChannelStreamDown:return Object(L.a)(n);default:return n}}}})))(U),B=function(e){return Object(m.c)("copo_enabled")?r.createElement(x,Object(i.__assign)({},e)):r.createElement(r.Fragment,null,e.children)}},k5yb:function(e,n,t){"use strict";t.d(n,"E",(function(){return S})),t.d(n,"b",(function(){return C})),t.d(n,"D",(function(){return E})),t.d(n,"B",(function(){return w})),t.d(n,"db",(function(){return _})),t.d(n,"C",(function(){return N})),t.d(n,"l",(function(){return O})),t.d(n,"e",(function(){return a})),t.d(n,"f",(function(){return r})),t.d(n,"g",(function(){return o})),t.d(n,"n",(function(){return s.a})),t.d(n,"o",(function(){return s.b})),t.d(n,"A",(function(){return d.m})),t.d(n,"w",(function(){return d.i})),t.d(n,"x",(function(){return d.j})),t.d(n,"z",(function(){return d.l})),t.d(n,"y",(function(){return d.k})),t.d(n,"v",(function(){return d.h})),t.d(n,"u",(function(){return d.g})),t.d(n,"s",(function(){return d.e})),t.d(n,"r",(function(){return d.d})),t.d(n,"q",(function(){return d.c})),t.d(n,"p",(function(){return d.b})),t.d(n,"m",(function(){return d.a})),t.d(n,"t",(function(){return d.f})),t.d(n,"k",(function(){return c.f})),t.d(n,"h",(function(){return c.c})),t.d(n,"j",(function(){return c.e})),t.d(n,"i",(function(){return c.d})),t.d(n,"c",(function(){return c.a})),t.d(n,"d",(function(){return c.b})),t.d(n,"eb",(function(){return c.g})),t.d(n,"hb",(function(){return c.h})),t.d(n,"I",(function(){return l.d})),t.d(n,"K",(function(){return l.f})),t.d(n,"G",(function(){return l.b})),t.d(n,"J",(function(){return l.e})),t.d(n,"F",(function(){return l.a})),t.d(n,"H",(function(){return l.c})),t.d(n,"P",(function(){return u})),t.d(n,"L",(function(){return m})),t.d(n,"M",(function(){return p})),t.d(n,"N",(function(){return h})),t.d(n,"O",(function(){return f})),t.d(n,"ab",(function(){return v.k})),t.d(n,"W",(function(){return v.g})),t.d(n,"S",(function(){return v.c})),t.d(n,"U",(function(){return v.e})),t.d(n,"T",(function(){return v.d})),t.d(n,"R",(function(){return v.b})),t.d(n,"bb",(function(){return v.l})),t.d(n,"X",(function(){return v.h})),t.d(n,"cb",(function(){return v.m})),t.d(n,"V",(function(){return v.f})),t.d(n,"Q",(function(){return v.a})),t.d(n,"Z",(function(){return v.j})),t.d(n,"Y",(function(){return v.i})),t.d(n,"gb",(function(){return b})),t.d(n,"fb",(function(){return y})),t.d(n,"a",(function(){return g}));var i=t("SSXq");function a(e,n){return void 0===n&&(n=""),w(e,"/bounties"+n)}function r(e,n){return a(e,"/"+n)}function o(e){return w(e,"/broadcast")}var s=t("kUz5"),d=t("FHdf"),c=t("L64p"),l=t("1cg6");function u(e,n){return void 0===n&&(n=""),w(e,"/settings/moderation"+n)}function m(e){return u(e,"/automod")}function p(e){return u(e,"/banned-chatters")}function h(e){return u(e,"/blocked-terms")}function f(e){return u(e,"/permitted-terms")}var g,v=t("fuk+");function b(e){return Object(i.a)("/team/"+e)}function y(e){return Object(i.a)("/teams/"+e+"/dashboard")}!function(e){e.ChannelTrailerSettingsSetSuccess="channel-trailer-settings-set-trailer-success",e.ChannelTrailerSettingsUpdateSuccess="channel-trailer-settings-update-trailer-success"}(g||(g={}));var k=!1;function S(){return k}function C(){k=!0}function E(e){return void 0===e&&(e=""),Object(i.a)(e,"dashboard")}function w(e,n){return void 0===n&&(n=""),E("/u/"+e+n)}function _(e){return w(e,"/stream-manager")}function N(e){return w(e,"/home")}function O(e){return Object(i.a)("/"+e)}},kPBf:function(e,n){},kPCN:function(e,n,t){},kUz5:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var i=t("k5yb");function a(e,n){return void 0===n&&(n=""),Object(i.B)(e,"/community"+n)}function r(e,n){return void 0===n&&(n=""),a(e,"/channel-points"+n)}function o(e){return a(e,"/roles")}},kkML:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("q1tI"),a=t("/MKj"),r=t("3kWa");function o(e,n){var t=Object(a.e)((function(e){return e.session.firstPageLoaded})),o=Object(i.useRef)(e),s=Object(i.useRef)(n),d=Object(i.useState)(!1),c=d[0],l=d[1];return Object(i.useEffect)((function(){t&&Object(r.a)(o.current,s.current,(function(){return l(!0)}))}),[t]),c}},knbN:function(e,n,t){"use strict";t.d(n,"b",(function(){return d})),t.d(n,"a",(function(){return c}));var i=t("XIZb"),a=Object(i.a)("ChatRestrictions"),r=a.context,o=a.withChatServiceManager,s=a.withContext,d=(r.Provider,o),c=s((function(e){return{chatRestrictionsAPI:e.serviceAPI,setChatRestrictionsAPI:e.setServiceAPI}}))},"ku6+":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return h}));var i,a=t("pVnL"),r=t.n(a),o=t("q1tI"),s=t("P+FS"),d=t("HQtB"),c=t("swlv"),l=t("g8gE"),u=t("OCDW"),m=t("Yegi"),p=t("XlLD");!function(e){e[e.Column=1]="Column",e[e.Row=2]="Row"}(i||(i={}));var h=function(e){var n=e.orientation===i.Row?i.Row:i.Column,t=e.closeButton&&o.createElement(u.a,{className:"tw-callout__close",flexShrink:0,alignSelf:m.c.Start,display:m.h.InlineFlex,margin:{left:1}},o.createElement(l.a,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:c.b.Small}));return o.createElement(u.a,r()({},Object(d.a)(e),Object(s.a)(e),{background:e.background,borderRadius:m.e.Medium,elevation:e.elevation,position:m.o.Relative,padding:void 0!==e.padding?e.padding:2}),o.createElement(p.a,{overlay:e.background&&e.background!==m.d.Base},o.createElement(u.a,{display:m.h.Flex,alignItems:m.b.Start,flexDirection:e.orientation===i.Row?m.i.Row:m.i.Column},o.createElement(u.a,{fullWidth:!0,display:m.h.Flex,alignItems:m.b.Start},e.figure&&o.createElement(u.a,{margin:{right:1},padding:.5,display:m.h.Flex,flexGrow:0,flexShrink:0,alignItems:m.b.Center,justifyContent:m.m.Center},e.figure),o.createElement(u.a,{flexGrow:1},n===i.Column&&t,e.message)),e.actions&&o.createElement(u.a,{display:m.h.Flex,justifyContent:m.m.End,margin:{top:n===i.Column?1:0,left:n===i.Column?0:1},fullWidth:n===i.Column},e.actions),n===i.Row&&t)))};h.displayName="Callout",h.defaultProps={background:m.d.Base,elevation:1,padding:2},h.displayName="Callout"},kxrW:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.PlayerInit="init",e.ContentShowing="contentShowing",e.PlaybackStatistics="playbackStatistics",e.ChansubRequired="chansubRequired",e.VideoFailure="videoFailure",e.Formats="videoFormats",e.ABSStreamFormatChange="abs_stream_format_change",e.FormatChanged="videoFormatChanged",e.TimeChange="timeChange",e.BufferChange="bufferChange",e.SegmentChange="segmentchange",e.UsherFailError="usherFail",e.CaptionUpdate="captions",e.SeekFailed="seekfailed",e.VariantSwitchRequest="variantSwitchRequested",e.ViewersChange="viewerschange",e.StreamLoaded="streamLoaded",e.VideoLoaded="videoLoaded",e.VideoPaused="videoPaused",e.QualityChange="qualitychange",e.Online="online",e.Offline="offline",e.Restricted="restricted",e.CastingChange="castingchange",e.TheatreChange="theatrechange",e.MidrollRequested="midrollrequested",e.ManifestExtraInfo="manifestExtraInfo",e.TransitionToCollectionVOD="transitionToCollectionVod",e.TransitionToRecommendedVOD="transitionToRecommendedVod",e.StitchedAdStart="stitchedadstart",e.StitchedAdEnd="stitchedadend",e.PersistenPlayerToggle="persistentPlayerEnableToggle",e.StatsUpdate="statsupdate",e.PromptLoginModal="prompt login modal",e.OpenStream="openStream",e.PlayerReady="ready",e.FullscreenChange="fullscreenchange",e.ExternalFullscreenChange="externalfullscreenchange",e.ClipsModerationOpen="clips-moderation-open",e.FocusPlayer="focusPlayer",e.FollowChannel="followChannel",e.UnfollowChannel="unfollowChannel",e.ContentRestricted="contentRestricted",e.SubscribeToChannel="subscribeChannel",e.OpenSubscriptionCheckout="subscriptionCheckout",e.PrimeSubscribeToChannel="primeSubscribeChannel",e.RemoveStream="removeStream",e.EnterMultiview="enterMultiview",e.PlaybackError="playbackerror"}(i||(i={}))},l8aq:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var i=t("SSXq"),a=function(e){return Object(i.a)(r(e))},r=function(e){return"/moderator/"+e}},lLrV:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionEventFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionClient"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lockedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"outcomes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionOutcomeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"predictionWindowSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"winningOutcome"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionOutcomeFragment"},directives:[]}]}}]}}],loc:{start:0,end:371}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-outcome-fragment.gql"\nfragment predictionEventFragment on PredictionEvent {\nid\ncreatedAt\ncreatedBy {\n... on ExtensionClient {\nid\n}\n... on User {\nid\ndisplayName\n}\n}\nendedAt\nlockedAt\noutcomes {\n...predictionOutcomeFragment\n}\npredictionWindowSeconds\nstatus\ntitle\nwinningOutcome {\n...predictionOutcomeFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("h4kp").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},lMif:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBufferChatHistory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recentChatMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"historicalMessage"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"chatHistoryParentMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"historicalMessage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageContent"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parentMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"chatHistoryParentMessage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sender"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayBadges"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelLogin"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"badge"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:632}};i.loc.source={body:'#import "twilight/features/badges/models/badge-fragment.gql"\n#import "twilight/features/message/fragments/message-content-fragment.gql"\nquery MessageBufferChatHistory($channelLogin: String!) {\nchannel(name: $channelLogin) {\nid\nrecentChatMessages {\n...historicalMessage\n}\n}\n}\nfragment chatHistoryParentMessage on Message {\nid\ncontent {\ntext\n}\ndeletedAt\nsender {\nid\nlogin\ndisplayName\n}\n}\nfragment historicalMessage on Message {\nid\ndeletedAt\nsentAt\ncontent {\n...messageContent\n}\nparentMessage {\n...chatHistoryParentMessage\n}\nsender {\nid\nlogin\nchatColor\ndisplayName\ndisplayBadges(channelLogin: $channelLogin) {\n...badge\n}\n__typename\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("IKE4").definitions)),i.definitions=i.definitions.concat(r(t("SWax").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.MessageBufferChatHistory=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"MessageBufferChatHistory")},lNGo:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"h",(function(){return m})),t.d(n,"g",(function(){return p})),t.d(n,"a",(function(){return h})),t.d(n,"c",(function(){return f})),t.d(n,"f",(function(){return g})),t.d(n,"e",(function(){return v})),t.d(n,"d",(function(){return b}));var i=t("mrSG"),a=t("/7QA"),r=t("DMoW"),o=t("2xye"),s=t("IZXT"),d=t("YXxK"),c=t("04j6"),l=t("oi4T"),u=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r,d;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:n=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{id:e.channelID}})];case 2:return n=u.sent(),[3,4];case 3:return t=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed."):a.k.errorAndReport(t,"ChatEvent query failed."),[3,4];case 4:return n&&n.data||a.k.warn("ChatEvent query failed; Chat tracking data sent may be incomplete."),r=n&&n.data&&n.data.user||null,d=Object(i.__assign)(Object(i.__assign)({},Object(l.b)(e)),{viewer_context:e.viewerContext,broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,live:!!(r&&r.stream&&r.stream.id.length>0),page_session_id:a.p.session.pageviewID,partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,send_action:e.sendAction,reply_keyboard_shortcut:e.isKeyboardShortcutUsed,is_reply:e.isReply}),a.o.track(o.SpadeEventType.Chat,d),[2]}}))}))},m=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r,d;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:n=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{id:e.channelID}})];case 2:return n=u.sent(),[3,4];case 3:return t=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed for CheerEvent."):a.k.errorAndReport(t,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return n&&n.data||a.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=n&&n.data&&n.data.user||null,d=Object(i.__assign)(Object(i.__assign)({},Object(l.a)(e)),{broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,transaction_id:e.transactionID,viewer_context:e.viewerContext}),a.o.track(o.SpadeEventType.ChatClientCheer,d),[2]}}))}))},p=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r,d;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:n=null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:c,variables:{id:e.channelID}})];case 2:return n=u.sent(),[3,4];case 3:return t=u.sent(),Object(s.d)()?a.k.warn("ChatEvent query failed for CheerEvent."):a.k.errorAndReport(t,"ChatEvent query failed for CheerEvent."),[3,4];case 4:return n&&n.data||a.k.warn("ChatEvent query failed; Cheer tracking data sent may be incomplete."),r=n&&n.data&&n.data.user||null,d=Object(i.__assign)(Object(i.__assign)({},Object(l.a)(e)),{broadcast_id:a.o.getVideoPlayerTrackingData().broadcastID,bits_value:e.bitsValue,cheermote:e.cheermote,channel_id:e.channelID,emote_picker_sid:e.emotePickerSessionID,error_type:e.errorType,game:r&&r.stream&&r.stream.game&&r.stream.game.name,is_anonymous_cheer:e.isAnonymousCheer,live:!!(r&&r.stream&&r.stream.id.length>0),partner:r&&r.isPartner||!1,play_session_id:a.o.getVideoPlayerTrackingData().playSessionID,player:e.player,ritual_nca:e.fromNewChatterRitual||!1,sub_only_mode:e.subOnlyMode,viewer_context:e.viewerContext}),a.o.track(o.SpadeEventType.ChatClientCheerError,d),[2]}}))}))},h=function(e){switch(e){case r.ve.AMOUNT_BELOW_MIN_BITS:return d.d.BelowMin;case r.ve.AUTO_MOD_MESSAGE:return d.d.AutoModMessage;case r.ve.AUTO_MOD_PENDING:return d.d.AutoModPending;case r.ve.CHANNEL_BLOCKED_TERMS:return d.d.ChannelBlockedTerms;case r.ve.CHANNEL_INELIGIBLE:return d.d.ChannelIneligible;case r.ve.EMOTE_AMOUNT_BELOW_MIN_BITS:return d.d.BelowMinEmote;case r.ve.INSUFFICIENT_BALANCE:return d.d.BitsUnavailable;case r.ve.INVALID_ANONYMOUS_MESSAGE:return d.d.InvalidAnonymousMessage;case r.ve.INVALID_BITS_AMOUNT:case r.ve.INVALID_BITS_MESSAGE:return d.d.InvalidBitsMessage;case r.ve.INVALID_EVENT_ID:return d.d.InvalidEventId;case r.ve.MESSAGE_LENGTH_EXCEEDED:return d.d.InputAboveMaxLength;case r.ve.REQUEST_THROTTLED:return d.d.RequestThrottled;case r.ve.TOO_LARGE_BITS_EMOTE:return d.d.AboveMaxEmote;case r.ve.TOO_LARGE_CHEER:return d.d.AboveMaxCheer;case r.ve.USER_BANNED:return d.d.UserBanned;case r.ve.USER_INELIGIBLE:return d.d.UserIneligible;case r.ve.USER_SUSPENDED:return d.d.UserSuspended;case r.ve.ZALGO_MESSAGE:return d.d.ZalgoMessage;default:return d.d.Unknown}},f=function(e){var n={channel_id:e.channelID,message_count:e.messageCount};a.o.track(o.SpadeEventType.ChatHistoryLoaded,n)},g=function(e){var n={channel_id:e.channelID};a.o.track(o.SpadeEventType.ChatScrolledToTop,n)},v=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(t){return n={user_id:e.userID,channel_id:e.channelID},a.o.track(o.SpadeEventType.ChatReconnecting,n),[2]}))}))},b=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return a.o.track(o.SpadeEventType.ChatMessageTiming,{timing_precise:e}),[2]}))}))}},lZdE:function(e,n,t){"use strict";function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}t.d(n,"a",(function(){return i}))},lhih:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return r}));var i="first_time_purchase",a="single_purchase",r="spring_sale_2019"},"lpj/":function(e,n,t){},m7vz:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("/MKj"),r=t("kRBY"),o=t("YV90"),s=function(e){var n=Object(i.useContext)(o.a).isCurrentUserModerator,t=Object(a.e)(r.e),s=(null==t?void 0:t.id)||null;return!(!e||!s)&&(s===e||n)}},mbOb:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionEventEdgeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PredictionEventEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"predictionEventFragment"},directives:[]}]}}]}}],loc:{start:0,end:181}};i.loc.source={body:'#import "twilight/features/community-points/models/prediction-event-fragment.gql"\nfragment predictionEventEdgeFragment on PredictionEventEdge {\nnode {\n...predictionEventFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("lLrV").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},"mr+n":function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"d",(function(){return s}));var i=t("/7QA"),a=30,r=[3,5,10,20,30,60,120];function o(e){switch(e){case 3:return Object(i.d)("3 seconds","SlowModeLabel");case 5:return Object(i.d)("5 seconds","SlowModeLabel");case 10:return Object(i.d)("10 seconds","SlowModeLabel");case 20:return Object(i.d)("20 seconds","SlowModeLabel");case 30:return Object(i.d)("30 seconds (default)","SlowModeLabel");case 60:return Object(i.d)("60 seconds","SlowModeLabel");case 120:return Object(i.d)("120 seconds","SlowModeLabel");default:return i.k.warn("[SlowModeLabel] Tried to generate a label for a non-preset.",e),""}}function s(e){switch(e){case 3:return Object(i.d)("3s","SlowModeShorthand");case 5:return Object(i.d)("5s","SlowModeShorthand");case 10:return Object(i.d)("10s","SlowModeShorthand");case 20:return Object(i.d)("20s","SlowModeShorthand");case 30:return Object(i.d)("30s","SlowModeShorthand");case 60:return Object(i.d)("60s","SlowModeShorthand");case 120:return Object(i.d)("120s","SlowModeShorthand");default:return Object(i.d)("custom","SlowModeShorthand")}}},mrHo:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"a",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s}));var i=t("/7QA"),a=525600,r={minutes:{value:"minutes",getLabel:function(){return Object(i.d)("Minutes","UnbanRequestsCooldown")},getFormattedString:function(e){return Object(i.d)("{minutes, plural, one {# minute} other {# minutes}}",{minutes:e},"UnbanRequestsCooldown")},threshold:1},hours:{value:"hours",getLabel:function(){return Object(i.d)("Hours","UnbanRequestsCooldown")},getFormattedString:function(e){return Object(i.d)("{hours, plural, one {# hour} other {# hours}}",{hours:Math.round(e/60)},"UnbanRequestsCooldown")},threshold:60},days:{value:"days",getLabel:function(){return Object(i.d)("Days","UnbanRequestsCooldown")},getFormattedString:function(e){return Object(i.d)("{days, plural, one {# day} other {# days}}",{days:Math.round(e/1440)},"UnbanRequestsCooldown")},threshold:1440},months:{value:"months",getLabel:function(){return Object(i.d)("Months","UnbanRequestsCooldown")},getFormattedString:function(e){return Object(i.d)("{months, plural, one {# month} other {# months}}",{months:Math.round(e/43800)},"UnbanRequestsCooldown")},threshold:43800}},o=function(e){return e>=43800&&e%43800==0?r.months:e>=1440&&e%1440==0?r.days:e>=60&&e%60==0?r.hours:r.minutes},s=function(e){return o(e).getFormattedString(e)}},mziE:function(e,n,t){},n2j5:function(e,n,t){},nAiT:function(e,n,t){"use strict";t.d(n,"c",(function(){return d})),t.d(n,"q",(function(){return c})),t.d(n,"i",(function(){return l})),t.d(n,"m",(function(){return u})),t.d(n,"l",(function(){return m})),t.d(n,"o",(function(){return p})),t.d(n,"n",(function(){return h})),t.d(n,"h",(function(){return f})),t.d(n,"a",(function(){return g})),t.d(n,"g",(function(){return v})),t.d(n,"j",(function(){return b})),t.d(n,"d",(function(){return y})),t.d(n,"f",(function(){return k})),t.d(n,"e",(function(){return S})),t.d(n,"k",(function(){return C})),t.d(n,"b",(function(){return E})),t.d(n,"p",(function(){return w}));var i=t("q1tI"),a=t("wUQP"),r=t("4rCz"),o=t("uq9l"),s=t("p9DJ");function d(e){return e?Object(r.d)("Channel Point","ChannelPoints"):Object(r.d)("Channel Points","ChannelPoints")}function c(e){return Object(r.d)("{count, plural, one {# of your Default Reward costs was recently updated.} other {# of your Default Reward costs were recently updated.}}",{count:e},"CommunityPointsRewards")}function l(){return Object(r.d)("This reward is temporarily out of stock.","ChannelPoints")}function u(e,n){return e?Object(r.d)("{streamerName} has changed the reward requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:link":function(e){return i.createElement(s.a,{onClick:n},e)}},"ChannelPoints"):Object(r.d)("The broadcaster has changed the reward requirements. <x:link>Please try again.</x:link>",{"x:link":function(e){return i.createElement(s.a,{onClick:n},e)}},"ChannelPoints")}function m(e,n){return e?Object(r.d)("<x:strong>Oops!</x:strong> {streamerName} has changed this reward's requirements. <x:link>Please try again.</x:link>",{streamerName:e,"x:strong":function(e){return i.createElement(o.a,{bold:!0,type:o.e.Span},e)},"x:link":function(e){return i.createElement(s.a,{onClick:n},e)}},"ChannelPoints"):Object(r.d)("<x:strong>Oops!</x:strong> The broadcaster has changed this reward's requirements. <x:link>Please try again.</x:link>",{"x:strong":function(e){return i.createElement(o.a,{bold:!0,type:o.e.Span},e)},"x:link":function(e){return i.createElement(s.a,{onClick:n},e)}},"ChannelPoints")}function p(){return Object(r.d)("Channel Points early access","ChannelPointsSignupPage")}function h(){return Object(r.d)("Review Requests Queue","CustomRewardsList")}function f(e){switch(e){case"Greyscale":return Object(r.d)("Greyscale","ModifyEmotePreviewTooltip");case"Horizontal Flip":return Object(r.d)("Horizontal Flip","ModifyEmotePreviewTooltip");case"Sunglasses":return Object(r.d)("Sunglasses","ModifyEmotePreviewTooltip");case"Squished":return Object(r.d)("Squished","ModifyEmotePreviewTooltip");case"Thinking":return Object(r.d)("Thinking","ModifyEmotePreviewTooltip");case"Lunar Rat":return Object(r.d)("Lunar Rat","ModifyEmotePreviewTooltip");case"Red Envelope":return Object(r.d)("Red Envelope","ModifyEmotePreviewTooltip");default:return e}}function g(){return Object(r.d)("Something went wrong. Please try again.","CommunityChallengeModal")}function v(){return Object(r.d)("Max","CommunityGoalContributionButtons")}function b(){return Object(r.d)("Redeem","CustomRewardCheckout")}function y(e){return Object(r.d)('You have predicted "{outcome}" and cannot change your pick',{outcome:e},"PredictionCheckoutActiveFooter")}function k(e){return Object(r.d)("You have already contributed the maximum number of {pointName} to this prediction",{pointName:e||d()},"PredictionCheckoutActiveFooter")}function S(e){return Object(r.d)("You don't have enough {pointName}",{pointName:e||d()},"PredictionCheckoutActiveFooter")}function C(e){return Object(a.c)("copo_predictions")?Object(r.d)("In {username}'s channel points, rewards, or predictions",{username:e},"ReportModalWizardItem"):Object(r.d)("In {username}'s channel points or rewards",{username:e},"ReportModalWizardItem")}function E(){return Object(r.d)("Go Back","PredictionTermsStep")}function w(){return Object(r.d)("Summary","PredictionManager")}},nInp:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return l}));var i=t("XIZb"),a=Object(i.a)("MessageBuffer"),r=a.context,o=a.withChatServiceManager,s=a.withContext,d=r,c=o,l=s((function(e){return{messageBufferAPI:e.serviceAPI,setMessageBufferAPI:e.setServiceAPI}}))},nJ3O:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"customRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cooldownExpiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultImage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxPerStreamSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPerStream"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxPerUserPerStreamSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxPerUserPerStream"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"globalCooldownSetting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globalCooldownSeconds"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isInStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPaused"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSubOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUserInputRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRedemptionsSkipRequestQueue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"redemptionsRedeemedCurrentStream"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prompt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:583}};i.loc.source={body:'#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment customRewardFragment on CommunityPointsCustomReward {\nid\nbackgroundColor\ncooldownExpiresAt\ncost\ndefaultImage {\n...pointsImageFragment\n}\nimage {\n...pointsImageFragment\n}\nmaxPerStreamSetting {\nisEnabled\nmaxPerStream\n}\nmaxPerUserPerStreamSetting {\nisEnabled\nmaxPerUserPerStream\n}\nglobalCooldownSetting{\nisEnabled\nglobalCooldownSeconds\n}\nisEnabled\nisInStock\nisPaused\nisSubOnly\nisUserInputRequired\nshouldRedemptionsSkipRequestQueue\nredemptionsRedeemedCurrentStream\nprompt\ntitle\nupdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("r+cx").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},nR4f:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EmoteCard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emoteID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"emoteID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProduct"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProduct"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionSummaries"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"octaneEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subSummary"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bitsBadgeTierSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUnlocked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numberOfBitsUntilUnlock"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"subSummary"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscriptionSummary"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDescription"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionTier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribedTier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cumulativeTenure"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:741}};i.loc.source={body:'#import "twilight/features/chat/components/emote-card/emote-subscription-product.gql"\nquery EmoteCard ($emoteID: ID! $octaneEnabled: Boolean!) {\nemote(id: $emoteID) {\nid\ntype\nsubscriptionTier @include(if: $octaneEnabled)\ntoken\nsetID\nowner {\nid\nlogin\ndisplayName\nstream {\nid\ntype\n}\n}\nsubscriptionProduct @skip(if: $octaneEnabled) {\n...subProduct\n}\nsubscriptionSummaries @include(if: $octaneEnabled) {\n...subSummary\n}\nbitsBadgeTierSummary {\nthreshold\nself {\nisUnlocked\nnumberOfBitsUntilUnlock\n}\n}\ntype\n}\n}\nfragment subSummary on SubscriptionSummary {\nid\nname\noffers {\nid\ncurrency\nexponent\nprice\npromoDescription\n}\nemotes {\nid\ntoken\nsubscriptionTier\n}\nurl\ntier\nmodifiers {\ncode\nname\nsubscriptionTier\n}\nself {\nsubscribedTier\ncumulativeTenure\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("HfAM").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var r={};function o(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=i,e.exports.EmoteCard=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=r[n]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(n){var i=o(e,n);i&&t.definitions.push(i)})),t}(i,"EmoteCard")},ndDW:function(e,n,t){"use strict";t.d(n,"a",(function(){return g})),t.d(n,"b",(function(){return v}));var i=t("mrSG"),a=t("q1tI"),r=t("/MKj"),o=t("CGXs"),s=t("eirU"),d=t("0Log"),c=t("/aPz"),l=t("kRBY"),u=t("HzXE"),m=t("geRD"),p=function(e,n){return Object(m.j)(u,{targetUserID:e.data.target_user_id,channelID:n},(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{chatRoomBanStatus:null})}))},h=function(e,n){var t,a,r=new Date(Date.now()).toISOString(),o=null!==(a=null===(t=e.data.args)||void 0===t?void 0:t[1])&&void 0!==a?a:"";return Object(m.j)(u,{targetUserID:e.data.target_user_id,channelID:n},(function(n){return Object(i.__assign)(Object(i.__assign)({},n),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:e.data.target_user_id,login:e.data.target_user_login,displayName:e.data.target_user_login},createdAt:r,expiresAt:null,isPermanent:!0,reason:o,moderator:{__typename:"User",id:e.data.created_by_user_id,login:e.data.created_by,displayName:e.data.created_by}}})}))},f=function(e,n){var t,a=Number(e.data.args[1]),r=null!==(t=e.data.args[2])&&void 0!==t?t:"",o=new Date(Date.now()).toISOString(),s=isNaN(a)?null:new Date(Date.now()+1e3*a).toISOString();return Object(m.j)(u,{targetUserID:e.data.target_user_id,channelID:n},(function(n){return Object(i.__assign)(Object(i.__assign)({},n),{chatRoomBanStatus:{__typename:"ChatRoomBanStatus",bannedUser:{__typename:"User",id:e.data.target_user_id,login:e.data.target_user_login,displayName:e.data.target_user_login},createdAt:o,expiresAt:s,isPermanent:!1,reason:r,moderator:{__typename:"User",id:e.data.created_by_user_id,login:e.data.created_by,displayName:e.data.created_by}}})}))},g=function(e){var n,t=null===(n=Object(r.e)(l.e))||void 0===n?void 0:n.id,i=e.channelID,m=e.targetID,g=Object(s.d)(u,{variables:{channelID:i,targetUserID:m}}),v=Object(o.a)(Object(c.H)(t||"",e.channelID),!t||!i||e.skipPubsub,(function(e){return e.data.target_user_id!==m||!(e.data.moderation_action===d.ModerationActions.Ban||e.data.moderation_action===d.ModerationActions.Unban||e.data.moderation_action===d.ModerationActions.Timeout||e.data.moderation_action===d.ModerationActions.Untimeout)}))[0];return a.useEffect((function(){v&&function(e,n){switch(e.data.moderation_action){case d.ModerationActions.Unban:case d.ModerationActions.Untimeout:return p(e,n);case d.ModerationActions.Ban:return h(e,n);case d.ModerationActions.Timeout:return f(e,n);default:;}}(v,i)}),[i,v]),g};function v(e){return function(n){var t=g(Object(i.__assign)({},n));return a.createElement(e,Object(i.__assign)({},n,{userBanStatus:t}))}}},nkgB:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MessageBuffer_Channel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatDelayMs"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:118}};t.loc.source={body:"query MessageBuffer_Channel($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchatSettings {\nchatDelayMs\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.MessageBuffer_Channel=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"MessageBuffer_Channel")},nxZp:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i=function(e){this.bio=e.bio,this.createdAt=e.createdAt,this.displayName=e.displayName,this.id=e.id,this.logo=e.logo,this.name=e.name,this.type=e.type,this.updatedAt=e.updatedAt}},oK83:function(e,n,t){"use strict";var i,a,r;t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return r})),function(e){e[e.unknown=0]="unknown",e[e.chat=1]="chat",e[e.room=2]="room",e[e.whisper=3]="whisper",e[e.vod=4]="vod"}(i||(i={})),function(e){e[e.chat_message=0]="chat_message",e[e.extension_message=1]="extension_message",e[e.member_list=2]="member_list",e[e.recent_raids=3]="recent_raids",e[e.room_message=4]="room_message",e[e.test=5]="test",e[e.user_command=6]="user_command",e[e.viewer_list=7]="viewer_list",e[e.viewer_list_mod_section=8]="viewer_list_mod_section",e[e.mega_cheer_notification=9]="mega_cheer_notification",e[e.bits_leaderboard=10]="bits_leaderboard",e[e.popout_button=11]="popout_button",e[e.hype_train=12]="hype_train",e[e.mod_view=13]="mod_view"}(a||(a={})),function(e){e[e.Viewer=0]="Viewer",e[e.Extension=1]="Extension",e[e.Emote=2]="Emote"}(r||(r={}))},oe5X:function(e,n,t){"use strict";var i=t("2ycz");t.d(n,"a",(function(){return i.b}))},oi4T:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return c}));t("mrSG");var i,a,r=t("/7QA"),o=t("2xye");!function(e){e.Everyone="everyone",e.ModsOnly="mod",e.StreamChat="twitch_chat",e.SubsOnly="sub"}(i||(i={})),function(e){e.BROADCASTER="BROADCASTER",e.EVERYONE="EVERYONE",e.MODERATOR="MODERATOR",e.SUBSCRIBER="SUBSCRIBER"}(a||(a={}));var s=function(e){var n;switch(e.roomMinimumRole){case a.EVERYONE:n=i.Everyone;break;case a.MODERATOR:n=i.ModsOnly;break;case a.SUBSCRIBER:n=i.SubsOnly;break;default:n=i.StreamChat}var t={channel:e.channelLogin,chatroom_type:n,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.channelID&&(t.channel_id=e.channelID),e.roomID&&(t.chatroom_id=e.roomID),t},d=function(e){var n;switch(e.roomMinimumRole){case a.EVERYONE:n=i.Everyone;break;case a.MODERATOR:n=i.ModsOnly;break;case a.SUBSCRIBER:n=i.SubsOnly;break;default:n=i.StreamChat}var t={channel:e.channelLogin,room_type:n,is_host_mode:e.isHostMode,is_using_web_sockets:!0};return e.roomID&&(t.room_id=e.roomID),e.room&&(t.room=e.room),t},c=function(e){r.o.track(o.SpadeEventType.ChatRoomJoined,s(e))}},okS7:function(e,n,t){"use strict";t.d(n,"c",(function(){return f})),t.d(n,"a",(function(){return i})),t.d(n,"g",(function(){return p})),t.d(n,"d",(function(){return S})),t.d(n,"b",(function(){return I})),t.d(n,"f",(function(){return x})),t.d(n,"e",(function(){return B.a}));t("kPBf");var i,a=t("mrSG"),r=t("q1tI"),o=t("8Ad5"),s=t("1rIY"),d=t("uu1w"),c=t("N2Gh"),l=t("TwdJ"),u=t("xlBl");!function(e){e.Input="input",e.TextArea="textarea"}(i||(i={}));var m=Object(s.a)("Autocomplete",{registerAutocompleteProvider:function(){return function(){return null}}}),p=m.withContext,h=m.context,f=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={autocompleteType:d.a.None,matchedCursorPosition:0,matches:null,value:""},n.providers=[],n.contextForChildren={registerAutocompleteProvider:n.registerAutocompleteProvider.bind(n)},n.onChange=function(e){n.setState({value:e.target.value},(function(){n.getMatches()})),n.props.onChange&&n.props.onChange(e)},n.onKeyDown=function(e){var t=function(){n.props.onKeyDown&&n.props.onKeyDown(e)},i=function(){e.preventDefault(),e.stopPropagation()},a=e.charCode||e.keyCode;if(a!==o.a.Enter){switch(a){case o.a.Tab:if(!n.state.matches)n.getMatches(!0)&&i();break;case o.a.Esc:n.state.matches&&(i(),n.resetDisplayState())}t()}else t()},n.setComponentRefDelegate=function(e){n.componentRef=e,n.props.componentRefDelegate&&n.props.componentRefDelegate(e)},n.getMatches=function(e){var t=n.state.value;if(0===n.providers.length||0===t.length)return n.resetDisplayState(),!1;var i=n.getCurrentCursorPosition();if(i>t.length);else for(;i<t.length&&!/\s/.test(t.charAt(i));)i++;var a=t.substring(0,i);if(0===a.length||/\s/.test(a.substring(a.length-1)))return n.resetDisplayState(),!1;for(var r=a.split(/\s/),o=r.length-1,s=r[o],d=0,c=n.providers;d<c.length;d++){var l=c[d];if(!e||l.canBeTriggeredByTab){var u=l.getMatches(s,e,o);if(u)return n.props.onMatch&&n.props.onMatch(u,n.insertReplacement,n.resetDisplayState),n.setState({autocompleteType:l.autocompleteType,matchedCursorPosition:i,matches:u}),!0}}return n.resetDisplayState(),!1},n.resetDisplayState=function(e,t){n.props.onReset&&n.props.onReset();var i=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},n.state),{autocompleteType:d.a.None,matches:null}),e||{});n.setState(i,t)},n.insertReplacement=function(e){var t,i=n.state.value,r=n.state.matchedCursorPosition,o=i.substring(0,r),s=o.lastIndexOf(e.current);if(-1===s)o=o.concat(e.replacement+" "),r=o.length;else{var d=o.substring(0,s),l=i.length>s+e.current.length?i.substring(s+e.current.length):"",u=l.startsWith(" ")?e.replacement:e.replacement+" ";o=""+d+u+l;var m=n.getNextCursorSelection(d,u,l,e);r=m.start,t=m.end}Object(c.a)(Object(a.__assign)(Object(a.__assign)({},n.props.trackingParams||{}),{autocompleteType:n.state.autocompleteType,completedText:e.replacement,source:n.props.suggestionSource,usedReplySuggestion:!1})),n.resetDisplayState({value:o},(function(){n.setCursorSelection(r,t)}))},n.getCurrentCursorPosition=function(){var e;return(null===(e=n.componentRef)||void 0===e?void 0:e.selectionStart)||0},n.getNextCursorSelection=function(e,n,t,i){var a=e.length+n.length;if(i.selection){var r=n.indexOf(i.selection);return{start:e.length+r,end:t.startsWith(" ")?a:a-1}}return{start:a,end:a}},n.setCursorSelection=function(e,t){n.componentRef&&(n.componentRef.setSelectionRange(e,t||e),n.componentRef.focus())},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.refDelegate&&this.props.refDelegate(this)},n.prototype.componentDidUpdate=function(e,n){n.value!==this.state.value&&this.props.onValueUpdate&&this.props.onValueUpdate(this.state.value),!n.matches&&this.state.matches&&Object(c.b)({autocompleteType:this.state.autocompleteType,source:this.props.suggestionSource})},n.prototype.render=function(){var e=Object(a.__assign)(Object(a.__assign)({},this.props),{onChange:this.onChange,onKeyDown:this.onKeyDown,refDelegate:this.setComponentRefDelegate,value:this.state.value});return r.createElement(h.Provider,{value:this.contextForChildren},this.props.componentType===i.Input?r.createElement(l.a,Object(a.__assign)({},e,{type:e.type||l.c.Text})):r.createElement(u.a,Object(a.__assign)({},e,{autoComplete:e.htmlAutocomplete})),this.props.children)},n.prototype.getValue=function(){return this.state.value},n.prototype.setValue=function(e){this.resetDisplayState({value:e})},n.prototype.registerAutocompleteProvider=function(e){var n=this;return this.providers.push(e),function(){var t=n.providers.indexOf(e);n.providers.splice(t,1)}},n}(r.Component),g=t("u5aL"),v=t("OCDW"),b=t("Yegi"),y=t("mDIl"),k=t("4Nlk"),S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={matches:null},n.onMatchSelect=function(e){n.insertReplacement&&n.insertReplacement(e)},n.onDismiss=function(){n.resetDisplayState&&n.resetDisplayState()},n.setMatches=function(e,t,i){n.insertReplacement||(n.insertReplacement=t),n.resetDisplayState||(n.resetDisplayState=i),n.setState({matches:e})},n.reset=function(){n.setState({matches:null})},n}return Object(a.__extends)(n,e),n.prototype.render=function(){return r.createElement(r.Fragment,null,this.state.matches&&r.createElement(v.a,{position:b.o.Relative},r.createElement(g.a,{onClickOut:this.onDismiss},r.createElement(y.a,{direction:k.b.TopLeft,"data-test-selector":"autocomplete-balloon",show:!0},r.createElement(v.a,{padding:{bottom:.5}},r.createElement(I,{matches:this.state.matches,onMatchSelect:this.onMatchSelect,onDismiss:this.onDismiss,containerElement:this.props.containerElement}))))),r.createElement(f,Object(a.__assign)({},this.props,{onMatch:this.setMatches,onReset:this.reset})))},n}(r.Component),C=t("/7QA"),E=t("8/mp"),w=t("wzJM"),_=t("P/fi"),N=t("p8fB"),O=t("uq9l"),D=t("IyK4"),M="autocomplete-match-list-matches",I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.resizeAnimationFrame=0,n.disableMouse=!1,n.messages={noMatches:Object(C.d)("No matches.","AutocompleteBalloon")},n.logger=C.k.withCategory("AutocompleteMatchList"),n.renderMatches=function(){var e=new Set,t=[];return n.groupMatches().forEach((function(i,a){var o=i.group;o&&!e.has(o)&&(0!==a&&t.push(r.createElement(w.a,{key:"autocomplete-separator-"+a})),t.push(r.createElement(v.a,{key:"autocomplete-heading-"+a,padding:{x:.5}},r.createElement(_.a,null,o))),e.add(o)),t.push(n.renderMatchListItem(i,a))})),t},n.renderMatchListItem=function(e,t){var i=n.state.selectedMatch,a=i&&i.replacement===e.replacement;return r.createElement(v.a,{"data-test-selector":M,key:"autocomplete-match-"+t,refDelegate:a?n.focusOnOption:void 0},r.createElement(N.a,{borderRadius:b.e.Small,"data-a-target":e.replacement,"data-click-index":t,hover:a,onClick:n.onMatchClick,onMouseEnter:n.handleMatchMouseEnter,type:N.b.Alpha},r.createElement(v.a,{alignItems:b.b.Center,display:b.h.Flex,padding:{x:.5}},e.element)))},n.handleMatchMouseEnter=function(e){if(!n.disableMouse){var t=n.getMatchFromEvent(e);t&&n.setState({selectedMatch:t})}},n.onMatchClick=function(e){var t=n.getMatchFromEvent(e);t&&n.props.onMatchSelect(t)},n.getMatchFromEvent=function(e){var t=n.groupMatches(),i=e.currentTarget.getAttribute("data-click-index");return!i||+i>=t.length?(n.logger.errorAndReport(new Error,"The index received from the UI element was not found in props.matches."),null):t[+i]},n.handleKeydown=function(e){var t=e.charCode||e.keyCode,i=function(){e.preventDefault(),e.stopPropagation()};switch(n.disableMouse=!0,t){case o.a.Tab:case o.a.Enter:i(),n.props.matches.length&&n.state.selectedMatch?n.props.onMatchSelect(n.state.selectedMatch,e.altKey):n.props.onDismiss();break;case o.a.Up:case o.a.Down:if(!n.state.selectedMatch||!n.props.matches.length)return;var a=n.groupMatches(),r=a.indexOf(n.state.selectedMatch);if(-1===r)return void n.logger.errorAndReport(new Error,"The selected match was not found in props.matches.");i();var s=t===o.a.Up?-1:1,d=a[n.getIndexWithinLength(r+s,n.props.matches.length)];n.setState({selectedMatch:d})}},n.groupMatches=function(){for(var e={},t=0,i=n.props.matches;t<i.length;t++){var a=i[t];(c=e[d=a.group||"undefined"]||[]).push(a),e[d]=c}for(var r=[],o=0,s=Object.keys(e).sort(n.sortGroups);o<s.length;o++){var d,c;(c=e[d=s[o]])&&r.push.apply(r,c)}return r},n.sortGroups=function(e,n){return"undefined"===e?1:"undefined"===n?-1:e>n?1:e<n?-1:0},n.getIndexWithinLength=function(e,n){var t=e%n;return t<0?t+n:t},n.onResize=function(){n.resizeAnimationFrame||(n.resizeAnimationFrame=requestAnimationFrame(n.setContainerHeight))},n.setContainerHeight=function(){var e=n.props.containerElement&&n.props.containerElement.clientHeight||1080;n.scrollableArea&&n.scrollableArea.root&&(n.scrollableArea.root.style.maxHeight=e+"px"),n.resizeAnimationFrame=0},n.focusOnOption=function(e){if(e&&n.AutocompleteMatchListElement){var t=e.getBoundingClientRect(),i=n.AutocompleteMatchListElement.getBoundingClientRect();t.bottom>i.bottom&&e.scrollIntoView(!1),t.top<i.top&&e.scrollIntoView()}},n.onMouseMove=function(){n.disableMouse=!1},n.setAutocompleteMatchListElement=function(e){n.AutocompleteMatchListElement=e},n.setScrollableAreaRef=function(e){return n.scrollableArea=e},n}return Object(a.__extends)(n,e),n.getDerivedStateFromProps=function(e,n){var t=e.matches.reduce((function(e,t,i){return n.selectedMatch?t.replacement===n.selectedMatch.replacement?i:e:0}),0);return{selectedMatch:e.matches[t]}},n.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeydown,!0),window.addEventListener("resize",this.onResize,!0),window.addEventListener("mousemove",this.onMouseMove,!0),this.setContainerHeight(),this.props.matches.length>0&&this.setState({selectedMatch:this.props.matches[0]})},n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("keydown",this.handleKeydown,!0),window.removeEventListener("mousemove",this.onMouseMove,!0),this.resizeAnimationFrame&&cancelAnimationFrame(this.resizeAnimationFrame)},n.prototype.render=function(){var e;return e=0===this.props.matches.length?r.createElement(v.a,{padding:{x:.5},"data-test-selector":"autocomplete-match-list-no-matches"},r.createElement(O.a,{type:O.e.Span,color:b.f.Alt2},this.messages.noMatches)):this.renderMatches(),r.createElement(v.a,{position:b.o.Relative,padding:{top:.5,x:.5}},r.createElement(D.a,{"data-test-selector":"autocomplete-matches-container",className:"autocomplete-match-list",overflow:b.n.Hidden,display:b.h.Flex,flexDirection:b.i.Column},r.createElement("div",{ref:this.setAutocompleteMatchListElement},r.createElement(E.b,{suppressScrollX:!0,scrollRef:this.setScrollableAreaRef},r.createElement(v.a,null,this.props.header,e)))))},n}(r.Component),T=t("/MKj"),j=t("ANjH"),R=t("Uy53"),P=t("lZdE"),F=t("XDQu"),L=t("ikJD"),A=t("OpME"),U=(t("gDzh"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.autocompleteType=d.a.Emote,n.canBeTriggeredByTab=!1,n.hydrateEmotes=Object(R.a)((function(e,n,t){for(var i=[],a=0,r=e;a<r.length;a++){var o=r[a];o&&o.id&&o.emotes&&i.push({id:o.id,emotes:Object(A.c)(o.emotes,n,t)})}return i})),n.getMatches=function(e){return e.startsWith(":")?e.length<3?null:n.getMatchedEmotes(e):null},n.getMatchedEmotes=function(e){var t=n.hydrateEmotes(n.props.emotes,n.props.isEmoteAnimationsEnabled,n.props.theme);if(!t||0===t.length)return null;var i=e.substring(1),a=t.reduce((function(e,t){var a=t.emotes.filter((function(e){return n.doesEmoteMatchTerm(e,i)}));return e.concat(a)}),[]);return a=Object(A.e)(a),(a=Object(A.f)(a,i)).map((function(e){return{type:d.a.Emote,current:":"+i,replacement:e.token,element:n.renderEmoteSuggestion(e)}}))},n.doesEmoteMatchTerm=function(e,n){var t=new RegExp("^"+Object(P.a)(n),"i");if(e.token.match(t))return!0;for(var i=new RegExp(""+Object(P.a)(n.charAt(0)).toUpperCase(),"g"),a=new RegExp("^"+Object(P.a)(n.slice(1)),"i"),r=0,o=Array.from(e.token.matchAll(i));r<o.length;r++){var s=o[r];if(s.index&&e.token.slice(s.index+1).match(a))return!0}return!1},n.renderEmoteSuggestion=function(e){return[r.createElement(v.a,{padding:.5,flexShrink:0,key:"emote-img-"+e.id},r.createElement("img",{alt:e.token+"-emote",className:"emote-autocomplete-provider__image",srcSet:e.srcSet})),r.createElement(O.a,{type:O.e.Span,key:"emote-text-"+e.id,ellipsis:!0},e.token)]},n}return Object(a.__extends)(n,e),n.prototype.componentDidMount=function(){this.unregister=this.props.registerAutocompleteProvider(this)},n.prototype.componentWillUnmount=function(){this.unregister()},n.prototype.render=function(){return null},n}(r.Component));var x=Object(j.d)(Object(T.b)((function(e){return{theme:Object(F.a)(e)}})),p((function(e){return e})),Object(L.c)((function(e){return{isEmoteAnimationsEnabled:e.value}})))(U),B=t("7Eue")},olXY:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRestrictions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRestrictedReasons"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastRecentChatMessageAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"chatSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requireVerifiedAccount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:247}};t.loc.source={body:"query ChatRestrictions($channelLogin: String!) {\nchannel: user(login: $channelLogin) {\nid\nself {\nchatRestrictedReasons\nlastRecentChatMessageAt\nfollower {\nfollowedAt\n}\n}\nchatSettings {\nrequireVerifiedAccount\n}\n}\ncurrentUser {\nid\nisEmailVerified\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatRestrictions=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatRestrictions")},osWt:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("/MKj"),a=function(){return Object(i.e)((function(e){return e.session.firstPageLoaded}))}},oyYY:function(e,n,t){"use strict";t.r(n),t.d(n,"ChatRepliesOPCard",(function(){return D}));var i=t("/MKj"),a=t("ANjH"),r=t("yR8l"),o=t("/0dD"),s=t("XDQu"),d=t("GPV9"),c=t("XjTb"),l=t("mrSG"),u=t("TSYQ"),m=t("q1tI"),p=t("8/mp"),h=t("uIkQ"),f=t("XmgI"),g=t("X31c"),v=t("ptRJ"),b=t("ZtEv"),y=t("a1OF"),k=t("GTqc"),S=t("Vtno"),C=t("RReG"),E=t("IyK4"),w=t("OCDW"),_=t("Yegi"),N=(t("XjhS"),"reply-message"),O=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={showGradient:!1},n.didScroll=!1,n.doneScrolling=!1,n.scrollHandlerAttached=!1,n.scrollTracked=!1,n.experimentGroup=Object(S.b)(n.props.channelID),n.renderReplyMessages=function(e){var t,i,a,r;return null===(r=null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.message)||void 0===i?void 0:i.replies)||void 0===a?void 0:a.nodes)||void 0===r?void 0:r.map((function(t){var i,a,r=null===(i=t.sender)||void 0===i?void 0:i.displayBadges,o=null==t?void 0:t.sender;if(!o||!t)return null;var s=(null===(a=t.content)||void 0===a?void 0:a.text)||"";n.experimentGroup!==S.a.Control&&(s=Object(y.g)(s,e).message);var d=Object(v.a)(b.c.Post,s,{id:t.id,badges:Object(h.d)(r||[]),badgeDynamicData:null,emotes:Object(k.a)(s,t.content),userID:o.id,username:o.login||"",displayName:o.displayName||"",color:o.chatColor||"",userType:"",bits:0},f.a,null,!!t.deletedAt,!1,t.sentAt?new Date(t.sentAt).getTime():void 0),c=m.createElement(E.a,{key:d.id,className:"reply-list-item"},m.createElement(g.a,{key:d.id,channelID:n.props.channelID,channelLogin:n.props.channelLogin,badgeSets:new h.c(r||[],null==r?void 0:r.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)||"vip"===(null==e?void 0:e.setID)}))),message:d,isDeleted:d.deleted,isHidden:d.hidden,showModerationIcons:n.props.showModerationIcons,showTimestamps:n.props.showTimestamps,useHighContrastColors:!!n.props.useHighContrastColors,deletedMessageDisplay:n.props.deletedMessageDisplay,isCurrentUserModerator:n.props.isCurrentUserModerator,isCurrentUserStaff:n.props.isCurrentUserStaff,currentUserID:n.props.currentUserID,currentUserDisplayName:n.props.currentUserDisplayName,currentUserLogin:n.props.currentUserLogin,confirmModerationAction:n.props.confirmModerationAction,theme:n.props.theme,deletedCount:d.deletedCount,hideBroadcasterTooltip:n.props.hideBroadcasterTooltip,"data-test-selector":N,usesSchemaBadges:!0,disableReplyClick:!0}));return n.props.highlightMessageID===t.id?m.createElement(w.a,{position:_.o.Relative,refDelegate:n.setRef},m.createElement(w.a,{className:u("chat-replies-list__reply-line--flash-animation",{"chat-replies-list__reply-line--flash-animation-dark":n.props.darkModeEnabled}),borderRadius:_.e.Small,position:_.o.Absolute,fullHeight:!0}),c):c}))},n.hideGradient=function(){!1!==n.state.showGradient&&n.setState({showGradient:!1})},n.showGradient=function(){!0!==n.state.showGradient&&n.setState({showGradient:!0})},n.addScrollHandler=function(){n.contentRef&&!n.scrollHandlerAttached&&(n.contentRef.addEventListener("scroll",n.handleScroll),n.scrollHandlerAttached=!0)},n.removeScrollHandler=function(){n.contentRef&&n.scrollHandlerAttached&&n.contentRef.removeEventListener("scroll",n.handleScroll)},n.handleScroll=function(){var e,t,i,a;if(!n.scrollTracked){var r=n.props,o=r.data,s=r.channelID,d=null===(e=null==o?void 0:o.message)||void 0===e?void 0:e.id,c=null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.message)||void 0===i?void 0:i.sender)||void 0===a?void 0:a.id;n.doneScrolling?s&&d&&c&&(Object(C.d)({channelID:s,opUserID:c,messageID:d}),n.scrollTracked=!0):n.doneScrolling=!0}},n.setRef=function(e){return n.chatRef=e},n.saveScrollRef=function(e){return n.scroll=e},n.saveContentRef=function(e){return n.contentRef=e},n}return Object(l.__extends)(n,e),n.prototype.componentDidUpdate=function(){var e;if(this.addScrollHandler(),(null===(e=this.scroll)||void 0===e?void 0:e.scrollContent)&&!this.didScroll)return this.props.highlightMessageID?void(this.chatRef&&(this.scroll.scrollContent.scrollTop=this.chatRef.offsetTop,this.didScroll=!0)):(this.scroll.scrollToBottom(),void(this.didScroll=!0))},n.prototype.componentWillUnmount=function(){this.contentRef&&this.scrollHandlerAttached&&this.removeScrollHandler()},n.prototype.render=function(){var e,n,t,i,a=null===(e=this.props.data)||void 0===e?void 0:e.message,r=null===(t=null===(n=this.props.data)||void 0===n?void 0:n.message)||void 0===t?void 0:t.sender,o=null==r?void 0:r.displayBadges;if(!a||!r||!o)return null;var s=r.login||"",d=r.displayName||"",c=(null===(i=a.content)||void 0===i?void 0:i.text)||"",l=Object(v.a)(b.c.Post,c,{id:a.id,badges:Object(h.d)(o),badgeDynamicData:null,emotes:Object(k.a)(c,a.content),userID:r.id,username:s,displayName:d,color:r.chatColor||"",userType:"",bits:0},f.a,null,!!a.deletedAt,!1,a.sentAt?new Date(a.sentAt).getTime():void 0),y=m.createElement(g.a,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,badgeSets:new h.c(o,null==o?void 0:o.filter((function(e){return"subscriber"===(null==e?void 0:e.setID)||"vip"===(null==e?void 0:e.setID)}))),message:l,isDeleted:l.deleted,isHidden:l.hidden,reply:l.reply,showModerationIcons:this.props.showModerationIcons,showTimestamps:this.props.showTimestamps,useHighContrastColors:!!this.props.useHighContrastColors,deletedMessageDisplay:this.props.deletedMessageDisplay,isCurrentUserModerator:this.props.isCurrentUserModerator,isCurrentUserStaff:this.props.isCurrentUserStaff,currentUserID:this.props.currentUserID,currentUserDisplayName:this.props.currentUserDisplayName,currentUserLogin:this.props.currentUserLogin,confirmModerationAction:this.props.confirmModerationAction,theme:this.props.theme,deletedCount:l.deletedCount,hideBroadcasterTooltip:this.props.hideBroadcasterTooltip,disableReplyClick:!0});return m.createElement(w.a,{className:this.props.fontScaleClassName,display:_.h.Flex,flexDirection:_.i.Column},m.createElement(w.a,{"data-test-selector":"parent"},m.createElement(E.a,{padding:{left:1}},y)),m.createElement(w.a,{className:"chat-replies-list__container",display:_.h.Flex,flexDirection:_.i.Column,position:_.o.Relative},m.createElement(p.b,{scrollRef:this.saveScrollRef,contentRef:this.saveContentRef,suppressScrollX:!0},m.createElement(w.a,{margin:{left:1,right:.5},className:u({"chat-replies-list":!0,"chat-replies-list--with-gradient":this.state.showGradient}),"data-test-selector":"replies"},this.renderReplyMessages(d),m.createElement(p.c,{visible:this.hideGradient,notVisible:this.showGradient,pixelThreshold:25})))))},n}(m.Component);var D=Object(a.d)(Object(r.a)(c,{options:function(e){var n;return{variables:{messageID:(null===(n=e.reply)||void 0===n?void 0:n.parentMsgId)||"",channelID:e.channelID||""},fetchPolicy:"network-only"}}}),Object(i.b)((function(e){return{darkModeEnabled:Object(s.a)(e)===o.a.Dark}})),Object(d.a)())(O)},p52R:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.Admin="admin",e.GlobalMod="global_mod",e.Moderator="mod",e.Owner="owner",e.Staff="staff",e.Subscriber="subscriber",e.User=""}(i||(i={}))},pMvt:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsChatPauseSetting"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatPauseSetting"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:95}};t.loc.source={body:"query SyncedSettingsChatPauseSetting {\ncurrentUser {\nid\nchatUISettings {\nchatPauseSetting\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsChatPauseSetting=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsChatPauseSetting")},pTg8:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("DMoW"),a=t("W1jp");function r(e,n){var t=e[n];if(t)return{cost:"CommunityPointsCommunityGoal"===t.__typename?t.smallContribution:Object(a.c)(t),isHighlighted:"CommunityPointsAutomaticReward"===t.__typename&&t.type===i.eb.SEND_HIGHLIGHTED_MESSAGE,name:"CommunityPointsCommunityGoal"===t.__typename?t.title:Object(a.f)(t)}}},pU2t:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"g",(function(){return u})),t.d(n,"c",(function(){return m})),t.d(n,"f",(function(){return p})),t.d(n,"d",(function(){return h})),t.d(n,"e",(function(){return f})),t.d(n,"a",(function(){return v}));var i=t("mrSG"),a=t("XmgI"),r=t("ahza"),o=t("DpwM"),s=t("a1OF"),d=function(e,n,t){var i=e.bits_spent,a=e.body,r=e.emoticons,o=e.is_action,d=e.user_color,c=e.user_notice_params,l=function(e){void 0===e&&(e=[]);return e.reduce((function(e,n){return e[n.begin]={id:n._id,startIndex:n.begin},e}),{})}(r);return{id:"1",isAction:o,tokens:Object(s.f)(a,l,i||0,t,n),userColor:d||Object(s.c)(n),userNoticeParams:c||void 0}};var c=t("XeJ1"),l="comment";function u(e){return Object(r.e)(e)?{message:e.message,parent_id:e.parentId}:{content_id:e.contentId,content_offset_seconds:e.contentOffsetSeconds,content_type:e.contentType,message:e.message}}var m=function(e){return{comments:[v.normalizeRecord(e,a.a)],users:[c.a.normalizeRecord(e.commenter)]}},p=function(e,n){var t=Object(i.__assign)(Object(i.__assign)({},e),{more_replies:n.moreReplies});return{comments:[v.normalizeRecord(t,a.a)],users:[c.a.normalizeRecord(e.commenter)]}},h=function(e,n){var t=e.comments.map((function(e){return c.a.normalizeRecord(e.commenter)})),i={past:o.g,future:o.g};return void 0!==e._next&&(i.future=e._next),void 0!==e._prev&&(i.past=e._prev),{comments:e.comments.reduce((function(e,i){return i.replies&&i.replies.map((function(e){t.push(c.a.normalizeRecord(e.commenter))})),e.concat(v.normalizeRecords(i,n))}),[]),cursor:i,users:t}},f=function(e){var n=e.comments.map((function(e){return c.a.normalizeRecord(e.commenter)}));return{comments:e.comments.map((function(e){return v.normalizeRecord(e,a.a)})),cursor:{future:e._next||o.g},users:n}};function g(e){return e.reduce((function(e,n){return e[n._id]=n.version,e}),{})}var v={normalizeRecords:function(e,n){var t=[v.normalizeRecord(e,n)];return Array.isArray(e.replies)&&e.replies.forEach((function(e){t.push(b.normalizeRecord(e,n))})),t},normalizeRecord:function(e,n){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:d(e.message,e.commenter._id,n),moreReplies:e.more_replies||!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}},b={normalizeRecord:function(e,n){return{channelId:e.channel_id,commenter:e.commenter._id,contentId:e.content_id,contentOffset:Math.floor(e.content_offset_seconds),contentType:e.content_type,createdAt:new Date(e.created_at),id:e._id,message:d(e.message,e.commenter._id,n),moreReplies:!1,parentId:void 0!==e.parent_id?e.parent_id:"",state:e.state,source:e.source,userBadges:g(e.message.user_badges||[])}}}},pb7T:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("OCDW"),r=t("E1Lb"),o=t("Ix37"),s=(t("wpfL"),function(){return i.createElement(a.a,{className:"warning-modifier-tray-icon"},i.createElement(r.a,{asset:o.a.NotificationWarning}))})},pqDf:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"predictionSettingsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"predictionsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAcceptedTOS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemporaryChatBadgeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isInRestrictedRegion"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:138}};t.loc.source={body:"fragment predictionSettingsFragment on User {\nid\npredictionsSettings {\nhasAcceptedTOS\nisTemporaryChatBadgeEnabled\nisInRestrictedRegion\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},ptRJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("ZtEv"),r=t("a1OF"),o=t("aF6k");function s(e,n,t,s,d,c,l,u,m){return void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===u&&(u=Date.now()),void 0===m&&(m={}),Object(i.__assign)(Object(i.__assign)({},Object(r.a)(n,t,s,d,c,l,!1,u,m)),{type:a.b.Message,messageType:e,isHistorical:m.isHistorical,id:t.id||Object(o.a)(t.username)})}},q1g8:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var i=t("wUQP"),a=t("DMoW");function r(e){return Object(i.c)(e)?[a.gb.CREATOR,a.gb.BOOST]:[a.gb.CREATOR]}},qaaX:function(e,n,t){"use strict";t.d(n,"i",(function(){return r})),t.d(n,"e",(function(){return o})),t.d(n,"d",(function(){return s})),t.d(n,"b",(function(){return d})),t.d(n,"g",(function(){return c})),t.d(n,"a",(function(){return l})),t.d(n,"h",(function(){return u})),t.d(n,"c",(function(){return m})),t.d(n,"f",(function(){return p}));var i=t("/7QA"),a=t("wUQP");function r(){return Object(a.c)(o)}var o="promotions_boost_settings",s="promotions_boost_viewer",d="promotions_boost_challenges_viewer",c="promotions_settings",l="boost_challenges_settings";function u(){return Object(i.d)("Boost this stream","BoostChallengeTitle")}var m="https://help.twitch.tv/s/article/boost-this-stream",p="boostChallengeOnboardingDismissed"},quxh:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollChoice"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollChoice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}}]}}],loc:{start:0,end:271}};i.loc.source={body:'#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\nfragment pollChoice on PollChoice {\nid\ntitle\ntokens { ...pollTokenBreakdown }\ntotalVoters\nvotes { ...pollVoteBreakdown }\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("/x02").definitions)),i.definitions=i.definitions.concat(r(t("wMQt").definitions)),e.exports=i},"r+cx":function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pointsImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url2x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url4x"},arguments:[],directives:[]}]}}],loc:{start:0,end:72}};t.loc.source={body:"fragment pointsImageFragment on CommunityPointsImage {\nurl\nurl2x\nurl4x\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},r2Xj:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i}));var i,a={DarkMode:"darkMode",FollowerDuration:"followerDuration",FollowerMode:"followerMode",HideChat:"hideChat",ShowMessageFlags:"showMessageFlags",ShowAutoModActions:"showAutoModActions",ShowModActions:"showModerationActions",ShowModIcons:"showModIcons",ShowTimestamps:"showTimestamps",SlowModeDuration:"slowModeDuration",UseHighContrastColors:"useHighContrastColors",EmoteAnimationsSetting:"emoteAnimationsSetting",SlowMode:"slowMode",DeletedMessageDisplaySetting:"deletedMessageDisplaySetting",ChatPauseSetting:"chatPauseSetting",FontSize:"fontSize",RepliesAppearance:"repliesAppearance"};!function(e){e.ChatAppearance="chat_appearance",e.ChatReplies="chat_replies"}(i||(i={}))},r7KY:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("q1tI"),a=t("Yegi"),r=t("IyK4"),o=t("QwmM"),s=(t("xDdc"),function(e){var n;return n=void 0===e.background?a.d.Alt:null===e.background?void 0:e.background,i.createElement(r.a,{margin:{y:.5},padding:{right:2,y:.5},background:n},i.createElement("div",{"data-test-selector":"user-notice-line",className:"user-notice-line",style:e.primaryColorHex?{"border-left-color":Object(o.e)(e.primaryColorHex)}:void 0},e.children))});s.displayName="UserNoticeLine"},rCSd:function(e,n,t){},rVcM:function(e,n,t){},rYEI:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return s}));var i,a=t("/7QA"),r=t("1bK4");function o(e){var n=1;return e>=3e3&&(e-=r.e,n=3),e>=2e3&&(e-=r.d,n=2),function(e,n){if(e>1)return 0===n?Object(a.d)("Tier {tierNum}, Base",{tierNum:Object(a.f)(e)},"LoyaltyBadgesPageComponent"):n<12?Object(a.d)("{monthNum, plural, one {Tier {tierNum}, {monthNum}-Month} other {Tier {tierNum}, {monthNum}-Month}}",{tierNum:Object(a.f)(e),monthNum:Object(a.f)(n)},"LoyaltyBadgesPageComponent"):Object(a.d)("{yearNum, plural, one {Tier {tierNum}, {yearNum}-Year} other {Tier {tierNum}, {yearNum}-Year}}",{tierNum:Object(a.f)(e),yearNum:n/12},"LoyaltyBadgesPageComponent");return 0===n?Object(a.d)("Base","LoyaltyBadgesPageComponent"):n<12?Object(a.d)("{monthNum, plural, one {{monthNum}-Month} other {{monthNum}-Month}}",{monthNum:Object(a.f)(n)},"LoyaltyBadgesPageComponent"):Object(a.d)("{yearNum, plural, one {{yearNum}-Year} other {{yearNum}-Year}}",{yearNum:n/12},"LoyaltyBadgesPageComponent")}(n,e)}!function(e){e.Base="Base",e.Month2="2-Month",e.Month3="3-Month",e.Month6="6-Month",e.Month9="9-Month",e.Year1="1-Year",e.Year1Half="1.5-Year",e.Year2="2-Year",e.Year2Half="2.5-Year",e.Year3="3-Year",e.Year3Half="3.5-Year",e.Year4="4-Year",e.Year4Half="4.5-Year",e.Year5="5-Year",e.Year5Half="5.5-Year",e.Year6="6-Year",e.Year6Half="6.5-Year",e.Year7="7-Year",e.Year7Half="7.5-Year",e.Year8="8-Year"}(i||(i={}));var s=[{availableToAffiliate:!0,name:i.Base,requiredTenureMonths:0},{availableToAffiliate:!0,name:i.Month2,requiredTenureMonths:2},{availableToAffiliate:!0,name:i.Month3,requiredTenureMonths:3},{availableToAffiliate:!0,name:i.Month6,requiredTenureMonths:6},{availableToAffiliate:!0,name:i.Month9,requiredTenureMonths:9},{availableToAffiliate:!0,name:i.Year1,requiredTenureMonths:12},{availableToAffiliate:!1,name:i.Year1Half,requiredTenureMonths:18},{availableToAffiliate:!1,name:i.Year2,requiredTenureMonths:24},{availableToAffiliate:!1,name:i.Year2Half,requiredTenureMonths:30},{availableToAffiliate:!1,name:i.Year3,requiredTenureMonths:36},{availableToAffiliate:!1,name:i.Year3Half,requiredTenureMonths:42},{availableToAffiliate:!1,name:i.Year4,requiredTenureMonths:48},{availableToAffiliate:!1,name:i.Year4Half,requiredTenureMonths:54},{availableToAffiliate:!1,name:i.Year5,requiredTenureMonths:60},{availableToAffiliate:!1,name:i.Year5Half,requiredTenureMonths:66},{availableToAffiliate:!1,name:i.Year6,requiredTenureMonths:72},{availableToAffiliate:!1,name:i.Year6Half,requiredTenureMonths:78},{availableToAffiliate:!1,name:i.Year7,requiredTenureMonths:84},{availableToAffiliate:!1,name:i.Year7Half,requiredTenureMonths:90},{availableToAffiliate:!1,name:i.Year8,requiredTenureMonths:96}]},ru7j:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlockedUsers"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"blockedUsers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:61}};t.loc.source={body:"query BlockedUsers {\ncurrentUser {\nid\nblockedUsers {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.BlockedUsers=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"BlockedUsers")},sU0Q:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatCard_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"90"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"51"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"publishedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:162}};t.loc.source={body:"query VideoChatCard_Video($videoID: ID!) {\nvideo(id: $videoID) {\nid\ntitle\npreviewThumbnailURL(width: 90 height: 51)\npublishedAt\nowner {\nid\nlogin\ndisplayName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChatCard_Video=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChatCard_Video")},sj0o:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteModificationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteModification"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifierIconDark"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifierIconLight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pointsImageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"globallyUpdatedForIndicatorAt"},arguments:[],directives:[]}]}}],loc:{start:0,end:410}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/points-image-fragment.gql"\nfragment emoteModificationFragment on CommunityPointsEmoteModification {\nid\nemote {\n...communityPointsEmoteFragment\n}\nmodifierIconDark {\n...pointsImageFragment\n}\nmodifierIconLight {\n...pointsImageFragment\n}\ntitle\ngloballyUpdatedForIndicatorAt\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("KrPZ").definitions)),i.definitions=i.definitions.concat(r(t("r+cx").definitions)),e.exports=i},smCe:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"TerminatePoll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"TerminatePollInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"terminatePoll"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poll"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:100}};t.loc.source={body:"mutation TerminatePoll($input: TerminatePollInput!) {\nterminatePoll(input: $input) {\npoll {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.TerminatePoll=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"TerminatePoll")},t4UF:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var i=t("mrSG"),a=t("q1tI"),r=t("fBrF");function o(e){return function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(t,n),t.prototype.render=function(){return a.createElement(r.a,Object(i.__assign)({},this.props),a.createElement(e,Object(i.__assign)({},this.props)))},t}(a.Component)}},tFCv:function(e,n,t){"use strict";t.d(n,"a",(function(){return B})),t.d(n,"b",(function(){return W}));var i=t("mrSG"),a=t("q1tI"),r=t("/MKj"),o=t("Ty5D"),s=t("ANjH"),d=t("/7QA"),c=t("u5aL"),l=t("ZS2+"),u=t("/0dD"),m=t("v8lJ"),p=t("SDEh"),h=t("edgk"),f=t("1/iK"),g=t("y5D0"),v=t("jZLd"),b=t("kRBY"),y=t("XDQu"),k=t("+pBb"),S=t("3sMn"),C=t("Tznh"),E=t("+l4d"),w=t("xzy9"),_=t("fezU"),N=t("r2Xj"),O=t("WytW"),D=t("x0gr"),M=t("k5yb"),I=t("9Wu8"),T=t("MkkA"),j=t("XC6p"),R=t("OCDW"),P=t("Yegi"),F=t("swlv"),L=t("Ix37"),A=l.a.wrap((function(){return t.e(68).then(t.bind(null,"8MX0"))}),"ChatSettingsComponent"),U=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={editAppearance:!1},n.chatSettingsTooltipString=function(){return Object(d.d)("Chat Settings","ChatInputTooltip")},n.onEdit=function(){n.setState({editAppearance:!0})},n.onLeaveEdit=function(){n.setState({editAppearance:!1})},n.onDarkModeToggle=function(){var e=n.props.darkModeEnabled?u.a.Light:u.a.Dark;n.props.onThemeChanged(e,!n.props.isPopout),Object(D.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!n.props.darkModeEnabled,settingName:N.a.DarkMode})},n.onTimestampToggle=function(e){Object(D.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:e,settingName:N.a.ShowTimestamps})},n.onHighContrastColorsToggle=function(e){Object(D.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:e,settingName:N.a.UseHighContrastColors})},n.onEmoteAnimationsToggle=function(e){Object(D.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:e,settingName:N.a.EmoteAnimationsSetting})},n.onFontSizeChanged=function(e,t){t!==e&&Object(D.a)({settingName:N.a.FontSize,newValue:e,oldValue:t,channelLogin:n.props.channelLogin,channelID:n.props.channelID,isHostMode:n.props.isHostMode})},n.onRepliesAppearanceChanged=function(e,t){t!==e&&Object(D.a)({settingName:N.a.RepliesAppearance,newValue:e,oldValue:t,channelLogin:n.props.channelLogin,channelID:n.props.channelID,isHostMode:n.props.isHostMode})},n.onDeletedMessageDisplaySettingChange=function(e){n.props.setDeletedMessageDisplaySetting(e)},n.onChatHide=function(){n.props.onChatHide(),n.onCloseSettings(),Object(D.b)({channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode,newValue:!0,settingName:N.a.HideChat})},n.onChatPopout=function(){n.props.isPopout||n.props.onChatHide();var e="/popout/"+n.props.channelLogin+"/chat?popout=";Object(M.E)()&&(e="https://twitch.tv"+e);var t=window.open(e,"_blank","right=50,top=50,width=400,height=600,resizable=yes,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");t&&!Object(p.c)()&&(t.focus(),Object(h.a)(t,(function(){n.props.onChatUnhide()})))},n.onShowChatRules=function(){n.props.showChatRules(),n.onCloseSettings()},n.onColorSelected=function(e){n.props.isLoggedIn?n.props.onChatCommand(Object(O.a)(e)):n.props.login()},n.onToggleChatSettings=function(){n.props.isSettingsOpen?n.onCloseSettings():(Object(D.d)({channelID:n.props.channelID||void 0,channelLogin:n.props.channelLogin,isHostMode:n.props.isHostMode}),n.props.updateChatConfigState({isSettingsOpen:!0}))},n.onCloseSettings=function(){n.props.isSettingsOpen&&(n.props.hideChatFilterSettings(),n.props.hideDeletedMessageDisplaySettings(),n.props.updateChatConfigState({isSettingsOpen:!1}),n.props.markNewUnbanRequestsAsRead())},n}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.isSettingsOpen&&!this.props.isSettingsOpen&&(this.props.hideChatFilterSettings(),this.props.hideDeletedMessageDisplaySettings(),this.onLeaveEdit())},n.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(A.Preload,{priority:m.a.Later}),a.createElement(c.a,{onClickOut:this.onCloseSettings},a.createElement(j.a,{label:this.chatSettingsTooltipString()},a.createElement(R.a,{zIndex:P.t.Default,position:P.o.Relative},a.createElement(F.a,{"data-a-target":"chat-settings",icon:L.a.Gear,"aria-label":Object(d.d)("Chat settings","ChatSettingsIconButton"),onClick:this.onToggleChatSettings}),this.props.hasNewUnbanRequests&&a.createElement(R.a,{zIndex:P.t.Above,position:P.o.Absolute,className:"chat-settings-toggle__new-requests-indicator","data-test-selector":"new-unban-requests-indicator"}))),this.props.isSettingsOpen&&a.createElement(A,{authToken:this.props.authToken,darkModeEnabled:this.props.darkModeEnabled,editAppearance:this.state.editAppearance,isShowingChatFilterSettings:this.props.isShowingChatFilterSettings,showChatFilterSettings:this.props.showChatFilterSettings,hideChatFilterSettings:this.props.hideChatFilterSettings,isCurrentUserModerator:this.props.isCurrentUserModerator,isHostMode:this.props.isHostMode,isVisible:this.props.isSettingsOpen,isPopout:this.props.isPopout,isWatchPartyActive:this.props.isWatchPartyActive,isEmbedded:this.props.isEmbedded,onChatCommand:this.props.onChatCommand,onChatHide:this.onChatHide,onChatPopout:this.onChatPopout,onShowChatRules:this.props.onShowChatRules&&this.onShowChatRules,onDarkModeToggle:this.onDarkModeToggle,onTimestampToggle:this.onTimestampToggle,onHighContrastColorsToggle:this.onHighContrastColorsToggle,onEmoteAnimationsToggle:this.onEmoteAnimationsToggle,onFontSizeChanged:this.onFontSizeChanged,onRepliesAppearanceChanged:this.onRepliesAppearanceChanged,theatreModeEnabled:this.props.theatreModeEnabled,onColorSelected:this.onColorSelected,channelDisplayName:this.props.channelDisplayName,channelLogin:this.props.channelLogin,channelID:this.props.channelID,isLoggedIn:this.props.isLoggedIn,onClickEditAppearance:this.onEdit,onLeaveEditAppearance:this.onLeaveEdit,onShowViewerCard:this.props.onShowViewerCard,containerElement:this.props.containerElement,"data-test-selector":"chat-settings-component",onCloseSettings:this.onCloseSettings,isShowingDeletedMessageDisplaySettings:this.props.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.props.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.props.showDeletedMessageDisplaySettings,onDeletedMessageDisplaySettingChange:this.onDeletedMessageDisplaySettingChange,deletedMessageDisplaySetting:this.props.deletedMessageDisplaySetting,hasSetDeletedMessageDisplaySetting:this.props.hasSetDeletedMessageDisplaySetting})))},n}(a.Component);var x=Object(r.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isChatRulesOpen:e.chat.isChatRulesOpen,isLoggedIn:Object(b.f)(e),darkModeEnabled:Object(y.a)(e)===u.a.Dark,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return Object(s.b)({login:function(){return Object(g.e)(f.a.ChatSettings)},onChatHide:function(){return k.Y()},onChatUnhide:function(){return k.db()},onThemeChanged:function(e){return Object(v.b)(e,{saveToStorage:!1})}},e)}))(U),B=Object(s.d)(o.l,Object(S.b)((function(e){return{isSettingsOpen:e.isSettingsOpen,updateChatConfigState:e.updateChatConfigState}})),Object(w.c)((function(e){return{setDeletedMessageDisplaySetting:e.setValue,deletedMessageDisplaySetting:e.value,isShowingDeletedMessageDisplaySettings:e.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:e.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:e.showDeletedMessageDisplaySettings,hasSetDeletedMessageDisplaySetting:e.hasSetSetting}})),Object(_.c)((function(e){return{onShowViewerCard:e.onShowViewerCard}})),Object(C.d)((function(e){return e})),Object(E.b)((function(e){return{showChatRules:e.showChatRules}})),Object(T.withWatchPartyContext)((function(e){return{isWatchPartyActive:e.isWatchPartyActive}})),Object(I.d)((function(e){return{hasNewUnbanRequests:!!e.unreadRequestsCount,markNewUnbanRequestsAsRead:function(){e.setLastOpenedAt((new Date).toString()),e.showNewRequests()}}})))(x),V=t("eJ65"),q=t("mDIl"),G=t("4Nlk"),H=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.setToggleBalloonRef=function(e){return n.toggleBalloonRef=e},n}return Object(i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.props.onToggle&&this.props.isChatRulesOpen&&!e.isChatRulesOpen?this.toggleBalloonRef.toggleBalloon(!1):this.props.isShowingChatFilterSettings&&!e.isShowingChatFilterSettings&&(this.toggleBalloonRef.toggleBalloon(!0),this.props.onToggle&&this.props.onToggle(!1))},n.prototype.render=function(){return a.createElement(V.a,{onToggle:this.props.onToggle,ref:this.setToggleBalloonRef},a.createElement(F.a,{icon:L.a.Gear,"aria-label":Object(d.d)("Chat settings","ChatInput"),"data-a-target":"chat-settings",disabled:!!this.props.disabled}),a.createElement(q.a,{direction:G.b.Top,offsetY:"11px","data-a-target":"chat-settings-balloon"},this.props.children))},n}(a.Component);var W=Object(r.b)((function(e){return{isChatRulesOpen:e.chat.isChatRulesOpen}}))(H)},tHKy:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("8OQS"),a=t.n(i),r=t("q1tI"),o=t("kZu0");function s(e){var n=function(n){var t=n.show,i=n.anchorRef,s=n.options,d=n.popperRef,c=n.onRequestClose,l=n.onEnterComplete,u=n.onExitComplete,m=n.transitionType,p=n.transitionDuration,h=n.disableCloseOnClickOut,f=n.disableCloseOnEsc,g=n.disableFocusAfterRender,v=n.disableReturnFocusAfterClose,b=n.portalClassName,y=n.role,k=n["aria-label"],S=n["aria-labelledby"],C=n["aria-describedby"],E=n["aria-modal"],w=a()(n,["show","anchorRef","options","popperRef","onRequestClose","onEnterComplete","onExitComplete","transitionType","transitionDuration","disableCloseOnClickOut","disableCloseOnEsc","disableFocusAfterRender","disableReturnFocusAfterClose","portalClassName","role","aria-label","aria-labelledby","aria-describedby","aria-modal"]);return r.createElement(o.a,{show:t,anchorRef:i,options:s,popperRef:d,onRequestClose:c,onEnterComplete:l,onExitComplete:u,transitionType:m,transitionDuration:p,disableCloseOnClickOut:h,disableCloseOnEsc:f,disableFocusAfterRender:g,disableReturnFocusAfterClose:v,portalClassName:b,role:y,"aria-label":k,"aria-labelledby":S,"aria-describedby":C,"aria-modal":E},r.createElement(e,w))};return n.displayName="withDialogLayer("+(e.displayName||e.name)+")",n}},tkie:function(e,n,t){"use strict";t.r(n),t.d(n,"StreamChat",(function(){return U}));var i=t("mrSG"),a=t("q1tI"),r=t("/MKj"),o=t("ANjH"),s=t("yR8l"),d=t("kRBY"),c=t("bBAb"),l=t("6C1D"),u=t("hO8c"),m=t("+pBb"),p=t("3sMn"),h=t("Y8CJ"),f=t("RS58"),g=t("+l4d"),v=t("X9Go"),b=t("Y3y8"),y=t("GnwI"),k=t("IycQ"),S=t("MkkA"),C=t("/7QA"),E=t("KwB3"),w=t("BJwa"),_=t("bjUr"),N=t("OCDW"),O=t("Yegi"),D=t("oBNK"),M=t("swlv"),I=t("Ix37"),T=t("uq9l"),j=(t("ROQR"),function(e){function n(n){var t=e.call(this,n)||this;return t.usersInChatString=function(){return t.props.isCurrentUserBanned?Object(C.d)("You may not view Users in Chat while banned","ChatRoomsHeaderUsersInChatButton"):Object(C.d)("Users in Chat","ChatRoomsHeaderUsersInChatButton")},t.showViewersList=function(){t.props.chatView===_.a.ViewerList?t.props.closeChatViewerList():t.props.showChatViewerList()},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return a.createElement(N.a,{className:"stream-chat-header",background:O.d.Base,borderBottom:!0,display:O.h.Flex,fullWidth:!0,justifyContent:O.m.Center,alignItems:O.b.Center,flexShrink:0,padding:{left:1,right:1}},a.createElement(N.a,{display:O.h.Flex,alignItems:O.b.Center},this.renderStreamChatTitle()),a.createElement(N.a,{position:O.o.Absolute,attachRight:!0,margin:{right:1}},a.createElement(D.a,{align:D.b.Right,label:this.usersInChatString(),direction:D.c.Bottom},a.createElement(M.a,{"aria-label":this.usersInChatString(),"data-test-selector":"chat-viewer-list",icon:I.a.Friends,onClick:this.showViewersList,disabled:this.props.isCurrentUserBanned}))))},n.prototype.renderStreamChatTitle=function(){return a.createElement(T.a,{color:O.f.Alt,"data-test-selector":w.a,fontSize:O.k.Size6,fontWeight:O.l.SemiBold,id:w.a,transform:T.d.Uppercase,type:T.e.H5},this.streamChatTitleString())},n.prototype.streamChatTitleString=function(){return this.props.channelDisplayName?Object(C.d)("<x:bold>{displayName}</x:bold>'s Chat",{displayName:this.props.channelDisplayName,"x:bold":function(e){return a.createElement(T.a,{type:T.e.Span,bold:!0},e)}},"RoomsHeaderUserChat"):Object(C.d)("Stream Chat","RoomsHeaderTitle")},n}(a.PureComponent));var R=Object(o.d)(Object(g.b)((function(e){return{chatView:e.chatView,showChatViewerList:e.showChatViewerList,closeChatViewerList:e.closeChatViewerList}})))(j),P=t("5e0Q"),F=(t("Heyb"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isCurrentUserBanned=function(){var e,t,i,a;return!!(null===(a=null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.self)||void 0===i?void 0:i.banStatus)||void 0===a?void 0:a.isPermanent)},n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.updateChatConfigState({hideChatSettings:!!this.props.hideChatSettings,showModViewIngress:!!this.props.showModViewIngress,hideOnboardingPrompts:!!this.props.hideOnboardingPrompts,hideChatInputButtons:!!this.props.hideChatInputButtons,onUsernameClick:this.props.onUsernameClick})},n.prototype.render=function(){return a.createElement(N.a,{className:"stream-chat",fullWidth:!0,fullHeight:!0,display:O.h.Flex,flexDirection:O.i.Column,flexGrow:1,flexWrap:O.j.NoWrap,position:O.o.Relative},this.renderHeader(),this.renderHiddenState(),this.renderChat())},n.prototype.renderChat=function(){return this.props.isHidden&&!this.props.isPopout?null:a.createElement(E.a,{channelLogin:this.props.channelLogin,clientID:C.a.authSettings.clientID,isBackground:this.props.isBackground,isEmbedded:this.props.isEmbedded,isPopout:this.props.isPopout,onHostingChange:this.props.onHostingChange,shouldConnectChat:this.props.shouldConnectChat,useBaseBackground:this.props.useBaseBackground,isReadOnly:this.props.isReadOnly})},n.prototype.renderHeader=function(){if(!this.props.hideHeader){var e=void 0;return this.props.renderChannelName&&this.props.data&&this.props.data.channel&&this.props.data.channel.displayName&&(e=this.props.data.channel.displayName),a.createElement(R,{channelDisplayName:e,isCurrentUserBanned:this.isCurrentUserBanned()})}},n.prototype.renderHiddenState=function(){return!this.props.isHidden||this.props.isPopout?null:a.createElement(N.a,{alignItems:O.b.Center,borderLeft:!0,"data-test-selector":"stream-chat-hidden-state",display:O.h.Flex,flexDirection:O.i.Column,fullHeight:!0,fullWidth:!0,justifyContent:O.m.Center,color:O.f.Base,position:O.o.Relative},a.createElement(N.a,{margin:{bottom:1}},a.createElement(T.a,{fontSize:O.k.Size5},Object(C.d)("Chat is hidden.","RoomSelector"))),a.createElement(P.a,{onClick:this.props.onChatUnhide,"data-a-target":"show-chat-button"},Object(C.d)("Show Chat","RoomSelector")))},n}(a.Component)),L=t("DZqs");var A=Object(p.b)((function(e){return{updateChatConfigState:function(n){return e.updateChatConfigState(n)}}}))(F),U=Object(o.d)(Object(r.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isHidden:e.chat.isHidden,sessionUser:Object(d.e)(e)}}),(function(e){return Object(o.b)({onChatUnhide:function(){return m.db()}},e)})),Object(s.a)(L,{skip:function(e){return!e.firstPageLoaded},props:function(e){return{data:e.data,channelID:e.data&&e.data.channel&&e.data.channel.id}},options:function(e){return{variables:{login:e.channelLogin}}}}),Object(s.a)(k,{options:function(e){return{variables:{channelLogin:e.channelLogin}}},skip:function(e){return!e.firstPageLoaded},name:"activeWatchParty"}),Object(b.b)(),S.withWatchPartyContextManager,Object(S.withWatchPartyContext)((function(e){return{allowChatOnPageDuringWatchParty:e.allowChatOnPageDuringWatchParty}})),Object(y.withLatencyTracking)("StreamChat",{autoReportInteractive:!0}))((function(e){return a.createElement(g.a,{viewManager:e.viewManager},a.createElement(p.a,null,a.createElement(h.a,null,a.createElement(l.a,{channelLogin:e.channelLogin},a.createElement(f.a,null,a.createElement(u.a,{key:e.channelLogin,channelLogin:e.channelLogin},a.createElement(c.a,{channelLogin:e.channelLogin},a.createElement(v.b,{page:e.page},a.createElement(A,Object(i.__assign)({},e))))))))))}))},uGUt:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"e",(function(){return r})),t.d(n,"f",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"b",(function(){return c})),t.d(n,"g",(function(){return l}));var i,a=t("f00E");function r(e,n){return{type:i.PushHighlight,event:e,id:n,viewUUID:Object(a.c)()}}function o(e){return{type:i.RemoveHighlight,id:e}}function s(e,n){return{type:i.MoveToHighlight,id:e,shouldExpand:!!n}}function d(){return{type:i.OpenListAllView}}function c(){return{type:i.CloseListAllView}}function l(e){return{type:i.ToggleExpanded,id:e}}!function(e){e.PushHighlight="push-highlight",e.RemoveHighlight="remove-highlight",e.MoveToHighlight="move-to-highlight",e.OpenListAllView="open-list-all-view",e.CloseListAllView="close-list-all-view",e.ToggleExpanded="toggle-expanded"}(i||(i={}))},uIkQ:function(e,n,t){"use strict";t.d(n,"a",(function(){return i.a})),t.d(n,"b",(function(){return a.a})),t.d(n,"d",(function(){return s.c})),t.d(n,"c",(function(){return s.b}));var i=t("fQWD"),a=t("b5C3"),r=(t("ZEQw"),t("yzyL"),t("mrSG")),o=t("DMoW"),s=(new(function(){function e(e,n,t){this.count=0,this.globalsBySet=new Map,this.channelsBySet=new Map,this.count=e.length+(n?n.length:0),this.indexBadges(e,this.globalsBySet,t),Array.isArray(n)&&this.indexBadges(n,this.channelsBySet,t)}return e.prototype.getBadge=function(e,n){var t=this.channelsBySet.get(e);return t&&t.has(n)?t.get(n)||null:void 0!==(t=this.globalsBySet.get(e))&&t.get(n)||null},e.prototype.indexBadges=function(e,n,t){e.forEach((function(e){t&&e.clickAction===o.n.SUBSCRIBE&&(e=Object(r.__assign)(Object(r.__assign)({},e),{channelName:t}));var i=n.get(e.setID);i||(i=new Map,n.set(e.setID,i)),i.set(e.version,e)}))},e}())([],[],""),t("2Ev9"))},uYvD:function(e,n,t){},urBg:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VerifyEmail_CurrentUser"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:123}};t.loc.source={body:"query VerifyEmail_CurrentUser {\ncurrentUser {\nid\nhasPrime\ndisplayName\nemail\nisEmailVerified\n}\nrequestInfo {\ncountryCode\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VerifyEmail_CurrentUser=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VerifyEmail_CurrentUser")},uu1w:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e.Command="command",e.Emote="emote",e.Mention="mention",e.Hashtag="hashtag",e.None="none"}(i||(i={}))},uuYk:function(e,n,t){"use strict";t.d(n,"c",(function(){return i})),t.d(n,"d",(function(){return a})),t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return g}));var i,a,r,o=t("pVnL"),s=t.n(o),d=t("q1tI"),c=t("SWse"),l=t("P+FS"),u=t("HQtB"),m=t("IyK4"),p=t("Yegi"),h=t("hMTT");!function(e){e.Default="",e.Small="tw-progress-bar--sm",e.ExtraSmall="tw-progress-bar--xs"}(i||(i={})),function(e){e.Default="tw-progress-bar--default",e.Caution="tw-progress-bar--caution",e.Error="tw-progress-bar--error",e.Success="tw-progress-bar--success"}(a||(a={})),function(e){e.Up="up",e.Down="down"}(r||(r={}));var f=function(e){var n={"tw-progress-bar":!0,"tw-progress-bar--countdown":e.animationDirection===r.Down,"tw-progress-bar--countup":e.animationDirection===r.Up,"tw-progress-bar--inherit":e.inherit,"tw-progress-bar--mask":e.mask,"tw-progress-bar--overlay":e.overlay},t={"tw-progress-bar__fill":!0,"tw-progress-bar__fill--paused":e.paused};return e.size&&(n[e.size]=!0),e.status&&(n[e.status]=!0),d.createElement(m.a,{borderRadius:e.borderRadius},d.createElement("div",s()({className:Object(c.a)(n)},Object(u.a)(e),Object(l.a)(e),{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":100}),d.createElement(m.a,{borderRadius:{topLeft:e.borderRadius,bottomLeft:e.borderRadius},display:p.h.Block},d.createElement("div",{onAnimationEnd:e.onAnimationEnd,className:Object(c.a)(t),style:{width:e.value+"%",animationDuration:e.animationDuration?e.animationDuration+"s":""},"data-a-target":"tw-progress-bar-animation"}))))};f.displayName="ProgressBarComponent",f.defaultProps={borderRadius:p.e.Large,status:a.Default},f.displayName="ProgressBarComponent";var g=Object(h.b)(f)},uy8m:function(e,n,t){"use strict";var i;t.d(n,"a",(function(){return i})),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(i||(i={}))},vHGB:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var i=t("mrSG"),a=t("TSYQ"),r=t("q1tI"),o=t("/7QA"),s=t("DMoW"),d=t("2xye"),c=t("ZEQw"),l=t("xZ3y"),u=t("rYEI");var m=function(e){e.badge_type=e.badge_type.toLowerCase().replace(/( |\s)/g,"_"),o.p.tracking.track(d.SpadeEventType.ChatBadgeClick,e)},p=t("8Xrw"),h=t("1bK4"),f=t("Rjl4"),g=t("OCDW"),v=t("Yegi"),b=t("p9DJ"),y=t("oBNK"),k=(t("E78O"),"https://www.twitch.tv/products/turbo?ref=chat_badge"),S=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isHovering:!1},n.primeReferralID="",n.onMouseOver=function(){n.setState({isHovering:!0})},n.onMouseOut=function(){n.setState({isHovering:!1})},n.onBadgeClickHandler=function(){var e=n.props.badge||n.props.schemaBadge,t=(null==e?void 0:e.title)||"";if(e)switch(Object(h.f)(e.version)){case h.a.TIER_2:t+="_flaired_tier_2";break;case h.a.TIER_3:t+="_flaired_tier_3"}m({badge_type:t,badge_url_target:n.targetURL})},n.onPrimeBadgeClickHandler=function(){Object(f.t)({tp_refcode:n.primeReferralID,medium:d.PageviewMedium.Chat,content:d.PageviewContent.CrownBadge,tp_campaign:f.b.TrackingAlpha}),n.onBadgeClickHandler()},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props.schemaBadge||this.props.badge,n=e&&function(e,n){if(!n)return e.title;var t=Number(n)||0;if("subscriber"===e.setID){var i=Number(e.version)||0;return t>0?0===i?Object(o.d)("{tenure}-Month Subscriber",{tenure:String(t)},"DynamicBadgeTitles"):Object(o.d)("{tenure}-Month Subscriber ({title} Badge)",{tenure:String(t),title:Object(u.a)(i)},"DynamicBadgeTitles"):Object(o.d)("Subscriber","DynamicBadgeTitles")}return"founder"===e.setID?t>0?Object(o.d)("Founder, {tenure}-Month Subscriber",{tenure:String(t)},"DynamicBadgeTitles"):Object(o.d)("Founder","DynamicBadgeTitles"):"predictions"===e.setID?Object(o.d)('Predicted "{outcome}"',{outcome:n},"DynamicBadgeTitles"):e.title}(e,this.props.dynamicData)||"",t=this.props.schemaBadge?this.props.schemaBadge.version:this.props.badge&&this.props.badge.version||"",i=this.props.schemaBadge?this.props.schemaBadge.setID:this.props.badge&&this.props.badge.setID||"",s=this.props.schemaBadge?this.props.schemaBadge.image1x:this.props.badge&&this.props.badge.image1x||"",d=this.props.schemaBadge?this.props.schemaBadge.image2x:this.props.badge&&this.props.badge.image2x||"",c=this.props.schemaBadge?this.props.schemaBadge.image4x:this.props.badge&&this.props.badge.image4x||"",m=this.props.large,h=this.props.hideTooltip,k=a({"chat-badge":!this.props.noMargins}),S=m?d:s,C=m?d+" 1x, "+c+" 2x":s+" 1x, "+d+" 2x, "+c+" 4x";i===l.a&&(n=Object(l.d)(n,t));var E=r.createElement("img",{alt:n,"aria-label":Object(o.d)("{badgeTitle} badge",{badgeTitle:n},"Badge"),className:k,src:S,srcSet:C,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut}),w=this.props.isLocked?r.createElement("figure",null,r.createElement(g.a,{display:v.h.Flex,justifyContent:v.m.End,position:v.o.Absolute,alignItems:v.b.End},r.createElement(p.a,{lockIcon:p.b.LOCK,className:"chat-badge__lock"})),E):E;if(this.targetURL=this.getTargetURL(),""!==this.targetURL){var _=this.onBadgeClickHandler;e&&"cHJlbWl1bTsxOw=="===e.id&&(this.primeReferralID=Object(f.e)(),this.targetURL=Object(f.d)(this.targetURL,this.primeReferralID),_=this.onPrimeBadgeClickHandler),w=r.createElement(b.a,{linkTo:this.targetURL,onClick:_,tabIndex:!1===this.props.tabbable?-1:void 0,targetBlank:!0,"data-a-target":"chat-badge"},w)}return!h&&this.state.isHovering?r.createElement(y.a,{align:y.b.Left,"data-a-target":"chat-badge",display:v.h.Inline,key:s,label:n,offsetY:"0.9rem"},w):w},n.prototype.getTargetURL=function(){if(this.props.badge){if(this.props.badge.setID===l.a)return"";switch(this.props.badge.clickAction){case c.d:case s.n.VISIT_URL:return this.props.badge.clickURL;case c.b:case s.n.SUBSCRIBE:return this.props.badge.channelName?this.getSubscriberLink(this.props.badge.channelName):"";case c.c:case s.n.GET_TURBO:return k;default:return""}}else if(this.props.schemaBadge){if(this.props.schemaBadge.setID===l.a)return"";switch(this.props.schemaBadge.clickAction){case c.d:case s.n.VISIT_URL:return this.props.schemaBadge.clickURL||"";case c.b:case s.n.SUBSCRIBE:return this.props.schemaBadge.channelName?this.getSubscriberLink(this.props.schemaBadge.channelName):"";case c.c:case s.n.GET_TURBO:return k;default:return""}}return""},n.prototype.getSubscriberLink=function(e){return"https://www.twitch.tv/subs/"+e},n}(r.Component)},"vLL+":function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var i=t("q1tI"),a=t("/7QA"),r=t("Ix37"),o=t("Yegi"),s=t("oBNK"),d=t("OCDW"),c=t("LNol"),l=(t("L6L7"),function(e){var n=e.onBanUser,t=r.a.Ban,l=Object(a.d)("Ban {login}",{login:e.senderLogin},"ModerationIcons"),u="chat-ban-button",m=null,p=e.renderNewVersion?o.h.Flex:o.h.Inline,h=e.renderNewVersion?s.b.Center:s.b.Left,f=e.renderNewVersion?s.c.Bottom:s.c.Top,g=e.renderNewVersion?o.f.Link:o.f.Alt2,v=e.renderNewVersion?{right:.5}:{right:0};return e.isMessageBanned&&(n=e.onUnbanUser,t=r.a.FollowCheck,l=Object(a.d)("Unban {login}",{login:e.senderLogin},"ModerationIcons"),u="chat-unban-button"),!e.isMessageDeleted&&e.canDelete&&(m=i.createElement(d.a,{display:o.h.InlineFlex,margin:v,verticalAlign:o.r.Bottom},i.createElement(s.a,{align:h,direction:f,label:Object(a.d)("Delete message","ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onDelete,"data-test-selector":"chat-delete-button"},i.createElement(c.a,{width:16,height:16,type:c.b.Inherit,asset:r.a.Trash}))))),i.createElement(d.a,{color:g,display:p,margin:{right:.5}},i.createElement(d.a,{display:o.h.InlineFlex,margin:v,verticalAlign:o.r.Bottom},i.createElement(s.a,{align:h,direction:f,label:l},i.createElement("button",{className:"mod-icon",onClick:n,"data-test-selector":u},i.createElement(c.a,{width:16,height:16,type:c.b.Inherit,asset:t})))),i.createElement(d.a,{display:o.h.InlineFlex,margin:v,verticalAlign:o.r.Bottom},i.createElement(s.a,{align:h,direction:f,label:Object(a.d)("Timeout {login}",{login:e.senderLogin},"ModerationIcons")},i.createElement("button",{className:"mod-icon",onClick:e.onTimeoutUser,"data-test-selector":"chat-timeout-button"},i.createElement(c.a,{width:16,height:16,type:c.b.Inherit,asset:r.a.Timeout})))),m)})},vRsq:function(e,n,t){"use strict";t.d(n,"e",(function(){return m})),t.d(n,"d",(function(){return p})),t.d(n,"a",(function(){return h})),t.d(n,"c",(function(){return f})),t.d(n,"b",(function(){return i})),t.d(n,"g",(function(){return a})),t.d(n,"f",(function(){return r})),t.d(n,"t",(function(){return g})),t.d(n,"r",(function(){return v})),t.d(n,"s",(function(){return b})),t.d(n,"o",(function(){return y})),t.d(n,"q",(function(){return k})),t.d(n,"u",(function(){return S})),t.d(n,"x",(function(){return C})),t.d(n,"w",(function(){return E})),t.d(n,"v",(function(){return w})),t.d(n,"i",(function(){return _})),t.d(n,"j",(function(){return N})),t.d(n,"h",(function(){return O})),t.d(n,"l",(function(){return D})),t.d(n,"m",(function(){return M})),t.d(n,"p",(function(){return T})),t.d(n,"k",(function(){return j})),t.d(n,"n",(function(){return R}));var i,a,r,o,s=t("cr+I"),d=t("/7QA"),c=t("DMoW"),l=t("XKWF"),u=t("+GjP"),m="sort",p="filter",h="range",f="category";function g(e,n,t,i){var r=i||v(n),o="";r&&(o="?"+m+"="+function(e){switch(e){case l.a.VIEWS:return a.Popular;default:return a.Newest}}(r));var s=t?t.toLowerCase():function(e){var n=b(e);return n?n.toLowerCase():"all"}(n);d.p.history.push(e+"/"+s+o)}function v(e){var n=s.parse(e.location.search);return Object(l.b)(n.sort||"")}function b(e){switch(e.match.params.filter){case c.H.ARCHIVE.toLowerCase():return c.H.ARCHIVE;case c.H.HIGHLIGHT.toLowerCase():return c.H.HIGHLIGHT;case c.H.UPLOAD.toLowerCase():return c.H.UPLOAD;case c.H.PAST_PREMIERE.toLowerCase():return c.H.PAST_PREMIERE;default:return}}function y(e){var n=s.parse(e.location.search);return e.match.params.collectionID||n.collection||null}function k(e){return""===e?"":e.startsWith("v")?e:"v"+e}function S(e){var n=Object(u.a)(e,h);if(!n)return null;switch(n.toLowerCase()){case i.All:return i.All;case i.Day:return i.Day;case i.Week:return i.Week;case i.Month:return i.Month;default:return null}}function C(e){var n=Object(u.a)(e,m);if(!n)return null;switch(n.toLowerCase()){case a.Newest:return a.Newest;case a.Popular:return a.Popular;default:return null}}function E(e){var n=Object(u.a)(e,p);if(!n)return null;switch(n.toLowerCase()){case r.Clips:return r.Clips;case r.Collections:return r.Collections;case r.Highlights:return r.Highlights;case r.PastBroadcasts:return r.PastBroadcasts;case r.PastPremieres:return r.PastPremieres;case r.Uploads:return r.Uploads;case r.All:return r.All;default:return null}}function w(e){return Object(u.a)(e,f)}function _(e,n,t){return!n&&t?e?"/"+e+"/"+o.Collection+"/"+t:"/collections/"+t:e?"/"+e+"/"+o.Video+"/"+n+(t?"?collection="+t:""):"/videos/"+n+(t?"?collection="+t:"")}function N(e,n,t){var i="/"+e,a=function(e){return e.match.params.contentType===o.Video&&e.match.params.contentID||e.match.params.videoID||null}(n),d=function(e){return e.match.params.contentType===o.Clip&&e.match.params.contentID||null}(n),c=T(n),l=s.parse(n.location.search).collection;if(i=a?i.concat("/"+o.Video+"/"+a+(l?"?collection="+l:"")):d?i.concat("/"+o.Clip+"/"+d):c&&!l?i.concat("/"+o.Collection+"/"+c):t&&t.filter===r.Clips?i.concat("/clips"):i.concat("/videos"),t){var u=I(t);if(Object.keys(u).length>0)return l?i+"&"+s.stringify(u):i+"?"+s.stringify(u)}return D(e,t)}function O(e,n){var t="/collections/"+e,i=I(s.parse(n.location.search));return Object.keys(i).length>0?t+"?"+s.stringify(i):t}function D(e,n){var t="/"+e+"/videos";if(n){var i=I(n);if(Object.keys(i).length>0)return t+"?"+s.stringify(i)}return t}function M(e){return"/"+e+"/videos/edit"}function I(e){var n={};return e.category&&(n[f]=e.category),e.sort&&(n[m]=e.sort),e.filter&&(n[p]=e.filter),e.range&&(n[h]=e.range),n}function T(e){var n=s.parse(location.search);return e.match.params.contentType===o.Collection&&e.match.params.contentID||e.match.params.collectionID||n.collection||null}function j(e){var n=s.parse(e.location.search);return e.match.params.categoryID||n.category||null}function R(e){switch(e){case i.All:return c.ab.ALL_TIME;case i.Day:return c.ab.LAST_DAY;case i.Week:return c.ab.LAST_WEEK;case i.Month:return c.ab.LAST_MONTH;default:return e}}!function(e){e.All="all",e.Month="30d",e.Week="7d",e.Day="24hr"}(i||(i={})),function(e){e.Popular="views",e.Newest="time"}(a||(a={})),function(e){e.Clips="clips",e.Collections="collections",e.Highlights="highlights",e.PastBroadcasts="archives",e.PastPremieres="past_premieres",e.Uploads="uploads",e.All="all",e.Featured="featured"}(r||(r={})),function(e){e.Video="video",e.Clip="clip",e.Collection="collection"}(o||(o={}))},vSeP:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return d}));var i=t("XIZb"),a=Object(i.a)("ActiveChatters"),r=a.withChatServiceManager,o=a.withContext,s=r,d=o((function(e){return{activeChattersAPI:e.serviceAPI,setActiveChattersAPI:e.setServiceAPI}}))},"ve/r":function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"emoteVariantFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsEmoteVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isUnlockable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emote"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsEmoteFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"modifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteModificationFragment"},directives:[]}]}}]}}],loc:{start:0,end:341}};i.loc.source={body:'#import "twilight/features/community-points/models/community-points-emote-fragment.gql"\n#import "twilight/features/community-points/models/emote-modification-fragment.gql"\nfragment emoteVariantFragment on CommunityPointsEmoteVariant {\nid\nisUnlockable\nemote {\n...communityPointsEmoteFragment\n}\nmodifications {\n...emoteModificationFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("KrPZ").definitions)),i.definitions=i.definitions.concat(r(t("sj0o").definitions)),e.exports=i},vm36:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"neoCheermote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Cheermote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsCheermoteCampaign"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShowInBitsCard"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"neoCheermote"},directives:[]}]}}]}}],loc:{start:0,end:288}};i.loc.source={body:'#import "twilight/features/bits/models/bits-cheermote-campaign-fragment.gql"\nfragment neoCheermote on Cheermote {\nid\nprefix\ntype\ncampaign {\n...bitsCheermoteCampaign\n}\ntiers {\nid\nbits\ncanShowInBitsCard\n}\n}\nfragment cheermoteGroup on CheermoteGroup {\ntemplateURL\nnodes {\n...neoCheermote\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("HAit").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},wAVh:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"poll"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Poll"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"choices"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollChoice"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ownedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tokens"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTokenBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalVoters"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"votes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollVoteBreakdown"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollSettings"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"remainingDurationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topBitsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopBitsContributor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topCommunityPointsContributor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pollTopCommunityPointsContributor"},directives:[]}]}}]}}],loc:{start:0,end:843}};i.loc.source={body:'#import "twilight/features/polls/models/poll-choice-fragment.gql"\n#import "twilight/features/polls/models/poll-token-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-vote-breakdown-fragment.gql"\n#import "twilight/features/polls/models/poll-settings-fragment.gql"\n#import "twilight/features/polls/models/poll-top-bits-contributor-fragment.gql"\n#import "twilight/features/polls/models/poll-top-community-points-contributor-fragment.gql"\nfragment poll on Poll {\nid\nchoices {\n...pollChoice\n}\ndurationSeconds\nstartedAt\nendedAt\nstatus\ntitle\nownedBy {\nid\n}\ncreatedBy {\nid\n}\ntokens {\n...pollTokenBreakdown\n}\ntotalVoters\nvotes {\n...pollVoteBreakdown\n}\nsettings {\n...pollSettings\n}\nremainingDurationMilliseconds\ntopBitsContributor {\n...pollTopBitsContributor\n}\ntopCommunityPointsContributor {\n...pollTopCommunityPointsContributor\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("quxh").definitions)),i.definitions=i.definitions.concat(r(t("/x02").definitions)),i.definitions=i.definitions.concat(r(t("wMQt").definitions)),i.definitions=i.definitions.concat(r(t("OGC9").definitions)),i.definitions=i.definitions.concat(r(t("1DIz").definitions)),i.definitions=i.definitions.concat(r(t("CdYI").definitions)),e.exports=i},wFyP:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("q1tI"),r=t("QVaV"),o=t("EE1E"),s=(t("HWU2"),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleUsernameClick=function(e){n.props.onUsernameClick&&n.props.onUsernameClick(e)},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.highContrastUsernameColor,t=e.sender,i=t.chatColor;n&&i&&(i="#"+Object(o.a)(i,this.props.theme));var s=[a.createElement("span",{key:"username-display",className:"message-author__display-name","data-test-selector":"message-username",style:{color:i||void 0}},t.displayName)];t.displayName&&!Object(r.b)(t.displayName)&&s.push(a.createElement("span",{key:"username-login",style:{color:t.chatColor||void 0},className:"message-author__intl-login","data-test-selector":"message-username-canonical"}," ("+t.login+")"));var d=this.props.onUsernameClick?"message-author__username--clickable":"message-author__username";return a.createElement("span",{onClick:this.handleUsernameClick,className:d},s)},n}(a.Component))},wMQt:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"pollVoteBreakdown"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PollVoteBreakdown"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"base"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:86}};t.loc.source={body:"fragment pollVoteBreakdown on PollVoteBreakdown {\ntotal\nbits\ncommunityPoints\nbase\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},wXos:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetEmoteAnimations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetEmoteAnimationsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setEmoteAnimationsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:155}};t.loc.source={body:"mutation SyncedSettingsSetEmoteAnimations($input: SetEmoteAnimationsEnabledInput!) {\nsetEmoteAnimationsEnabled(input:$input) {\nisEmoteAnimationsEnabled\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.SyncedSettingsSetEmoteAnimations=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"SyncedSettingsSetEmoteAnimations")},wpfL:function(e,n,t){},wpjm:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"cheerDisplayConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteDisplayConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgrounds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"colors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scales"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"globalCheerInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheerConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheerDisplayConfig"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteGroup"},directives:[]}]}}]}}]}}],loc:{start:0,end:298}};i.loc.source={body:'#import "./cheermote-group-fragment.gql"\nfragment cheerDisplayConfig on CheermoteDisplayConfig {\nbackgrounds\ncolors {\nbits\ncolor\n}\norder\nscales\ntypes {\nanimation\nextension\n}\n}\nfragment globalCheerInfo on Query {\ncheerConfig {\ndisplayConfig {\n...cheerDisplayConfig\n}\ngroups {\n...cheermoteGroup\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(t("vm36").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},wqn7:function(e,n,t){},"x0+1":function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("p9DJ"),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={alwaysShowMessage:!1},n.renderBody=function(){return n.state.alwaysShowMessage?n.props.messageBody:a.createElement("span",{key:"deleted",className:"chat-line__message--deleted"},a.createElement(o.a,{linkTo:"",onClick:n.alwaysShowMessage},"<"+Object(r.d)("click to show","MessageDeletedLine")+">"))},n.alwaysShowMessage=function(e){e&&e.preventDefault(),n.setState({alwaysShowMessage:!0})},n}return Object(i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.moderatorLogin,t=e.targetIsCurrentUser,i=this.props.targetLogin;return t?Object(r.d)("A moderator deleted your message: {body}",{body:this.renderBody()},"MessageDeletedLine"):n?Object(r.d)("{moderatorLogin} deleted {targetLogin}'s message: {body}",{moderatorLogin:n,targetLogin:i,body:this.renderBody()},"MessageDeletedLine"):Object(r.d)("A moderator deleted {targetLogin}'s message: {body}",{targetLogin:i,body:this.renderBody()},"MessageDeletedLine")},n}(a.Component)},x0gr:function(e,n,t){"use strict";t.d(n,"d",(function(){return d})),t.d(n,"c",(function(){return c})),t.d(n,"e",(function(){return l})),t.d(n,"b",(function(){return u})),t.d(n,"a",(function(){return m})),t.d(n,"f",(function(){return p})),t.d(n,"g",(function(){return h}));var i=t("mrSG"),a=t("/7QA"),r=t("2xye"),o=t("r2Xj"),s=t("oi4T"),d=function(e){a.o.track(r.SpadeEventType.ChatSettingsOpened,Object(s.b)(e))},c=function(e){var n=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{menu_item:e.menuItem,sub_menu_item:e.subMenuItem});a.o.track(r.SpadeEventType.ChatSettingsMenuClick,n)},l=function(e){var n=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{open:e.open,preview_setting:e.previewSetting});a.o.track(r.SpadeEventType.ChatSettingsPreviewPopupClick,n)},u=function(e){var n=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:e.settingName,new_value:e.newValue.toString()});a.o.track(r.SpadeEventType.ChatSettingsChanged,n)},m=function(e){var n=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:e.settingName,new_value:e.newValue.toString().toLowerCase(),old_value:e.oldValue&&e.oldValue.toLowerCase(),channel_id:e.channelID});a.o.track(r.SpadeEventType.ChatSettingsChanged,n)},p=function(e){var n=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:o.a.FollowerDuration,new_value:e.newValue.toString(),follower_mode_on:e.followerModeOn});a.o.track(r.SpadeEventType.ChatSettingsChanged,n)},h=function(e){var n=Object(i.__assign)(Object(i.__assign)({},Object(s.b)(e)),{setting_name:o.a.SlowModeDuration,new_value:e.newValue.toString(),slow_mode_on:e.slowModeOn});a.o.track(r.SpadeEventType.ChatSettingsChanged,n)}},x3Zu:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("f00E"),s=t("amaQ"),d=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.closeString=Object(r.d)("Close","ChatPrivateCallout"),n.privateCalloutSID=Object(o.c)(),n.hasCTA=!0,n}return Object(i.__extends)(n,e),n.prototype.componentDidMount=function(){Object(s.g)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,privateCalloutSID:this.privateCalloutSID,hasCTA:this.hasCTA})},n.prototype.trackDismiss=function(){this.trackAction(s.a.Dismiss,s.c.PrivateCallout)},n.prototype.trackAction=function(e,n,t,i){Object(s.e)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,privateCalloutSID:this.privateCalloutSID,action:e,msgBody:t,usedPrompt:i,uiContext:n})},n.prototype.trackCTAClick=function(e){Object(s.f)({userID:this.props.currentUserID,userLogin:this.props.currentUserLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,calloutType:this.trackingType,privateCalloutSID:this.privateCalloutSID,uiContext:s.c.PrivateCallout,clickType:e})},n}(a.Component)},xDdc:function(e,n,t){},xM4F:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoChatChannelAndCommentCreatorAndVideoTrackingContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentCreator"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"videoCreatorID"}},{kind:"Variable",name:{kind:"Name",value:"commentCreator"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:245}};t.loc.source={body:"query VideoChatChannelAndCommentCreatorAndVideoTrackingContext($videoCreatorID: ID! $commentCreator: ID! $videoID: ID) {\nusers(ids: [$videoCreatorID $commentCreator]) {\nid\nlogin\n}\nvideo(id: $videoID) {\nid\nbroadcastType\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.VideoChatChannelAndCommentCreatorAndVideoTrackingContext=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"VideoChatChannelAndCommentCreatorAndVideoTrackingContext")},xZ3y:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return s})),t.d(n,"c",(function(){return d}));var i=t("/7QA"),a="bits",r="cheer";function o(e,n){return e&&e.setID===a&&e.title&&!d(e)?s(e.title,e.version):Object(i.g)(n,{maximumFractionDigits:2})}function s(e,n){if(e.endsWith(n)){var t=parseInt(n,10);if(!isNaN(t))return""+e.substring(0,e.length-n.length)+Object(i.g)(t,{maximumFractionDigits:2})}return e}function d(e){return e.title===r+" "+e.version}},xahZ:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeGoalTypes"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCommunityGoalType"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"pointCustomizationFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"rewardsFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raidPointAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteVariants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"emoteVariantFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"earning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"earningSettingsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"activeMultipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"activeMultipliersFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lastViewedContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userRedemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userRedemptionFragment"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lastViewedContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"lastViewedContentByTypeAndIDFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:1638}};i.loc.source={body:'#import "twilight/features/community-points/models/active-multipliers-fragment.gql"\n#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\n#import "twilight/features/community-points/models/emote-variant-fragment.gql"\n#import "twilight/features/community-points/models/point-customization-fragment.gql"\n#import "twilight/features/community-points/models/rewards-fragment.gql"\n#import "twilight/features/community-points/models/earning-settings-fragment.gql"\n#import "twilight/features/community-points/models/last-viewed-content-fragments.gql"\n#import "twilight/features/community-points/models/user-redemptions-fragment.gql"\nquery ChannelPointsContext($channelLogin: String! $includeGoalTypes: [CommunityPointsCommunityGoalType!]) {\ncommunity: user(login: $channelLogin) {\nid\ndisplayName\n# We fetch everything here in the top-level query. This avoids data waterfalls that would occur if we\n# only fetched data after first querying whether the channel has points enabled.\n...availableClaimFragment\n...communityPointsBalanceFragment\n...pointCustomizationFragment\n...rewardsFragment\nchannel {\nid\ncommunityPointsSettings {\nisEnabled\nraidPointAmount\nemoteVariants {\n...emoteVariantFragment\n}\nearning {\n...earningSettingsFragment\n}\n}\nself {\ncommunityPoints {\nactiveMultipliers {\n...activeMultipliersFragment\n}\nlastViewedContent {\n...lastViewedContentByTypeFragment\n}\nuserRedemptions {\n...userRedemptionFragment\n}\n}\n}\n}\nself {\nisModerator\n}\n}\ncurrentUser {\nid\ncommunityPoints {\nlastViewedContent {\n...lastViewedContentByTypeAndIDFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("NeSQ").definitions)),i.definitions=i.definitions.concat(r(t("hgww").definitions)),i.definitions=i.definitions.concat(r(t("VIQE").definitions)),i.definitions=i.definitions.concat(r(t("ve/r").definitions)),i.definitions=i.definitions.concat(r(t("XBQy").definitions)),i.definitions=i.definitions.concat(r(t("y8+g").definitions)),i.definitions=i.definitions.concat(r(t("F9p4").definitions)),i.definitions=i.definitions.concat(r(t("cScm").definitions)),i.definitions=i.definitions.concat(r(t("zAk5").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChannelPointsContext=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPointsContext")},xf5M:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatLoginModerationTracking"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"target"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:234}};t.loc.source={body:"query ChatLoginModerationTracking($channelID: ID! $targetUserID: ID!) {\ntarget: user(id: $targetUserID) {\nid\nlogin\n}\nchannel: user(id: $channelID) {\nid\nlogin\nself {\nisModerator\nisEditor\n}\n}\ncurrentUser {\nid\nlogin\nroles {\nisStaff\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.ChatLoginModerationTracking=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"ChatLoginModerationTracking")},xsgf:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnbanRequestModal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:114}};t.loc.source={body:"query UnbanRequestModal($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nbanStatus {\nisPermanent\nreason\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnbanRequestModal=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnbanRequestModal")},xzy9:function(e,n,t){"use strict";t.d(n,"b",(function(){return b})),t.d(n,"c",(function(){return y})),t.d(n,"a",(function(){return S}));var i=t("mrSG"),a=t("w09P"),r=t("q1tI"),o=t("/MKj"),s=t("ANjH"),d=t("/7QA"),c=t("yR8l"),l=t("geRD"),u=t("DMoW"),m=t("kRBY"),p=t("1rIY"),h=t("BR/5"),f=t("FQLb"),g="deletedMessageDisplaySetting",v=Object(p.a)("DeletedMessageDisplaySettingContext",{setValue:function(){return null},value:void 0,isShowingDeletedMessageDisplaySettings:!1,hideDeletedMessageDisplaySettings:function(){return null},showDeletedMessageDisplaySettings:function(){return null},hasSetSetting:function(){return!1}}),b=v.context,y=v.withContext,k=function(e){function n(n){var t=e.call(this,n)||this;return t.hasSetSetting=function(){var e=t.hasData(t.props);return!(!e||null===e.deletedMessageDisplaySetting)||null!==d.m.get(g,null)},t.setValue=function(e){if(t.setState({localOverride:e}),d.m.set(g,e),t.props.isLoggedIn){var n=Object(i.__assign)(Object(i.__assign)({},Object(l.a)({deletedMessageDisplaySetting:e})),{optimisticResponse:{setDeletedMessageDisplaySetting:{__typename:"SetDeletedMessageDisplaySettingPayload",deletedMessageDisplaySetting:e}},update:function(n){var t;try{t=n.readQuery({query:f})}catch(e){return}if(t&&t.currentUser&&t.currentUser.chatUISettings){var i=a(t,(function(e){return e.currentUser.chatUISettings.deletedMessageDisplaySetting}),(function(){return e}));n.writeQuery({query:f,data:i})}}});t.props.setDeletedMessageDisplaySetting(n)}},t.hideDeletedMessageDisplaySettings=function(){t.setState({isShowingDeletedMessageDisplaySettings:!1})},t.showDeletedMessageDisplaySettings=function(){t.setState({isShowingDeletedMessageDisplaySettings:!0})},t.state={isShowingDeletedMessageDisplaySettings:!1},t}return Object(i.__extends)(n,e),n.prototype.render=function(){return r.createElement(b.Provider,{value:{setValue:this.setValue,value:this.value,isShowingDeletedMessageDisplaySettings:this.state.isShowingDeletedMessageDisplaySettings,hideDeletedMessageDisplaySettings:this.hideDeletedMessageDisplaySettings,showDeletedMessageDisplaySettings:this.showDeletedMessageDisplaySettings,hasSetSetting:this.hasSetSetting}},this.props.children)},n.prototype.componentDidUpdate=function(e){!this.hasData(this.props)||this.hasData(e)||(this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?d.m.set(g,this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting):d.m.get(g,null)&&this.value&&this.setValue(this.value))},n.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},n.prototype.defaultValue=function(e){return this.props.sessionUser&&e&&this.props.sessionUser.id===e?u.fc.BRIEF:u.fc.DETAILED},Object.defineProperty(n.prototype,"value",{get:function(){return void 0!==this.state.localOverride?this.state.localOverride:this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.chatUISettings&&null!==this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting?this.props.data.currentUser.chatUISettings.deletedMessageDisplaySetting:d.m.get(g,null)||this.defaultValue(this.props.channelID)},enumerable:!0,configurable:!0}),n}(r.Component);var S=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(m.f)(e),sessionUser:Object(m.e)(e)}})),Object(c.a)(f,{skip:function(e){return!e.isLoggedIn}}),Object(c.a)(h,{name:"setDeletedMessageDisplaySetting"}))(k)},"y8+g":function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"rewardsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"automaticRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"automaticRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"customRewardFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"goals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"includeGoalTypes"},value:{kind:"Variable",name:{kind:"Name",value:"includeGoalTypes"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"communityGoalItem"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:358}};i.loc.source={body:'#import "./automatic-reward-fragment.gql"\n#import "./community-goal-fragment.gql"\n#import "./custom-reward-fragment.gql"\nfragment rewardsFragment on User {\nchannel {\nid\ncommunityPointsSettings {\nautomaticRewards {\n...automaticRewardFragment\n}\ncustomRewards {\n...customRewardFragment\n}\ngoals(includeGoalTypes: $includeGoalTypes) {\n...communityGoalItem\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("Ukwn").definitions)),i.definitions=i.definitions.concat(r(t("PCkP").definitions)),i.definitions=i.definitions.concat(r(t("nJ3O").definitions)),e.exports=i},yCuH:function(e,n,t){},yJn7:function(e,n){},yaV1:function(e,n,t){"use strict";t.d(n,"a",(function(){return v})),t.d(n,"b",(function(){return b}));var i=t("mrSG"),a=t("q1tI"),r=t("/7QA"),o=t("eirU"),s=t("geRD"),d=t("X9Go"),c=t("a6LY"),l=t("4w0E"),u=t("1Rv/"),m=t("HzXE"),p=t("4G6/"),h=t("AREq"),f=t("Av0x"),g=t("H82h"),v=function(e){var n=a.useContext(d.a).page,t=Object(o.c)(l)[0],v=Object(o.c)(u)[0],b=e.targetID,y=e.targetLogin,k=e.channelID,S=e.source,C=e.confirmModerationAction,E=e.surfaceError,w=function(e,t){b&&k&&Object(g.a)({actionType:e,channelID:k,targetUserID:b,source:S,duration:t&&"["+t+"]n",page:n})},_=function(e){r.p.apollo.client.writeQuery({query:m,variables:{channelID:k,targetUserID:b},data:(null==e?void 0:e.banUserFromChatRoom)?{chatRoomBanStatus:e.banUserFromChatRoom.ban,targetUser:{__typename:"User",id:b,login:y}}:{chatRoomBanStatus:null,targetUser:{__typename:"User",id:b,login:y}}})},N=function(e,n){return void 0===e&&(e=""),void 0===n&&(n=""),Object(i.__awaiter)(void 0,void 0,Promise,(function(){var a,o,d,l,u,m,f,g,v,b;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(a=n?Object(r.d)("Unable to timeout user.","ViewerCardModActions"):Object(r.d)("Unable to ban user.","ViewerCardModActions"),C&&!C())return null==E||E(a),[2,Promise.reject(a)];o=null,"number"==typeof n?o=Object(p.a)(n):"string"==typeof n&&(o=n),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t(Object(s.a)({channelID:k,bannedUserLogin:y,expiresIn:o,reason:e}))];case 2:return d=i.sent(),(l=null===(b=null===(v=d.data)||void 0===v?void 0:v.banUserFromChatRoom)||void 0===b?void 0:b.error)?(u=l.minTimeoutDurationSeconds,m=l.maxTimeoutDurationSeconds,null==E||E(Object(h.a)({login:y,code:l.code,isTimeout:!!n,minTimeoutDuration:u||void 0,maxTimeoutDuration:m||void 0}))):d.data&&(f=n?c.a.TimeoutUser:c.a.BanUser,_(d.data),w(f,n&&n.toString()||void 0)),[2,d];case 3:throw g=i.sent(),null==E||E(a),g;case 4:return[2]}}))}))},O=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,a,o,d,l,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(n=e?Object(r.d)("Unable to untimeout user.","ViewerCardModActions"):Object(r.d)("Unable to unban user.","ViewerCardModActions"),C&&!C())return null==E||E(n),[2,Promise.reject(n)];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,v(Object(s.a)({channelID:k,bannedUserLogin:y}))];case 2:return t=i.sent(),(a=null===(u=null===(l=t.data)||void 0===l?void 0:l.unbanUserFromChatRoom)||void 0===u?void 0:u.error)?null==E||E(Object(f.a)(y,a.code)):t.data&&(o=e?c.a.UntimeoutUser:c.a.UnbanUser,_(null),w(o)),[2,t];case 3:throw d=i.sent(),null==E||E(n),d;case 4:return[2]}}))}))};return{banUser:function(e){return N(e)},unbanUser:function(){return O()},timeoutUser:function(e,n){return void 0===e&&(e=600),void 0===n&&(n=""),N(n,e)},untimeoutUser:function(){return O(!0)}}};function b(e){return function(n){var t=v(Object(i.__assign)({},n));return a.createElement(e,Object(i.__assign)({},n,t))}}},yiuk:function(e,n,t){},yzyL:function(e,n){},"z+dA":function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPage_SubscribeButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSetID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subProductOfferFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gifting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"subCommunityGiftingFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"cumulativeTenure"},name:{kind:"Name",value:"subscriptionTenure"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tenureMethod"},value:{kind:"EnumValue",value:"CUMULATIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"tenure"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDNRd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pendingSubscription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"pendingSubscription"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"gift"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isGift"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:832}};i.loc.source={body:'#import "twilight/features/sub-modal/fragments/sub-product-offer.gql"\n#import "twilight/features/sub-modal/fragments/sub-community-gifting.gql"\n#import "twilight/features/subscribe-button/components/subscribe-button/pending_subscription.gql"\n#import "twilight/pages/subscriptions-management/models/cumulative-tenure-fragment.gql"\nquery ChannelPage_SubscribeButton_User($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nsubscriptionProducts {\nid\nemoteSetID\nname\nhasAdFree\noffers {\n...subProductOfferFragment\n}\ngifting {\n...subCommunityGiftingFragment\n}\n}\nself {\ncanPrimeSubscribe\ncumulativeTenure: subscriptionTenure(tenureMethod: CUMULATIVE) {\n...tenure\n}\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nendsAt\nisDNRd\nplatform\npendingSubscription {\n...pendingSubscription\n}\ngift {\nisGift\n}\n}\n}\n}\nrequestInfo {\ncountryCode\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t("Wd+u").definitions)),i.definitions=i.definitions.concat(r(t("Afio").definitions)),i.definitions=i.definitions.concat(r(t("QHJn").definitions)),i.definitions=i.definitions.concat(r(t("HiyX").definitions));var o={};function s(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}i.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),o[e.name.value]=n}})),e.exports=i,e.exports.ChannelPage_SubscribeButton_User=function(e,n){var t={kind:e.kind,definitions:[s(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var i=o[n]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var d=r;r=new Set,d.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(n){var i=s(e,n);i&&t.definitions.push(i)})),t}(i,"ChannelPage_SubscribeButton_User")},zAk5:function(e,n){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"userRedemptionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommunityPointsCustomRewardUserRedemption"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userRedemptionsCurrentStream"},arguments:[],directives:[]}]}}],loc:{start:0,end:123}};t.loc.source={body:"fragment userRedemptionFragment on CommunityPointsCustomRewardUserRedemption {\nreward {\nid\n}\nuserRedemptionsCurrentStream\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=t},zClW:function(e,n,t){"use strict";t.d(n,"c",(function(){return f})),t.d(n,"d",(function(){return k})),t.d(n,"a",(function(){return S})),t.d(n,"b",(function(){return C})),t.d(n,"j",(function(){return E})),t.d(n,"e",(function(){return N})),t.d(n,"g",(function(){return O})),t.d(n,"f",(function(){return D})),t.d(n,"h",(function(){return M})),t.d(n,"i",(function(){return I}));var i=t("mrSG"),a=t("/7QA"),r=t("2xye"),o=t("IZXT"),s=t("ZuiC"),d=t("ahza"),c=t("pU2t"),l=t("ZUUl"),u=t("fI4C"),m=t("fIj0"),p=t("xM4F"),h=t("8uuy");function f(){return{CommenterBannedError:Object(a.d)("You are banned from sending messages in this channel","routines-comments"),CommentingDisabledError:Object(a.d)("Sending messages in this channel is disabled","routines-comments"),UserNotVerifiedError:Object(a.d)("Account email verification required to send a message","routines-comments"),MaxChildCommentsError:Object(a.d)("The reply limit for this message has been reached","routines-comments"),MessageLikelySpamError:Object(a.d)("Your message was blocked by the spam filter","routines-comments"),MessageContainsBannedWordsError:Object(a.d)("Your message wasn't posted due to conflicts with the channel's moderation settings","routines-comments")}}var g=function(e){if(e.includes("FollowersOnlyError"))return function(e){return Object(a.d)("This room is in {duration} followers-only mode. Follow this channel to join the community",{duration:e},"routines-comments")}(function(e){var n=e.split(" "),t=n[n.length-1].match(/((\d+)h)?(\d+)m(\d+)s/);if(!Array.isArray(t))return"";return{600:"10 Minutes",1800:"30 Minutes",3600:"1 Hour",86400:"1 Day",604800:"1 Week",2592e3:"1 Month",7776e3:"3 Months"}[60*parseInt(t[2]||"0",10)*60+60*parseInt(t[3],10)+parseInt(t[4],10)]}(e));var n=f(),t=Object.keys(n).find((function(n){return e.includes(n)}));return t?n[t]:Object(a.d)("Unable to send a new message at this time","routines-comments")},v="",b=-1,y=!1,k=function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){if(y)return[2,Promise.resolve()];if(Object(d.f)(n)){if(n.offset===b)return[2,Promise.resolve()];b=n.offset}if(Object(d.d)(n)){if(n.cursor===v)return[2,Promise.resolve()];v=n.cursor}return y=!0,[2,Object(d.g)(n).then((function(t){y=!1,Object(d.f)(n)&&n.offset===b?e.dispatch(Object(s.A)(t)):e.dispatch(Object(s.z)(t))}),(function(n){y=!1,a.k.warn("VideoChat: unable to fetch messages",{error:n}),e.dispatch(Object(s.B)())}))]}))}))},S=function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,r,u,m;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,,6]),t=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Object(d.b)(n)];case 2:return t=i.sent(),[3,4];case 3:return r=i.sent(),Object(o.d)()?a.k.warn(S.name):a.k.errorAndReport(r,S.name),e.dispatch(Object(s.r)(g(""))),[2];case 4:return t.requestError?(a.k.errorAndReport(t.requestError,S.name),e.dispatch(Object(s.r)(g(""))),[2]):t.error?(a.k.errorAndReport(new Error(t.error.error),S.name),e.dispatch(Object(s.r)(g(t.error.message))),[2]):void 0===t.body?(e.dispatch(Object(s.r)(g(""))),[2]):(u=Object(c.c)(t.body),e.dispatch(Object(s.s)(u)),e.dispatch(Object(l.b)(w,u)),setTimeout((function(){e.dispatch(Object(s.q)())}),5e3),[3,6]);case 5:return m=i.sent(),a.k.errorAndReport(m,S.name),e.dispatch(Object(s.r)(g(""))),[3,6];case 6:return[2]}}))}))},C=function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(d.c)(n)];case 1:return i.sent(),e.dispatch(Object(s.t)({comment:n})),e.dispatch(Object(l.b)(_,{comment:n})),[3,3];case 2:return t=i.sent(),Object(o.d)()?a.k.warn(C.name):a.k.errorAndReport(t,C.name),[3,3];case 3:return[2]}}))}))},E=function(e,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(d.h)(n)];case 1:return t=i.sent(),e.dispatch(Object(s.v)(t)),[3,3];case 2:return r=i.sent(),a.k.errorAndReport(r,E.name),[3,3];case 3:return[2]}}))}))},w=function(e,n,t,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:m,variables:{videoCreatorID:n.comments[0].channelId,videoID:n.comments[0].contentId}})];case 1:return e=i.sent().data,s.track(r.SpadeEventType.ChommentCreated,Object(u.f)(n,e)),[3,3];case 2:return d=i.sent(),Object(o.d)()?a.k.warn(w.name):a.k.errorAndReport(d,w.name),[3,3];case 3:return[2]}}))}))},_=function(e,n,t,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var d,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:p,variables:{videoCreatorID:n.comment.channelId,commentCreator:n.comment.commenter,videoID:n.comment.contentId}})];case 1:return d=i.sent().data,s.track(r.SpadeEventType.ChommentDeleted,Object(u.g)(n,e.getState(),d)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(_.name):a.k.errorAndReport(c,_.name),[3,3];case 3:return[2]}}))}))},N=function(e,n,t,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var d,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:h,variables:{videoID:n.comment.contentId}})];case 1:return d=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.e)(n,e.getState(),d)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(N.name):a.k.errorAndReport(c,N.name),[3,3];case 3:return[2]}}))}))},O=function(e,n,t,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var d,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:p,variables:{videoCreatorID:n.channelId,commentCreator:n.commenter,videoID:n.contentId}})];case 1:return d=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.i)(n,e.getState(),d)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(O.name):a.k.errorAndReport(c,O.name),[3,3];case 3:return[2]}}))}))},D=function(e,n,t,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var c,l,m,p;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),c=e.getState(),l=Object(d.e)(n)?c.vodChat.comments.comments.parentComments[n.parentId].contentId:n.contentId,[4,t.query({query:h,variables:{videoID:l}})];case 1:return m=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.h)(n,e.getState(),m)),[3,3];case 2:return p=i.sent(),Object(o.d)()?a.k.warn(D.name):a.k.errorAndReport(p,D.name),[3,3];case 3:return[2]}}))}))},M=function(e,n,t,s){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var d,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:h,variables:{videoID:n.comment.contentId}})];case 1:return d=i.sent().data,s.track(r.SpadeEventType.ChommentUIAction,Object(u.j)(n,e.getState(),d)),[3,3];case 2:return c=i.sent(),Object(o.d)()?a.k.warn(M.name):a.k.errorAndReport(c,M.name),[3,3];case 3:return[2]}}))}))},I=function(e,n,t,o){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var s,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,t.query({query:m,variables:{videoCreatorID:n.channelId,videoID:n.contentId}})];case 1:return s=i.sent().data,o.track(r.SpadeEventType.ChommentUIAction,Object(u.k)(n,e.getState(),s)),[3,3];case 2:return d=i.sent(),a.k.errorAndReport(d,I.name),[3,3];case 3:return[2]}}))}))}},zdrs:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockChosenSubscriberEmote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlockChosenSubscriberEmoteInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockChosenSubscriberEmote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"balance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:154}};t.loc.source={body:"mutation UnlockChosenSubscriberEmote($input: UnlockChosenSubscriberEmoteInput!) {\nunlockChosenSubscriberEmote (input: $input) {\nbalance\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,n){for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t];if(i.name&&i.name.value==n)return i}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var i=n.type;"NamedType"===i.kind&&t.add(i.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),i[e.name.value]=n}})),e.exports=t,e.exports.UnlockChosenSubscriberEmote=function(e,n){var t={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=i[n]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var d=s;s=new Set,d.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(n){var i=a(e,n);i&&t.definitions.push(i)})),t}(t,"UnlockChosenSubscriberEmote")},zwF8:function(e,n,t){"use strict";var i,a,r;t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return r})),function(e){e.ShareEmoteReward="share-emote-reward",e.ShareBitsBadgeTier="share-bits-badge-tier",e.ThankSubGifter="thank-sub-gifter",e.ShareResub="share-resub",e.CommunityPointsSpend="community-points-spend",e.ShareDrop="share-drop",e.NoOverride="no-override",e.Reply="reply"}(i||(i={})),function(e){e.Chat="chat-message-handler",e.Command="command-message-handler",e.Bits="bits-message-handler",e.Custom="custom-message-handler",e.ShareResub="share-resub-message-handler",e.Reply="chat-reply-handler"}(a||(a={})),function(e){e.CharacterLimitError="character-limit-error",e.DuplicatedMessageError="duplicated-message-error",e.MessageThroughputError="message-throughput-error",e.MobilePhoneVerification="mobile-phone-verification",e.MobilePhoneVerificationInfo="mobile-phone-verification-info",e.EmoteOnlyBanner="emote-only-banner",e.EmoteOnlyInfo="emote-only-info",e.EmoteOnlyWarning="emote-only-warning",e.AutocompleteTray="autocomplete-tray",e.CommandWarning="command-warning",e.CommandInfo="command-info",e.SlowModeBanner="slow-mode-banner",e.SubsOnlyBanner="subs-only-banner",e.SubsOnlyInfo="subs-only-info",e.FollowerModeBanner="follower-mode-banner",e.FollowerModeInfo="follower-mode-info",e.VerifiedOnlyModeBanner="verified-only-mode-banner",e.VerifiedOnlyModeInfo="verified-only-mode-info",e.WatchPartyInfo="watch-party-info",e.WatchPartyBanner="watch-party-banner",e.WatchPartyError="watch-party-error",e.Reply="reply",e.ShareResub="share-resub",e.SlowMode="slow-mode"}(r||(r={}))}}]);