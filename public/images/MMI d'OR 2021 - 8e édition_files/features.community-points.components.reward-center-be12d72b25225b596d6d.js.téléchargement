(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{"+6sU":function(e,t,n){e.exports=n.p+"assets/burst-animation-50f8ea4a9382dd7105fb.gif"},"29Yd":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),a=n("ll/k"),c=n("OCDW"),s=n("Yegi"),l=(n("fLvw"),["confetti-layer__confetti--slow","confetti-layer__confetti--medium","confetti-layer__confetti--fast"]),u=["rgba(247, 42, 107, 1)","rgba(255, 113, 105, 1)","rgba(253, 226, 132, 1)","rgba(181, 138, 242, 1)"],d=["0.011s","0.176s","0.321s","0.446s","0.849s","1.056s","1.229s","1.333s","1.379s","1.828s"],m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=r({"confetti-layer__confetti":!0,"confetti-layer__confetti--infinite":this.props.infinite});return o.createElement(c.a,{className:"confetti-layer",position:s.o.Absolute,overflow:s.n.Hidden,zIndex:s.t.Default,attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0},Object(a.c)(this.props.confettiCount,(function(n){return o.createElement("div",{key:n,className:t+" "+Object(a.b)(l),style:{position:"absolute",left:Object(a.a)(2,95)+"%",width:Object(a.a)(4,10)+"px",height:Object(a.a)(4,10)+"px",backgroundColor:""+Object(a.b)(e.props.colors),animationDelay:""+Object(a.b)(d)}})})))},t.defaultProps={colors:u},t}(o.PureComponent)},"2nCS":function(e,t,n){},"4vjT":function(e,t,n){},"4wQG":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i,r=n("pVnL"),o=n.n(r),a=n("q1tI"),c=n("SWse"),s=n("P+FS"),l=n("HQtB"),u=n("swlv"),d=n("g8gE"),m=n("OCDW"),p=n("Yegi"),h=n("NBHn"),f=n("iF2L"),b=n("E1Lb"),g=n("Ix37"),v=n("WeGZ"),E=((i={})[v.a.Error]=g.a.NotificationError,i[v.a.Info]=g.a.NotificationInfo,i[v.a.Success]=g.a.NotificationSuccess,i[v.a.Warning]=g.a.NotificationWarning,i),y=function(e){return a.createElement(m.a,{display:p.h.Flex,alignItems:p.b.Center,className:"tw-notification-figure tw-notification-figure--"+e.type},e.avatar?a.createElement(f.a,o()({size:30},e.avatar)):a.createElement(b.a,{asset:E[e.type]}))};y.displayName="NotificationFigure",y.displayName="NotificationFigure";var k=n("p9DJ"),C=n("uq9l"),w=function(e){return a.createElement(m.a,{display:p.h.Flex,flexDirection:e.inline?p.i.Row:p.i.Column,alignItems:e.inline?p.b.Baseline:void 0},a.createElement(m.a,{margin:{right:e.inline?.5:0}},a.createElement(C.a,{fontSize:p.k.Size5,fontWeight:p.l.SemiBold},e.title)),e.description&&a.createElement(m.a,{margin:{bottom:e.inline?void 0:.5,right:e.inline?.5:0}},a.createElement(C.a,{color:p.f.Alt},e.description)),e.link&&a.createElement(m.a,{margin:{bottom:e.inline?void 0:.5}},a.createElement(k.a,e.link)))};w.displayName="NotificationMessage",w.displayName="NotificationMessage";var O=function(e){var t={"tw-in-feature-notification__avatar":!0,"tw-in-feature-notification__avatar--adjusted":e.message&&!e.message.inline};return a.createElement(m.a,o()({},Object(l.a)(e),Object(s.a)(e),{className:"tw-in-feature-notification tw-in-feature-notification--"+e.type,borderRadius:p.e.Medium,color:p.f.Base,position:p.o.Relative}),a.createElement(m.a,{borderRadius:p.e.Medium,background:e.background},a.createElement(m.a,{display:p.h.Flex},a.createElement(m.a,{display:p.h.Flex,fullWidth:!0},a.createElement(m.a,{padding:1,className:Object(c.a)(t)},a.createElement(y,{type:e.type,avatar:e.avatar})),a.createElement(m.a,{display:p.h.Flex,alignItems:p.b.Center,fullWidth:!0},e.children,e.message&&a.createElement(m.a,{padding:{y:1,right:1},fullWidth:!0},a.createElement(w,e.message)))),e.closeButton&&a.createElement(m.a,{className:"tw-in-feature-notification__close-button",padding:{x:1,y:.5}},a.createElement(d.a,{"aria-label":e.closeButton["aria-label"],onClick:e.closeButton.onClick,size:u.b.Small,type:u.c.Secondary}))),e.actions&&a.createElement(m.a,{padding:{x:1,bottom:1}},a.createElement(h.a,e.actions))))};O.displayName="InFeatureNotification",O.defaultProps={background:p.d.Base},O.displayName="InFeatureNotification"},"5Z5u":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i,r=n("q1tI"),o=n("ANjH"),a=n("yR8l"),c=n("wUQP"),s=n("YV90"),l=n("BdUW"),u=n("nAiT"),d=n("6tZN"),m=n("Ix37"),p=n("OCDW"),h=n("Yegi"),f=n("OvMb");!function(e){e.RequestsCount="requests-count"}(i||(i={}));var b=Object(o.d)(Object(s.b)((function(e){return{isChannelPointsEnabled:e.isChannelPointsEnabled}})),Object(a.a)(f,{options:function(e){return{skip:!e.isChannelPointsEnabled,variables:{channelLogin:e.channelLogin}}}}))((function(e){if(!e.isChannelPointsEnabled||!Object(c.c)("copo_full_launch"))return null;var t=e.data&&e.data.user&&e.data.user.channel&&e.data.user.channel.communityPointsSettings&&e.data.user.channel.communityPointsSettings.summarizedRewards,n="";if(t){var o=t.reduce((function(e,t){return e+t.count}),0),a=t.some((function(e){return e.isCountAtMaximum}));o>99?n="99+":o&&(n=o+(a?"+":""))}return r.createElement(d.a,{actionIcon:m.a.Popout,onClick:function(){Object(l.a)(e.uiContext,e.channelLogin,e.channelID||void 0)},targetBlank:!0,value:n},r.createElement(p.a,{alignItems:h.b.Center,display:h.h.Flex,justifyContent:h.m.Between},r.createElement(p.a,null,Object(u.n)()),n&&r.createElement(p.a,{margin:{left:1},"data-test-selector":i.RequestsCount},n)))}))},"5ezV":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/7QA");new Map([["Tom Clancy's Rainbow Six: Siege",function(){return Object(i.d)("Rainbow Six: Siege is a competitive multiplayer first-person shooter developed by Ubisoft Montreal.","GameDescription")}],["Summoners War: Sky Arena",function(){return Object(i.d)("Summoners War is a mobile RPG for Android and iOS with a ladder that resets weekly.","GameDescription")}],["Magic: The Gathering",function(){return Object(i.d)("MTG Arena is a digital collectible card game by Wizards of the Coast.","GameDescription")}],["Escape From Tarkov",function(){return Object(i.d)("Escape from Tarkov, a hardcore first-person shooter, takes place in a fictional Russian city torn apart by rival private military companies.","GameDescription")}],["Super Smash Bros. Melee",function(){return Object(i.d)("The second in the Super Smash Bros. series brought the four-player brawling action to the GameCube in 2001.","GameDescription")}],["World of Warcraft",function(){return Object(i.d)("World of Warcraft is an MMORPG that takes place in Blizzard Entertainment's Warcraft universe","GameDescription")}],["Rust",function(){return Object(i.d)("Rust, from the makers of Garry's Mod, Rust is a multiplayer survival game with combat elements.","GameDescription")}],["Call of Duty: Black Ops 4",function(){return Object(i.d)("Black Ops is back! Featuring gritty, grounded, fluid Multiplayer combat, the biggest Zombies offering ever and Blackout, an intense battle royale experience.","GameDescription")}],["FIFA 19",function(){return Object(i.d)("EA Sports' soccer franchise returns for the 2018 season.","GameDescription")}],["Heroes of the Storm",function(){return Object(i.d)("Heroes from Warcraft, StarCraft, Diablo, Overwatch, and other universes are summoned to the Nexus for five-on-five combat.","GameDescription")}],["Street Fighter V",function(){return Object(i.d)("The fifth numbered entry in the renowned Street Fighter series of fighting games.","GameDescription")}],["NBA 2K19",function(){return Object(i.d)("The 2018 release from 2k's basketball simulation franchise.","GameDescription")}],["Battlefield V",function(){return Object(i.d)("Battlefield V sees the series return to a World War II setting for the first time in nearly a decade.","GameDescription")}],["Arma 3",function(){return Object(i.d)("Arma 3 is the third core game in the simulation and modern combat Arma franchise.","GameDescription")}],["RimWorld",function(){return Object(i.d)("RimWorld is a colony-building game about a crash-landed space crew and their fight for survival.","GameDescription")}],["Dark Souls III",function(){return Object(i.d)("Dark Souls III melds elements from all previous Souls games and concludes the Dark Souls trilogy.","GameDescription")}],["Dead by Daylight",function(){return Object(i.d)("Dead by Daylight features four survivors that try to escape haunted locales as a serial murderer hunts them.","GameDescription")}],["The Legend of Zelda: Ocarina of Time",function(){return Object(i.d)("The first 3D Legend of Zelda game, Ocarina of Time was created for the Nintendo 64 in 1998.","GameDescription")}],["Super Smash Bros. Ultimate",function(){return Object(i.d)("The Switch debut of Nintendo's flagship fighting game series brings together every character from the series' history.","GameDescription")}],["Atlas",function(){return Object(i.d)("ATLAS is a survival MMO from Studio Wildcard","GameDescription")}],["Overwatch",function(){return Object(i.d)("Overwatch is a stylish sci-fi, team-based, first-person shooter from Blizzard.","GameDescription")}],["Destiny 2",function(){return Object(i.d)("Destiny 2 is a sci-fi open-world first-person shooter developed by Bungie.","GameDescription")}],["ASMR",function(){return Object(i.d)("ASMR stands for autonomous sensory meridian response, and these channels and videos seek to trigger that particular feeling in viewers or listeners.","GameDescription")}],["ROBLOX",function(){return Object(i.d)("ROBLOX is a free Massive Multiplayer Online Game, where you play in user-created worlds with blocks and physics.","GameDescription")}],["Guild Wars 2",function(){return Object(i.d)("Guild Wars 2 is an online RPG developed by ArenaNet.","GameDescription")}],["Hearthstone",function(){return Object(i.d)("Hearthstone is a free-to-play collectible card game by Blizzard Entertainment set in the Warcraft universe.","GameDescription")}],["Sea of Thieves",function(){return Object(i.d)("Sea of Thieves is a first-person open-world game where players form a crew of pirates and sail off to find treasure.","GameDescription")}],["Apex Legends",function(){return Object(i.d)("Apex Legends is a battle royale game based in the Titanfall universe","GameDescription")}],["Dota 2",function(){return Object(i.d)("Dota 2 is the official free-to-play sequel to the Warcraft III custom scenario that originally popularized the Multiplayer Online Battle Arena sub-genre.","GameDescription")}],["League of Legends",function(){return Object(i.d)("League of Legends is a free-to-play competitive MOBA game with a large following in Esports.","GameDescription")}],["Fortnite",function(){return Object(i.d)("Fortnite is a sandbox-survival third-person shooter from the studio behind the Unreal Tournament and Gears of War series.","GameDescription")}],["Artifact",function(){return Object(i.d)("Artifact is a trading card game by Valve and Richard Garfield, creator of Magic the Gathering, set in the Dota universe.","GameDescription")}],["Poker",function(){return Object(i.d)("Poker is a card game that uses the traditional 52 playing card deck.","GameDescription")}],["Counter-Strike: Global Offensive",function(){return Object(i.d)("CS:GO is the fourth iteration of Valve's team-based modern-military first-person shooter","GameDescription")}],["Tibia",function(){return Object(i.d)("Tibia is an MMORPG created in 1997 by developer CipSoft GmbH.","GameDescription")}],["Grand Theft Auto V",function(){return Object(i.d)("Grand Theft Auto V is a modern crime epic featuring a crew of three protagonists rolling through the fictional state of San Andreas.","GameDescription")}],["World of Tanks",function(){return Object(i.d)("World of Tanks is a free-to-play, team-based action game featuring WWII-era tank combat.","GameDescription")}],["Path of Exile",function(){return Object(i.d)("Path of Exile is a free-to-play PC online action Role-Playing Game set in a dark fantasy world.","GameDescription")}],["Twitch Sings",function(){return Object(i.d)("Twitch Sings is a dynamic, endlessly watchable livestreaming vocal performance platform.","GameDescription")}],["PLAYERUNKNOWN'S BATTLEGROUNDS",function(){return Object(i.d)("PLAYERUNKNOWN’S BATTLEGROUNDS is a battle royale shooter that pits 100 players against each other in a struggle for survival.","GameDescription")}],["Mortal Kombat 11",function(){return Object(i.d)("Mortal Kombat's eleventh installment involves the time guardian Kronika intending to fix Raiden's mistakes which splintered the timeline","GameDescription")}],["Auto Chess",function(){return Object(i.d)('Auto Chess is the stand-alone adaptation of the autobattler Dota 2 mod "Dota Auto Chess", from the original developers',"GameDescription")}],["Hyper Scape",function(){return Object(i.d)("Hyper Scape is an urban futuristic free-to-play Battle Royale, with a cutting edge Twitch extension integration for streamers and viewers.","GameDescription")}]]);function r(e){if("en"!==(i.p.intl.getLanguageCode()||"en").slice(0,2))return 1;var t=String(e).length;return 6===t||9===t||12===t?0:1}},"61gZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("DMoW");function r(e,t){switch(void 0===t&&(t=!1),e){case i.Kd.BLUE:return t?"#387AFF":"#1F69FF";case i.Kd.PINK:default:return t?"#F5009B":"#E0008E"}}},"79s7":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("8/mp"),o=n("cxJK"),a=n("OCDW"),c=n("Yegi"),s=(n("a10Q"),function(e){return i.createElement(r.b,{suppressScrollX:!0},i.createElement(o.a,{popoverId:"channel-points-reward-center",padding:1},i.createElement(a.a,{display:c.h.Flex,flexDirection:c.i.Column,className:"reward-center-body"},e.children)))})},"7RRr":function(e,t,n){},"7SjK":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),r=n("q1tI"),o=n("b5vT"),a=n("zb36"),c=n("VYPy"),s=n("YQhk"),l=n("mDIl"),u=n("4Nlk"),d=n("OCDW"),m=n("Yegi"),p=(n("WTcl"),function(e){var t=e.emote,n=e.index,i=e.context,p=t.modifiers||[];if(!p.length)return null;var h=[t].concat(p.map((function(e){return Object(c.f)(t,e.code)}))),f=Math.min(6,h.length),b=50*(n%6+f>6?n%6+f-6:0),g=h.length<6?s.a.Auto:s.a.Medium;return r.createElement("div",{onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(l.a,{show:!0,direction:i===a.a.FrequentlyUsed?u.b.Bottom:u.b.Top,size:g,offsetX:"-"+b+"px"},r.createElement(d.a,{className:"emote-modifiers-balloon__modified-emotes",display:m.h.Flex,flexWrap:h.length>6?m.j.Wrap:void 0},h.map((function(t,n){return r.createElement(d.a,{key:"emote-button-mod-"+t.id+"--"+n,padding:{x:e.spaced?.5:0},position:m.o.Relative},r.createElement(o.b,{emote:t,isCriticalImage:0===n,onClick:t.isLocked?void 0:e.onClickEmote}))})))))}),h=(n("VrOd"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.hoverTimer=0,t.handleClickEmote=function(e){t.props.onClickEmote&&t.props.onClickEmote(e,t.props.context)},t.handleEmoteMouseEnter=function(e){t.setHoverTimer(e.id)},t.handleEmoteMouseLeave=function(){t.setHoverTimer()},t.resetHoverTimer=function(){t.hoverTimer&&(clearTimeout(t.hoverTimer),t.hoverTimer=0)},t}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.hoverTimer&&clearTimeout(this.hoverTimer)},t.prototype.render=function(){var e=this,t=this.props.emotes.map((function(t,n){var i,a=((null===(i=t.modifiers)||void 0===i?void 0:i.length)||0)>0;return r.createElement(d.a,{key:"emote-button-padder-"+t.id+"--"+n,padding:{x:e.props.spaced?.5:0},position:m.o.Relative},r.createElement(o.b,{key:"emote-button-"+t.id+"--"+n,emote:t,isCriticalImage:0===n,onClick:e.handleClickEmote,showOptions:a,onMouseEnter:a?e.handleEmoteMouseEnter:void 0,onMouseLeave:a?e.handleEmoteMouseLeave:void 0}),e.state.selectedEmoteID===t.id&&r.createElement(p,{context:e.props.context,emote:t,index:n,onClickEmote:e.handleClickEmote,onMouseEnter:e.resetHoverTimer,onMouseLeave:e.handleEmoteMouseLeave}))}));return r.createElement(d.a,{display:m.h.Flex,flexWrap:m.j.Wrap},t)},t.prototype.setHoverTimer=function(e){var t=this;this.resetHoverTimer(),this.hoverTimer=setTimeout((function(){t.hoverTimer=0,t.setState({selectedEmoteID:e})}),300)},t}(r.PureComponent))},"8APF":function(e,t,n){},"8nhX":function(e,t,n){},"9VJY":function(e,t,n){},"9eDC":function(e,t,n){},BBJN:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var i,r=n("pVnL"),o=n.n(r),a=n("q1tI"),c=n("SWse"),s=n("P+FS"),l=n("HQtB"),u=n("OCDW");!function(e){e.Default="",e.Small="tw-grid--gutter-sm",e.Medium="tw-grid--gutter-md",e.Large="tw-grid--gutter-lg",e.None="tw-grid--gutter-none"}(i||(i={}));var d=function(e){var t={"tw-grid":!0};return e.gutterSize&&(t[e.gutterSize]=!0),a.createElement(u.a,o()({alignItems:e.alignItems,fullHeight:e.fullHeight,justifyContent:e.justifyContent,breakpointExtraSmall:e.breakpointExtraSmall,breakpointSmall:e.breakpointSmall,breakpointMedium:e.breakpointMedium,breakpointLarge:e.breakpointLarge,breakpointExtraLarge:e.breakpointExtraLarge,breakpointExtraExtraLarge:e.breakpointExtraExtraLarge,className:Object(c.a)(t)},Object(l.a)(e),Object(s.a)(e)),e.children)};d.displayName="Grid",d.displayName="Grid"},BdUW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("SSXq"),r=n("EgE3");function o(e,t,n,o){Object(r.u)(e,t,n);var a="/popout/"+t+"/reward-queue";o&&(a+="?rewardID="+o);var c=window.open(Object(i.a)(a),"_blank","right=50,top=50,width=900,height=800,resizable=no,scrollbars=no,toolbar=no,location=no,directories=no,status=no,menubar=no,copyhistory=no");c&&c.focus()}},CZSx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("5zf8"),r=function(e){var t=new Date(e).getTime()-(new Date).getTime(),n=Math.ceil(t/6e4);if(n<60)return Object(i.c)({minutes:Math.max(n,0)});var r=Math.ceil(n/60);return r<24?Object(i.c)({hours:r}):Object(i.c)({days:Math.ceil(r/24)})}},Fluf:function(e,t,n){},Fpqs:function(e,t,n){},GOKC:function(e,t,n){},KI4o:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("mrSG"),r=n("q1tI"),o=n("ANjH"),a=n("/7QA"),c=n("u5aL"),s=n("wUQP"),l=n("5Z5u"),u=n("EgE3"),d=n("k5yb"),m=n("OCDW"),p=n("Yegi"),h=n("FMdv"),f=n("YQhk"),b=n("4Nlk"),g=n("6tZN"),v=(n("SbPP"),function(e){return r.createElement(m.a,{position:p.o.Relative},r.createElement(h.a,{size:f.a.Auto,direction:b.b.BottomRight,show:e.show,offsetX:"4.5rem",offsetY:"-0.5rem"},r.createElement(m.a,{className:"reward-management-links__popover"},e.isBroadcaster&&r.createElement(g.a,{targetBlank:!0,label:Object(a.d)("Manage Rewards","RewardCenterBroadcasterLinks"),linkTo:Object(d.n)(e.channelLogin||"")}),r.createElement(l.a,{channelID:e.channelID,channelLogin:e.channelLogin,uiContext:u.i.RewardSelectionPane}))))}),E=n("YV90"),y=n("cFyR"),k=n("tXI0"),C=n("V8f+"),w=n("uq9l"),O=n("oBNK"),S=n("x9t4"),L=n("Ix37"),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMenu:!1},t.renderTitle=function(){return r.createElement(m.a,{textAlign:p.q.Center},r.createElement(w.a,{type:w.e.H5,color:p.f.Alt,fontWeight:p.l.SemiBold},t.props.title),t.renderSubtitle())},t.renderSubtitle=function(){if(t.props.activeMultipliers&&t.props.activeMultipliers.length>0){var e=t.props.activeMultipliers.map((function(e){return Object(k.a)(e)})).filter((function(e){return e.length>0})).join(", "),n=Object(a.d)("{multiplier}x Multiplier",{multiplier:Object(k.b)(t.props.activeMultipliers)},"EarnNotice");return e?r.createElement(O.a,{direction:O.c.Top,label:e},r.createElement(w.a,{type:w.e.H6,color:p.f.Alt2},n)):r.createElement(w.a,{type:w.e.H6,color:p.f.Alt2},n)}return null},t.onBackClicked=function(){t.props.onBackClicked?t.props.onBackClicked():t.props.openReward({direction:C.a.Back})},t.toggleMenu=function(){t.setState((function(e){return{showMenu:!e.showMenu}}))},t.hideMenu=function(){t.setState({showMenu:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=!!this.props.currentUserLogin&&this.props.currentUserLogin===this.props.channelLogin,t=this.props.isCurrentUserModerator&&Object(s.c)("copo_full_launch"),n=e||t;return r.createElement(c.a,{onClickOut:this.hideMenu},r.createElement(S.a,{popoverId:"channel-points-reward-center",title:this.renderTitle(),buttonLeftPrimary:this.props.showBackButton||this.props.onBackClicked?{"aria-label":"",onClick:this.onBackClicked,icon:L.a.AngleLeft}:void 0,buttonRightPrimary:{onClick:this.props.closeRewardCenter,"aria-label":"Close"},buttonRightSecondary:n?{"aria-label":Object(a.d)("Reward management options","RewardCenterBroadcasterLinks"),icon:L.a.More,onClick:this.toggleMenu}:void 0}),n&&r.createElement(v,{channelLogin:this.props.channelLogin,channelID:this.props.channelID,isBroadcaster:e,show:this.state.showMenu}))},t}(r.Component);var N=Object(o.d)(Object(y.c)((function(e){return e})),Object(E.b)((function(e){return{channelLogin:e.channelLogin,channelID:e.channelID,isCurrentUserModerator:e.isCurrentUserModerator}})))(j),D=n("/MKj"),x=n("kRBY");var _=Object(D.b)((function(e){var t=Object(x.e)(e);return{currentUserLogin:t&&t.login}}))(N)},LZV1:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n("q1tI"),r=n("4rCz"),o=n("A4KW"),a=n("OCDW"),c=n("Yegi"),s=function(e,t){return Object(r.d)("You win {pointsCount}!",{pointsCount:i.createElement(i.Fragment,null,i.createElement(a.a,{display:c.h.InlineBlock,verticalAlign:c.r.Middle},i.createElement(o.b,{iconSize:t}))," ",Object(r.f)(e))},"PredictionCheckout")},l=function(e,t,n,s){var l,u,d,m,p=null===(u=null===(l=t.topPredictors[0])||void 0===l?void 0:l.user)||void 0===u?void 0:u.displayName,h=e.reduce((function(e,t){return e+t.totalPoints}),0),f=i.createElement(i.Fragment,null,i.createElement(a.a,{display:c.h.InlineBlock,verticalAlign:c.r.Middle},i.createElement(o.b,{iconSize:n}))," ",s?Object(r.g)(h,{maximumFractionDigits:1}):Object(r.f)(h));switch(t.totalUsers){case 0:return Object(r.d)("Nobody thought this would happen","PredictionCheckout");case 1:return p?Object(r.d)("{pointsCount} go to {topUser}",{pointsCount:f,topUser:p},"PredictionCheckout"):null;default:return p?Object(r.d)("{otherUsers, plural, one {{pointsCount} go to {topUser} and {topUser2}} other {{pointsCount} go to {topUser} and # others}}",{pointsCount:f,topUser:p,topUser2:(null===(m=null===(d=t.topPredictors[1])||void 0===d?void 0:d.user)||void 0===m?void 0:m.displayName)||Object(r.d)("1 other","PredictionCheckout"),otherUsers:t.totalUsers-1},"PredictionCheckout"):null}},u=function(){return Object(r.d)("It will appear in your balance shortly","PredictionCheckout")}},Lqow:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n("mrSG"),r=n("W1jp");function o(e,t,n){if(void 0===t&&(t=!0),t&&(e=e.filter((function(e){return e.isEnabled}))),n){var r=e.filter((function(e){return n.has(e.id)})),o=e.filter((function(e){return!n.has(e.id)}));return Object(i.__spreadArrays)(r.sort(a),o.sort(a))}return e.sort(a)}function a(e,t){var n=Object(r.c)(e),i=Object(r.c)(t);return n!==i?n-i:e.id<t.id?-1:e.id>t.id?1:0}},NBHn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("pVnL"),r=n.n(i),o=n("q1tI"),a=n("5e0Q"),c=n("OCDW"),s=n("Yegi"),l=function(e){return o.createElement(c.a,{display:s.h.Flex,justifyContent:s.m.Start,flexDirection:s.i.RowReverse},o.createElement("div",null,o.createElement(a.a,r()({size:a.b.Small,type:e.primaryButton.type||a.d.Primary},e.primaryButton))),e.secondaryButton&&o.createElement(c.a,{margin:{right:1}},o.createElement(a.a,r()({size:a.b.Small,type:e.secondaryButton.type||a.d.Secondary},e.secondaryButton))))};l.displayName="NotificationActions",l.displayName="NotificationActions"},Ngc4:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),r=n("q1tI"),o=n("W1jp"),a=n("IyK4"),c=n("Yegi"),s=n("JjwZ"),l=function(e){var t=e.data,n=Object(o.b)(t)||void 0,l=Object(o.e)(t);return r.createElement(a.a,{borderRadius:c.e.Medium,padding:.5},r.createElement("div",{style:{backgroundColor:n}},r.createElement(s.a,Object(i.__assign)({alt:t.title},l))))}},OvMb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModerationToolsRewardsQueueLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"communityPointsSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"summarizedRewards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCountAtMaximum"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:187}};n.loc.source={body:"query ModerationToolsRewardsQueueLink($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\ncommunityPointsSettings {\nsummarizedRewards {\ncount\nisCountAtMaximum\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ModerationToolsRewardsQueueLink=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ModerationToolsRewardsQueueLink")},PHZH:function(e,t,n){},"QJ0+":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(e,t){if(!(null==t?void 0:t.points)||!e.winningOutcome)return 0;if("number"==typeof t.pointsWon)return t.pointsWon;var n=e.outcomes.reduce((function(e,t){return e+t.totalPoints}),0);return r(t.points,e.winningOutcome.totalPoints,n)},r=function(e,t,n){return n===t?e:Math.round(Math.max(e+1,e/t*n))}},QnM6:function(e,t,n){e.exports=n.p+"assets/predictions_pink-2-cbfa8dd6030a4105e54a.png"},RHMS:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var i=n("DMoW"),r=1,o=18e5;function a(e){return function(e){return e.sort((function(e,t){return new Date(e.createdAt)<new Date(t.createdAt)?1:-1}))}(e).slice(0,r).filter((function(e){return function(e){switch(e.status){case i.Jd.ACTIVE:case i.Jd.LOCKED:case i.Jd.RESOLVE_PENDING:return!0;case i.Jd.RESOLVED:return!(e.endedAt&&(new Date).getTime()-new Date(e.endedAt).getTime()>o);case i.Jd.CANCEL_PENDING:case i.Jd.CANCELED:default:return!1}}(e)}))}function c(e){var t=(new Date).getTime()/1e3,n=new Date(e.createdAt).getTime()/1e3+e.predictionWindowSeconds;return Math.max(n-t,0)}},SbPP:function(e,t,n){},SxLA:function(e,t,n){},TXRf:function(e,t,n){},U4Oh:function(e,t,n){},VYPy:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u}));var i=n("/0dD"),r=n("DMoW"),o=function(e){switch(e){case r.Dd.BLACK_WHITE:return"Greyscale";case r.Dd.HORIZONTAL_FLIP:return"Horizontal Flip";case r.Dd.SUNGLASSES:return"Sunglasses";case r.Dd.THINKING:return"Thinking";case r.Dd.SQUISHED:return"Squished";default:return""}},a=function(e){switch(e){case r.Dd.BLACK_WHITE:return"BW";case r.Dd.HORIZONTAL_FLIP:return"HF";case r.Dd.SUNGLASSES:return"SG";case r.Dd.THINKING:return"TK";case r.Dd.SQUISHED:return"SQ";default:return""}},c=function(e){switch(e){case"BW":return r.Dd.BLACK_WHITE;case"HF":return r.Dd.HORIZONTAL_FLIP;case"SG":return r.Dd.SUNGLASSES;case"TK":return r.Dd.THINKING;case"SQ":return r.Dd.SQUISHED;default:return null}};function s(e,t){return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t}}function l(e,t){var n;if(!t)return e;var i=new RegExp(e.id,"g");return{id:e.id+"_"+t,token:e.token+"_"+t,setID:e.setID+"_"+t,displayName:e.displayName&&e.displayName+"_"+t,srcSet:null===(n=e.srcSet)||void 0===n?void 0:n.replace(i,e.id+"_"+t),isLocked:e.isLocked}}var u=function(e,t){void 0===t&&(t=i.a.Light);var n=o(e.name).toLowerCase().replace(" ","-"),r=t===i.a.Dark?"light":"dark";return{"1x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-1.png","2x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-2.png","4x":"https://static-cdn.jtvnw.net/automatic-reward-images/"+n+"-"+r+"-4.png"}}},Vd5H:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AcceptPredictionTermsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserPredictionSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserPredictionSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasAcceptedTOS"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemporaryChatBadgeEnabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation AcceptPredictionTermsMutation($input: UpdateUserPredictionSettingsInput!) {\nupdateUserPredictionSettings(input: $input) {\nerror {\ncode\n}\nsettings {\nhasAcceptedTOS\nisTemporaryChatBadgeEnabled\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.AcceptPredictionTermsMutation=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"AcceptPredictionTermsMutation")},VrOd:function(e,t,n){},WTcl:function(e,t,n){},WZ3a:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClaimCommunityPoints"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ClaimCommunityPointsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claimCommunityPoints"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"claim"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"multipliers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"factor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reasonCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pointsEarnedBaseline"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pointsEarnedTotal"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"currentPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:224}};n.loc.source={body:"mutation ClaimCommunityPoints($input: ClaimCommunityPointsInput!) {\nclaimCommunityPoints(input: $input) {\nclaim {\nid\nmultipliers {\nfactor\nreasonCode\n}\npointsEarnedBaseline\npointsEarnedTotal\n}\ncurrentPoints\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClaimCommunityPoints=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ClaimCommunityPoints")},X6r6:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout_2x-48e4c30f9a2b0e033f99.png"},"Y/QB":function(e,t,n){},YzXo:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),r=n("q1tI"),o=n("qleb");function a(){return function(e){return function(t){var n={fullscreen:Object(o.a)()};return r.createElement(e,Object(i.__assign)({},n,t))}}}},a10Q:function(e,t,n){},b5vT:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var i=n("TSYQ"),r=n("q1tI"),o=n("/7QA"),a=n("8Xrw"),c=n("GnwI"),s=n("XC6p"),l=n("IyK4"),u=n("Yegi"),d=(n("GOKC"),"emote-button"),m=function(e){var t=i("emote-button__link",{"emote-button__link--locked":!e.onClick}),n=e.emote,m=n.displayName,p=n.srcSet;if(!p)return null;var h=p.split(" ")[0],f=r.createElement("img",{className:"emote-picker__image",src:h,srcSet:p,alt:m});if(e.isCriticalImage){for(var b={},g=0,v=p.split(",");g<v.length;g++){var E=v[g].trim().split(" "),y=E[1],k=E[0];b[y]=k}f=r.createElement(c.CriticalImage,{className:"emote-picker__emote-image",src:h,srcSet:b,alt:m||""})}var C=r.createElement(a.a,{lockIcon:e.emote.isBitsTierEmote?a.b.BITS:a.b.LOCK,className:"emote-button__lock"});return r.createElement("div",{className:d},r.createElement(s.a,{label:m||Object(o.d)("Emote","EmoteButton")},r.createElement(l.a,{display:u.h.Flex,alignItems:u.b.Center,justifyContent:u.m.Center},r.createElement("button",{"data-test-selector":"emote-button-clickable",className:t,"aria-label":m,name:m,onMouseEnter:e.onMouseEnter?e.onMouseEnter.bind(null,e.emote):void 0,onMouseLeave:e.onMouseLeave?e.onMouseLeave.bind(null,e.emote):void 0,onClick:e.onClick?e.onClick.bind(null,e.emote):void 0,"data-a-target":m},r.createElement("figure",null,e.emote.isLocked?C:null,e.showOptions&&r.createElement("div",{className:d+"__options"}),f)))))}},b7VA:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("8OQS"),r=n.n(i),o=n("q1tI"),a=n("OCDW"),c=n("Yegi"),s=n("4Nlk"),l=n("ubYY"),u=function(e){var t=e.show,n=e.direction,i=e.offsetX,u=e.offsetY,d=r()(e,["show","direction","offsetX","offsetY"]);return o.createElement(a.a,{display:t?c.h.Block:c.h.Hide},o.createElement(s.a,{direction:n,offsetX:i,offsetY:u},o.createElement(l.a,d)))};u.displayName="AttachedPopover"},c0GN:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i,r=n("mrSG"),o=n("q1tI"),a=n("/7QA"),c=n("yR8l"),s=n("wUQP"),l=n("tXI0"),u=n("OCDW"),d=n("Ix37"),m=n("Yegi"),p=n("uq9l"),h=n("p9DJ"),f=n("4rCz"),b=n("E1Lb");!function(e){e.Countdown="earn-rate-item-countdown"}(i||(i={}));var g,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(u.a,{display:m.h.Flex,justifyContent:m.m.Between,padding:{y:.5},alignItems:m.b.Center},o.createElement(u.a,{display:m.h.Flex,alignItems:m.b.Center},o.createElement(u.a,{display:m.h.Flex,alignItems:m.b.Center,padding:{right:2}},o.createElement(b.a,{asset:this.props.icon})),o.createElement(u.a,null,o.createElement(p.a,null,this.props.title),this.renderAvailabilityCountdown())),o.createElement(p.a,null,this.props.value))},t.prototype.renderAvailabilityCountdown=function(){if(!this.props.availableAt)return null;var e=new Date(this.props.availableAt).valueOf()-Date.now();if(e<=0)return null;var t=Math.floor(e/864e5);return 0===t?o.createElement(p.a,{color:m.f.Alt2,"data-test-selector":i.Countdown},Object(f.d)("Earn again in <x:strong>less than a day</x:strong>",{"x:strong":function(e){return o.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"EarnRateItem")):o.createElement(p.a,{color:m.f.Alt2,"data-test-selector":i.Countdown},Object(f.d)("{days, plural, one {Earn again in <x:strong>{days} day</x:strong>} other {Earn again in <x:strong>{days} days</x:strong>}}",{days:t,"x:strong":function(e){return o.createElement(p.a,{bold:!0,type:p.e.Span},e)}},"EarnRateItem"))},t}(o.Component),E=n("p5Bz");!function(e){e.Cheer="earn-rates-cheer",e.SubGift="earn-rates-sub-gift",e.WatchStreak="earn-rates-watch-streak",e.SubsMultipliers="subs-multipliers"}(g||(g={}));var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n,i,r,c,f,b,E,y,k,C,w;if(!this.props.earnRates)return null;var O=this.props.earnRates&&this.props.earnRates.watchStreakPoints,S=null;O.length>0&&(S=O[O.length-1].points);var L=(null===(e=this.props.earnRates)||void 0===e?void 0:e.multipliers)||[];return o.createElement(u.a,{padding:this.props.padding||1},o.createElement(v,{icon:d.a.NavChannels,title:Object(a.d)("Watch for 5 minutes","EarnRates"),value:"+"+this.props.earnRates.passiveWatchPoints}),o.createElement(v,{icon:d.a.ChannelPointsBonus,title:Object(a.d)("Claim special bonuses","EarnRates"),value:"+"+this.props.earnRates.claimPoints}),o.createElement(v,{icon:d.a.Raid,title:Object(a.d)("Participate in a Raid","EarnRates"),value:"+"+this.props.earnRates.raidPoints}),o.createElement(v,{icon:d.a.FollowHollow,title:Object(a.d)("Follow this channel","EarnRates"),value:"+"+this.props.earnRates.followPoints}),Object(s.c)("copo_commerce_actions")&&o.createElement(o.Fragment,null,o.createElement(v,{availableAt:null===(f=null===(c=null===(r=null===(i=null===(n=null===(t=this.props.data)||void 0===t?void 0:t.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.self)||void 0===r?void 0:r.communityPoints)||void 0===c?void 0:c.limitedEarnings)||void 0===f?void 0:f.cheerAvailableAt,icon:d.a.Bits,title:Object(a.d)("Monthly 1st Cheer","EarnRates"),value:"+"+this.props.earnRates.cheerPoints,"data-test-selector":g.Cheer}),o.createElement(v,{availableAt:null===(w=null===(C=null===(k=null===(y=null===(E=null===(b=this.props.data)||void 0===b?void 0:b.user)||void 0===E?void 0:E.channel)||void 0===y?void 0:y.self)||void 0===k?void 0:k.communityPoints)||void 0===C?void 0:C.limitedEarnings)||void 0===w?void 0:w.subscriptionGiftAvailableAt,icon:d.a.Gift,title:Object(a.d)("Monthly 1st Gift a Sub","EarnRates"),value:"+"+this.props.earnRates.subscriptionGiftPoints,"data-test-selector":g.SubGift})),S&&o.createElement(v,{icon:d.a.GlyphViews,title:Object(a.d)("Grow a watch streak","EarnRates"),value:Object(a.d)("up to +{maxStreakPoints}",{maxStreakPoints:S},"EarnRates"),"data-test-selector":g.WatchStreak}),L.map((function(e){return o.createElement(v,{key:e.reasonCode,icon:d.a.StarHollow,title:Object(l.a)(e),value:Object(a.d)("{factor}x multiplier",{factor:e.factor+1},"EarnRates"),"data-test-selector":g.SubsMultipliers})})),o.createElement(u.a,{textAlign:m.q.Center,margin:{top:1}},o.createElement(p.a,null,Object(a.d)("<x:learn>Learn More about Channel Points</x:learn>",{"x:learn":function(e){return o.createElement(h.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/channel-points-guide"},e)}},"RewardList"))))},t}(o.Component),k=Object(c.a)(E,{options:function(e){var t;return{fetchPolicy:"cache-and-network",variables:{channelLogin:null!==(t=e.channelLogin)&&void 0!==t?t:""}}},skip:function(e){return!e.channelLogin||!Object(s.c)("copo_commerce_actions")}})(y)},cxJK:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),r=n.n(i),o=n("VbXa"),a=n.n(o),c=n("q1tI"),s=n("P+FS"),l=n("HQtB"),u=n("IyK4"),d=n("Yegi"),m=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){return c.createElement(u.a,r()({},Object(l.a)(this.props),Object(s.a)(this.props),{overflow:d.n.Auto,padding:this.props.padding,flexGrow:1}),c.createElement("div",{id:this.props.popoverId+"-body"},this.props.children))},t}(c.Component);return e.displayName="PopoverBody",e.defaultProps={padding:1},e}()},d8FY:function(e,t,n){},da0V:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ContributeCommunityPointsCommunityGoal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContributeCommunityPointsCommunityGoalInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributeCommunityPointsCommunityGoal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:180}};n.loc.source={body:"mutation ContributeCommunityPointsCommunityGoal(\n$input: ContributeCommunityPointsCommunityGoalInput!\n) {\ncontributeCommunityPointsCommunityGoal(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ContributeCommunityPointsCommunityGoal=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ContributeCommunityPointsCommunityGoal")},eHGA:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var i,r=n("mrSG"),o=n("q1tI"),a=n("ANjH"),c=n("4VQm"),s=n("DMoW"),l=n("4rCz"),u=n("IyK4"),d=n("Yegi"),m=n("JiyE"),p=n("LNol"),h=n("Ix37"),f=function(){return o.createElement(u.a,{color:d.f.Overlay,borderRadius:d.e.Medium,padding:.5},o.createElement("div",{style:{backgroundColor:m.a.TwitchPurple,maxHeight:"38px"}},o.createElement(p.a,{type:p.b.Inherit,asset:h.a.Rocket,width:28,height:28})))},b=n("Ngc4"),g=n("YV90"),v=n("cFyR"),E=n("BXoJ"),y=n("V8f+"),k=n("EgE3"),C=n("CZSx"),w=n("OCDW"),O=n("uq9l"),S=n("hPKk");n("grzJ");!function(e){e.Body="list-item-body",e.ChallengeName="challenge-name",e.ChallengeDuration="challenge-duration"}(i||(i={}));var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.impressionEventFired=!1,t.isVisible=function(e){if(null!==t.element){var n=t.element.getBoundingClientRect();return n.top>e.top&&n.left>e.left&&n.right<e.right&&n.bottom<e.bottom}return!1},t.setRef=function(e){return t.element=e},t.renderGoalProgress=function(){var e=t.props.data,n=e.amountNeeded,i={transform:"scaleX("+e.pointsContributed/n+")",transformOrigin:"0 0"};return o.createElement(w.a,{fullWidth:!0,fullHeight:!0,background:d.d.Alt,borderRadius:d.e.Medium,overflow:d.n.Hidden,position:d.o.Absolute,zIndex:d.t.Below},o.createElement(u.a,{fullHeight:!0,fullWidth:!0},o.createElement("div",{className:"community-goals-list-item__fill",style:i})))},t.renderContent=function(){var e=t.props.data,n=e.amountNeeded,r=e.endedAt,a=e.pointsContributed,c=e.status,u=e.type;if(r){var m=Math.floor(a/n*100),p=u===s.gb.BOOST?o.createElement(f,null):o.createElement(b.a,{data:t.props.data});return o.createElement(w.a,{fullHeight:!0,fullWidth:!0,alignItems:d.b.Center,display:d.h.Flex},o.createElement(w.a,{margin:1},p),o.createElement(w.a,{flexGrow:1},o.createElement(O.a,{lines:2,ellipsis:!0,wordBreak:O.g.BreakWord,"data-test-selector":i.ChallengeName},Object(E.b)(t.props.data)),o.createElement(O.a,{"data-test-selector":i.ChallengeDuration},c===s.fb.ENDED?Object(l.d)("Ended","CommunityGoalsListItem"):Object(l.d)("{time} left",{time:Object(C.a)(r)},"CommunityGoalsListItem"))),o.createElement(w.a,{alignItems:d.b.Center,display:d.h.Flex,flexDirection:d.i.Column,margin:{x:1}},o.createElement(O.a,{fontSize:d.k.Size4,fontWeight:d.l.SemiBold},o.createElement(S.a,{value:m,formatValue:function(e){return e+"%"}})),o.createElement(O.a,null,Object(l.d)("raised","CommunityGoalsListItem"))))}},t.onClick=function(){t.props.data&&t.props.openReward({direction:y.a.Forward,reward:t.props.data})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister()},t.prototype.render=function(){return o.createElement(w.a,{className:this.props.animateOnHover?"community-goals-list-item__animated":"",refDelegate:this.setRef},o.createElement("div",{onClick:this.onClick,"data-test-selector":i.Body},o.createElement(w.a,{className:"community-goals-list-item__body",display:d.h.Flex,fullWidth:!0,position:d.o.Relative},this.renderContent(),this.renderGoalProgress())))},t.prototype.checkVisible=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return this.impressionEventFired||!this.isVisible(e)||this.props.suppressTrackingEvents||(Object(k.o)(this.props.channelLogin||"",this.props.channelID||"",!1,this.props.index,this.props.data,this.props.viewTrackingID||""),this.impressionEventFired=!0),[2]}))}))},t}(o.Component);var j=Object(a.d)(Object(g.b)((function(e){return{channelID:e.channelID,channelLogin:e.channelLogin}})),Object(v.c)((function(e){return{openReward:e.openReward,viewTrackingID:e.viewTrackingID}})),Object(c.d)((function(e){return{registerReceiver:e.registerReceiver}})))(L)},f7m9:function(e,t,n){},fLvw:function(e,t,n){},fQ6u:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserPointsContribution"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goalContributions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userPointsContributedThisStream"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:200}};n.loc.source={body:"query UserPointsContribution($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\nself {\ncommunityPoints {\ngoalContributions {\ngoal {\nid\n}\nuserPointsContributedThisStream\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.UserPointsContribution=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"UserPointsContribution")},falg:function(e,t,n){"use strict";n.r(t),n.d(t,"LOCAL_STORAGE_CHANNEL_POINTS_ONBOARDING_KEY",(function(){return hi})),n.d(t,"LOCAL_STORAGE_CHANNEL_POINTS_REWARD_CENTER_OPEN_KEY",(function(){return fi})),n.d(t,"RewardCenterComponent",(function(){return bi})),n.d(t,"RewardCenter",(function(){return gi}));var i,r=n("mrSG"),o=n("q1tI"),a=n("/MKj"),c=n("ANjH"),s=n("/7QA"),l=n("u5aL"),u=n("1/iK"),d=n("y5D0"),m=n("kRBY"),p=n("YV90"),h=n("cFyR"),f=n("pDC7"),b=n.n(f),g=n("ZS2+"),v=n("0Log"),E=n("v8lJ"),y=n("/aPz"),k=n("f00E"),C=n("w09P"),w=n("YzXo"),O=n("yR8l"),S=n("eDVu"),L=n("geRD"),j=n("4rCz"),N=n("2xye");!function(e){e.ChatInput="chat_input_box"}(i||(i={}));var D=n("Mg72"),x=n("oBNK"),_=n("5e0Q"),I=n("OCDW"),R=n("Yegi"),P=n("E1Lb"),T=n("Ix37"),M=n("WZ3a"),F=n("uHaE"),A=(n("U4Oh"),D.c.Long),B=2e3,G=function(e){switch(e){case D.c.Short:return 100;case D.c.Long:return 300;case D.c.Medium:default:return 250}}(A),U=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:!1,inProgress:!1},n.claimErrorTimer=null,n.updateClaimTimer=null,n.onClick=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!(e=this.getClaim()))return j.l.warn("Attempted to use claim without ID."),this.handleClaimError(!1),[2];this.setState({inProgress:!0}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.claimCommunityPoints(Object(L.a)({channelID:this.props.channelID,claimID:e.id}))];case 2:return t=r.sent(),this.setState({inProgress:!1}),t.data&&t.data.claimCommunityPoints&&!t.data.claimCommunityPoints.error?(this.nullifyClaim(t.data.claimCommunityPoints.currentPoints),function(e,t){var n=t.claimCommunityPoints&&t.claimCommunityPoints.claim,r=1;n&&(r=n.multipliers.reduce((function(e,t){return e+t.factor}),1));var o={bonus_uuid:n&&n.id||"",channel_id:e.community&&e.community.id||"",channel_login:e.community&&e.community.login||"",points_claimed:n&&n.pointsEarnedBaseline||0,multiplier:r,total_points_claimed:n&&n.pointsEarnedTotal||0,ui_context:i.ChatInput};s.o.track(N.SpadeEventType.ChannelPointsBonusClaim,o)}(this.props.data,t.data),[3,4]):(this.handleClaimError(!0),[2]);case 3:return n=r.sent(),j.l.errorAndReport(n,"Point claim failed at the mutation level."),this.setState({inProgress:!1}),this.handleClaimError(!0),[3,4];case 4:return[2]}}))}))},n.handleClaimError=function(e){n.setState({error:!0}),e&&(n.clearUpdateClaimTimer(),n.updateClaimTimer=setTimeout((function(){n.nullifyClaim()}),B)),n.clearClaimErrorTimer(),n.claimErrorTimer=setTimeout((function(){n.setState({error:!1})}),B+G)},n.clearClaimErrorTimer=function(){n.claimErrorTimer&&(clearTimeout(n.claimErrorTimer),n.claimErrorTimer=null)},n.clearUpdateClaimTimer=function(){n.updateClaimTimer&&(clearTimeout(n.updateClaimTimer),n.updateClaimTimer=null)},n.handleFullscreenChange=function(){n.trackChanges(n.props),n.previousFullscreenElement=n.props.fullscreen.element()},n.previousFullscreenElement=t.fullscreen.element(),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.fullscreen.addChangeListener(this.handleFullscreenChange),this.trackChanges()},t.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.handleFullscreenChange)},t.prototype.componentDidUpdate=function(e){this.trackChanges(e)},t.prototype.render=function(){var e=this.getClaim(),t=!!e&&!this.props.hidden,n=!!e,i=this.state.error?Object(j.d)("Error claiming bonus","CommunityPointsClaimableBonus"):Object(j.d)("Click to claim a bonus!","CommunityPointsClaimableBonus");return o.createElement(D.a,{type:D.d.Fade,show:t,alwaysRenderChild:!0,transitionInitialMount:!0,duration:A},o.createElement(D.a,{type:D.d.SlideOverLeft,show:n,transitionInitialMount:!0,duration:A},!this.props.hidden&&o.createElement(x.a,{label:i},o.createElement(_.a,{disabled:this.state.inProgress,onClick:this.onClick,type:this.state.error?_.d.Alert:_.d.Success},o.createElement(I.a,{className:this.state.error?"":"claimable-bonus__icon",display:R.h.Flex},o.createElement(P.a,{asset:T.a.ChannelPointsBonus}))))))},t.prototype.nullifyClaim=function(e){this.props.data.updateQuery((function(t){var n,i,o;return(null===(o=null===(i=null===(n=t.community)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.self)||void 0===o?void 0:o.communityPoints)?C(t,(function(e){return e.community.channel.self.communityPoints}),(function(t){return Object(r.__assign)(Object(r.__assign)({},t),{availableClaim:null,balance:"number"==typeof e?e:t.balance})})):(j.l.warn("Failed to nullify cached claim."),t)}))},t.prototype.getClaim=function(e){var t=(e||this.props).data;return t.community&&t.community.channel&&t.community.channel.self&&t.community.channel.self.communityPoints&&t.community.channel.self.communityPoints.availableClaim},t.prototype.trackChanges=function(e){var t,n,r,o=this.getClaim(),a=e&&!!this.getClaim(e);o&&!a&&e&&!e.data.loading&&(t=this.props.data,n=o.id,r={bonus_uuid:n,channel_id:t.community&&t.community.id||"",channel_login:t.community&&t.community.login||""},s.o.track(N.SpadeEventType.ChannelPointsBonusEligible,r));var c=this.props.fullscreen.element(),l=this.props.rightColumnExpanded&&!c,u=e&&e.rightColumnExpanded&&!this.previousFullscreenElement;!o||!l||u&&a||function(e,t){var n={bonus_uuid:t,channel_id:e.community&&e.community.id||"",channel_login:e.community&&e.community.login||"",ui_context:i.ChatInput};s.o.track(N.SpadeEventType.ChannelPointsBonusImpression,n)}(this.props.data,o.id)},t}(o.Component);var W=Object(c.d)(Object(O.a)(F,{options:function(e){return{variables:{channelID:e.channelID}}}}),Object(O.a)(M,{name:"claimCommunityPoints"}),Object(S.a)((function(e){return{query:F,variables:{channelID:e.channelID},topic:Object(y.w)(e.currentUserID),type:v.PubsubMessageType.CommunityPointsClaimAvailable,mutator:function(t,n){return t.data.claim.point_gain.channel_id!==e.channelID?n:n.community&&n.community.channel&&n.community.channel.self&&n.community.channel.self.communityPoints?C(n,(function(e){return e.community.channel.self.communityPoints.availableClaim}),(function(){return{__typename:"CommunityPointsClaim",id:t.data.claim.id}})):n}}})),Object(S.a)((function(e){return{query:F,variables:{channelID:e.channelID},topic:Object(y.w)(e.currentUserID),type:v.PubsubMessageType.CommunityPointsClaimUsed,mutator:function(e,t){return t.community&&t.community.channel&&t.community.channel.self&&t.community.channel.self.communityPoints&&t.community.channel.self.communityPoints.availableClaim&&t.community.channel.self.communityPoints.availableClaim.id===e.data.claim.id?C(t,(function(e){return e.community.channel.self.communityPoints.availableClaim}),(function(){return null})):t}}})),Object(a.b)((function(e){return{rightColumnExpanded:e.ui.rightColumnExpanded}})),Object(w.a)())(U),V=n("IyK4"),Z=n("JjwZ"),H=n("+6sU"),z=n.n(H),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDelayed:void 0!==t.props.delayMs,hidden:!1},t.delayTimeout=0,t.completeTimeout=0,t.handleAnimationEnd=function(){t.setState({hidden:!0}),t.props.onComplete&&t.props.onComplete()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;void 0!==this.props.delayMs&&(this.delayTimeout=setTimeout((function(){e.setState({isDelayed:!1})}),this.props.delayMs)),this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),400+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.delayTimeout),clearTimeout(this.completeTimeout)},t.prototype.render=function(){return this.state.isDelayed||this.state.hidden?null:o.createElement(V.a,{position:R.o.Absolute},o.createElement("div",{style:{width:75,height:63,left:this.props.offsetX||0,top:this.props.offsetY||0}},o.createElement(Z.a,{src:z.a,alt:""})))},t}(o.Component),Y=(n("9VJY"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete&&t.props.onComplete()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),400+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.completeTimeout)},t.prototype.render=function(){var e=void 0!==this.props.delayMs?this.props.delayMs+"ms":void 0;return o.createElement("div",{className:"pulse-animation",style:{animationDelay:e}},this.props.children)},t}(o.Component)),Q=n("zg3r"),K=n("nAiT"),J=n("XC6p"),X=n("LNol"),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e,t=this;switch(this.props.event.point_gain.reason_code){case Q.a.CLAIM:case Q.a.WATCH:e=4e3;break;default:e=8e3}this.expirationTimer=setTimeout((function(){t.props.onEarnEventExpired()}),e)},t.prototype.componentWillUnmount=function(){clearTimeout(this.expirationTimer)},t.prototype.render=function(){return o.createElement(J.a,{label:this.tooltipText,maxWidth:"240px"},o.createElement(Y,{delayMs:200},o.createElement(I.a,{alignItems:R.b.Center,color:R.f.Link,display:R.h.Flex,padding:{y:.5}},o.createElement(X.a,{asset:this.icon}),"+"+Object(j.f)(this.props.event.point_gain.total_points))),o.createElement(I.a,{position:R.o.Absolute,attachTop:!0,attachLeft:!0},o.createElement(q,{offsetX:-14,offsetY:-17})))},Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.props.event.point_gain.reason_code){case Q.a.CHEER:return T.a.Bits;case Q.a.FOLLOW:return T.a.Heart;case Q.a.PREDICTION:return T.a.CrystalBall;case Q.a.RAID:return T.a.Raid;case Q.a.SUB_GIFT:return T.a.Gift;case Q.a.WATCH_STREAK:return T.a.GlyphViews;default:return T.a.ChannelPoints}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){var e=Object(j.f)(this.props.event.point_gain.total_points),t=this.props.pointName||Object(K.c)();switch(this.props.event.point_gain.reason_code){case Q.a.CHEER:return Object(j.d)("You earned {numPoints} {pointName} for Cheering",{numPoints:e,pointName:t},"EarnNotice");case Q.a.FOLLOW:return Object(j.d)("You earned {numPoints} {pointName} for following",{numPoints:e,pointName:t},"EarnNotice");case Q.a.PREDICTION:return Object(j.d)("You won {numPoints} {pointName} from participating in a Prediction",{numPoints:e,pointName:t},"EarnNotice");case Q.a.RAID:return Object(j.d)("You earned {numPoints} {pointName} for participating in a Raid",{numPoints:e,pointName:t},"EarnNotice");case Q.a.SUB_GIFT:return Object(j.d)("You earned {numPoints} {pointName} for gifting a Sub",{numPoints:e,pointName:t},"EarnNotice");case Q.a.WATCH_STREAK:return Object(j.d)("You earned {numPoints} {pointName} for your watch streak",{numPoints:e,pointName:t},"EarnNotice");default:return Object(j.d)("You earned {numPoints} {pointName}",{numPoints:e,pointName:t},"EarnNotice")}},enumerable:!0,configurable:!0}),t}(o.Component);var ee=Object(p.b)((function(e){return{pointName:e.pointName}}))($),te=(n("gjFE"),1500),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete()},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),te+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.completeTimeout)},t.prototype.render=function(){var e=void 0!==this.props.delayMs?this.props.delayMs+"ms":void 0;return o.createElement(V.a,{className:"float-animation",position:R.o.Absolute},o.createElement("div",{style:{animationDelay:e}},o.createElement(I.a,{className:"float-animation__children-wrapper"},this.props.children)))},t}(o.Component),ie=n("DMoW"),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.expirationTimer=setTimeout((function(){e.props.onMultiplierEventExpired()}),8e3)},t.prototype.componentWillUnmount=function(){clearTimeout(this.expirationTimer)},t.prototype.render=function(){return o.createElement(x.a,{label:this.tooltipText},o.createElement(Y,{delayMs:200},o.createElement(I.a,{alignItems:R.b.Center,color:R.f.Link,display:R.h.Flex,padding:{y:.5}},o.createElement(X.a,{asset:this.icon}),"+"+(1+this.props.event.active_multipliers.multipliers[0].factor)+"X")),o.createElement(I.a,{position:R.o.Absolute,attachTop:!0,attachLeft:!0},o.createElement(q,{offsetX:-14,offsetY:-17})))},Object.defineProperty(t.prototype,"icon",{get:function(){switch(this.props.event.active_multipliers.multipliers[0].reason_code){case ie.lb.SUB_T1:case ie.lb.SUB_T2:case ie.lb.SUB_T3:default:return T.a.StarHollow}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){var e=1+this.props.event.active_multipliers.multipliers[0].factor,t=this.props.pointName||Object(K.c)();switch(this.props.event.active_multipliers.multipliers[0].reason_code){case ie.lb.SUB_T1:case ie.lb.SUB_T2:case ie.lb.SUB_T3:return Object(j.d)("You are earning {multiplier}x {PointName} for subscribing",{multiplier:e,PointName:t},"MultiplierNotice");default:return Object(j.d)("You are earning {multiplier}x {PointName}",{multiplier:e,PointName:t},"MultiplierNotice")}},enumerable:!0,configurable:!0}),t}(o.Component);var oe,ae=Object(p.b)((function(e){return{pointName:e.pointName}}))(re),ce=n("A4KW"),se=n("V8f+"),le=n("EgE3"),ue=n("uq9l"),de=n("hPKk");!function(e){e.AddPoints="add-points",e.MultiplyBonus="multiply-bonus"}(oe||(oe={}));n("d8FY");function me(e){switch(void 0===e&&(e=void 0),e){case oe.AddPoints:return{explosion:!0,flame:!1,floatingText:!0,iconPulse:!0,earnNotice:!0};case oe.MultiplyBonus:return{explosion:!1,flame:!0,floatingText:!0,iconPulse:!0,earnNotice:!0};default:return{explosion:!1,flame:!1,floatingText:!1,iconPulse:!1,earnNotice:!1}}}var pe,he=g.a.wrap((function(){return n.e(89).then(n.bind(null,"CYk5"))}),"FlameAnimation"),fe=g.a.wrap((function(){return Promise.resolve().then(n.bind(null,"ktc1"))}),"ExplodeAnimation");!function(e){e.BalanceString="balance-string",e.CommunityPointsSummary="community-points-summary",e.UpdateIndicatorSparkle="update-indicator-sparkle"}(pe||(pe={}));var be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={animationQueue:[],animationKey:Object(k.c)(),isEarnNoticeTransitionShowing:!1,waitingFor:me()},t.onIconClicked=function(){t.props.isRewardCenterOpen?t.props.closeRewardCenter():t.props.openReward({direction:se.a.OpenRewardCenter,contentUpdateEnabled:t.showUpdatedContentIndicator})},t.markSubAnimationComplete=function(e){t.setState((function(t){return function(e){var t=e.animationQueue.length>0,n=Object.values(e.waitingFor).every((function(e){return!1===e}));if(t&&n){var i=e.animationQueue.slice(1);return Object(r.__assign)(Object(r.__assign)({},e),{animationQueue:i,animationKey:Object(k.c)(),isEarnNoticeTransitionShowing:!1,waitingFor:me(i[0]&&i[0].type)})}return e}(function(e,t){var n;return Object(r.__assign)(Object(r.__assign)({},e),{waitingFor:Object(r.__assign)(Object(r.__assign)({},e.waitingFor),(n={},n[t]=!1,n))})}(t,e))}))},t.handleNoticeExpired=function(){t.setState({isEarnNoticeTransitionShowing:!1})},t.handleEarnNoticeTransitionExit=function(){t.markSubAnimationComplete("earnNotice")},t.handleFlameAnimationComplete=function(){t.markSubAnimationComplete("flame")},t.handleFloatAnimationComplete=function(){t.markSubAnimationComplete("floatingText"),t.setState({isEarnNoticeTransitionShowing:!0})},t.handleIconAnimationComplete=function(){t.markSubAnimationComplete("iconPulse")},t.handleExplosionAnimationComplete=function(){t.markSubAnimationComplete("explosion")},t.addAnimationToQueue=function(e){t.setState((function(t){return 0===t.animationQueue.length?Object(r.__assign)(Object(r.__assign)({},t),{animationQueue:[e],isEarnNoticeTransitionShowing:!1,waitingFor:me(e.type)}):Object(r.__assign)(Object(r.__assign)({},t),{animationQueue:Object(r.__spreadArrays)(t.animationQueue,[e])})}))},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.subscribe(),this.trackIconImpression()},t.prototype.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},t.prototype.render=function(){if(!this.props.isChannelPointsEnabled)return null;var e=this.state.animationKey,t=this.state.animationQueue[0],n=Object(s.d)("{balance} {pointsName}",{balance:this.getBalanceString(),pointsName:this.props.pointName||Object(K.c)()},"PointsButton");return o.createElement(I.a,{"data-test-selector":pe.CommunityPointsSummary,alignItems:R.b.Center,display:R.h.Flex,className:"community-points-summary",fullHeight:!0},o.createElement(he.Preload,{priority:E.a.Later}),o.createElement(fe.Preload,{priority:E.a.Later}),o.createElement(I.a,{position:R.o.Relative,display:R.h.Flex,alignItems:R.b.Center},o.createElement(I.a,{position:R.o.Absolute,attachTop:!0,attachLeft:!0},this.renderExplosion(t,e)),o.createElement(J.a,{label:n,options:{placement:"right"}},o.createElement(_.a,{disabled:this.props.buttonDisabled,onClick:this.onIconClicked,type:_.d.Text},o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex},o.createElement(I.a,{margin:{right:.5},display:R.h.Flex},this.renderIcon(t,e)),o.createElement(I.a,{display:R.h.Flex,"data-test-selector":pe.BalanceString,color:R.f.Alt2},this.getAnimatedBalance())))),this.renderUpdateIndicatorSparkle(),o.createElement(I.a,{position:R.o.Absolute,attachTop:!0,attachLeft:!0},this.renderFlame(t,e)),o.createElement(I.a,{position:R.o.Relative,zIndex:R.t.Above,attachRight:!0},this.renderFloatText(t,e))),o.createElement(I.a,{fullHeight:!0,position:R.o.Relative,zIndex:R.t.Above},this.props.channelID&&this.props.currentUserID?o.createElement(W,{hidden:void 0!==t,channelID:this.props.channelID,currentUserID:this.props.currentUserID}):null,this.renderNotice(t)))},t.prototype.renderFlame=function(e,t){return void 0===e?null:e.type===oe.MultiplyBonus?o.createElement(he,{offsetX:-6,offsetY:-12,onComplete:this.handleFlameAnimationComplete,key:t}):null},t.prototype.renderExplosion=function(e,t){return void 0===e?null:e.type===oe.AddPoints?o.createElement(fe,{offsetX:-5,offsetY:-10,onComplete:this.handleExplosionAnimationComplete,key:t}):void 0},t.prototype.renderIcon=function(e,t){if(void 0===e)return o.createElement(ce.b,null);switch(e.type){case oe.AddPoints:return o.createElement(Y,{onComplete:this.handleIconAnimationComplete,delayMs:230,key:t},o.createElement(ce.b,null));case oe.MultiplyBonus:return o.createElement(Y,{onComplete:this.handleIconAnimationComplete,delayMs:1030,key:t},o.createElement(ce.b,null));default:return o.createElement(ce.b,null)}},Object.defineProperty(t.prototype,"showUpdatedContentIndicator",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.renderUpdateIndicatorSparkle=function(){return this.showUpdatedContentIndicator?o.createElement(I.a,{attachLeft:!0,attachTop:!0,margin:{left:.5},position:R.o.Absolute,"data-test-selector":pe.UpdateIndicatorSparkle,className:"community-points-summary__indicator-sparkle"},o.createElement(Z.a,{alt:"",src:b.a})):null},t.prototype.renderFloatText=function(e,t){if(void 0===e)return null;switch(e.type){case oe.AddPoints:return o.createElement(ne,{onComplete:this.handleFloatAnimationComplete,key:t},o.createElement(ue.a,{bold:!0,fontSize:R.k.Size4,className:"community-points-summary__points-add-text"},Object(s.d)("+{addedPoints}",{addedPoints:Object(s.f)(e.event.point_gain.total_points)},"PointsButton")));case oe.MultiplyBonus:return o.createElement(ne,{onComplete:this.handleFloatAnimationComplete,key:t},o.createElement(ue.a,{bold:!0,fontSize:R.k.Size4,className:"community-points-summary__multiply-bonus-text"},Object(s.d)("{factor}x",{factor:1+e.event.active_multipliers.multipliers[0].factor},"PointsButton")));default:return null}},t.prototype.renderNotice=function(e){var t=null;return e&&e.type===oe.AddPoints?t=o.createElement(ee,{event:e.event,onEarnEventExpired:this.handleNoticeExpired}):e&&e.type===oe.MultiplyBonus&&(t=o.createElement(ae,{event:e.event,onMultiplierEventExpired:this.handleNoticeExpired})),o.createElement(D.a,{duration:D.c.Long,onExitComplete:this.handleEarnNoticeTransitionExit,show:this.state.isEarnNoticeTransitionShowing,transitionInitialMount:!0,type:D.d.ScaleOver},o.createElement(I.a,{attachLeft:!0,fullHeight:!0},t))},t.prototype.subscribe=function(){var e=this;this.props.currentUserID&&(this.unsubscribe=s.l.subscribe({topic:Object(y.w)(this.props.currentUserID),onMessage:function(t){t.type!==v.PubsubMessageType.CommunityPointsEarned&&t.type!==v.PubsubMessageType.CommunityPointsMultipliersUpdated||(t.data.point_gain&&e.props.channelID===t.data.point_gain.channel_id||t.data.active_multipliers&&e.props.channelID===t.data.active_multipliers.channel_id)&&(t.data.point_gain?t.data.point_gain.reason_code!==Q.a.REFUND&&e.addAnimationToQueue({type:oe.AddPoints,event:t.data}):t.data.active_multipliers&&t.data.active_multipliers.multipliers.length&&e.addAnimationToQueue({type:oe.MultiplyBonus,event:t.data}))}}))},t.prototype.getAnimatedBalance=function(){return this.props.balance===1/0?String.fromCharCode(8734):o.createElement(de.a,{value:this.props.balance,formatValue:function(e){return Object(s.g)(e,{maximumFractionDigits:1,round:Math.floor})},monospaced:!1})},t.prototype.getBalanceString=function(){return this.props.balance===1/0?String.fromCharCode(8734):Object(s.f)(this.props.balance)},t.prototype.trackIconImpression=function(){this.props.isChannelPointsEnabled&&Object(le.l)(this.props.currentUserID||null,this.props.channelLogin||"",this.props.channelID,this.showUpdatedContentIndicator)},t}(o.Component);var ge=Object(c.d)(Object(a.b)((function(e){var t=Object(m.e)(e);return{currentUserID:t&&t.id}})),Object(p.b)((function(e){return{balance:e.balance,channelID:e.channelID,channelLogin:e.channelLogin,changedRewardIDs:e.changedRewardIDs,isChannelPointsEnabled:e.isChannelPointsEnabled,pointName:e.pointName}})),Object(h.c)((function(e){return e})))(be),ve=n("VaVM"),Ee=n("b7VA"),ye=n("4Nlk"),ke=n("YQhk"),Ce=n("gq8D"),we=n("+l4d"),Oe=n("79s7"),Se=function(e){return o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,alignItems:R.b.Center,flexGrow:1},o.createElement(I.a,{alignSelf:R.c.Start,refDelegate:e.messageRef},o.createElement(ue.a,null,e.message)),o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex,flexDirection:R.i.Column,flexGrow:1,fullWidth:!0,justifyContent:R.m.Center},e.children),o.createElement(I.a,{padding:{y:1}},e.button))},Le=n("KI4o"),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(Le.a,{showBackButton:!0,title:this.props.errorStateTitle}),o.createElement(Oe.a,null,o.createElement(Se,{message:this.props.errorStateText,button:o.createElement(_.a,{onClick:this.props.onButtonClick},this.props.buttonText)},this.props.errorStateImg)))},t}(o.Component),Ne=n("a1OF"),De=(n("PHZH"),{id:"426170",token:"PartyPopper"}),xe={id:"28087",token:"WutFace"},_e=function(e){var t=e.emote;return o.createElement(Z.a,{className:"large-emote",srcSet:{"1x":Object(Ne.e)(t.id,2),"2x":Object(Ne.e)(t.id,4)},src:Object(Ne.e)(t.id,2),alt:t.token})},Ie=n("W1jp"),Re=n("zZ9p"),Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gotItMessage=function(){return Object(s.d)("Got it!","AlreadySubbedRewardCenter")},t.onUnlockEmoteButtonClick=function(){t.props.closeRewardCenter(),t.props.showEmotePicker()},t.onSendSubMessageButtonClick=function(){t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(Ie.f)(this.props.reward),n="",i=null,r="",a=null;switch(this.props.reward.type){case ie.eb.CHOSEN_SUB_EMOTE_UNLOCK:case ie.eb.RANDOM_SUB_EMOTE_UNLOCK:n=Object(s.d)("You already have {streamerName}'s emotes unlocked! Check them out in your emote picker.",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),i=o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:De})),r=Object(s.d)("Open Emote Picker","AlreadySubbedRewardCenter"),a=this.onUnlockEmoteButtonClick;break;case ie.eb.SINGLE_MESSAGE_BYPASS_SUB_MODE:n=Object(s.d)("You are already subscribed to {streamerName}! Send messages in Subscriber-Only Chat as much as you want to. Your points were not used.",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),i=o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:De})),r=this.gotItMessage(),a=this.onSendSubMessageButtonClick;break;default:t=Object(s.d)("Reward","AlreadySubbedRewardCenter"),n=Object(s.d)("You are already subscribed to {streamerName}!",{streamerName:this.props.displayName||""},"AlreadySubbedRewardCenter"),i=o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:De})),r=this.gotItMessage(),a=function(){return e.props.closeRewardCenter()}}return o.createElement(je,{errorStateTitle:t,errorStateText:n,errorStateImg:i,buttonText:r,onButtonClick:a})},t}(o.Component);var Te,Me=Object(c.d)(Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter}})),Object(we.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(Pe),Fe=n("wUQP"),Ae=n("qaaX"),Be=n("29Yd"),Ge=n("BXoJ"),Ue=n("7Py2");n("Fluf");!function(e){e.Header="header",e.PercentCompletion="percent-completion",e.RefundText="refund-text"}(Te||(Te={}));var We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onButtonClick=function(){t.props.openReward({direction:se.a.Back})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,flexGrow:1,alignItems:R.b.Center},this.icon,o.createElement(Ue.a,{size:Ue.b.ExtraSmall,"data-test-selector":Te.Header},Object(s.d)("{reward} has ended!",{reward:Object(Ge.b)(this.props.goal)},"CommunityGoalFinishedState")),this.percentCompletion,this.subtitle,o.createElement(I.a,{padding:{y:1}},o.createElement(_.a,{onClick:this.onButtonClick},Object(s.d)("Got it!","CommunityGoalFinishedState"))))},Object.defineProperty(t.prototype,"icon",{get:function(){var e=this.props.goal,t=e.amountNeeded,n=e.pointsContributed>=t,i=Object(Ie.a)(this.props.goal);return o.createElement(I.a,{alignItems:R.b.Center,className:"community-goal-finished-state__icon",display:R.h.Flex,fullWidth:!0,justifyContent:R.m.Center,position:R.o.Relative},n?o.createElement(o.Fragment,null,o.createElement(I.a,{className:"community-goal-finished-state__confetti",position:R.o.Absolute},o.createElement(Be.a,{confettiCount:50,infinite:!0})),o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(Z.a,Object(r.__assign)({alt:this.props.goal.title},i)))):o.createElement(Z.a,Object(r.__assign)({alt:this.props.goal.title},i)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percentCompletion",{get:function(){var e=this.props.goal,t=e.amountNeeded,n=e.pointsContributed,i=n>=t;return o.createElement(I.a,{margin:.5},o.createElement(Ue.a,{className:"community-goal-finished-state__"+(i?"completed":"failed"),"data-test-selector":Te.PercentCompletion},Object(s.d)("{percent}% Raised",{percent:Math.floor(n/t*100)},"CommunityGoalFinishedState")))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitle",{get:function(){var e=this.props.goal,t=e.amountNeeded,n=e.pointsContributed,i=n>=t;return o.createElement(I.a,{flexGrow:1},o.createElement(I.a,{display:R.h.Flex,alignItems:R.b.Center,justifyContent:R.m.Center},Object(s.d)("{contributed} / {total} {pointName} raised",{contributed:o.createElement(I.a,{display:R.h.Flex,alignItems:R.b.Center,padding:{right:.5}},o.createElement(I.a,{display:R.h.Flex,padding:{right:.5}},o.createElement(ce.b,null)),Object(s.f)(n)),total:Object(s.f)(t),pointName:this.props.pointName||Object(K.c)()},"CommunityGoalFinishedState")),!i&&o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex,justifyContent:R.m.Center,textAlign:R.q.Center,"data-test-selector":Te.RefundText},Object(s.d)("{streamerName} will refund your points if you contributed to this challenge.",{streamerName:this.props.displayName||""},"CommunityGoalFinishedState")))},enumerable:!0,configurable:!0}),t}(o.Component);var Ve,Ze=Object(c.d)(Object(p.b)((function(e){return{pointName:e.pointName}})),Object(h.c)((function(e){return{openReward:e.openReward}})))(We),He=n("da0V"),ze=n("fQ6u"),qe=n("cwzQ"),Ye=n("vClV"),Qe=n.n(Ye),Ke=n("p9DJ"),Je=function(e){return o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex,flexDirection:R.i.Column,fullHeight:!0,justifyContent:R.m.Center,padding:{x:1,y:.5}},o.createElement(I.a,null,o.createElement(Z.a,{src:Qe.a,alt:Object(j.d)("Rocket","BoostChallengeOnboarding")})),o.createElement(I.a,{margin:{top:2}},o.createElement(ue.a,{fontSize:R.k.Size6},Object(j.d)("Help this channel grow by reaching new viewers! Complete the challenge to boost this channel to highly visible areas on Twitch. <x:learn>Learn More</x:learn>",{"x:learn":function(e){return o.createElement(Ke.a,{targetBlank:!0,linkTo:Ae.c},e)}},"BoostChallengeOnboarding"))),o.createElement(I.a,{margin:{top:2,bottom:1}},o.createElement(_.a,{onClick:e.onDismiss},Object(j.d)("Got it!","BoostChallengeOnboarding"))))},Xe=n("ktc1");!function(e){e.RequiredPoints="RequiredPoints",e.RewardText="RewardText"}(Ve||(Ve={}));var $e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={buttonState:_.c.Default,error:!1},t.onClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.onClick?(this.setState({buttonState:_.c.Loading}),[4,this.props.onClick()]):[2];case 1:return e=t.sent(),this.setState({buttonState:e&&!this.props.allowMultipleClicks?_.c.Success:_.c.Default,error:!e}),[2]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.cost>this.props.balance;return o.createElement(_.a,{onClick:this.onClick,state:this.state.buttonState,type:this.state.error?_.d.Alert:_.d.Primary,disabled:this.props.disabled||e},o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex,flexDirection:R.i.Row},!e&&o.createElement(ue.a,{"data-test-selector":Ve.RewardText},this.props.text),o.createElement(I.a,{display:R.h.Flex,padding:{x:.5}},o.createElement(ce.b,null)),Object(j.f)(this.props.cost),o.createElement(I.a,{padding:{left:.5},"data-test-selector":Ve.RequiredPoints},e&&Object(s.d)("Required","SpendPointsButton"))))},t}(o.Component);var et,tt=Object(c.d)(Object(p.b)((function(e){return{balance:e.balance}})))($e);!function(e){e.MinContributionButton="min-contribution-button",e.MaxContributionButton="max-contribution-button"}(et||(et={}));var nt=Object(c.d)(Object(p.b)((function(e){return{balance:e.balance}})))((function(e){var t=e.balance,n=e.onButtonClick,i=e.reward,r=e.userContribution,a=i.smallContribution,c=i.perStreamUserMaximumContribution,l=i.pointsContributed,u=i.amountNeeded-l,d=c-r,m=Math.min(t,a,d,u),p=Math.min(t,d,u);return d<=0?o.createElement(_.a,{disabled:!0},Object(s.d)("Max contribution per stream reached","CommunityGoalContributionButtons")):m<=0?o.createElement(I.a,{display:R.h.Flex},o.createElement(_.a,{disabled:!0},o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex},o.createElement(I.a,{display:R.h.Flex,padding:{right:.5}},o.createElement(ce.b,null)),Object(s.f)(a))),o.createElement(I.a,{margin:{left:.5}},o.createElement(_.a,{disabled:!0},o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex},Object(K.g)(),o.createElement(I.a,{display:R.h.Flex,padding:{x:.5}},o.createElement(ce.b,null)),Object(s.f)(c))))):m===p?o.createElement(tt,{allowMultipleClicks:!0,cost:m,onClick:function(){return n(m,m===d)}}):o.createElement(I.a,{display:R.h.Flex},o.createElement(tt,{allowMultipleClicks:!0,cost:m,onClick:function(){return n(m,m===d)},"data-test-selector":et.MinContributionButton}),o.createElement(I.a,{margin:{left:.5}},o.createElement(tt,{allowMultipleClicks:!0,cost:p,onClick:function(){return n(p,p===d)},text:Object(K.g)(),"data-test-selector":et.MaxContributionButton})))})),it=n("B30r"),rt=n("4wQG"),ot=n("WeGZ"),at=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e;return e="CommunityPointsUnlockEmoteError"===this.props.error.__typename?Object(it.e)(this.props.error.code,this.props.onTryAgain):"RedeemCommunityPointsCustomRewardError"===this.props.error.__typename?Object(it.a)(this.props.error.code):(this.props.error.__typename,Object(it.d)()),o.createElement(rt.a,{background:R.d.Alt2,type:ot.a.Error},o.createElement(I.a,{margin:{right:.5,y:.5}},e))},t}(o.Component),ct=n("IQZc");function st(){return o.createElement(_.a,{disabled:!0},Object(s.d)("Available when the channel is live","CommunityGoalCheckout"))}function lt(e,t){return o.createElement(rt.a,{type:ot.a.Error},o.createElement(I.a,null,Object(s.d)("<x:strong>Oops!</x:strong> {streamerName} is no longer live. <x:link>Please try again later.</x:link>",{streamerName:e||"","x:strong":function(e){return o.createElement(ue.a,{bold:!0,type:ue.e.Span},e)},"x:link":function(e){return o.createElement(Ke.a,{onClick:t},e)}},"CommunityGoalCheckout")))}n("TXRf");var ut=function(e){function t(t){var n=e.call(this,t)||this;return n.isRequestInFlight=!1,n.onButtonClick=function(e,t){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return this.isRequestInFlight=!0,[4,this.props.onRedeemClick(e,t)];case 1:return n=i.sent(),this.isRequestInFlight=!1,n&&this.addAnimationToQueue(e),[2,n]}}))}))},n.renderFloatText=function(e){return void 0===e?null:o.createElement(ne,{key:e.animationKey,onComplete:n.handleFloatAnimationComplete},o.createElement(Ue.a,{className:"community-goal-complete-step__add-text"},Object(s.d)("+{pointsAdded}",{pointsAdded:Object(s.f)(e.amount)},"CommunityGoalCompleteStep")))},n.renderExplosion=function(e){return void 0===e?null:o.createElement(I.a,{position:R.o.Absolute,className:"community-goal-complete-step__explosion"},o.createElement(Xe.ExplodeAnimation,{delayMs:te,height:70,width:70,offsetX:-7,offsetY:-7,onComplete:n.removeAnimationFromQueue,key:e.animationKey}))},n.addAnimationToQueue=function(e){n.setState((function(t){var i={amount:e,animationKey:Object(k.c)()},o=Object(r.__spreadArrays)(n.state.animationQueue,[i]);return Object(r.__assign)(Object(r.__assign)({},t),{animationQueue:o,userLastContributedAmount:0===t.animationQueue.length?e:t.userLastContributedAmount})}))},n.removeAnimationFromQueue=function(){var e=n.state.animationQueue.slice(1);e.length||n.updatePointsTotal(),n.setState((function(t){return Object(r.__assign)(Object(r.__assign)({},t),{animationQueue:e,userLastContributedAmount:e.length?e[0].amount:t.userLastContributedAmount})}))},n.handleFloatAnimationComplete=function(){n.updatePointsTotal(n.state.animationQueue[0].amount)},n.updatePointsTotal=function(e){var t=e?n.state.pointsTotal+e:n.props.reward.pointsContributed;t<n.state.pointsTotal||n.setState({pointsTotal:t})},n.state={animationQueue:[],userLastContributedAmount:0,pointsTotal:n.props.reward.pointsContributed-n.props.initialContribution},n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.initialContribution&&this.addAnimationToQueue(this.props.initialContribution)},t.prototype.componentDidUpdate=function(e){this.isRequestInFlight||e.reward.pointsContributed===this.props.reward.pointsContributed||this.state.animationQueue.length||this.updatePointsTotal()},t.prototype.render=function(){var e=this,t=this.props.reward;return o.createElement(Se,{message:"",button:this.props.error?o.createElement(at,{error:this.props.error,onTryAgain:function(){return e.props.openReward({direction:se.a.Back})}}):o.createElement(ct.a,{renderOnInitiallyOutOfStock:st(),renderOnStockChange:lt(this.props.displayName,(function(){return e.props.openReward({direction:se.a.Back})})),reward:t},o.createElement(nt,{onButtonClick:this.onButtonClick,reward:t,userContribution:this.props.userContribution}))},this.renderIcon(),this.renderPointsContributed(),this.renderRewardName(),this.renderDescription())},t.prototype.renderIcon=function(){var e=this.props.reward,t=Object(Ie.a)(e),n=this.state.animationQueue[0];return o.createElement(I.a,{alignItems:R.b.End,className:"community-goal-complete-step__icon",display:R.h.Flex,fullWidth:!0,justifyContent:R.m.Center,position:R.o.Relative},!this.state.animationQueue.length&&o.createElement(I.a,{className:"community-goal-complete-step__confetti",position:R.o.Absolute},o.createElement(Be.a,{confettiCount:50,infinite:!0})),o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex,justifyContent:R.m.Center,position:R.o.Relative},this.renderExplosion(n),n?o.createElement(Y,{delayMs:te+230,key:n.animationKey},o.createElement(Z.a,Object(r.__assign)({alt:e.title},t))):o.createElement(Z.a,Object(r.__assign)({alt:e.title},t))))},t.prototype.renderPointsContributed=function(){var e=this.state.animationQueue[0];return o.createElement(I.a,{position:R.o.Relative},o.createElement(Ue.a,null,o.createElement(de.a,{duration:.83,value:this.state.pointsTotal,formatValue:function(e){return Object(s.f)(e)},monospaced:!1})),o.createElement(I.a,{attachRight:!0,attachTop:!0,position:R.o.Absolute,zIndex:R.t.Above},this.renderFloatText(e)))},t.prototype.renderRewardName=function(){return o.createElement(I.a,{margin:{y:.5}},o.createElement(Ue.a,{size:Ue.b.ExtraSmall},Object(Ge.b)(this.props.reward)))},t.prototype.renderDescription=function(){return o.createElement(I.a,{alignItems:R.b.Start,flexGrow:1,margin:{y:.5}},o.createElement(ue.a,{fontSize:R.k.Size5,fontWeight:R.l.SemiBold},Object(s.d)("+{amount} {pointName} successfully contributed!",{amount:Object(s.f)(this.state.userLastContributedAmount),pointName:this.props.pointName||Object(K.c)()},"CommunityGoalCompleteStep")),o.createElement(ue.a,null,Object(s.d)("Thanks to your support, {streamerName} is a little closer to their big goal.",{streamerName:this.props.displayName||""},"CommunityGoalCompleteStep")))},t}(o.Component);var dt=Object(c.d)(Object(p.b)((function(e){return{pointName:e.pointName}})),Object(h.c)((function(e){return{openReward:e.openReward}})))(ut),mt=n("wjur"),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={descriptionRef:void 0},t.setRef=function(e){t.setState({descriptionRef:e})},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(Se,{message:Object(Ge.a)(this.props.reward)||"",messageRef:this.setRef,button:this.renderBody()},o.createElement(mt.a,{goal:this.props.reward,descriptionRef:this.state.descriptionRef}))},t.prototype.renderBody=function(){var e=this,t=this.props.reward;return this.props.channelID&&this.props.channelID===this.props.currentUserID?o.createElement(_.a,{disabled:!0},Object(s.d)("Only your viewers can contribute","CommunityGoalSelectStep")):this.props.error?o.createElement(at,{error:this.props.error,onTryAgain:function(){return e.props.openReward({direction:se.a.Back})}}):o.createElement(ct.a,{renderOnInitiallyOutOfStock:st(),renderOnStockChange:lt(this.props.displayName,(function(){return e.props.openReward({direction:se.a.Back})})),reward:t},o.createElement(nt,{onButtonClick:this.props.onRedeemClick,reward:t,userContribution:this.props.userContribution}))},t}(o.Component);var ht=Object(c.d)(Object(a.b)((function(e){var t=Object(m.e)(e);return{currentUserID:t&&t.id}})),Object(h.c)((function(e){return{openReward:e.openReward}})))(pt),ft=(n("7RRr"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1,onboardingDismissed:s.m.get(Ae.f,!1)},t.hasFiredRewardSelectedTracking=!1,t.onRedeemClick=function(e,n){return Object(r.__awaiter)(t,void 0,Promise,(function(){var t,i=this;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return this.props.channelID?[4,this.props.contributeCommunityGoalMutation(Object(r.__assign)(Object(r.__assign)({},Object(L.a)({amount:e,channelID:this.props.channelID,goalID:this.props.reward.id,transactionID:this.props.transactionID})),{update:function(t){var n,o,a,c,s,l,u;try{l=t.readQuery({query:ze,variables:{channelLogin:null!==(n=i.props.channelLogin)&&void 0!==n?n:""}})}catch(e){return}(null===(s=null===(c=null===(a=null===(o=null==l?void 0:l.user)||void 0===o?void 0:o.channel)||void 0===a?void 0:a.self)||void 0===c?void 0:c.communityPoints)||void 0===s?void 0:s.goalContributions)&&(u=l.user.channel.self.communityPoints.goalContributions.find((function(e){return e.goal.id===i.props.reward.id}))?C(l,(function(e){return e.user.channel.self.communityPoints.goalContributions}),(function(t){return t.map((function(t){return t.goal.id!==i.props.reward.id?t:Object(r.__assign)(Object(r.__assign)({},t),{userPointsContributedThisStream:t.userPointsContributedThisStream+e})}))})):C(l,(function(e){return e.user.channel.self.communityPoints.goalContributions}),(function(t){return Object(r.__spreadArrays)(t,[{__typename:"CommunityPointsCommunityGoalContribution",goal:{__typename:"CommunityPointsCommunityGoal",id:i.props.reward.id},userPointsContributedThisStream:e}])})),t.writeQuery({query:ze,data:u}))}}))]:[2,!1];case 1:return(t=o.sent()).data&&t.data.contributeCommunityPointsCommunityGoal?t.data.contributeCommunityPointsCommunityGoal.error?(this.setState({error:t.data.contributeCommunityPointsCommunityGoal.error}),[2,!1]):(this.state.redeemed||(this.props.setDirection(se.a.Forward),this.setState({redeemed:!0,initialContribution:e})),this.props.resetTransactionID(),Object(le.r)({channelID:this.props.channelID,channelLogin:this.props.channelLogin||"",isMaxContribution:n,pointsSpent:e,reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"ContributeCommunityPointsCommunityGoalErrorCode",code:ie.yb.UNKNOWN}}),[2,!1])}}))}))},t.onBackClicked=function(){var e;t.props.setDirection(se.a.Back),t.state.redeemed&&(null===(e=t.props.challenge)||void 0===e?void 0:e.status)!==ie.fb.ENDED&&t.props.reward.status!==ie.fb.ENDED?t.setState({redeemed:!1}):t.props.openReward()},t.shouldRenderOnboarding=function(){return t.props.reward.type===ie.gb.BOOST&&Object(Fe.c)(Ae.b)&&!t.state.onboardingDismissed},t.onOnboardingDismiss=function(){t.props.setDirection(se.a.None),t.setState({onboardingDismissed:!0}),s.m.set(Ae.f,!0)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(Le.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:this.title}),o.createElement(Oe.a,null,o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(this.props.direction)},o.createElement(I.a,{className:"community-goal-checkout",display:R.h.Flex,flexGrow:1,key:this.state.redeemed+"_"+this.state.onboardingDismissed},this.renderBody()))))},t.prototype.componentDidMount=function(){this.trackRewardSelected()},t.prototype.componentDidUpdate=function(){this.trackRewardSelected()},Object.defineProperty(t.prototype,"title",{get:function(){if(this.state.redeemed)return Object(s.d)("Thank You","CommunityGoalCheckout");if(this.shouldRenderOnboarding()){var e=Object(s.d)("Rewards","BoostChallengeOnboarding");return this.props.displayName&&(e=Object(s.d)("{name}'s Rewards & Challenges",{name:this.props.displayName},"BoostChallengeOnboarding")),e}return Object(Ge.b)(this.props.reward)},enumerable:!0,configurable:!0}),t.prototype.renderBody=function(){var e,t,n,i,r,a,c,s=this;if(this.shouldRenderOnboarding())return o.createElement(Je,{onDismiss:this.onOnboardingDismiss});if((null===(e=this.props.challenge)||void 0===e?void 0:e.status)===ie.fb.ENDED||this.props.reward.status===ie.fb.ENDED)return o.createElement(Ze,{displayName:this.props.displayName,goal:this.props.challenge||this.props.reward});if(this.props.data.loading)return o.createElement(I.a,{display:R.h.Flex,flexGrow:1,justifyContent:R.m.Center,alignItems:R.b.Center},o.createElement(qe.a,null));if(this.props.data.error)return o.createElement("div",null);var l=(null===(c=null===(a=null===(r=null===(i=null===(n=null===(t=this.props.data.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.self)||void 0===i?void 0:i.communityPoints)||void 0===r?void 0:r.goalContributions)||void 0===a?void 0:a.find((function(e){return e.goal.id===s.props.reward.id})))||void 0===c?void 0:c.userPointsContributedThisStream)||0;return this.state.redeemed?o.createElement(dt,{displayName:this.props.displayName,error:this.state.error,initialContribution:this.state.initialContribution||0,onRedeemClick:this.onRedeemClick,reward:this.props.challenge||this.props.reward,userContribution:l}):o.createElement(ht,{channelID:this.props.channelID,displayName:this.props.displayName,error:this.state.error,onRedeemClick:this.onRedeemClick,reward:this.props.challenge||this.props.reward,userContribution:l})},t.prototype.trackRewardSelected=function(){var e,t,n,i,r,o,a=this;if(!this.props.data.loading&&!this.hasFiredRewardSelectedTracking){var c=!0;if(0===this.props.balance)c=!1;else if(this.props.reward.status!==ie.fb.STARTED)c=!1;else{((null===(o=null===(r=null===(i=null===(n=null===(t=null===(e=this.props.data.user)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.self)||void 0===n?void 0:n.communityPoints)||void 0===i?void 0:i.goalContributions)||void 0===r?void 0:r.find((function(e){return e.goal.id===a.props.reward.id})))||void 0===o?void 0:o.userPointsContributedThisStream)||0)>=this.props.reward.perStreamUserMaximumContribution&&(c=!1)}Object(le.q)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",isUserEligible:c,reward:this.props.reward,transactionID:this.props.transactionID,userBalance:this.props.balance,viewTrackingID:this.props.viewTrackingID||"",contentUpdateEnabled:!1}),this.hasFiredRewardSelectedTracking=!0}},t}(o.Component));var bt=Object(c.d)(Object(p.b)((function(e,t){var n=e.rewardMap[t.reward.id];return"CommunityPointsCommunityGoal"===(null==n?void 0:n.__typename)?{balance:e.balance,challenge:n}:{balance:e.balance,challenge:null}})),Object(h.c)((function(e){return{direction:e.direction,openReward:e.openReward,resetTransactionID:e.resetTransactionID,setDirection:e.setDirection,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID}})),Object(O.a)(ze,{options:function(e){var t;return{variables:{channelLogin:null!==(t=e.channelLogin)&&void 0!==t?t:""}}}}),Object(O.a)(He,{name:"contributeCommunityGoalMutation"}))(ft),gt=n("jC1Z"),vt=n("5zf8"),Et=n("j53S"),yt=n("Zmj1"),kt=n("LEe6"),Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCooldownCompletion=function(){Object(yt.o)(t.props.channelLogin,t.props.mappedReward||t.props.reward,!!t.props.isLive)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t=this,n=this.props.mappedReward||this.props.reward,i=new Date,r=(null===(e=this.props.userRedemptions.find((function(e){return e.reward.id===t.props.reward.id})))||void 0===e?void 0:e.userRedemptionsCurrentStream)||0,a=Object(s.d)("Out of stock! Check back later.","CustomRewardCheckout"),c=!1,l=0;return n.isPaused?a=Object(s.d)("Reward is temporarily unavailable. Check back for it soon.","CustomRewardCheckout"):Object(kt.c)(n,r)?a=Object(s.d)("You claimed the max amount available to you! They'll restock for you next stream.","CustomRewardCheckout"):Object(kt.b)(n)?a=Object(s.d)("All rewards claimed for this stream! Check again on the next stream.","CustomRewardCheckout"):Object(kt.a)(n,i)?(c=!0,a=Object(s.d)("Reward is on cooldown. It'll be back in:","CustomRewardCheckout"),l=Math.floor((new Date(n.cooldownExpiresAt).getTime()-i.getTime())/1e3)):this.props.isLive||!n.maxPerStreamSetting.isEnabled&&!n.maxPerUserPerStreamSetting.isEnabled||(a=Object(s.d)("You can only redeem this reward during a stream.","CustomRewardCheckout")),o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,alignItems:R.b.Center,textAlign:R.q.Center},o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,margin:.5},o.createElement(ue.a,null,a),c?o.createElement(ue.a,{fontWeight:R.l.SemiBold,tabularNums:!0},o.createElement(Et.a,{timeToCountDownFromSeconds:l,durationStyle:vt.a.HumanizedShort,onCompletion:this.onCooldownCompletion})):null),o.createElement(tt,{cost:Object(Ie.c)(this.props.reward),text:Object(K.j)(),disabled:!0}))},t}(o.Component);var wt=Object(c.d)(Object(p.b)((function(e,t){var n=e.rewardMap[t.reward.id];return"CommunityPointsCustomReward"===(null==n?void 0:n.__typename)?{mappedReward:n,userRedemptions:e.userRedemptions}:{mappedReward:null,userRedemptions:e.userRedemptions}})),Object(gt.c)((function(e){return{isLive:e.isLive}})))(Ct),Ot=n("g+79"),St=n("OOag"),Lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeeming:!1},t.onClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.props.channelID?(this.setState({redeeming:!0}),[4,Object(St.b)(this.props.channelID,this.props.reward,this.props.transactionID)]):[2,!1];case 1:return(e=n.sent()).data&&e.data.redeemCommunityPointsCustomReward?(t=e.data.redeemCommunityPointsCustomReward.error)&&t.code?(this.setState({error:{__typename:t.__typename,code:t.code},redeeming:!1}),[2,!1]):(Object(le.r)({channelID:this.props.channelID,channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),this.props.closeRewardCenter(),[2,!0]):(this.setState({error:{__typename:"RedeemCommunityPointsCustomRewardErrorCode",code:ie.Yd.FORBIDDEN},redeeming:!1}),[2,!1])}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return o.createElement(o.Fragment,null,o.createElement(Le.a,{showBackButton:!0,title:this.props.reward.title}),o.createElement(Oe.a,null,o.createElement(Se,{message:this.props.reward.prompt||"",button:this.state.error?o.createElement(at,{error:this.state.error,onTryAgain:function(){return e.props.openReward({direction:se.a.Back})}}):o.createElement(ct.a,{renderOnInitiallyOutOfStock:this.renderOutOfStockButton(),renderOnRequirementsChange:this.renderRequirementsChangedNotice(),renderOnStockChange:this.renderOutOfStockButton(),reward:this.props.reward,ignoreStockChanges:this.state.redeeming},o.createElement(tt,{cost:Object(Ie.c)(this.props.reward),onClick:this.onClick,text:Object(K.j)()}))},o.createElement(Ot.a,{data:this.props.reward,size:Ot.b.Large}))))},t.prototype.renderOutOfStockButton=function(){return o.createElement(wt,{channelLogin:this.props.channelLogin,reward:this.props.reward})},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return o.createElement(rt.a,{type:ot.a.Error},o.createElement(I.a,null,Object(K.l)(this.props.channelDisplayName||this.props.channelLogin,(function(){return e.props.openReward({direction:se.a.Back})}))))},t}(o.Component),jt=n("c0GN"),Nt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=Object(Ie.f)(this.props.reward),t="",n="",i=o.createElement(Ot.a,{size:Ot.b.Medium,data:this.props.reward});if("CommunityPointsCustomReward"===this.props.reward.__typename)t=this.props.reward.prompt||"";else switch(this.props.reward.type){case ie.eb.SINGLE_MESSAGE_BYPASS_SUB_MODE:t=Object(Ie.d)(this.props.reward)||this.getDefaultErrorText(),n=Object(s.d)("Send a Message","InsufficientPointsState");break;case ie.eb.SEND_HIGHLIGHTED_MESSAGE:t=Object(Ie.d)(this.props.reward)||this.getDefaultErrorText(),n=Object(s.d)("Highlight Message","InsufficientPointsState");break;default:t=this.getDefaultErrorText(),n=Object(s.d)("Required","InsufficientPointsState")}return o.createElement(o.Fragment,null,o.createElement(Le.a,{showBackButton:!0,title:e}),o.createElement(Oe.a,null,o.createElement(Se,{message:t,button:o.createElement(tt,{text:n,cost:Object(Ie.c)(this.props.reward),disabled:!0})},i)))},t.prototype.getDefaultErrorText=function(){return Object(s.d)("You don't have enough points for this reward!","InsufficientPointsState")},t}(o.Component);var Dt=Object(c.d)(Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))(Nt),xt=n("+pBb"),_t=n("dGMd"),It=n("hQNN");function Rt(e){var t=e.currentUser,n=new Set;return t&&t.emoteSets&&t.emoteSets.forEach((function(e){var t=e.emotes;t&&t.forEach((function(e){var t;e&&e.id&&(n.add(e.id),null===(t=e.modifiers)||void 0===t||t.forEach((function(t){n.add(e.id+"_"+t.code)})))}))})),n}function Pt(e,t){return e.filter((function(e){return!t.has(e.id)}))}var Tt=n("TSYQ"),Mt=n("/0dD"),Ft=n("XDQu"),At=n("p8fB"),Bt=(n("ltdn"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick(t.props.modification.id)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.modification,n=e.selected,i=function(e){var t=e.modification,n=e.theme;if(e.selected)return t.modifierIconDark;return n===Mt.a.Dark?t.modifierIconLight:t.modifierIconDark}(this.props),r=Tt({"select-emote-modification-button":!0,"select-emote-modification-button--selected":!!n});return o.createElement(I.a,{background:R.d.Base,display:R.h.Flex,fullWidth:!0},o.createElement(At.a,{type:At.b.Alpha,onClick:this.handleClick,disabled:this.props.disabled},o.createElement(I.a,{className:r,display:R.h.Flex,justifyContent:R.m.Center,alignItems:R.b.Center,borderRadius:R.e.Medium,border:!0},o.createElement(Z.a,{srcSet:{"1x":i.url,"2x":i.url2x,"4x":i.url4x},src:i.url,alt:t.title}))))},t}(o.Component));var Gt=Object(a.b)((function(e){return{theme:Object(Ft.a)(e)}}))(Bt);var Ut,Wt=n("eUaf");n("2nCS");!function(e){e.DisplayedToken="modify-emote-preview-step-presentation__displayed-token",e.UpdateNoticeText="modify-emote-preview-step-presentation__update-notice-text"}(Ut||(Ut={}));var Vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderEmotePreview=function(e){var t=e.displayedEmote;return o.createElement(o.Fragment,null,o.createElement(I.a,null,o.createElement(_e,{emote:t})),o.createElement(V.a,{padding:{y:.5}},o.createElement(ue.a,{fontSize:R.k.Size5,bold:!0,"data-test-selector":Ut.DisplayedToken},t.token)))},t.renderModificationButtons=function(e){var n=e.availableModifications,i=e.selectedModification;return o.createElement(I.a,{display:R.h.Flex,flexWrap:R.j.Wrap,justifyContent:R.m.Center},n.map((function(e){var n=!(!i||i.id!==e.id);return o.createElement(I.a,{padding:{x:.5,bottom:.5},key:e.id},o.createElement(x.a,{label:Object(K.h)(e.title)},o.createElement(I.a,{position:R.o.Relative},o.createElement(Gt,{modification:e,selected:n,onClick:t.handleModifierSelect,disabled:e.owned}))))})))},t.renderNewModifierNotice=function(){var e=t.props.availableModifications.reduce((function(e,t){return t.showUpdateIndicator?e+1:e}),0);return e?o.createElement(I.a,{"data-test-selector":Ut.UpdateNoticeText},o.createElement(I.a,{display:R.h.InlineBlock,margin:{right:.5}},o.createElement(Wt.a,{label:Object(s.d)("New!","ModifyEmotePreviewStep"),type:Wt.b.Brand})),o.createElement(ue.a,{type:ue.e.Span},Object(s.d)("{newModifierCount, plural, one {# new modifier!} other {# new modifiers!}}",{newModifierCount:e},"ModifyEmotePreviewStep"))):null},t.renderPurchaseButton=function(e){var n=e.reward,i=e.selectedModification;return o.createElement(I.a,{padding:{top:2}},t.props.error?o.createElement(at,{error:t.props.error,onTryAgain:function(){return t.props.goToRewardsList()}}):o.createElement(ct.a,{renderOnRequirementsChange:t.renderRequirementsChangedNotice(),reward:t.props.reward},o.createElement(tt,{cost:Object(Ie.c)(n),onClick:t.handleCheckoutClick,text:Object(s.d)("Unlock","ModifyEmotePreviewStep"),disabled:null===i})))},t.handleCheckoutClick=function(){return Object(r.__awaiter)(t,void 0,Promise,(function(){return Object(r.__generator)(this,(function(e){return this.props.selectedModification?[2,this.props.onCheckoutClick(this.props.selectedModification.emote)]:[2,!1]}))}))},t.handleModifierSelect=function(e){t.props.onModificationSelect(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,flexGrow:1},o.createElement(ue.a,null,Object(s.d)("Edit and preview your emote:","ModifyEmotePreviewStepPresentation")),o.createElement(I.a,{flexGrow:1,display:R.h.Flex,flexDirection:R.i.Column,alignItems:R.b.Center,justifyContent:R.m.Center,margin:{top:3,bottom:1}},this.renderEmotePreview(this.props),this.renderModificationButtons(this.props),this.renderNewModifierNotice(),this.renderPurchaseButton(this.props)))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return o.createElement(rt.a,{type:ot.a.Error},o.createElement(I.a,null,Object(K.l)(this.props.streamerName,(function(){return e.props.goToRewardsList()}))))},t}(o.Component),Zt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={selectedModificationId:null},t.logger=s.p.logger.withCategory("ModifyEmotePreviewStep"),t.handleOpenEmotePickerClick=function(){t.props.onOpenEmotePickerClick()},t.handleModificationSelect=function(e){t.setState({selectedModificationId:e})},t.handleCheckoutConfirm=function(e){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:t=!0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.onRedeemClick(e)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),t=!1,this.logger.warn("Failed to redeem emote modification reward"),[3,4];case 4:return[2,t]}}))}))},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.selectedEmoteVariant,i=t.ownedEmoteIds;if(!function(e,t){var n=e.isUnlockable,i=e.modifications,r=e.emote;return!(!t.has(r.id)&&!n)&&Pt(i,t).length>0}(n,i))return o.createElement(Se,{message:Object(s.d)("You’ve already unlocked all versions of this emote! Check them out in your emote picker.","ModifyEmotesPreviewStep"),button:o.createElement(_.a,{onClick:this.handleOpenEmotePickerClick},Object(s.d)("Open Emote Picker","ModifyEmotePreviewStep"))},o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(Z.a,{srcSet:{"1x":Object(Ne.e)("426170",2),"2x":Object(Ne.e)("426170",4)},src:Object(Ne.e)("426170",2),alt:Object(s.d)("All versions modified","ModifyEmoteSelectStep")})));var a=n.modifications.find((function(t){return t.id===e.state.selectedModificationId})),c=a?a.emote:n.emote,l=n.modifications.map((function(t){return Object(r.__assign)(Object(r.__assign)({},t),{owned:i.has(t.id),showUpdateIndicator:e.props.changedModificationIDs.has(t.id)})}));return o.createElement(Vt,{availableModifications:l,displayedEmote:c,error:this.props.error,goToRewardsList:this.props.goToRewardsList,onCheckoutClick:this.handleCheckoutConfirm,onModificationSelect:this.handleModificationSelect,reward:this.props.reward,selectedModification:a||null,streamerName:this.props.streamerName})},t}(o.Component);var Ht=Object(c.d)(Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))((function(e){var t=e.streamerName?Object(s.d)("What?! {streamerName} doesn't have any emotes to unlock. Your points were not used. Try again later.",{streamerName:e.streamerName},"UnlockSubscriberEmoteCheckout"):Object(s.d)("What?! This streamer doesn't have any emotes to unlock. Your points were not used. Try again later.","UnlockSubscriberEmoteCheckout");return o.createElement(Se,{message:t,button:o.createElement(_.a,{onClick:e.closeRewardCenter},Object(s.d)("Got it!","UnlockSubscriberEmoteCheckout"))},o.createElement(_e,{emote:xe}))})),zt=n("7SjK"),qt=n("rZpj"),Yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filterString:""},t.handleSearchInputChange=function(e){t.setState({filterString:e.currentTarget.value})},t.handleClickEmote=function(e){t.props.onEmoteSelect(e)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column},this.props.description,o.createElement(I.a,{padding:{top:.5}},o.createElement(qt.a,{placeholder:Object(s.d)("Search for emotes","SelectEmoteMenu"),value:this.state.filterString,onChange:this.handleSearchInputChange})),o.createElement(I.a,{padding:{top:.5,bottom:3}},this.renderEmotes()))},t.prototype.renderEmotes=function(){var e=this.state.filterString,t=function(e,t){var n=t.toLowerCase();return e.filter((function(e){return[e.displayName,e.token].some((function(e){return e.toLowerCase().includes(n)}))}))}(this.props.emotes,e);return 0===t.length&&e.length>0?o.createElement(ue.a,{bold:!0},Object(s.d)('No Search Results for "{filterString}"',{filterString:e},"SelectEmoteMenu")):o.createElement(zt.a,{emotes:t,onClickEmote:this.handleClickEmote,spaced:!0})},t}(o.Component);var Qt,Kt=n("OpME");!function(e){e.OpenEmotePicker="open-emote-picker"}(Qt||(Qt={}));var Jt,Xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleEmoteSelect=function(e){t.props.onEmoteSelected(e)},t.handleOpenEmotePickerClick=function(){t.props.onOpenEmotePickerClick()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.ownedEmoteIds,t=function(e,t){return e.filter((function(e){return e.isUnlockable||t.has(e.id)}))}(this.props.emoteVariants,e);if(0===this.props.emoteVariants.length||0===t.length)return o.createElement(Ht,{streamerName:this.props.displayName});if(t.every((function(t){return 0===Pt(t.modifications,e).length})))return o.createElement(Se,{message:Object(s.d)("You already have this channel's emotes unlocked! Check them out in your emote picker.","ModifyEmoteSelectStep"),button:o.createElement(_.a,{onClick:this.handleOpenEmotePickerClick,"data-test-selector":Qt.OpenEmotePicker},Object(s.d)("Open Emote Picker","ModifyEmoteSelectStep"))},o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(Z.a,{srcSet:{"1x":Object(Ne.e)("426170",2),"2x":Object(Ne.e)("426170",4)},src:Object(Ne.e)("426170",2),alt:Object(s.d)("All emotes owned","ModifyEmoteSelectStep")})));var n=Object(Kt.c)(t.map((function(e){return e.emote})));return o.createElement(Yt,{description:Object(s.d)("Select an emote to modify & unlock for 24 hours:","ModifyEmoteCheckout"),emotes:n,onEmoteSelect:this.handleEmoteSelect})},t}(o.Component),$t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleShareClick=function(){t.props.onShare(t.props.emote)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.emote;return o.createElement(I.a,{display:R.h.Flex,flexGrow:1,flexDirection:R.i.Column},o.createElement(ue.a,null,Object(s.d)("You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","ModifyEmoteSuccessStep")),o.createElement(I.a,{flexGrow:1,display:R.h.Flex,flexDirection:R.i.Column,alignItems:R.b.Center,justifyContent:R.m.Center,margin:{top:3,bottom:1}},o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:e})),o.createElement(V.a,{padding:{y:.5}},o.createElement(ue.a,{fontSize:R.k.Size5,bold:!0},e.token)),o.createElement(I.a,{padding:{top:2}},o.createElement(_.a,{onClick:this.handleShareClick},Object(s.d)("Share Your New Emote","ModifyEmoteSuccessStep")))))},t}(o.Component);!function(e){e.SelectEmote="select-emote",e.Preview="preview",e.Success="success"}(Jt||(Jt={}));n("vytO");var en=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={step:{type:Jt.SelectEmote}},t.logger=s.p.logger.withCategory("ModifyEmoteCheckout"),t.renderBody=function(e,n){if(n.data.loading)return o.createElement(I.a,{display:R.h.Flex,flexGrow:1,justifyContent:R.m.Center,alignItems:R.b.Center},o.createElement(qe.a,null));if(n.data.error)return null;var i=Rt(n.data);switch(e.type){case Jt.Preview:return t.renderPreviewBody(e,i);case Jt.Success:return t.renderSuccessBody(e);case Jt.SelectEmote:default:return t.renderSelectEmoteBody(i)}},t.renderSelectEmoteBody=function(e){return o.createElement(Xt,{emoteVariants:t.props.emoteVariants,ownedEmoteIds:e,onEmoteSelected:t.handleEmoteSelect,onOpenEmotePickerClick:t.openEmotePicker,displayName:t.props.displayName})},t.renderPreviewBody=function(e,n){return o.createElement(Zt,{error:t.state.error,goToRewardsList:function(){return t.props.openReward({direction:se.a.Back})},onOpenEmotePickerClick:t.openEmotePicker,onRedeemClick:t.handleRedeemClick,ownedEmoteIds:n,reward:t.props.reward,selectedEmoteVariant:e.selectedEmoteVariant,streamerName:t.props.displayName||t.props.channelLogin,changedModificationIDs:t.props.changedModificationIDs})},t.renderSuccessBody=function(e){return o.createElement($t,{emote:e.emote,onShare:t.handleShare})},t.handleEmoteSelect=function(e){var n=t.props.emoteVariants.find((function(t){return t.emote.id===e.id}));void 0!==n?(t.props.setDirection(se.a.Forward),t.setStep({type:Jt.Preview,selectedEmoteVariant:n})):t.logger.debug("Can't find emote variant with ID "+e.id)},t.setStep=function(e){t.setState({step:e})},t.resetState=function(){t.setState({step:{type:Jt.SelectEmote},error:void 0})},t.openEmotePicker=function(){t.props.showEmotePicker(),t.props.closeRewardCenter()},t.handleBackClicked=function(){switch(t.props.setDirection(se.a.Back),t.state.step.type){case Jt.Preview:t.resetState();break;case Jt.Success:t.resetState(),t.props.openReward({reward:t.props.reward});break;case Jt.SelectEmote:default:t.props.openReward()}},t.handleRedeemClick=function(e){return Object(r.__awaiter)(t,void 0,Promise,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return this.props.channelID&&this.state.step.type===Jt.Preview?[4,Object(_t.d)(this.props.channelID,this.props.reward,e.id,this.props.transactionID)]:[2,!1];case 1:return t=i.sent(),(n=t.data)&&n.unlockChosenModifiedSubscriberEmote?n.unlockChosenModifiedSubscriberEmote.error?(this.setState({error:n.unlockChosenModifiedSubscriberEmote.error}),[2,!1]):(Object(_t.f)(e),Object(le.r)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),this.props.setDirection(se.a.Forward),this.setStep({type:Jt.Success,emote:e}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:ie.mb.UNKNOWN}}),[2,!1])}}))}))},t.handleShare=function(e){var n=Object(_t.b)({reward:t.props.reward,inputValue:e.token});t.props.setTray(n),t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(Le.a,{title:Object(Ie.f)(this.props.reward),onBackClicked:this.handleBackClicked,showBackButton:!0}),o.createElement(Oe.a,null,o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(this.props.direction)},o.createElement(I.a,{className:"modify-emote-checkout",display:R.h.Flex,flexGrow:1,key:this.props.transactionID+"_"+this.state.step.type},this.renderBody(this.state.step,this.props)))))},t}(o.Component);var tn=Object(c.d)(Object(O.a)(It),Object(p.b)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,emoteVariants:e.emoteVariants}})),Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID,direction:e.direction,setDirection:e.setDirection}})),Object(a.b)(void 0,(function(e){return Object(c.b)({setTray:xt.bb},e)})),Object(we.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(en),nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this;return o.createElement(o.Fragment,null,o.createElement(Le.a,{showBackButton:!0,title:Object(Ie.f)(this.props.reward)}),o.createElement(Oe.a,null,o.createElement(Se,{message:Object(s.d)("This reward is only available when Subscriber-Only mode is enabled.","RewardCenter"),button:o.createElement(_.a,{onClick:function(){return e.props.closeRewardCenter()}},Object(s.d)("Got It!","RewardCenter"))},o.createElement(Ot.a,{size:Ot.b.Medium,data:this.props.reward}))))},t}(o.Component);var rn,on=Object(c.d)(Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter}})))(nn),an=n("FzaW"),cn=n("eirU"),sn=n("ftPB"),ln=n("61gZ"),un=n("TwdJ"),dn=n("7fYk"),mn=n("JiyE"),pn=(n("lM01"),function(e){var t=Object(o.useContext)(p.a).balance,n=Object(o.useRef)(null),i=Object(o.useState)(""),c=i[0],s=i[1],l=Object(a.e)((function(e){return Object(Ft.a)(e)===Mt.a.Dark})),u=Object(ln.a)(e.outcomeColor,l),d=parseInt(c,10),m=!1,h=!1,f=!1,b={disabled:!0,label:""};return e.forceDisable?(m=!0,h=!0):e.userHasVotedForOtherOption?(m=!0,h=!0,b={disabled:!1,label:Object(K.d)(e.otherOutcomeName)}):0===e.maxAmount?(m=!0,h=!0,b={disabled:!1,label:Object(K.f)(e.pointName)}):c&&!isNaN(d)&&(d>t?(m=!0,f=!0,b={disabled:!1,label:Object(K.e)(e.pointName)}):d>e.maxAmount?(m=!0,f=!0,b={disabled:!1,label:Object(j.d)("{remainingPoints, plural, one {You can only contribute # more {pointNameVariable} to this prediction} other {You can only contribute # more {pointNameVariable} to this prediction}}",{remainingPoints:e.maxAmount,pointNameVariable:e.pointName?e.pointName:Object(K.c)(1===e.maxAmount)},"CustomPredictionButton")}):d<=0&&(m=!0,f=!0)),o.createElement(x.a,Object(r.__assign)({},b,{width:150}),o.createElement(I.a,{className:"custom-prediction-button",display:R.h.Flex},o.createElement(un.a,{disabled:h,error:f,onChange:function(e){return s(e.currentTarget.value)},rounding:un.b.Left,type:un.c.Number,value:c,refDelegate:n}),o.createElement(dn.a,{disabled:m||e.loading,onClick:function(){c&&!isNaN(d)&&(e.onPredictionClicked(parseInt(c,10)),s(""))}},o.createElement(V.a,{borderRadius:{bottomRight:R.e.Small,topRight:R.e.Small},className:Tt({"custom-prediction-button__interactive":!0,"custom-prediction-button__interactive--disabled":m}),padding:.5},o.createElement("div",{style:m?{}:{backgroundColor:u,borderColor:u,color:mn.a.White}},o.createElement(ue.a,{fontWeight:R.l.SemiBold,wordBreak:ue.g.KeepAll},Object(j.d)("Vote","CustomPredictionButton")))))))}),hn=(n("p3Ru"),function(e){var t=Object(o.useContext)(p.a).balance,n=!1,i={disabled:!0,label:""};e.forceDisable?n=!0:e.userHasVotedForOtherOption?(n=!0,i={disabled:!1,label:Object(K.d)(e.otherOutcomeName)}):0===t?(n=!0,i={disabled:!1,label:Object(K.e)(e.pointName)}):0===e.maxAmount&&(n=!0,i={disabled:!1,label:Object(K.f)(e.pointName)});var a=Tt({"fixed-prediction-button":!0,"fixed-prediction-button--blue":e.outcomeColor===ie.Kd.BLUE&&!n,"fixed-prediction-button--pink":e.outcomeColor===ie.Kd.PINK&&!n,"fixed-prediction-button--disabled":n}),c=Math.min(10,e.maxAmount,t)||10;return o.createElement(x.a,Object(r.__assign)({},i,{width:150}),o.createElement(dn.a,{disabled:n||e.loading,onClick:function(){return e.onPredictionClicked(c)}},o.createElement(I.a,{alignItems:R.b.Center,borderRadius:R.e.Small,className:a,display:R.h.Flex,padding:{x:1,y:.5}},o.createElement(ce.b,{iconSize:ce.a.Small}),o.createElement(I.a,{padding:{left:.5}},o.createElement(ue.a,{fontWeight:R.l.SemiBold},Object(s.f)(c||10))))))});!function(e){e.ErrorMessage="prediction-checkout-active-footer__error-message",e.InputTypeToggle="prediction-checkout-active-footer__input-type-toggle",e.UserPredictionAmount="prediction-checkout-active-footer__user-prediction-amount"}(rn||(rn={}));var fn,bn=function(e){var t,n,i,r,c,l,u,d,h,f,b,g,v,E=null===(t=Object(a.e)(m.e))||void 0===t?void 0:t.id,y=Object(o.useContext)(p.a),k=y.channelID,C=y.isCurrentUserModerator,w=y.pointName,O=Object(o.useContext)(an.c).isInRestrictedRegion,S=!(!E||E!==k),L=e.showCustomFields?pn:hn,j=e.showCustomFields?Object(s.d)("Cancel","PredictionCheckoutActiveFooter"):Object(s.d)("Predict with Custom Amount","PredictionCheckoutActiveFooter"),N=Object(s.d)("{pointsSpent} spent",{pointsSpent:o.createElement(de.a,{value:(null===(n=e.userPrediction)||void 0===n?void 0:n.points)||0,formatValue:function(e){return Object(s.f)(e)}})},"PredictionCheckoutActiveFooter");return S||C?v=Object(s.d)("Streamers and mods can't cast a prediction in the channel they manage. <x:link>Learn more</x:link>",{"x:link":function(e){return o.createElement(Ke.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/channel-points-predictions"},e)}},"PredictionCheckoutActiveFooter"):O&&(v=Object(s.d)("This prediction is not available to viewers in your region. <x:link>Learn more</x:link>",{"x:link":function(e){return o.createElement(Ke.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/channel-points-predictions"},e)}},"PredictionCheckoutActiveFooter")),o.createElement(I.a,null,!v&&o.createElement(I.a,{display:R.h.Flex,justifyContent:R.m.Center},o.createElement(D.a,{show:!((null===(r=null===(i=e.userPrediction)||void 0===i?void 0:i.outcome)||void 0===r?void 0:r.id)!==e.predictionEvent.outcomes[0].id),type:D.d.Fade,duration:D.c.Medium,alwaysRenderChild:!0,"data-test-selector":rn.UserPredictionAmount},o.createElement(I.a,{display:R.h.Flex,margin:{right:.5,bottom:.5},verticalAlign:R.r.Middle},o.createElement(ce.b,{iconSize:ce.a.Small}),o.createElement(ue.a,null," ",N))),o.createElement(D.a,{show:!((null===(l=null===(c=e.userPrediction)||void 0===c?void 0:c.outcome)||void 0===l?void 0:l.id)!==e.predictionEvent.outcomes[1].id),type:D.d.Fade,duration:D.c.Medium,alwaysRenderChild:!0,"data-test-selector":rn.UserPredictionAmount},o.createElement(I.a,{display:R.h.Flex,margin:{left:.5,bottom:.5},verticalAlign:R.r.Middle},o.createElement(ce.b,{iconSize:ce.a.Small}),o.createElement(ue.a,null," ",N)))),v&&o.createElement(V.a,{margin:{y:1},textAlign:R.q.Center},o.createElement(ue.a,{"data-test-selector":rn.ErrorMessage},v)),o.createElement(Ce.a,{transitionType:D.d.Fade,duration:D.c.Medium},o.createElement(I.a,{display:R.h.Flex,justifyContent:R.m.Center,key:e.showCustomFields?"custom":"fixed"},o.createElement(I.a,{margin:{right:.5}},o.createElement(L,{loading:e.makePredictionMutationResult.loading,maxAmount:25e4-((null===(u=e.userPrediction)||void 0===u?void 0:u.points)||0),onPredictionClicked:function(t){return e.onButtonClicked(e.predictionEvent.outcomes[0].id,t)},otherOutcomeName:e.predictionEvent.outcomes[1].title,outcomeColor:e.predictionEvent.outcomes[0].color,userHasVotedForOtherOption:!(null===(h=null===(d=e.userPrediction)||void 0===d?void 0:d.outcome)||void 0===h||!h.id||e.userPrediction.outcome.id===e.predictionEvent.outcomes[0].id),pointName:w,forceDisable:!!v})),o.createElement(I.a,{margin:{left:.5}},o.createElement(L,{loading:e.makePredictionMutationResult.loading,maxAmount:25e4-((null===(f=e.userPrediction)||void 0===f?void 0:f.points)||0),onPredictionClicked:function(t){return e.onButtonClicked(e.predictionEvent.outcomes[1].id,t)},otherOutcomeName:e.predictionEvent.outcomes[0].title,outcomeColor:e.predictionEvent.outcomes[1].color,userHasVotedForOtherOption:!(null===(g=null===(b=e.userPrediction)||void 0===b?void 0:b.outcome)||void 0===g||!g.id||e.userPrediction.outcome.id===e.predictionEvent.outcomes[1].id),pointName:w,forceDisable:!!v})))),!v&&o.createElement(I.a,{display:R.h.Flex,justifyContent:R.m.Center,margin:{top:.5}},o.createElement(_.a,{onClick:function(){return e.setShowCustomFields(!e.showCustomFields)},size:_.b.Small,type:_.d.Text,"data-test-selector":rn.InputTypeToggle},j)))},gn=n("gXS1"),vn=function(e){var t=new Date(e.predictionEvent.createdAt).getTime()+1e3*e.predictionEvent.predictionWindowSeconds,n=Math.floor((t-Date.now())/1e3),i=e.predictionEvent.endedAt&&new Date(e.predictionEvent.endedAt),r=null;switch(e.predictionEvent.status){case ie.Jd.ACTIVE:r=Object(j.d)("Submissions closing in {countdown}",{countdown:o.createElement(Et.a,{durationStyle:vt.a.ClockMS,timeToCountDownFromSeconds:n})},"PredictionCheckoutDetailsHeader");break;case ie.Jd.LOCKED:r=Object(j.d)("Submissions closed","PredictionCheckoutDetailsHeader");break;case ie.Jd.RESOLVED:case ie.Jd.RESOLVE_PENDING:if(!i){j.l.errorAndReport(new Error("endedAgoMS null"),"Attempted to render resolved header without defined end time",e.predictionEvent);break}r=Object(j.d)("Prediction ended {timeAgo}",{timeAgo:o.createElement(gn.a,{time:i,type:ue.e.Span,color:R.f.Base})},"PredictionCheckoutDetailsHeader")}return o.createElement(I.a,{background:R.d.Alt,borderRadius:R.e.Medium,className:"prediction-checkout-details-header",padding:.5,textAlign:R.q.Center},o.createElement(Ue.a,{size:Ue.b.Small,lineHeight:ue.b.Heading},e.predictionEvent.title),o.createElement(ue.a,{fontSize:R.k.Size6,tabularNums:!0},r))};!function(e){e.OutcomeTitle="user-prediction-string__outcome-title",e.PointsCount="user-prediction-string__points-count"}(fn||(fn={}));var En,yn=function(e){var t=Object(a.e)((function(e){return Object(Ft.a)(e)===Mt.a.Dark}));return o.createElement(o.Fragment,null,Object(j.d)('You voted <x:outcome>"{outcomeName}"</x:outcome> with {pointsCount}',{outcomeName:e.outcome.title,pointsCount:o.createElement(I.a,{display:R.h.Inline,key:"points-count","data-test-selector":fn.PointsCount},o.createElement(I.a,{display:R.h.InlineBlock,verticalAlign:R.r.Middle},o.createElement(ce.b,{iconSize:ce.a.Small}))," ",Object(j.f)(e.pointsBet)),"x:outcome":function(n){return o.createElement("span",{key:"outcome",style:{color:Object(ln.a)(e.outcome.color,t)},"data-test-selector":fn.OutcomeTitle},n)}},"PredictionCheckout"))},kn=function(e){var t=new Date(e.predictionEvent.createdAt),n=e.predictionEvent.outcomes.find((function(t){var n,i;return t.id===(null===(i=null===(n=e.userPrediction)||void 0===n?void 0:n.outcome)||void 0===i?void 0:i.id)}));return o.createElement(I.a,{textAlign:R.q.Center},e.userPrediction&&n&&o.createElement(ue.a,{fontWeight:R.l.SemiBold,type:ue.e.H5},o.createElement(yn,{outcome:n,pointsBet:e.userPrediction.points})),o.createElement(ue.a,null,Object(s.d)("Prediction started {timeAgo}",{timeAgo:o.createElement(gn.a,{time:t,type:ue.e.Span,color:R.f.Base})},"PredictionCheckoutLockedFooter")),o.createElement(ue.a,null,Object(s.d)("Waiting for result","PredictionCheckoutLockedFooter")))},Cn=n("QJ0+"),wn=n("LZV1"),On=function(e){var t,n,i,r=e.predictionEvent.outcomes.find((function(t){var n,i;return t.id===(null===(i=null===(n=e.userPrediction)||void 0===n?void 0:n.outcome)||void 0===i?void 0:i.id)}));if(!e.predictionEvent.winningOutcome)return s.k.errorAndReport(new Error("Resolved prediction with no winning outcome"),"Attempted to render resolved prediction footer with no winning outcome",e.predictionEvent),null;var a=!!(null===(t=e.userPrediction)||void 0===t?void 0:t.pointsWon)||e.predictionEvent.winningOutcome.id===(null===(i=null===(n=e.userPrediction)||void 0===n?void 0:n.outcome)||void 0===i?void 0:i.id),c=a?Object(Cn.b)(e.predictionEvent,e.userPrediction):0;return o.createElement(I.a,{textAlign:R.q.Center},a&&o.createElement(ue.a,{fontWeight:R.l.SemiBold,type:ue.e.H5},Object(wn.c)(c,ce.a.Small)),a&&e.predictionEvent.status===ie.Jd.RESOLVE_PENDING&&o.createElement(ue.a,null,Object(wn.b)()),e.userPrediction&&r&&o.createElement(ue.a,null,o.createElement(yn,{outcome:r,pointsBet:e.userPrediction.points})),o.createElement(ue.a,null,Object(wn.a)(e.predictionEvent.outcomes,e.predictionEvent.winningOutcome,ce.a.Small)))},Sn=n("yPaH"),Ln=n("QnM6"),jn=n("pqDf"),Nn=n("Vd5H");n("Fpqs");!function(e){e.AcceptButton="prediction-terms-step__accept-button",e.CancelButton="prediction-terms-step__cancel-button",e.ErrorText="prediction-terms-step__error-text"}(En||(En={}));var Dn,xn=function(e){var t,n,i,c=Object(a.e)((function(e){var t;return{currentUserID:null===(t=Object(m.e)(e))||void 0===t?void 0:t.id,isDarkModeEnabled:Object(Ft.a)(e)===Mt.a.Dark}})),l=c.currentUserID,u=c.isDarkModeEnabled,d=Object(cn.c)(Nn),p=d[0],h=d[1],f=Object(o.useCallback)((function(){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return[4,p(Object(r.__assign)(Object(r.__assign)({},Object(L.a)({hasAcceptedTOS:!0,isTemporaryChatBadgeEnabled:!0})),{update:function(){l?Object(L.i)({id:"User:"+l,fragment:jn,fragmentName:"predictionSettingsFragment",mutator:function(e){var t;return e?Object(r.__assign)(Object(r.__assign)({},e),{predictionsSettings:{__typename:"UserPredictionSettings",hasAcceptedTOS:!0,isTemporaryChatBadgeEnabled:!0,isInRestrictedRegion:!!(null===(t=e.predictionsSettings)||void 0===t?void 0:t.isInRestrictedRegion)}}):e}}):s.k.errorAndReport(new Error("No logged-in user"),"Attempted to update prediction terms and conditions acknowledgement without a logged-in user")}}))];case 1:return t=i.sent(),(null===(n=t.data)||void 0===n?void 0:n.updateUserPredictionSettings)&&!t.data.updateUserPredictionSettings.error&&e.onTermsAccepted(),[2]}}))}))}),[p,l,e]),b=Object(ln.a)(e.outcome.color,u),g=!!(null===(i=null===(n=null===(t=h.data)||void 0===t?void 0:t.updateUserPredictionSettings)||void 0===n?void 0:n.error)||void 0===i?void 0:i.code);return o.createElement(I.a,{alignItems:R.b.Center,display:R.h.Flex,flexDirection:R.i.Column,padding:{x:1},textAlign:R.q.Center},o.createElement(V.a,{className:"prediction-terms-step__icon",margin:{y:1}},o.createElement(Z.a,{alt:Object(s.d)("Temporary Chat Badge","PredictionTermsStep"),src:""+(e.outcome.color===ie.Kd.BLUE?Sn:Ln)})),o.createElement(I.a,{margin:{bottom:1}},o.createElement(ue.a,{fontWeight:R.l.SemiBold,type:ue.e.H5},Object(s.d)('Predict <x:outcome>"{outcomeName}"</x:outcome> with {pointName}?',{outcomeName:e.outcome.title,pointName:e.pointName||Object(K.c)(),"x:outcome":function(e){return o.createElement("span",{style:{color:b}},e)}},"PredictionTermsStep"))),o.createElement(ue.a,null,Object(s.d)("You will receive a temporary chat badge. You will not be able to change your pick.","PredictionTermsStep")),o.createElement(I.a,{margin:{top:1}},o.createElement(ue.a,null,Object(s.d)('By clicking "Cast Prediction" below, you agree to the <x:link>Predictions Terms & Conditions</x:link>.',{"x:link":function(e){return o.createElement(Ke.a,{targetBlank:!0,linkTo:"https://www.twitch.tv/p/legal/predictions-terms-and-conditions/"},e)}},"PredictionTermsStep"))),o.createElement(I.a,{display:R.h.Flex,margin:{top:2}},o.createElement(I.a,{margin:{right:1}},o.createElement(_.a,{onClick:function(){return e.onCancelClicked()},type:_.d.Secondary,"data-test-selector":En.CancelButton},Object(K.b)())),o.createElement(_.a,{disabled:h.loading,onClick:function(){return f()},"data-test-selector":En.AcceptButton},Object(s.d)("Cast Prediction","PredictionTermsStep"))),g&&o.createElement(ue.a,{color:R.f.Error,"data-test-selector":En.ErrorText},Object(K.a)()))},_n=n("ntYm"),In=function(e){var t=Object(o.useContext)(p.a),n=t.channelID,i=t.channelLogin,a=Object(o.useContext)(h.b),c=a.direction,s=a.setDirection,l=a.resetTransactionID,u=a.transactionID,d=a.viewTrackingID,m=Object(o.useContext)(p.a).pointName,f=Object(o.useState)(!1),b=f[0],g=f[1],v=Object(cn.c)(_n),E=v[0],y=v[1],k=Object(o.useState)(!1),C=k[0],w=k[1],O=Object(o.useRef)(null),S=Object(o.useRef)(0),N=Object(o.useCallback)((function(t,o){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){var a,c,s,m,p,h,f;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return a=((null===(h=e.userPrediction)||void 0===h?void 0:h.points)||0)+o,c=a>=25e4,[4,E(Object(L.a)({eventID:e.predictionEvent.id,outcomeID:t,points:o,transactionID:u}))];case 1:return s=r.sent(),(null===(f=s.data)||void 0===f?void 0:f.makePrediction)&&((m=s.data.makePrediction.error)||(p="",p=t===e.predictionEvent.outcomes[0].id?C?"outcome_1_modified":"outcome_1_default":C?"outcome_2_modified":"outcome_2_default",Object(le.r)({channelID:n||"",channelLogin:i||"",isMaxContribution:c,pointsSpent:o,reward:e.predictionEvent,rewardTypeDetail:p,transactionID:u,viewTrackingID:d||""})),m&&m.code!==ie.cd.DUPLICATE_TRANSACTION&&m.code!==ie.cd.TRANSACTION_IN_PROGRESS||l()),[2]}}))}))}),[n,i,E,e.predictionEvent,e.userPrediction,l,C,u,d]);return o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(c)},function(){if(b){var t=e.predictionEvent.outcomes.find((function(e){return e.id===O.current}));if(t)return o.createElement(xn,{key:"terms-step",onCancelClicked:function(){s(se.a.Back),g(!1)},onTermsAccepted:function(){N(t.id,S.current),s(se.a.Forward),g(!1)},outcome:t,pointName:m});j.l.errorAndReport(new Error("Invalid outcome"),"Attempted to render prediction terms step without matching outcome",O.current,e.predictionEvent)}return o.createElement(I.a,{key:"summary-step"},o.createElement(vn,{predictionEvent:e.predictionEvent}),o.createElement(I.a,{margin:{top:1,bottom:.5}},o.createElement(sn.a,{hideTopUserStat:!0,predictionEvent:e.predictionEvent,pointName:m})),function(){switch(e.predictionEvent.status){case ie.Jd.ACTIVE:return o.createElement(bn,Object(r.__assign)({},e,{makePredictionMutationResult:y,onButtonClicked:function(t,n){if(!e.hasAcceptedTOS)return O.current=t,S.current=n,s(se.a.Forward),void g(!0);N(t,n)},setShowCustomFields:w,showCustomFields:C}));case ie.Jd.LOCKED:return o.createElement(kn,Object(r.__assign)({},e));case ie.Jd.RESOLVED:case ie.Jd.RESOLVE_PENDING:return o.createElement(On,Object(r.__assign)({},e));default:return null}}())}())},Rn=n("ZDlU");n("9eDC");!function(e){e.Confetti="prediction-checkout-completion-step__confetti",e.DetailsButton="prediction-checkout-completion-step__details-button",e.LuckString="prediction-checkout-completion-step__luck-string",e.WinningsString="prediction-checkout-completion-step__winnings-string"}(Dn||(Dn={}));var Pn,Tn=function(e){var t,n,i,r=Object(a.e)((function(e){return Object(Ft.a)(e)===Mt.a.Dark}));if(!e.predictionEvent.winningOutcome)return s.k.errorAndReport(new Error("Winning outcome not found"),"Attempted to render completion step without winning outcome",e.predictionEvent),o.createElement(Rn.PageError,null);var c=!!(null===(t=e.userPrediction)||void 0===t?void 0:t.pointsWon)||e.predictionEvent.winningOutcome.id===(null===(i=null===(n=e.userPrediction)||void 0===n?void 0:n.outcome)||void 0===i?void 0:i.id),l=c?Object(Cn.b)(e.predictionEvent,e.userPrediction):0;return o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,flexGrow:1,alignItems:R.b.Center},o.createElement(I.a,{alignItems:R.b.Center,className:"prediction-checkout-completion-step__header",display:R.h.Flex,fullWidth:!0,justifyContent:R.m.Center,position:R.o.Relative},o.createElement(I.a,{className:"prediction-checkout-completion-step__confetti",position:R.o.Absolute,visibility:c?R.s.Visible:R.s.Hidden,"data-test-selector":Dn.Confetti},o.createElement(Be.a,{confettiCount:50,infinite:!0})),o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:c,loop:!0},o.createElement(V.a,{className:"prediction-checkout-completion-step__icon",margin:{y:1}},o.createElement(Z.a,{alt:Object(s.d)("Winning outcome","PredictionCompletionStep"),src:""+(e.predictionEvent.winningOutcome.color===ie.Kd.BLUE?Sn:Ln)})))),o.createElement(Ue.a,{size:Ue.b.Small},Object(s.d)("{predictionTitle} {winningOutcome}",{predictionTitle:e.predictionEvent.title,winningOutcome:e.predictionEvent.winningOutcome.title},"PredictionCompletionStep")),c&&o.createElement(V.a,{margin:{top:.5}},o.createElement("div",{style:{color:Object(ln.a)(e.predictionEvent.winningOutcome.color,r)},"data-test-selector":Dn.WinningsString},o.createElement(Ue.a,null,Object(wn.c)(l,ce.a.Large)))),c&&e.predictionEvent.status===ie.Jd.RESOLVE_PENDING&&o.createElement(I.a,{margin:{top:.5}},o.createElement(ue.a,null,Object(wn.b)())),o.createElement(I.a,{margin:{top:.5},textAlign:R.q.Center},o.createElement(ue.a,null,Object(wn.a)(e.predictionEvent.outcomes,e.predictionEvent.winningOutcome,ce.a.Small)),!c&&o.createElement(I.a,{margin:{top:.5}},o.createElement(ue.a,{"data-test-selector":Dn.LuckString},Object(s.d)("Better luck next time","PredictionCompletionStep")))),o.createElement(I.a,{display:R.h.Flex,padding:{top:2,bottom:1}},o.createElement(_.a,{onClick:e.onDetailsClicked,"data-test-selector":Dn.DetailsButton},Object(s.d)("See Details","PredictionCompletionStep"))))};!function(e){e.DetailsStep="details-step",e.CompletionStep="completion-step"}(Pn||(Pn={}));var Mn,Fn=function(e){var t=Object(o.useContext)(an.c),n=t.hasAcceptedTOS,i=t.predictionsMap,r=t.userRecentPredictions,a=i[e.prediction.id]||e.prediction,c=r.find((function(e){var t;return(null===(t=e.event)||void 0===t?void 0:t.id)===a.id})),l=Object(o.useContext)(h.b),u=l.direction,d=l.setDirection,m=l.openReward,p=Object(o.useState)(a.status!==ie.Jd.RESOLVE_PENDING&&a.status!==ie.Jd.RESOLVED||!c||c.isResultAcknowledged?Pn.DetailsStep:Pn.CompletionStep),f=p[0],b=p[1],g=Object(o.useCallback)((function(){d(se.a.Back),m()}),[m,d]);return o.createElement(o.Fragment,null,o.createElement(Le.a,{onBackClicked:g,showBackButton:!0,title:Object(s.d)("Prediction","PredictionCheckout")}),o.createElement(Oe.a,null,o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(u)},function(){switch(f){case Pn.CompletionStep:return o.createElement(Tn,{key:"completion-step",onDetailsClicked:function(){b(Pn.DetailsStep)},predictionEvent:a,userPrediction:c});case Pn.DetailsStep:default:return o.createElement(In,{key:"details-step",hasAcceptedTOS:n,predictionEvent:a,userPrediction:c})}}())))},An=n("hoKo"),Bn=n.n(An),Gn=n("gwKQ"),Un=n.n(Gn),Wn=(n("8APF"),function(e){var t=Object(j.d)("Rewards","RewardCenterOnboarding");return e.channelDisplayName&&(t=Object(Fe.c)("channel_points_goals")?Object(j.d)("{name}'s Rewards & Challenges",{name:e.channelDisplayName},"RewardCenterOnboarding"):t=Object(j.d)("{name}'s Rewards",{name:e.channelDisplayName},"RewardCenterOnboarding")),o.createElement(o.Fragment,null,o.createElement(Le.a,{title:t}),o.createElement(Oe.a,null,o.createElement(I.a,{alignItems:R.b.Center,justifyContent:R.m.Center,position:R.o.Relative,textAlign:R.q.Center,padding:{x:4,y:1}},o.createElement(I.a,{position:R.o.Relative},o.createElement(Z.a,{alt:Object(j.d)("Background","RewardCenterOnboarding"),className:"channel-points-onboarding__background",src:Bn.a}),o.createElement(Z.a,{alt:Object(j.d)("Channel Points Icon","RewardCenterOnboarding"),className:"channel-points-onboarding__orb",src:Un.a})),o.createElement(V.a,{margin:{top:.5}},o.createElement(ue.a,{bold:!0,fontSize:R.k.Size5},Object(j.d)("Introducing Channel Points!","RewardCenterOnboarding"))),o.createElement(ue.a,null,Object(j.d)("Watch {channelDisplayName}. Earn {pointName}. Unlock Rewards! <x:learn>Learn More</x:learn>",{channelDisplayName:e.channelDisplayName||"",pointName:e.pointName,"x:learn":function(e){return o.createElement(Ke.a,{targetBlank:!0,linkTo:"https://help.twitch.tv/s/article/channel-points-guide"},e)}},"RewardCenterOnboarding")),o.createElement(I.a,{margin:{top:2,bottom:1}},o.createElement(_.a,{onClick:e.onDismiss},Object(j.d)("Get Started!","RewardCenterOnboarding"))))))}),Vn=n("eHGA"),Zn=function(e){var t=e.activeGoals;return o.createElement(I.a,{fullWidth:!0},t.map((function(e,t){return o.createElement(I.a,{margin:{x:.5,bottom:1},key:e.id},o.createElement(Vn.a,{animateOnHover:!0,data:e,index:t}))})))},Hn=n("goDl");n("mevw");!function(e){e.Title="predictions-list-item__title",e.Subtitle="predictions-list-item__subtitle",e.TotalPoints="predictions-list-item__total-points",e.PointsSubtitle="predictions-list-item__points-subtitle"}(Mn||(Mn={}));var zn=function(e){var t=e.data,n=e.index,i=Object(o.useContext)(p.a),r=i.channelID,c=i.channelLogin,s=Object(o.useContext)(h.b),l=s.openReward,u=s.viewTrackingID,d=Object(a.e)((function(e){return Object(Ft.a)(e)===Mt.a.Dark})),m=Object(Hn.a)({onFirstImpression:function(){return Object(le.o)(c||"",r||"",!1,n,t,u||"")},percentage:100}).elementRef,f=t.outcomes.reduce((function(e,t){return e+t.totalPoints}),0),b=Object(ln.a)(ie.Kd.BLUE,d),g=Object(o.useCallback)((function(){l({direction:se.a.Forward,reward:t})}),[t,l]);return o.createElement("div",{onClick:g,ref:m},o.createElement(I.a,{fullWidth:!0,className:"predictions-list-item__body",display:R.h.Flex,alignItems:R.b.Center,borderRadius:R.e.Medium,background:R.d.Alt},o.createElement(V.a,{borderRadius:R.e.Medium,margin:1,padding:.5},o.createElement("div",{style:{backgroundColor:b}},o.createElement(I.a,{color:R.f.Overlay,display:R.h.Flex},o.createElement(X.a,{asset:T.a.CrystalBall,height:28,width:28})))),o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,flexGrow:1,overflow:R.n.Hidden},o.createElement(ue.a,{ellipsis:!0,lines:1,title:t.title,"data-test-selector":Mn.Title},t.title),o.createElement(ue.a,{"data-test-selector":Mn.Subtitle,tabularNums:!0},function(){switch(t.status){case ie.Jd.ACTIVE:var e=(new Date).getTime()/1e3,n=new Date(t.createdAt).getTime()/1e3+t.predictionWindowSeconds,i=Math.max(Math.floor(n-e),0);return Object(j.d)("{time} left to predict",{time:o.createElement(Et.a,{timeToCountDownFromSeconds:i,durationStyle:vt.a.ClockMS})},"PredictionsListItem");case ie.Jd.LOCKED:return Object(j.d)("Prediction submissions closed","PredictionsListItem");case ie.Jd.RESOLVED:case ie.Jd.RESOLVE_PENDING:return Object(j.d)("Prediction ended","PredictionsListItem");case ie.Jd.CANCELED:case ie.Jd.CANCEL_PENDING:default:return""}}())),o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,alignItems:R.b.End,margin:{x:1},flexShrink:0},o.createElement(I.a,{display:R.h.Flex,alignItems:R.b.Center},o.createElement(I.a,{display:R.h.Flex,margin:{right:.5}},o.createElement(ce.b,{iconSize:ce.a.XSmall})),o.createElement(ue.a,{"data-test-selector":Mn.TotalPoints,fontWeight:R.l.SemiBold},Object(j.f)(f))),o.createElement(ue.a,{"data-test-selector":Mn.PointsSubtitle},function(){switch(t.status){case ie.Jd.RESOLVED:return Object(j.d)("Distributed","PredictionsListItem");case ie.Jd.RESOLVE_PENDING:return Object(j.d)("Distributing...","PredictionsListItem");default:return Object(j.d)("In the pool","PredictionsListItem")}}()),o.createElement(I.a,{display:R.h.Flex,className:"predictions-list-item__outcomes"},t.outcomes.map((function(e){return function(e){return e.totalPoints&&f?o.createElement("div",{style:{backgroundColor:Object(ln.a)(e.color,d),width:e.totalPoints/f*100+"%"},className:"predictions-list-item__outcomes--bar",key:e.id}):null}(e)}))))))},qn=function(e){var t=e.predictions;return o.createElement(I.a,{fullWidth:!0},t.map((function(e,t){return o.createElement(I.a,{margin:{x:.5,bottom:1},key:e.id},o.createElement(zn,{index:t,data:e}))})))},Yn=n("4VQm"),Qn=(n("Y/QB"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.impressionEventFired=!1,t.isVisible=function(e){if(null!==t.element){var n=t.element.getBoundingClientRect();return n.top>e.top&&n.left>e.left&&n.right<e.right&&n.bottom-15<e.bottom}return!1},t.setRef=function(e){return t.element=e},t.onClick=function(){t.props.data&&t.props.openReward({direction:se.a.Forward,reward:t.props.data,contentUpdateEnabled:t.props.showUpdatedContentIndicator})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister()},t.prototype.render=function(){return o.createElement(I.a,{className:"reward-list-item",margin:{bottom:1},refDelegate:this.setRef},o.createElement(I.a,{textAlign:R.q.Center},o.createElement(At.a,{borderRadius:R.e.Medium,onClick:this.onClick},o.createElement(Ot.a,{data:this.props.data,showCost:!0,size:Ot.b.Large,animateOnHover:!0,showUpdatedContentIndicator:this.props.showUpdatedContentIndicator})),o.createElement(I.a,{padding:{top:.5}},o.createElement(ue.a,{fontSize:R.k.Size7,lines:2,ellipsis:!0,wordBreak:ue.g.BreakWord},Object(Ie.f)(this.props.data)))))},t.prototype.checkVisible=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return!this.impressionEventFired&&this.isVisible(e)&&(Object(le.o)(this.props.channelLogin||"",this.props.channelID||"",this.props.showUpdatedContentIndicator,this.props.index,this.props.data,this.props.viewTrackingID||""),this.impressionEventFired=!0),[2]}))}))},t}(o.Component));var Kn=Object(c.d)(Object(h.c)((function(e){return e})),Object(p.b)((function(e){return{channelID:e.channelID,channelLogin:e.channelLogin}})),Object(Yn.d)((function(e){return{registerReceiver:e.registerReceiver}})))(Qn),Jn=n("RHMS"),Xn=n("Lqow"),$n=(n("SxLA"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={sortedRewards:[],activeGoals:[],activePredictions:[]},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t=Object(r.__spreadArrays)(e.automaticRewards,e.customRewards);return{sortedRewards:Object(Xn.a)(t,!0,e.changedRewardIDs),activeGoals:Object(Fe.c)("channel_points_goals")?e.communityGoals.filter((function(e){return e.status===ie.fb.STARTED||e.status===ie.fb.ENDED})):[],activePredictions:Object(Fe.c)(an.b)?Object(Jn.a)(e.predictions):[]}},t.prototype.render=function(){var e=this,t=Object(j.d)("Rewards","RewardsList"),n=this.props.displayName||this.props.channelLogin;n&&(t=Object(Fe.c)("channel_points_goals")?Object(j.d)("{name}'s Rewards & Challenges",{name:n},"RewardsList"):Object(j.d)("{name}'s Rewards",{name:n},"RewardsList"));var i=this.state.sortedRewards.map((function(t,n){return o.createElement(Kn,{key:t.id,data:t,index:n,showUpdatedContentIndicator:e.props.changedRewardIDs.has(t.id)})}));return o.createElement(o.Fragment,null,o.createElement(Le.a,{title:t,activeMultipliers:this.props.activeMultipliers}),o.createElement(Oe.a,null,this.renderRewardCenterBody(i,n)))},t.prototype.renderRewardCenterBody=function(e,t){var n=this,i=Object(j.d)("Sorry! This streamer has disabled their rewards. Don't worry, you're still earning {pointName}!",{pointName:this.props.pointName||Object(K.c)()},"RewardsListDisabled");return t&&(i=Object(j.d)("Sorry! {name} has disabled their rewards. Don't worry, you're still earning {pointName}!",{name:t,pointName:this.props.pointName||Object(K.c)()},"RewardsListDisabled")),e.length>0||this.state.activeGoals.length>0||this.state.activePredictions.length>0?o.createElement(I.a,{display:R.h.Flex,flexWrap:R.j.Wrap,padding:{bottom:1},className:"rewards-list"},o.createElement(qn,{predictions:this.state.activePredictions}),o.createElement(Zn,{activeGoals:this.state.activeGoals}),e,o.createElement(I.a,{fullWidth:!0,display:R.h.Flex,alignItems:R.b.Center,justifyContent:R.m.Center},o.createElement(_.a,{size:_.b.Small,type:_.d.Secondary,onClick:function(){return n.props.openEarnRatesList()}},o.createElement(I.a,{display:R.h.Flex,alignItems:R.b.Center},o.createElement(I.a,{padding:{right:1}},o.createElement(ce.b,{iconSize:ce.a.XSmall})),Object(j.d)("How to Earn {pointName}",{pointName:this.props.pointName||Object(K.c)()},"RewardsListEarnButton"))))):o.createElement(Se,{message:i,button:o.createElement(_.a,{onClick:this.props.closeRewardCenter},Object(j.d)("Got it!","RewardsListDisabledButton"))},o.createElement(_e,{emote:xe}))},t}(o.Component));var ei,ti,ni=Object(c.d)(Object(p.b)((function(e){return{automaticRewards:e.automaticRewards,channelLogin:e.channelLogin,communityGoals:e.communityGoals,customRewards:e.customRewards,displayName:e.displayName,activeMultipliers:e.activeMultipliers,pointName:e.pointName}})),Object(an.d)((function(e){return{predictions:e.predictions}})),Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter,openEarnRatesList:e.openEarnRatesList}})))($n);n("f7m9");!function(e){e.ShareEmoteButton="share-new-emote-button",e.NoEmotesToUnlock="no-emotes-to-unlock"}(ei||(ei={})),function(e){e[e.SelectEmote=0]="SelectEmote",e[e.Checkout=1]="Checkout",e[e.Redeemed=2]="Redeemed"}(ti||(ti={}));var ii=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1,step:ti.SelectEmote},t.renderBody=function(e,n){if(n.data.loading)return o.createElement(I.a,{display:R.h.Flex,flexGrow:1,justifyContent:R.m.Center,alignItems:R.b.Center},o.createElement(qe.a,null));if(n.data.error)return o.createElement("div",null);var i=Rt(n.data),r=Object(Kt.c)(t.props.emoteVariants.filter((function(e){return e.isUnlockable&&!i.has(e.id)})).map((function(e){return e.emote})));if(0===t.props.emoteVariants.length)return o.createElement(Ht,{streamerName:t.props.displayName});if(0===r.length&&t.state.step!==ti.Redeemed)return t.renderNoEmotesToUnlock();switch(e){case ti.Checkout:return t.renderCheckout();case ti.Redeemed:return t.renderSuccessfulCheckout();case ti.SelectEmote:default:return t.renderSelectEmote(r)}},t.openEmotePicker=function(){t.props.closeRewardCenter(),t.props.showEmotePicker()},t.resetState=function(){t.setState({redeemed:!1,step:ti.SelectEmote,selectedEmote:void 0,error:void 0})},t.onBackClicked=function(){switch(t.props.setDirection(se.a.Back),t.state.step){case ti.Checkout:return void t.resetState();case ti.Redeemed:return t.resetState(),void t.props.openReward({reward:t.props.reward});case ti.SelectEmote:default:return void t.props.openReward()}},t.selectEmote=function(e){t.props.setDirection(se.a.Forward),t.setState({selectedEmote:e,step:ti.Checkout})},t.onRedeemClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.channelID&&this.state.selectedEmote?[4,Object(_t.c)(this.props.channelID,this.props.reward,this.state.selectedEmote.id,this.props.transactionID)]:[2,!1];case 1:return(e=t.sent()).data&&e.data.unlockChosenSubscriberEmote?e.data.unlockChosenSubscriberEmote.error?(this.setState({error:e.data.unlockChosenSubscriberEmote.error}),[2,!1]):(Object(_t.f)(this.state.selectedEmote),this.props.setDirection(se.a.Forward),this.setState({step:ti.Redeemed}),Object(le.r)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:ie.mb.UNKNOWN}}),[2,!1])}}))}))},t.onShareClick=function(){var e=Object(_t.b)({reward:t.props.reward,inputValue:t.state.selectedEmote?t.state.selectedEmote.token:""});t.props.setTray(e),t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(Le.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:Object(Ie.f)(this.props.reward)}),o.createElement(Oe.a,null,o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(this.props.direction)},o.createElement(I.a,{className:"unlock-chosen-emote-checkout",display:R.h.Flex,flexGrow:1,key:this.props.transactionID+"_"+this.state.step},this.renderBody(this.state.step,this.props)))))},t.prototype.renderNoEmotesToUnlock=function(){var e=Object(s.d)("You already have this streamer's emotes unlocked! Check them out in your emote picker.","UnlockSubscriberEmoteCheckout");return this.props.displayName&&(e=Object(s.d)("You already have {streamerName}'s emotes unlocked! Check them out in your emote picker.",{streamerName:this.props.displayName},"UnlockSubscriberEmoteCheckout")),o.createElement(Se,{message:e,button:o.createElement(_.a,{onClick:this.openEmotePicker},Object(s.d)("Open Emote Picker","UnlockSubscriberEmoteCheckout")),"data-test-selector":ei.NoEmotesToUnlock},o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:De})))},t.prototype.renderSelectEmote=function(e){return o.createElement(Yt,{emotes:e,onEmoteSelect:this.selectEmote,description:Object(Ie.d)(this.props.reward)||void 0})},t.prototype.renderCheckout=function(){var e=this;return o.createElement(Se,{message:Object(s.d)("Is this the emote you want? If so, unlock it below!","UnlockSubscriberEmoteCheckout"),button:this.state.error?o.createElement(at,{error:this.state.error,onTryAgain:function(){return e.props.openReward({direction:se.a.Back})}}):o.createElement(ct.a,{renderOnRequirementsChange:this.renderRequirementsChangedNotice(),reward:this.props.reward},o.createElement(tt,{cost:Object(Ie.c)(this.props.reward),onClick:this.onRedeemClick,text:Object(s.d)("Unlock","UnlockSubscriberEmoteCheckout")}))},this.state.selectedEmote&&o.createElement(I.a,{textAlign:R.q.Center},o.createElement(_e,{emote:this.state.selectedEmote}),o.createElement(I.a,{margin:{top:.5}},o.createElement(ue.a,{bold:!0,fontSize:R.k.Size5},this.state.selectedEmote.token))))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return o.createElement(rt.a,{type:ot.a.Error},o.createElement(I.a,null,Object(K.l)(this.props.displayName||this.props.channelLogin,(function(){return e.props.openReward({direction:se.a.Back})}))))},t.prototype.renderSuccessfulCheckout=function(){var e=Object(s.d)("Congratulations! You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","UnlockSubscriberEmoteCheckout");return this.state.selectedEmote&&(e=Object(s.d)("Congratulations! You can now use {emoteName} for 24 hours from the emote picker. Happy emote-ing!",{emoteName:this.state.selectedEmote.token},"UnlockSubscriberEmoteCheckout")),o.createElement(Se,{message:e,button:o.createElement(_.a,{"data-test-selector":ei.ShareEmoteButton,onClick:this.onShareClick},Object(s.d)("Share Your Emote","UnlockSubscriberEmoteCheckout")),"data-test-selector":ei.NoEmotesToUnlock},this.state.selectedEmote&&o.createElement(I.a,{textAlign:R.q.Center},o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:this.state.selectedEmote})),o.createElement(I.a,{margin:{top:.5}},o.createElement(ue.a,{bold:!0,fontSize:R.k.Size5},this.state.selectedEmote.token))))},t}(o.Component);var ri,oi=Object(c.d)(Object(O.a)(It),Object(a.b)(void 0,(function(e){return Object(c.b)({setTray:xt.bb},e)})),Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID,direction:e.direction,setDirection:e.setDirection}})),Object(p.b)((function(e){return{channelLogin:e.channelLogin,displayName:e.displayName,emoteVariants:e.emoteVariants}})),Object(we.b)((function(e){return{showEmotePicker:e.showEmotePicker}})))(ii),ai=n("pTc6"),ci=n.n(ai),si=n("X6r6"),li=n.n(si),ui=n("ji5J"),di=n.n(ui);!function(e){e.CheckoutSuccessStep="checkout-success-step"}(ri||(ri={}));var mi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={redeemed:!1},t.onBackClicked=function(){if(t.props.setDirection(se.a.Back),t.state.redeemed)return t.setState({redeemed:!1,unlockedEmote:void 0,error:void 0}),void t.props.openReward({reward:t.props.reward});t.props.openReward()},t.onRedeemClick=function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.props.channelID?[4,Object(_t.e)(this.props.channelID,this.props.reward,this.props.transactionID)]:[2,!1];case 1:return(e=t.sent()).data&&e.data.unlockRandomSubscriberEmote&&e.data.unlockRandomSubscriberEmote.emote?e.data.unlockRandomSubscriberEmote.error?(this.setState({error:e.data.unlockRandomSubscriberEmote.error}),[2,!1]):(Object(_t.f)(e.data.unlockRandomSubscriberEmote.emote),this.props.setDirection(se.a.Forward),this.setState({unlockedEmote:e.data.unlockRandomSubscriberEmote.emote,redeemed:!0}),Object(le.r)({channelID:this.props.channelID||"",channelLogin:this.props.channelLogin||"",reward:this.props.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID||""}),[2,!0]):(this.setState({error:{__typename:"CommunityPointsUnlockEmoteErrorCode",code:ie.mb.UNKNOWN}}),[2,!1])}}))}))},t.onShareClick=function(){var e=Object(_t.b)({reward:t.props.reward,inputValue:t.state.unlockedEmote?t.state.unlockedEmote.token:""});t.props.setTray(e),t.props.closeRewardCenter()},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(Le.a,{onBackClicked:this.onBackClicked,showBackButton:!0,title:Object(Ie.f)(this.props.reward)}),o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(this.props.direction)},o.createElement(Oe.a,{key:this.props.transactionID+"_"+(this.state.redeemed?" redeemed":"checkout")},this.renderBody())))},t.prototype.renderBody=function(){return 0===this.props.emoteVariants.length?o.createElement(Ht,{streamerName:this.props.channelDisplayName}):this.state.redeemed?this.renderSuccessfulCheckout():this.renderCheckoutState()},t.prototype.renderCheckoutState=function(){var e=this;return o.createElement(Se,{key:"checkout",message:Object(s.d)("{streamerName} has {emoteCount} unlockable emotes. Click below to unlock one random emote to chat with for 24 hours!",{streamerName:this.props.channelDisplayName||"",emoteCount:this.props.emoteVariants.filter((function(e){return e.isUnlockable})).length},"UnlockRandomEmoteCheckout"),button:this.state.error?o.createElement(at,{error:this.state.error,onTryAgain:function(){return e.props.openReward({direction:se.a.Back})}}):o.createElement(ct.a,{renderOnRequirementsChange:this.renderRequirementsChangedNotice(),reward:this.props.reward},o.createElement(tt,{cost:Object(Ie.c)(this.props.reward),onClick:this.onRedeemClick,text:Object(s.d)("Unlock a Random Emote","UnlockRandomEmoteCheckout")}))},o.createElement(Z.a,{alt:Object(s.d)("Unlock a random emote artwork","UnlockRandomEmoteCheckout"),src:ci.a,srcSet:{"1x":ci.a,"2x":li.a,"4x":di.a}}))},t.prototype.renderRequirementsChangedNotice=function(){var e=this;return o.createElement(rt.a,{type:ot.a.Error},o.createElement(I.a,null,Object(K.l)(this.props.channelDisplayName||this.props.channelLogin,(function(){return e.props.openReward({direction:se.a.Back})}))))},t.prototype.renderSuccessfulCheckout=function(){var e=Object(s.d)("You can now use this emote for 24 hours from the emote picker. Happy emote-ing!","UnlockRandomEmoteCheckout");return this.state.unlockedEmote&&(e=Object(s.d)("You can now use {emoteName} for 24 hours from the emote picker. Happy emote-ing!",{emoteName:this.state.unlockedEmote.token},"UnlockRandomEmoteCheckout")),o.createElement(Se,{key:"redemeed",message:e,button:o.createElement(_.a,{onClick:this.onShareClick,"data-test-selector":ri.CheckoutSuccessStep},Object(s.d)("Share Your New Emote","UnlockRandomEmoteCheckout"))},this.state.unlockedEmote&&o.createElement(I.a,{textAlign:R.q.Center},o.createElement(Re.a,{type:Re.f.Bounce,duration:Re.c.Long,enabled:!0,loop:!0},o.createElement(_e,{emote:this.state.unlockedEmote})),o.createElement(I.a,{margin:{top:.5}},o.createElement(ue.a,{bold:!0,fontSize:R.k.Size5},this.state.unlockedEmote.token))))},t}(o.Component);var pi=Object(c.d)(Object(a.b)(void 0,(function(e){return Object(c.b)({setTray:xt.bb},e)})),Object(h.c)((function(e){return{closeRewardCenter:e.closeRewardCenter,openReward:e.openReward,transactionID:e.transactionID,viewTrackingID:e.viewTrackingID,direction:e.direction,setDirection:e.setDirection}})),Object(p.b)((function(e){return{emoteVariants:e.emoteVariants}})))(mi),hi=(n("nx6a"),"channelPointsOnboardingDismissed"),fi="channelPointsShouldOpenRewardCenter",bi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={onboardingDismissed:s.m.get(hi,!1),changedModificationIDs:new Set,changedRewardIDs:new Set},t.onClickOut=function(){t.props.closeRewardCenter()},t.dismissOnboarding=function(){t.props.setDirection(se.a.None),t.setState({onboardingDismissed:!0}),s.m.set(hi,!0)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){s.m.get(fi,!1)&&(s.m.remove(fi),this.props.openReward({direction:se.a.OpenRewardCenter}))},t.prototype.componentDidUpdate=function(e){!e.isRewardCenterOpen&&this.props.isRewardCenterOpen&&this.props.rewardCenterState.type===ve.a.ListRewards&&this.setState({changedModificationIDs:this.props.changedModificationIDs,changedRewardIDs:this.props.changedRewardIDs})},t.prototype.render=function(){return o.createElement(l.a,{onClickOut:this.onClickOut},o.createElement(ge,{buttonDisabled:this.props.buttonDisabled}),o.createElement(D.a,{duration:D.c.Medium,show:this.props.isRewardCenterOpen,type:D.d.SlideOverBottom},o.createElement(Ee.a,{popoverId:"channel-points-reward-center",direction:ye.b.TopLeft,size:ke.a.Auto,show:!0,maxHeight:"32rem",offsetY:"4rem"},o.createElement(Ce.a,{duration:D.c.Medium,transitionType:Object(se.b)(this.props.direction)},o.createElement(I.a,{display:R.h.Flex,flexDirection:R.i.Column,className:"reward-center__content",key:this.getKey()},this.renderChild())))))},t.prototype.getKey=function(){return this.state.onboardingDismissed?this.props.rewardCenterState.type:"onboarding"},t.prototype.renderChild=function(){if(!this.state.onboardingDismissed)return o.createElement(Wn,{channelDisplayName:this.props.displayName||this.props.channelLogin,pointName:this.props.pointName||Object(K.c)(),onDismiss:this.dismissOnboarding});switch(this.props.rewardCenterState.type){case ve.a.Prediction:return o.createElement(Fn,{prediction:this.props.rewardCenterState.reward});case ve.a.CommunityGoal:return o.createElement(bt,{channelID:this.props.channelID,channelLogin:this.props.channelLogin,displayName:this.props.displayName||this.props.channelLogin,reward:this.props.rewardCenterState.reward});case ve.a.CustomReward:return o.createElement(Lt,{channelDisplayName:this.props.displayName,channelID:this.props.channelID,channelLogin:this.props.channelLogin,closeRewardCenter:this.props.closeRewardCenter,openReward:this.props.openReward,reward:this.props.rewardCenterState.reward,transactionID:this.props.transactionID,viewTrackingID:this.props.viewTrackingID});case ve.a.UnlockRandomEmote:return o.createElement(pi,{channelDisplayName:this.props.displayName||this.props.channelLogin,channelID:this.props.channelID,channelLogin:this.props.channelLogin,reward:this.props.rewardCenterState.reward});case ve.a.UnlockChosenSubscriberEmote:return o.createElement(oi,{channelID:this.props.channelID,reward:this.props.rewardCenterState.reward});case ve.a.ModifyEmote:return o.createElement(tn,{reward:this.props.rewardCenterState.reward,channelID:this.props.channelID,changedModificationIDs:this.state.changedModificationIDs});case ve.a.AlreadySubbed:return o.createElement(Me,{reward:this.props.rewardCenterState.reward,displayName:this.props.displayName||this.props.channelLogin});case ve.a.NotSubOnlyMode:return o.createElement(on,{reward:this.props.rewardCenterState.reward});case ve.a.NotEnoughPoints:return o.createElement(Dt,{reward:this.props.rewardCenterState.reward,displayName:this.props.displayName||this.props.channelLogin,channelID:this.props.channelID});case ve.a.NotLoggedIn:this.handleLogin();break;case ve.a.NotSubbed:break;case ve.a.EarnRates:return o.createElement(o.Fragment,null,o.createElement(Le.a,{showBackButton:!0,title:Object(s.d)("How to Earn {pointName}",{pointName:this.props.pointName||Object(K.c)()},"EarnRatesState")}),o.createElement(Oe.a,null,o.createElement(jt.a,{channelLogin:this.props.channelLogin,earnRates:this.props.earning,padding:{x:2}})));case ve.a.ListRewards:default:return o.createElement(ni,{changedRewardIDs:this.state.changedRewardIDs})}},t.prototype.handleLogin=function(){var e={targetChannel:this.props.channelLogin,showContext:!0,onComplete:function(){s.m.set(fi,!0)}};this.props.login(e)},t}(o.Component);var gi=Object(c.d)(Object(a.b)(null,(function(e){return Object(c.b)({login:function(e){return Object(d.e)(u.a.ChannelPoints,e)}},e)})),Object(p.b)((function(e){return{channelID:e.channelID,channelLogin:e.channelLogin,displayName:e.displayName,pointName:e.pointName,earning:e.earning,changedModificationIDs:e.changedModificationIDs,changedRewardIDs:e.changedRewardIDs}})),Object(h.c)((function(e){return e})))(bi)},ftPB:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i,r=n("q1tI"),o=n("/MKj"),a=n("/7QA"),c=n("/0dD"),s=n("XDQu"),l=n("BBJN"),u=n("s+pF"),d=n("OCDW"),m=n("mrSG"),p=n("4rCz"),h=n("Yegi"),f=n("XC6p"),b=n("IyK4"),g=n("LNol"),v=n("uq9l");n("xwjf");!function(e){e.Container="prediction-summary-stat",e.Content="prediction-summary-stat__content"}(i||(i={}));var E,y,k=function(e){var t=e.alignment===y.Left;return r.createElement(d.a,{alignSelf:t?h.c.Baseline:h.c.End,display:h.h.Flex,"data-test-selector":i.Container},r.createElement(f.a,{label:e.tooltip,width:e.tooltipWidth?e.tooltipWidth+"px":"",options:{placement:t?"right":"left"},disabled:!!e.disableTooltip},r.createElement(d.a,{display:h.h.InlineFlex,flexDirection:t?h.i.Row:h.i.RowReverse,flexWrap:h.j.Wrap,"data-test-selector":i.Content},r.createElement(b.a,{display:h.h.InlineFlex,verticalAlign:h.r.TextTop},r.createElement("div",{style:{color:e.colorCode}},r.createElement(g.a,{asset:e.icon,height:16,width:16}))),r.createElement(d.a,{display:h.h.InlineFlex,className:"prediction-summary-stat__value"},r.createElement(v.a,{fontSize:h.k.Size7,wordBreak:v.g.BreakWord},e.children)))))},C=n("61gZ"),w=n("nAiT"),O=n("5ezV"),S=n("Ix37"),L=n("7Py2"),j=n("hPKk"),N=n("oBNK");n("jd9V");!function(e){e.BarGraph="prediction-summary-outcome__bar",e.Percentage="prediction-summary-outcome__percentage",e.Statistics="prediction-summary-outcome__statistics",e.StatReturnRatio="prediction-summary-outcome__stat--return-ratio",e.StatTopBet="prediction-summary-outcome__state--top-bet",e.StatTopBetUser="prediction-summary-outcome__state--top-bet-user",e.StatTotalPoints="prediction-summary-outcome__stat--total-points",e.StatTotalVoters="prediction-summary-outcome__state--total-voters",e.Title="prediction-summary-outcome__title",e.WinnerLabel="prediction-summary-outcome__winner-label"}(E||(E={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(y||(y={}));var D=function(e){var t,n=e.alignment===y.Left,i=Object(r.useState)(!1),o=i[0],a=i[1],c=Object(r.useRef)(null),s=Object(C.a)(e.outcome.color,e.isDarkModeEnabled),l=e.outcomes.reduce((function(e,t){return e+t.totalPoints}),0),u=l/e.outcome.totalPoints,f=e.outcome.topPredictors[0],D=null===(t=null==f?void 0:f.user)||void 0===t?void 0:t.displayName,x=e.outcome.totalPoints/(l||1)*100,_=f&&D?Object(p.d)("{points, plural, one {{username} voted with # {pointNameVariable}} other {{username} voted with # {pointNameVariable}}}",{username:D,points:f.points,pointNameVariable:e.pointName?e.pointName:Object(w.c)(1===f.points)},"PredictionSummary"):"",I=Object(r.useCallback)((function(){c.current&&a(c.current.clientWidth<140)}),[a]);Object(r.useEffect)((function(){return window.addEventListener("resize",I),function(){window.removeEventListener("resize",I)}}),[I]),Object(r.useLayoutEffect)((function(){I()}));var R=e.alignment,P={alignItems:h.b.End,flexDirection:e.alignment===y.Left?h.i.Row:h.i.RowReverse,justifyContent:h.m.Between};return o&&(R=e.alignment===y.Left?y.Right:y.Left,P={alignItems:e.alignment===y.Left?h.b.End:h.b.Start,flexDirection:h.i.ColumnReverse,justifyContent:h.m.Start}),r.createElement(d.a,{className:"prediction-summary-outcome",display:h.h.Flex,flexDirection:h.i.Column,fullHeight:!0,justifyContent:h.m.Start},r.createElement(d.a,null,null!==e.winner&&r.createElement(d.a,{alignItems:h.b.Center,display:h.h.Flex,justifyContent:n?h.m.End:h.m.Start,visibility:e.winner?h.s.Visible:h.s.Hidden,"data-test-selector":E.WinnerLabel},r.createElement(g.a,{asset:S.a.NotificationSuccess,width:16,height:16}),r.createElement(v.a,{fontSize:h.k.Size6,fontWeight:h.l.SemiBold},Object(p.d)("Winner","PredictionSummary"))),r.createElement(b.a,{textAlign:n?h.q.Right:h.q.Left,"data-test-selector":E.Title},r.createElement("div",{style:{color:s}},r.createElement(L.a,{size:L.b.Small,wordBreak:v.g.BreakWord},e.outcome.title)))),r.createElement("div",{ref:c}),r.createElement(d.a,Object(m.__assign)({},P,{display:h.h.Flex,flexGrow:1,"data-test-selector":E.Statistics}),r.createElement(d.a,{display:h.h.Flex,flexDirection:h.i.Column},r.createElement(k,{alignment:R,colorCode:s,icon:S.a.ChannelPoints,tooltip:Object(p.d)("Total {pointName}",{pointName:e.pointName||Object(w.c)()},"PredictionSummary"),"data-test-selector":E.StatTotalPoints},r.createElement(j.a,{value:e.outcome.totalPoints,formatValue:function(e){return Object(p.g)(e,{maximumFractionDigits:Object(O.a)(e)})},monospaced:!0})),r.createElement(k,{alignment:R,colorCode:s,icon:S.a.Trophy,tooltip:Object(p.d)("Return Ratio","PredictionSummary"),"data-test-selector":E.StatReturnRatio},0===e.outcome.totalPoints?"-:-":Object(p.d)("1:{payout}",{payout:Object(p.g)(u,{maximumFractionDigits:2})},"PredictionSummary")),r.createElement(k,{alignment:R,colorCode:s,icon:S.a.Friends,tooltip:Object(p.d)("Total Voters","PredictionSummary"),"data-test-selector":E.StatTotalVoters},r.createElement(j.a,{value:e.outcome.totalUsers,formatValue:function(e){return Object(p.g)(e,{maximumFractionDigits:Object(O.a)(e)})},monospaced:!0})),r.createElement(k,{alignment:R,colorCode:s,icon:S.a.FormatLeaderboard,disableTooltip:!(f&&D),tooltip:_,tooltipWidth:150,"data-test-selector":E.StatTopBet},r.createElement(j.a,{value:(null==f?void 0:f.points)||0,formatValue:function(e){return Object(p.g)(e,{maximumFractionDigits:Object(O.a)(e)})},monospaced:!0})),!(!f||!D||e.hideTopUserStat)&&r.createElement(k,{alignment:R,colorCode:s,icon:S.a.Account,tooltip:_,tooltipWidth:150,"data-test-selector":E.StatTopBetUser},D)),r.createElement(d.a,{padding:{bottom:1}},r.createElement(N.a,{align:n?N.b.Right:N.b.Left,label:Object(p.d)("{pointName} %",{pointName:e.pointName||Object(w.c)()},"PredictionSummary")},r.createElement(d.a,{alignItems:n?h.b.End:h.b.Start,display:h.h.Flex,flexDirection:h.i.Column,justifyContent:h.m.End,"data-test-selector":E.Percentage,className:"prediction-summary-outcome__percent-hero"},r.createElement(L.a,{size:L.b.Large,lineHeight:v.b.Heading},r.createElement("span",{style:{color:s}},r.createElement(j.a,{value:x,formatValue:function(e){return Object(p.d)("{percent}%",{percent:Math.round(e)},"PredictionSummary")},monospaced:!1}))),r.createElement(b.a,{borderRadius:h.e.Large,margin:{top:.5},fullWidth:!0},r.createElement("div",{className:"prediction-summary-outcome__bar",style:{background:s,transform:"scaleX("+x/100+")",transformOrigin:n?"100%":"0"},"data-test-selector":E.BarGraph})))))))},x=function(e){var t=Object(o.e)((function(e){return Object(s.a)(e)===c.a.Dark}));return 2!==e.predictionEvent.outcomes.length&&a.k.errorAndReport(new Error("Bad number of prediction outcomes"),"Attempted to render prediction summary with more or less than 2 outcomes",e.predictionEvent),r.createElement(l.a,{gutterSize:l.b.None},r.createElement(u.a,{cols:6},r.createElement(d.a,{fullHeight:!0,padding:{right:.5}},r.createElement(D,{alignment:y.Left,hideTopUserStat:e.hideTopUserStat,isDarkModeEnabled:t,outcome:e.predictionEvent.outcomes[0],outcomes:e.predictionEvent.outcomes,winner:e.predictionEvent.winningOutcome?e.predictionEvent.winningOutcome.id===e.predictionEvent.outcomes[0].id:null,pointName:e.pointName}))),r.createElement(u.a,{cols:6},r.createElement(d.a,{borderLeft:!0,fullHeight:!0,padding:{left:.5}},r.createElement(D,{alignment:y.Right,hideTopUserStat:e.hideTopUserStat,isDarkModeEnabled:t,outcome:e.predictionEvent.outcomes[1],outcomes:e.predictionEvent.outcomes,winner:e.predictionEvent.winningOutcome?e.predictionEvent.winningOutcome.id===e.predictionEvent.outcomes[1].id:null,pointName:e.pointName}))))}},gXS1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("4udP"),o=n("/7QA"),a=n("uq9l"),c=n("Yegi"),s=function(e){var t=e.time,n=i.useState(0)[1];Object(r.a)((function(){var e=setInterval((function(){n((function(e){return(e+1)%2}))}),6e4);return function(){clearInterval(e)}}));var s=Math.abs((Number(new Date)-Number(t))/1e3/60);return i.createElement(a.a,{title:Object(o.c)(t,"medium"),type:e.type,fontSize:c.k.Size6,color:e.color||c.f.Alt2},Object(o.h)(t,s<60?{units:"minute"}:{}))}},gjFE:function(e,t,n){},goDl:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),r=n("/7QA"),o=n("4VQm"),a=n("zmT9");function c(e){var t,n=e.percentage/100,r=function(e){var t=e.threshold,n=Object(i.useState)(null),r=n[0],o=n[1],a=Object(i.useState)(null),c=a[0],s=a[1],l=Object(i.useState)((function(){return new window.IntersectionObserver((function(e){var t=e[0];return o(t)}),{threshold:t})}))[0];return Object(i.useEffect)((function(){if(c)return l.disconnect(),l.observe(c),function(){return l.disconnect()}}),[c,l]),[s,r]}({threshold:n}),o=r[0],a=r[1],c=Object(i.useRef)(!1),s=Object(i.useRef)(e.impressionKey);Object(i.useEffect)((function(){s.current!==e.impressionKey&&(s.current=e.impressionKey,c.current=!1)}));var l=(null!==(t=null==a?void 0:a.intersectionRatio)&&void 0!==t?t:0)>n,u=e.onFirstImpression;return Object(i.useEffect)((function(){!c.current&&l&&(c.current=!0,u())}),[u,l,e.impressionKey]),{elementRef:o}}function s(e){var t=(a.a&&r.b.get("use_intersection",!1)?c(e):function(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(!1),r=Object(i.useRef)(e.impressionKey),c=Object(i.useRef)(null),s=Object(i.useContext)(o.c),l=e.percentage,u=e.onFirstImpression,d=Object(i.useCallback)((function(e){!n.current&&t.current&&(c.current=Object(a.b)(t.current,e),Object(a.d)(c.current,l)&&(n.current=!0,u()))}),[u,l]);return Object(i.useEffect)((function(){r.current!==e.impressionKey&&(n.current=!1,r.current=e.impressionKey,s.requestVisibilityCheck({checkVisible:d}))}),[e.impressionKey,d,s]),Object(i.useEffect)((function(){return s.registerReceiver({checkVisible:d})}),[d,s]),{elementRef:t}}(e)).elementRef;return Object(i.useMemo)((function(){return{elementRef:t}}),[t])}},grzJ:function(e,t,n){},gwKQ:function(e,t,n){e.exports=n.p+"assets/orb_colorful-b79ba34a5ba00330df52.png"},hPKk:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),r=n.n(i),o=n("VbXa"),a=n.n(o),c=n("q1tI"),s=n("PHNs"),l=n.n(s),u=n("SWse"),d=n("P+FS"),m=function(){var e=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={currentValue:t.value,prevValue:void 0!==t.initialValue?t.initialValue:t.value},n}a()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this;this.props.value!==this.state.currentValue&&this.setState((function(t){return{currentValue:e.props.value,prevValue:t.currentValue}}))},n.render=function(){return c.createElement(l.a,r()({className:Object(u.a)({"tw-animated-number":!0,"tw-animated-number--monospaced":this.props.monospaced}),duration:this.props.duration,end:this.state.currentValue,start:this.state.prevValue,formattingFn:this.props.formatValue},Object(d.a)(this.props)))},t}(c.Component);return e.displayName="AnimatedNumber",e.defaultProps={duration:.7,monospaced:!0},e}()},hQNN:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ModifyEmoteOwnedEmotes"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteSets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"modifiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"query ModifyEmoteOwnedEmotes {\ncurrentUser {\nid\nemoteSets {\nid\nemotes {\nid\nmodifiers {\ncode\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ModifyEmoteOwnedEmotes=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ModifyEmoteOwnedEmotes")},hoKo:function(e,t,n){e.exports=n.p+"assets/orb_background-38c0df0967a556d270cd.png"},jd9V:function(e,t,n){},ji5J:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout_4x-f44661b71a7d0cb4ce43.png"},ktc1:function(e,t,n){"use strict";n.r(t),n.d(t,"ExplodeAnimation",(function(){return c}));var i=n("mrSG"),r=n("q1tI"),o=n("IyK4"),a=n("Yegi"),c=(n("8nhX"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDelayed:void 0!==t.props.delayMs},t.delayTimeout=0,t.completeTimeout=0,t.handleAnimationEnd=function(){t.props.onComplete()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;void 0!==this.props.delayMs&&(this.delayTimeout=setTimeout((function(){e.setState({isDelayed:!1})}),this.props.delayMs)),this.completeTimeout=setTimeout((function(){e.handleAnimationEnd()}),830+(this.props.delayMs||0))},t.prototype.componentWillUnmount=function(){clearTimeout(this.delayTimeout),clearTimeout(this.completeTimeout)},t.prototype.render=function(){if(this.state.isDelayed)return null;var e="#9146FF";return r.createElement(o.a,{position:a.o.Absolute,className:"explode-animation"},r.createElement("svg",{width:this.props.width||50,height:this.props.height||50,fill:"none",viewBox:"0 0 50 50",style:{left:this.props.offsetX||0,top:this.props.offsetY||0}},r.createElement("path",{className:s(0),d:"M29.6434883,24.8100865 L30.9425264,24.0600865 L31.1925264,24.4930992 L29.8934883,25.2430992 L29.6434883,24.8100865 Z M21.5888034,27.8486224 L22.8878415,27.0986224 L23.1378415,27.5316351 L21.8388034,28.2816351 L21.5888034,27.8486224 Z M28.0529381,21.7158132 L28.7339239,20.3793034 L29.1794271,20.6062987 L28.4984414,21.9428085 L28.0529381,21.7158132 Z M23.7523129,30.9143817 L24.4332987,29.5778719 L24.8788019,29.8048672 L24.1978162,31.1413769 L23.7523129,30.9143817 Z M30.5052375,27.6820965 L31.7632434,28.4990551 L31.4909239,28.9183903 L30.232918,28.1014318 L30.5052375,27.6820965 Z M21.0959603,23.1734727 L22.3539661,23.9904313 L22.0816466,24.4097666 L20.8236408,23.592808 L21.0959603,23.1734727 Z M24.7871933,21.4508701 L25.44475,22.7990612 L24.995353,23.0182468 L24.3377963,21.6700557 L24.7871933,21.4508701 Z M27.525335,29.139009 L28.1828917,30.4872001 L27.7334947,30.7063856 L27.075938,29.3581946 L27.525335,29.139009 Z",fill:e}),r.createElement("path",{className:s(1),d:"M30.4153287,24.3959454 L31.8409392,23.6695606 L32.0679344,24.1150639 L30.642324,24.8414487 L30.4153287,24.3959454 Z M20.5370321,28.1902434 L22.0098398,27.5650736 L22.2052054,28.025326 L20.7323976,28.6504958 L20.5370321,28.1902434 Z M28.2264196,21.235715 L28.9528044,19.8101046 L29.3983076,20.0370998 L28.6719228,21.4627103 L28.2264196,21.235715 Z M23.4498607,31.7129603 L24.1762455,30.2873499 L24.6217488,30.5143451 L23.895364,31.9399556 L23.4498607,31.7129603 Z M31.3311243,27.8754832 L32.6729972,28.7469057 L32.4006777,29.1662409 L31.0588048,28.2948185 L31.3311243,27.8754832 Z M19.9889444,22.6243554 L21.3308173,23.4957779 L21.0584978,23.9151132 L19.7166249,23.0436907 L19.9889444,22.6243554 Z M24.2017099,20.3793034 L24.9031038,21.8173739 L24.4537068,22.0365595 L23.7523129,20.598489 L24.2017099,20.3793034 Z M27.8120441,29.9748654 L28.1991191,31.5273385 L27.7139712,31.6482995 L27.3268962,30.0958263 L27.8120441,29.9748654 Z",fill:e}),r.createElement("path",{className:s(2),d:"M30.4153287,24.3959454 L31.8409392,23.6695606 L32.0679344,24.1150639 L30.642324,24.8414487 L30.4153287,24.3959454 Z M20.5370321,28.1902434 L22.0098398,27.5650736 L22.2052054,28.025326 L20.7323976,28.6504958 L20.5370321,28.1902434 Z M28.2264196,21.235715 L28.9528044,19.8101046 L29.3983076,20.0370998 L28.6719228,21.4627103 L28.2264196,21.235715 Z M23.4498607,31.7129603 L24.1762455,30.2873499 L24.6217488,30.5143451 L23.895364,31.9399556 L23.4498607,31.7129603 Z M31.3311243,27.8754832 L32.6729972,28.7469057 L32.4006777,29.1662409 L31.0588048,28.2948185 L31.3311243,27.8754832 Z M19.9889444,22.6243554 L21.3308173,23.4957779 L21.0584978,23.9151132 L19.7166249,23.0436907 L19.9889444,22.6243554 Z M24.2017099,20.3793034 L24.9031038,21.8173739 L24.4537068,22.0365595 L23.7523129,20.598489 L24.2017099,20.3793034 Z M27.8120441,29.9748654 L28.1991191,31.5273385 L27.7139712,31.6482995 L27.3268962,30.0958263 L27.8120441,29.9748654 Z",fill:e}),r.createElement("path",{className:s(3),d:"M31.8242274,23.9637071 L34.0517437,22.8287309 L34.278739,23.2742341 L32.0512227,24.4092104 L31.8242274,23.9637071 Z M18.0478797,28.8486457 L20.3491419,27.8718179 L20.5445074,28.3320703 L18.2432453,29.3088981 L18.0478797,28.8486457 Z M28.7970625,19.755158 L29.7050435,17.973145 L30.1505468,18.2001402 L29.2425658,19.9821533 L28.7970625,19.755158 Z M22.6897959,33.4884702 L23.5977769,31.7064572 L24.0432801,31.9334524 L23.1352991,33.7154655 L22.6897959,33.4884702 Z M32.4551039,28.4184317 L34.5517804,29.7800293 L34.2794608,30.1993645 L32.1827844,28.837767 L32.4551039,28.4184317 Z M17.953067,21.5887121 L20.0497434,22.9503096 L19.7774239,23.3696449 L17.6807475,22.0080473 L17.953067,21.5887121 Z M23.4679123,18.198084 L24.5638402,20.4450692 L24.1144431,20.6642547 L23.0185153,18.4172696 L23.4679123,18.198084 Z M28.1922578,31.546575 L28.7970625,33.9723143 L28.3119147,34.0932752 L27.7071099,31.6675359 L28.1922578,31.546575 Z M35.0689002,25.6790116 L37.5685194,25.7226426 L37.5597932,26.2225664 L35.060174,26.1789354 L35.0689002,25.6790116 Z M14.2291176,25.6790116 L16.7287368,25.7226426 L16.7200106,26.2225664 L14.2203914,26.1789354 L14.2291176,25.6790116 Z M31.34978,20.7615255 L32.9899276,18.8747515 L33.3672824,19.202781 L31.7271348,21.089555 L31.34978,20.7615255 Z M18.9535297,33.0814074 L20.8113918,31.4085809 L21.1459571,31.7801533 L19.288095,33.4529798 L18.9535297,33.0814074 Z M31.0478448,30.9925766 L32.6879924,32.8793505 L32.3106376,33.2073801 L30.67049,31.3206061 L31.0478448,30.9925766 Z M19.6435228,19.2016218 L21.4418723,20.9382678 L21.0945431,21.2979377 L19.2961936,19.5612917 L19.6435228,19.2016218 Z M26.4365768,14.5072417 L26.3493281,17.0057188 L25.8496326,16.988269 L25.9368814,14.489792 L26.4365768,14.5072417 Z M26.3496326,34.5605565 L26.3496326,36.5605565 L25.8496326,36.5605565 L25.8496326,34.5605565 L26.3496326,34.5605565 Z",fill:e}),r.createElement("path",{className:s(4),d:"M32.2489727,23.6464193 L34.476489,22.511443 L34.7446238,23.0376872 L32.5171075,24.1726634 L32.2489727,23.6464193 Z M17.110452,29.3649938 L19.8287839,28.2111303 L20.0595566,28.7547967 L17.3412247,29.9086602 L17.110452,29.3649938 Z M29.2415092,19.1571735 L30.3140484,17.0521969 L30.8402925,17.3203317 L29.7677534,19.4253083 L29.2415092,19.1571735 Z M22.246837,34.3026531 L23.3193761,32.1976765 L23.8456203,32.4658113 L22.7730811,34.5707879 L22.246837,34.3026531 Z M33.0523,28.8386657 L34.7296411,29.9279438 L34.4079677,30.4232774 L32.7306266,29.3339994 L33.0523,28.8386657 Z M16.6665479,21.0535672 L19.143216,22.6619343 L18.8215426,23.1572679 L16.3448745,21.5489008 L16.6665479,21.0535672 Z M23.0655247,17.0521969 L24.3600733,19.7064149 L23.8292297,19.9653247 L22.5346811,17.3111066 L23.0655247,17.0521969 Z M28.283935,32.1976765 L28.8887397,34.6234158 L28.315666,34.7662992 L27.7108613,32.3405598 L28.283935,32.1976765 Z M36.3231734,25.6417146 L39.2758118,25.6932531 L39.2655041,26.2837808 L36.3128657,26.2322423 L36.3231734,25.6417146 Z M11.4460576,25.6234435 L15.4454484,25.6932531 L15.4351407,26.2837808 L11.4357499,26.2139712 L11.4460576,25.6234435 Z M31.9618078,19.8244399 L34.5860439,16.8056016 L35.0317887,17.1930816 L32.4075526,20.21192 L31.9618078,19.8244399 Z M16.9011145,34.932601 L19.8736938,32.2560786 L20.2688941,32.694993 L17.2963148,35.3715154 L16.9011145,34.932601 Z M31.8053957,31.9675061 L34.1016023,34.6089896 L33.6558575,34.9964696 L31.3596509,32.3549861 L31.8053957,31.9675061 Z M17.5882091,17.2987922 L20.4655683,20.0774257 L20.0552909,20.5022805 L17.1779317,17.723647 L17.5882091,17.2987922 Z M26.5304584,12.7467077 L26.4257599,15.7448801 L25.835502,15.7242679 L25.9402005,12.7260954 L26.5304584,12.7467077 Z M26.5061838,35.6284701 L26.5061838,38.2284701 L25.9155662,38.2284701 L25.9155662,35.6284701 L26.5061838,35.6284701 Z",fill:e}),r.createElement("path",{className:s(5),d:"M33.4065495,22.8023334 L36.1141329,21.4227507 L36.4400552,22.0624093 L33.7324718,23.441992 L33.4065495,22.8023334 Z M16.4526936,29.3282623 L18.7539558,28.3514345 L19.0344638,29.0122701 L16.7332017,29.9890979 L16.4526936,29.3282623 Z M29.4073398,18.2554111 L30.7110291,15.6967768 L31.3506877,16.0226991 L30.0469984,18.5813335 L29.4073398,18.2554111 Z M21.5930694,35.2202514 L22.5010504,33.4382384 L23.140709,33.7641607 L22.232728,35.5461737 L21.5930694,35.2202514 Z M34.3797897,29.0260369 L36.4186259,30.3500727 L36.0276265,30.952159 L33.9887902,29.6281232 L34.3797897,29.0260369 Z M15.9786639,20.4409088 L18.0753403,21.8025064 L17.6843409,22.4045927 L15.5876644,21.0429951 L15.9786639,20.4409088 Z M22.4762758,16.2014452 L23.5722037,18.4484304 L22.9269544,18.7631395 L21.8310265,16.5161543 L22.4762758,16.2014452 Z M28.802535,33.1924978 L29.4073398,35.6182372 L28.710759,35.7919142 L28.1059543,33.3661749 L28.802535,33.1924978 Z M37.5231977,25.6122997 L41.1121791,25.6749456 L41.0996499,26.3927419 L37.5106685,26.330096 L37.5231977,25.6122997 Z M9.02226495,25.1998697 L13.8835915,25.2847245 L13.8710623,26.0025208 L9.00973577,25.917666 L9.02226495,25.1998697 Z M32.708442,18.4286155 L35.898245,14.7591669 L36.4400552,15.2301553 L33.2502522,18.8996039 L32.708442,18.4286155 Z M15.3332112,36.4221092 L18.9464312,33.1687513 L19.4268038,33.7022591 L15.8135838,36.955617 L15.3332112,36.4221092 Z M32.8641565,32.7701516 L35.6552342,35.9809192 L35.1134239,36.4519076 L32.3223463,33.2411401 L32.8641565,32.7701516 Z M15.9293255,15.6967768 L19.4268038,19.0742523 L18.9281047,19.5906704 L15.4306263,16.2131948 L15.9293255,15.6967768 Z M26.7127939,10.8150972 L26.5855312,14.4594262 L25.8680629,14.4343716 L25.9953256,10.7900427 L26.7127939,10.8150972 Z M27.008334,37.3389384 L27.008334,40.499282 L26.2904284,40.499282 L26.2904284,37.3389384 L27.008334,37.3389384 Z",fill:e}),r.createElement("path",{className:s(6),d:"M34.6262208,22.3165806 L35.9627305,21.6355948 L36.3191106,22.33503 L34.9826008,23.0160158 L34.6262208,22.3165806 Z M15.4923095,29.8131863 L16.8730667,29.2270896 L17.1797885,29.9496809 L15.7990312,30.5357776 L15.4923095,29.8131863 Z M29.9808728,17.0579739 L30.6618585,15.7214641 L31.3612937,16.0778441 L30.680308,17.4143539 L29.9808728,17.0579739 Z M21.4850054,35.4323931 L22.1659912,34.0958833 L22.8654264,34.4522634 L22.1844406,35.7887731 L21.4850054,35.4323931 Z M35.5646447,29.8814336 L36.8226505,30.6983922 L36.3951119,31.3567439 L35.137106,30.5397854 L35.5646447,29.8814336 Z M15.0770759,20.1602845 L16.3350817,20.977243 L15.9075431,21.6355948 L14.6495372,20.8186363 L15.0770759,20.1602845 Z M22.4945073,15.7220439 L23.152064,17.070235 L22.4465156,17.4143539 L21.7889589,16.0661628 L22.4945073,15.7220439 Z M28.9776712,34.7203405 L29.340554,36.1757841 L28.5788772,36.3656915 L28.2159944,34.9102479 L28.9776712,34.7203405 Z M38.3616368,25.8332751 L42.2860115,25.9017753 L42.2723115,26.6866503 L38.3479368,26.61815 L38.3616368,25.8332751 Z M7.53165971,25.3823032 L12.8472812,25.4750877 L12.8335812,26.2599627 L7.51795966,26.1671782 L7.53165971,25.3823032 Z M33.7003114,17.8355014 L36.652577,14.4393083 L37.2450199,14.954311 L34.2927543,18.3505041 L33.7003114,17.8355014 Z M14.1650947,37.4415363 L17.8808189,34.0958833 L18.4060827,34.6792479 L14.6903586,38.0249009 L14.1650947,37.4415363 Z M33.3964891,33.6600342 L36.4483952,37.1708506 L35.8559524,37.6858533 L32.8040463,34.1750369 L33.3964891,33.6600342 Z M14.8093837,14.5489242 L18.4060827,18.022216 L17.8607797,18.5868938 L14.2640807,15.1136019 L14.8093837,14.5489242 Z M26.540992,9.65326196 L26.4018364,13.6381564 L25.6173201,13.6107605 L25.7564757,9.62586605 L26.540992,9.65326196 Z M26.540992,37.6858533 L26.540992,41.1415336 L25.7559975,41.1415336 L25.7559975,37.6858533 L26.540992,37.6858533 Z",fill:e}),r.createElement("g",{className:s(7)},r.createElement("path",{d:"M36.1611476,21.6815506 L36.6066508,21.4545553 L36.9630309,22.1539905 L36.5175276,22.3809858 L36.1611476,21.6815506 Z M14.8739562,29.6960423 L15.3342087,29.5006767 L15.6409304,30.223268 L15.180678,30.4186335 L14.8739562,29.6960423 Z M30.7249314,15.5997787 L30.9519267,15.1542754 L31.6513619,15.5106555 L31.4243666,15.9561587 L30.7249314,15.5997787 Z M21.1891571,35.840013 L21.4161523,35.3945098 L22.1155875,35.7508898 L21.8885923,36.1963931 L21.1891571,35.840013 Z M36.5886862,30.4186335 L37.0080215,30.690953 L36.5804829,31.3493048 L36.1611476,31.0769853 L36.5886862,30.4186335 Z M14.4546209,19.9231206 L14.8739562,20.1954401 L14.4464176,20.8537919 L14.0270823,20.5814724 L14.4546209,19.9231206 Z M22.3579207,15.1626428 L22.5771062,15.6120398 L21.8715579,15.9561587 L21.6523723,15.5067617 L22.3579207,15.1626428 Z M29.7311349,36.1828998 L29.8520958,36.6680476 L29.090419,36.857955 L28.9694581,36.3728071 L29.7311349,36.1828998 Z M39.4897269,25.5321489 L42.9891938,25.5932323 L42.9754938,26.3781072 L39.4760269,26.3170238 L39.4897269,25.5321489 Z M7.20787875,25.5277858 L11.2072695,25.5975954 L11.1935695,26.3824703 L7.19417871,26.3126607 L7.20787875,25.5277858 Z M34.7168228,16.6226411 L37.0130294,13.9811576 L37.6054723,14.4961603 L35.3092657,17.1376439 L34.7168228,16.6226411 Z M13.8920089,37.9084336 L16.8645882,35.2319112 L17.389852,35.8152758 L14.4172727,38.4917982 L13.8920089,37.9084336 Z M34.3837854,34.9909223 L36.679992,37.6324059 L36.0875491,38.1474086 L33.7913425,35.505925 L34.3837854,34.9909223 Z M14.5723853,14.2845031 L17.4497445,17.0631366 L16.9044415,17.6278143 L14.0270823,14.8491809 L14.5723853,14.2845031 Z M26.6271521,8.93249735 L26.5050039,12.4303652 L25.7204876,12.4029693 L25.8426358,8.90510144 L26.6271521,8.93249735 Z M26.6271521,38.4917982 L26.6271521,41.9474785 L25.8421576,41.9474785 L25.8421576,38.4917982 L26.6271521,38.4917982 Z",fill:e}),r.createElement("circle",{strokeOpacity:"0.2",stroke:e,cx:"25",cy:"25",r:"3.25"})),r.createElement("g",{className:s(8)},r.createElement("path",{d:"M41.3969987,25.5364903 L43.896618,25.5801213 L43.8878918,26.0800451 L41.3882725,26.0364141 L41.3969987,25.5364903 Z M5.88872096,25.5364903 L8.88826404,25.5888475 L8.87953784,26.0887713 L5.87999475,26.0364141 L5.88872096,25.5364903 Z M36.0812148,14.9213781 L37.7213623,13.0346041 L38.0987171,13.3626336 L36.4585695,15.2494076 L36.0812148,14.9213781 Z M12.7450824,38.4590678 L14.9745169,36.451676 L15.3090822,36.8232484 L13.0796477,38.8306402 L12.7450824,38.4590678 Z M35.3422743,36.4392665 L36.9824219,38.3260405 L36.6050671,38.65407 L34.9649195,36.767296 L35.3422743,36.4392665 Z M13.4978188,13.3675915 L15.6558382,15.4515666 L15.3085091,15.8112365 L13.1504897,13.7272614 L13.4978188,13.3675915 Z M26.4323924,7.73106307 L26.3625935,9.72984473 L25.862898,9.71239498 L25.932697,7.71361332 L26.4323924,7.73106307 Z M26.3629848,40.8300748 L26.3629848,42.5600748 L25.8629848,42.5600748 L25.8629848,40.8300748 L26.3629848,40.8300748 Z",fill:e}),r.createElement("circle",{strokeOpacity:"0.4",stroke:e,strokeWidth:"2",cx:"24.9856673",cy:"24.9819112",r:"9.25"})),r.createElement("g",{className:s(9)},r.createElement("path",{d:"M43.65584,25.5408751 L44.1557639,25.5496013 L44.1420638,26.3344762 L43.64214,26.32575 L43.65584,25.5408751 Z M5.27881924,25.5408751 L5.77874308,25.5496013 L5.76504304,26.3344762 L5.26511919,26.32575 L5.27881924,25.5408751 Z M37.1352801,13.3283901 L37.4633097,12.9510353 L38.0557525,13.466038 L37.727723,13.8433928 L37.1352801,13.3283901 Z M12.2044679,39.0694937 L12.5760403,38.7349284 L13.1013041,39.318293 L12.7297317,39.6528583 L12.2044679,39.0694937 Z M36.7494877,38.4438751 L37.0775172,38.8212299 L36.4850743,39.3362326 L36.1570448,38.9588778 L36.7494877,38.4438751 Z M13.1248711,13.1988315 L13.484541,13.5461607 L12.939238,14.1108385 L12.5795681,13.7635093 L13.1248711,13.1988315 Z M26.2986283,7.12356552 L26.2811785,7.62326093 L25.4966622,7.59586502 L25.514112,7.09616961 L26.2986283,7.12356552 Z M26.2901425,42.9749789 L26.2901425,43.4749789 L25.505148,43.4749789 L25.505148,42.9749789 L26.2901425,42.9749789 Z",fill:e}),r.createElement("circle",{strokeOpacity:"0.6",stroke:e,strokeWidth:"2",cx:"25.1166748",cy:"25.1400538",r:"12.75"})),r.createElement("circle",{className:s(10),stroke:e,cx:"25",cy:"25",r:"15.25"}),r.createElement("circle",{className:s(11),stroke:e,cx:"25",cy:"25",r:"16.75"}),r.createElement("circle",{className:s(12),stroke:e,strokeWidth:"0.75",cx:"25",cy:"25",r:"17.875"}),r.createElement("circle",{className:s(13),stroke:e,strokeWidth:"0.5",cx:"25",cy:"25",r:"19"}),r.createElement("circle",{className:s(14),stroke:e,strokeWidth:"0.25",cx:"25",cy:"25",r:"19.875"}),r.createElement("circle",{className:s(15),stroke:e,strokeWidth:"0.25",cx:"25",cy:"25",r:"20.375"}),r.createElement("circle",{className:s(16),stroke:e,strokeWidth:"0.25",cx:"25.25",cy:"25.25",r:"20.625"}),r.createElement("circle",{className:s(17),stroke:e,strokeWidth:"0.25",cx:"25.25",cy:"25.25",r:"21.125"}),r.createElement("circle",{className:s(18),stroke:e,strokeWidth:"0.25",cx:"25",cy:"25",r:"21.375"}),r.createElement("circle",{className:s(19),stroke:e,strokeWidth:"0.25",cx:"25.125",cy:"25.125",r:"21.5"}),r.createElement("circle",{className:s(20),stroke:e,strokeWidth:"0.25",cx:"25.125",cy:"25.125",r:"21.5"})))},t}(r.Component));function s(e){return"explode-animation__frame-"+e}},lM01:function(e,t,n){},"ll/k":function(e,t,n){"use strict";function i(e,t){if(void 0===t&&(t=0),t>e){var n=t;t=e,e=n}return t+Math.floor(Math.random()*(e-t+1))}function r(e){return e[i(e.length-1)]}function o(e,t){for(var n=0,i=[];n<e;)i.push(t(n)),n+=1;return i}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},ltdn:function(e,t,n){},mevw:function(e,t,n){},ntYm:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MakePrediction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MakePredictionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"makePrediction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation MakePrediction($input: MakePredictionInput!) {\nmakePrediction(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MakePrediction=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"MakePrediction")},nx6a:function(e,t,n){},p3Ru:function(e,t,n){},p5Bz:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChannelPointsAvailableEarns"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"communityPoints"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limitedEarnings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cheerAvailableAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionGiftAvailableAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:207}};n.loc.source={body:"query ChannelPointsAvailableEarns($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nchannel {\nid\nself {\ncommunityPoints {\nlimitedEarnings {\nid\ncheerAvailableAt\nsubscriptionGiftAvailableAt\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChannelPointsAvailableEarns=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var o=i[t]||new Set,a=new Set,c=new Set;for(o.forEach((function(e){c.add(e)}));c.size>0;){var s=c;c=new Set,s.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"ChannelPointsAvailableEarns")},pDC7:function(e,t,n){e.exports=n.p+"assets/stars-animation-1707ebfe9f6960e3418b.gif"},pTc6:function(e,t,n){e.exports=n.p+"assets/random_emote_checkout-f97bd78a03eb2d11f107.png"},qleb:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("Pw1c"),r=n("q1tI"),o=[];i.onchange=function(){o.forEach((function(e){e()}))};var a=function(e){o.push(e)},c=function(e){o=o.filter((function(t){return t!==e}))},s=function(){return!!i.enabled},l=function(e){return!(!e||!i.videoEnabled(e))},u=function(){return i.element},d=function(e){i.request(e)},m=function(){i.exit()};function p(){return r.useMemo((function(){return{addChangeListener:a,removeChangeListener:c,supported:s,videoSupported:l,element:u,enable:d,disable:m}}),[])}},rZpj:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("pVnL"),r=n.n(i),o=n("q1tI"),a=n("o5gP"),c=n("SWse"),s=n("P+FS"),l=n("HQtB"),u=n("IyK4"),d=n("Yegi"),m=n("Ix37"),p=n("TwdJ"),h=function(e,t){var n="tw-"+Object(a.b)();return o.createElement("div",r()({className:Object(c.a)("tw-search-input")},Object(l.a)(e)),o.createElement(u.a,{display:d.h.HideAccessible},o.createElement("label",{htmlFor:e.id?e.id:n},"Search")),o.createElement(p.a,r()({},Object(s.a)(e),{ref:t||e.refDelegate,autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,icon:m.a.NavSearch,id:e.id?e.id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,spellCheck:e.spellCheck,tabIndex:e.tabIndex,size:e.size,type:p.c.Search,value:e.value,overlay:e.overlay})))};h.displayName="SearchInput",h.displayName="SearchInput";var f=o.forwardRef(h)},"s+pF":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return m}));var i,r=n("pVnL"),o=n.n(r),a=n("VbXa"),c=n.n(a),s=n("q1tI"),l=n("SWse"),u=n("P+FS"),d=n("HQtB");!function(e){e.First="col-order--first",e.Last="col-order--last"}(i||(i={}));var m=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.getColumnSizeClasses(this.props.cols),t=this.props.offset?this.getColumnOffsetClasses(this.props.offset):"",n=this.props.order?this.getColumnOrderClasses(this.props.order):"";return s.createElement("div",o()({className:Object(l.a)([e,t,n])},Object(d.a)(this.props),Object(u.a)(this.props)),this.props.children)},n.getColumnSizeClasses=function(e){if("number"==typeof e)return"tw-col-"+e;var t=["tw-col-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-"+e.xxl),t},n.getColumnOffsetClasses=function(e){if("number"==typeof e)return"tw-col-offset-"+e;var t=["tw-col-offset-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-offset-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-offset-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-offset-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-offset-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-offset-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-offset-"+e.xxl),t},n.getColumnOrderClasses=function(e){if("string"==typeof e)return"tw-"+e;if("object"==typeof e){var t=[];return"string"==typeof e.default&&t.push("tw-"+e.default),"string"==typeof e.xs&&t.push("tw-xs-"+e.xs),"string"==typeof e.sm&&t.push("tw-sm-"+e.sm),"string"==typeof e.md&&t.push("tw-md-"+e.md),"string"==typeof e.lg&&t.push("tw-lg-"+e.lg),"string"==typeof e.xl&&t.push("tw-xl-"+e.xl),"string"==typeof e.xxl&&t.push("tw-xxl-"+e.xxl),t}return!1},t}(s.Component);m.displayName="Column"},tXI0:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n("/7QA"),r=n("DMoW");function o(e){var t=1;return e.forEach((function(e){return t+=e.factor})),t}function a(e){switch(e.reasonCode){case r.lb.SUB_T1:return Object(i.d)("Tier 1 sub","EarnNotice");case r.lb.SUB_T2:return Object(i.d)("Tier 2 sub","EarnNotice");case r.lb.SUB_T3:return Object(i.d)("Tier 3 sub","EarnNotice");default:return""}}},uHaE:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommunityPointsAvailableClaim"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"community"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"availableClaimFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"communityPointsBalanceFragment"},directives:[]}]}}]}}],loc:{start:0,end:315}};i.loc.source={body:'#import "twilight/features/community-points/models/available-claim-fragment.gql"\n#import "twilight/features/community-points/models/balance-fragment.gql"\nquery CommunityPointsAvailableClaim($channelID: ID!) {\ncommunity: user(id: $channelID) {\nid\nlogin\n...availableClaimFragment\n...communityPointsBalanceFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(o(n("hgww").definitions)),i.definitions=i.definitions.concat(o(n("VIQE").definitions));var a={};function c(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.CommunityPointsAvailableClaim=function(e,t){var n={kind:e.kind,definitions:[c(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var s=o;o=new Set,s.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=c(e,t);i&&n.definitions.push(i)})),n}(i,"CommunityPointsAvailableClaim")},ubYY:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("pVnL"),r=n.n(i),o=n("VbXa"),a=n.n(o),c=n("q1tI"),s=n("P+FS"),l=n("HQtB"),u=n("YQhk"),d=n("IyK4"),m=n("Yegi"),p=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){return c.createElement(u.b,r()({},Object(l.a)(this.props),Object(s.a)(this.props),{elevation:this.props.elevation,size:this.props.size?this.props.size:u.a.Large,background:this.props.background}),c.createElement(d.a,{display:m.h.Flex,flexDirection:m.i.Column,role:"dialog","aria-labelledby":this.props.popoverId+"-header","aria-describedby":this.props.popoverId+"-body"},c.createElement("div",{style:{maxHeight:this.props.maxHeight}},this.props.children)))},t}(c.Component);p.displayName="PopoverWrapper"},vClV:function(e,t,n){e.exports=n.p+"assets/onboarding-rocket-98a8b6ddf53aaecef795.svg"},vytO:function(e,t,n){},wjur:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("mrSG"),r=n("q1tI"),o=n("/7QA"),a=n("W1jp"),c=n("OCDW"),s=n("Yegi"),l=n("JjwZ"),u=n("7Py2"),d=n("LNol"),m=n("Ix37"),p=n("uuYk"),h=n("hPKk"),f=n("uq9l"),b=(n("4vjT"),function(e){var t=e.goal,n=e.descriptionRef,b=t.pointsContributed/t.amountNeeded*100,g=!!(n&&n.getBoundingClientRect().height>36)?Object(a.e)(t):Object(a.a)(t),v={};return v=b<50?{position:"absolute",left:"max(0px, "+b+"% - 36px)"}:{position:"absolute",right:"max(0px, "+(100-b)+"% - 36px)"},r.createElement(r.Fragment,null,r.createElement(c.a,{alignItems:s.b.End,display:s.h.Flex,flexGrow:1,fullWidth:!0,position:s.o.Relative},r.createElement("div",{style:v},r.createElement(c.a,{alignItems:s.b.Center,display:s.h.Flex,flexDirection:s.i.Column},r.createElement(c.a,{margin:{bottom:.5}},r.createElement(l.a,Object(i.__assign)({alt:t.title},g))),r.createElement(u.a,{size:u.b.ExtraSmall},Object(o.d)("{percent}% Raised",{percent:Math.floor(b)},"CommunityGoalSelectStep"))))),r.createElement(c.a,{className:"community-goal-progress__arrow",color:s.f.Link,display:s.h.Flex,fullWidth:!0,position:s.o.Relative},r.createElement("div",{style:{position:"absolute",left:"max(0px, "+b+"% - 10px)"}},r.createElement(d.a,{asset:m.a.GlyphArrDown}))),r.createElement(p.a,{mask:!0,value:b}),r.createElement(c.a,{display:s.h.Flex,fullWidth:!0,justifyContent:s.m.Between,margin:{top:.5}},r.createElement(c.a,{display:s.h.Flex,flexDirection:s.i.Column},Object(o.d)("{points} <x:bold>raised</x:bold>",{points:r.createElement(u.a,{key:"points-contributed",size:u.b.Small},r.createElement(h.a,{value:t.pointsContributed,formatValue:function(e){return Object(o.f)(e)},monospaced:!1})),"x:bold":function(e){return r.createElement(f.a,{color:s.f.Alt2,transform:f.d.Uppercase},e)}},"CommunityGoalSelectStep")),r.createElement(c.a,{display:s.h.Flex,flexDirection:s.i.Column,textAlign:s.q.Right},Object(o.d)("{points, plural, one {<x:strong>#</x:strong> <x:bold>goal</x:bold>} other {<x:strong>#</x:strong> <x:bold>goal</x:bold>}}",{points:t.amountNeeded,"x:strong":function(e){return r.createElement(u.a,{size:u.b.Small},e)},"x:bold":function(e){return r.createElement(f.a,{color:s.f.Alt2,transform:f.d.Uppercase},e)}},"CommunityGoalSelectStep"))))})},x9t4:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("pVnL"),r=n.n(i),o=n("q1tI"),a=n("P+FS"),c=n("HQtB"),s=n("swlv"),l=n("g8gE"),u=n("OCDW"),d=n("Yegi"),m=n("IyK4"),p=n("hMTT"),h=n("oBNK"),f=n("uq9l"),b=function(e){var t=e.title,n=e.subtitle;return o.createElement(o.Fragment,null,o.createElement(m.a,{textAlign:d.q.Center,fontWeight:d.l.SemiBold},o.createElement(f.a,{type:f.e.H5,color:e.overlay?d.f.Overlay:d.f.Alt},t)),n?o.createElement(m.a,{textAlign:d.q.Center},o.createElement(f.a,{type:f.e.H6,color:e.overlay?d.f.OverlayAlt:d.f.Alt2},n)):null)};b.displayName="PopoverTitle";var g=Object(p.b)(b),v=function(e){var t,n=e.buttonLeftPrimary||e.buttonLeftSecondary,i=e.buttonLeftPrimary&&e.buttonLeftSecondary,s=e.buttonRightPrimary||e.buttonRightSecondary,l=e.buttonRightPrimary&&e.buttonRightSecondary;return o.createElement(u.a,r()({},Object(c.a)(e),Object(a.a)(e),{className:"tw-popover-header",color:e.overlay?d.f.Overlay:d.f.Base,borderRadius:{topLeft:d.e.Medium,topRight:d.e.Medium},elevation:1,padding:{y:.5,x:1},display:d.h.Flex,flexShrink:0}),n||s?o.createElement(u.a,{display:d.h.Flex,flexDirection:d.i.Column,justifyContent:d.m.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},E(n)):null,i||l?o.createElement(u.a,{display:d.h.Flex,flexDirection:d.i.Column,justifyContent:d.m.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},E(i)):null,o.createElement(m.a,{flexGrow:1,justifyContent:d.m.Center,alignItems:d.b.Center,flexDirection:d.i.Column,display:d.h.Flex},o.createElement("div",{id:e.popoverId+"-header"},(t=e.title)&&t.hasOwnProperty("title")?o.createElement(g,{title:e.title.title,subtitle:e.title.subtitle}):e.title)),i||l?o.createElement(u.a,{display:d.h.Flex,flexDirection:d.i.Column,justifyContent:d.m.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},E(l)):null,n||s?o.createElement(u.a,{display:d.h.Flex,flexDirection:d.i.Column,justifyContent:d.m.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},E(s,!0)):null)};function E(e,t){if(void 0===t&&(t=!1),!e)return null;var n=t?o.createElement(l.a,r()({},e,{type:s.c.Secondary,title:void 0})):o.createElement(s.a,r()({},e,{type:s.c.Secondary,title:void 0}));return e.title?o.createElement(h.a,{label:e.title,align:h.b.Center,direction:h.c.Bottom},n):n}v.displayName="PopoverHeaderComponent",v.displayName="PopoverHeader";var y=Object(p.b)(v)},xwjf:function(e,t,n){},yPaH:function(e,t,n){e.exports=n.p+"assets/predictions_blue-1-bfd06aad609c80001f12.png"},zb36:function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.FrequentlyUsed="frequently_used",e.CurrentChannel="current_channel",e.OtherChannel="other_subbed_channel",e.HypeTrain="hype_train",e.Unlocked="unlocked",e.Global="global"}(i||(i={})),function(e){e.EmotePicker="emote_picker",e.EmotePickerSubscriptionPreview="emote_picker_subscription_preview",e.EmotePickerBitsPreview="emote_picker_bits_preview"}(r||(r={}))},zg3r:function(e,t,n){"use strict";var i,r;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),function(e){e.CHEER="CHEER",e.CLAIM="CLAIM",e.FOLLOW="FOLLOW",e.PREDICTION="PREDICTION",e.PRIME_SUB="PRIME_SUB",e.RAID="RAID",e.REFUND="REFUND",e.SUB_GIFT="SUB_GIFT",e.WATCH="WATCH",e.WATCH_STREAK="WATCH_STREAK"}(i||(i={})),function(e){e.ACTION_TAKEN="ACTION_TAKEN",e.CANCELED="CANCELED",e.FULFILLED="FULFILLED",e.REPORTED="REPORTED",e.UNFULFILLED="UNFULFILLED"}(r||(r={}))},zmT9:function(e,t,n){"use strict";function i(e,t,n,i){return!!e&&r(o(e,t),n,i)}function r(e,t,n){return!(!e||e.percentage<=0&&e.pixels<=0)&&(n?e.pixels>=n:!t||e.percentage>=t)}function o(e,t){var n=function(e){var t={top:0,right:0,bottom:0,left:0,height:0,width:0},n=function(){if(window.innerWidth)return window.innerWidth;if(document.documentElement.clientWidth)return document.documentElement.clientWidth;return screen.width}(),i=function(){if(window.innerHeight)return window.innerHeight;if(document.documentElement.clientHeight)return document.documentElement.clientHeight;return screen.height}();if(e.bottom<=0||e.top>i||e.right<0||e.left>n)return t;return t.top=Math.max(0,e.top),t.left=Math.max(0,e.left),t.right=Math.min(e.right,n),t.bottom=Math.min(e.bottom,i),t.width=t.right-t.left,t.height=t.bottom-t.top,t}(t),i=e.getBoundingClientRect();if(!(i.left<n.right&&i.right>n.left&&i.top<n.bottom&&i.bottom>n.top))return a(0,0);var r=i.bottom-i.top,o=n.bottom-n.top,c=Math.min(n.bottom-i.top,i.bottom-n.top,r,o),s=Math.round(c/r*100);return a(c,s)}n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var a=function(e,t){return{pixels:e,percentage:t}};var c="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}}]);